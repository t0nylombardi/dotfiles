{"version":3,"file":"extension.js","mappings":"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","sources":[".././node_modules/define-lazy-prop/index.js",".././node_modules/is-docker/index.js",".././node_modules/is-wsl/index.js",".././node_modules/open/index.js",".././src/DotnetCoreAcquisitionId.ts",".././src/extension.ts","../../vscode-dotnet-runtime-library/dist/Acquisition/ASPNetRuntimeInstallationDirectoryProvider.js","../../vscode-dotnet-runtime-library/dist/Acquisition/AcquisitionInvoker.js","../../vscode-dotnet-runtime-library/dist/Acquisition/CacheTimeConstants.js","../../vscode-dotnet-runtime-library/dist/Acquisition/DirectoryProviderFactory.js","../../vscode-dotnet-runtime-library/dist/Acquisition/DotnetConditionValidator.js","../../vscode-dotnet-runtime-library/dist/Acquisition/DotnetCoreAcquisitionWorker.js","../../vscode-dotnet-runtime-library/dist/Acquisition/DotnetCoreDependencyInstaller.js","../../vscode-dotnet-runtime-library/dist/Acquisition/DotnetInstall.js","../../vscode-dotnet-runtime-library/dist/Acquisition/DotnetInstallMode.js","../../vscode-dotnet-runtime-library/dist/Acquisition/DotnetPathFinder.js","../../vscode-dotnet-runtime-library/dist/Acquisition/ExistingPathResolver.js","../../vscode-dotnet-runtime-library/dist/Acquisition/GenericDistroSDKProvider.js","../../vscode-dotnet-runtime-library/dist/Acquisition/GlobalInstallerResolver.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IAcquisitionInvoker.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IAcquisitionWorkerContext.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IDistroDotnetSDKProvider.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IDotnetConditionValidator.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IDotnetListInfo.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IDotnetPathFinder.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IGlobalInstaller.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IInstallationDirectoryProvider.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IInstallationValidator.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IJsonInstaller.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IRegistryReader.js","../../vscode-dotnet-runtime-library/dist/Acquisition/IVersionResolver.js","../../vscode-dotnet-runtime-library/dist/Acquisition/InstallRecord.js","../../vscode-dotnet-runtime-library/dist/Acquisition/InstallScriptAcquisitionWorker.js","../../vscode-dotnet-runtime-library/dist/Acquisition/InstallTrackerSingleton.js","../../vscode-dotnet-runtime-library/dist/Acquisition/InstallationGraveyard.js","../../vscode-dotnet-runtime-library/dist/Acquisition/InstallationValidator.js","../../vscode-dotnet-runtime-library/dist/Acquisition/JsonInstaller.js","../../vscode-dotnet-runtime-library/dist/Acquisition/LinuxGlobalInstaller.js","../../vscode-dotnet-runtime-library/dist/Acquisition/LinuxVersionResolver.js","../../vscode-dotnet-runtime-library/dist/Acquisition/RedHatDistroSDKProvider.js","../../vscode-dotnet-runtime-library/dist/Acquisition/RegistryReader.js","../../vscode-dotnet-runtime-library/dist/Acquisition/RuntimeInstallationDirectoryProvider.js","../../vscode-dotnet-runtime-library/dist/Acquisition/SdkInstallationDirectoryProvider.js","../../vscode-dotnet-runtime-library/dist/Acquisition/VersionResolver.js","../../vscode-dotnet-runtime-library/dist/Acquisition/VersionUtilities.js","../../vscode-dotnet-runtime-library/dist/Acquisition/WinMacGlobalInstaller.js","../../vscode-dotnet-runtime-library/dist/DotnetVersionSpecRequirement.js","../../vscode-dotnet-runtime-library/dist/EventStream/EventStream.js","../../vscode-dotnet-runtime-library/dist/EventStream/EventStreamEvents.js","../../vscode-dotnet-runtime-library/dist/EventStream/EventStreamRegistration.js","../../vscode-dotnet-runtime-library/dist/EventStream/EventType.js","../../vscode-dotnet-runtime-library/dist/EventStream/IEvent.js","../../vscode-dotnet-runtime-library/dist/EventStream/IWindowDisplayWorker.js","../../vscode-dotnet-runtime-library/dist/EventStream/LoggingObserver.js","../../vscode-dotnet-runtime-library/dist/EventStream/ModalEventPublisher.js","../../vscode-dotnet-runtime-library/dist/EventStream/OutputChannelObserver.js","../../vscode-dotnet-runtime-library/dist/EventStream/StatusBarObserver.js","../../vscode-dotnet-runtime-library/dist/EventStream/TelemetryObserver.js","../../vscode-dotnet-runtime-library/dist/EventStream/TelemetryUtilities.js","../../vscode-dotnet-runtime-library/dist/EventStream/WindowDisplayWorker.js","../../vscode-dotnet-runtime-library/dist/IDotnetAcquireContext.js","../../vscode-dotnet-runtime-library/dist/IDotnetAcquireResult.js","../../vscode-dotnet-runtime-library/dist/IDotnetEnsureDependenciesContext.js","../../vscode-dotnet-runtime-library/dist/IDotnetFindPathContext.js","../../vscode-dotnet-runtime-library/dist/IDotnetListVersionsContext.js","../../vscode-dotnet-runtime-library/dist/IDotnetUninstallContext.js","../../vscode-dotnet-runtime-library/dist/IExtensionContext.js","../../vscode-dotnet-runtime-library/dist/IExtensionState.js","../../vscode-dotnet-runtime-library/dist/IVSCodeExtensionContext.js","../../vscode-dotnet-runtime-library/dist/LocalMemoryCacheSingleton.js","../../vscode-dotnet-runtime-library/dist/Utils/CommandExecutor.js","../../vscode-dotnet-runtime-library/dist/Utils/ContentSantizer.js","../../vscode-dotnet-runtime-library/dist/Utils/Debugging.js","../../vscode-dotnet-runtime-library/dist/Utils/ErrorHandler.js","../../vscode-dotnet-runtime-library/dist/Utils/ExtensionConfigurationWorker.js","../../vscode-dotnet-runtime-library/dist/Utils/FileUtilities.js","../../vscode-dotnet-runtime-library/dist/Utils/ICommandExecutor.js","../../vscode-dotnet-runtime-library/dist/Utils/IFileUtilities.js","../../vscode-dotnet-runtime-library/dist/Utils/IIssueContext.js","../../vscode-dotnet-runtime-library/dist/Utils/IUtilityContext.js","../../vscode-dotnet-runtime-library/dist/Utils/IVSCodeEnvironment.js","../../vscode-dotnet-runtime-library/dist/Utils/InstallIdUtilities.js","../../vscode-dotnet-runtime-library/dist/Utils/IssueReporter.js","../../vscode-dotnet-runtime-library/dist/Utils/TypescriptUtilities.js","../../vscode-dotnet-runtime-library/dist/Utils/VSCodeEnvironment.js","../../vscode-dotnet-runtime-library/dist/Utils/WebRequestWorker.js","../../vscode-dotnet-runtime-library/dist/VSCodeExtensionContext.js","../../vscode-dotnet-runtime-library/dist/index.js","../../vscode-dotnet-runtime-library/dist/test/mocks/MockEnvironmentVariableCollection.js","../../vscode-dotnet-runtime-library/dist/test/mocks/MockObjects.js","../../vscode-dotnet-runtime-library/dist/test/mocks/MockWindowDisplayWorker.js","../../vscode-dotnet-runtime-library/dist/test/unit/TestUtility.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-core-js/dist-es5/AppInsightsCore.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-core-js/dist-es5/Enums.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-core-js/dist-es5/ValueSanitizer.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK.Interfaces/IChannelControls.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK.Enums/LoggingEnums.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-core-js/dist-es5/InternalConstants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-core-js/dist-es5/Utils.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-core-js/dist-es5/__DynamicConstants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-post-js/dist-es5/DataModels.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-post-js/dist-es5/InternalConstants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-post-js/dist-es5/__DynamicConstants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-post-js/dist-es5/EventBatch.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-post-js/dist-es5/ClockSkewManager.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-post-js/dist-es5/KillSwitch.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-post-js/dist-es5/RetryPolicy.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-post-js/dist-es5/Serializer.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-post-js/dist-es5/HttpManager.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-post-js/dist-es5/TimeoutOverrideWrapper.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/1ds-post-js/dist-es5/PostChannel.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/ConnectionStringParser.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Constants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Enums.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/HelperFuncs.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Interfaces/Contracts/ContextTagKeys.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Interfaces/Contracts/SeverityLevel.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Interfaces/PartAExtensions.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Offline.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/RequestResponseHeaders.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/StorageHelperFuncs.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Telemetry/Common/Data.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Telemetry/Common/DataSanitizer.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Telemetry/Common/Envelope.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Telemetry/Event.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Telemetry/Exception.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Telemetry/Common/DataPoint.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Telemetry/Metric.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Telemetry/PageView.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Telemetry/PageViewPerformance.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Telemetry/RemoteDependencyData.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Telemetry/Trace.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/UrlHelperFuncs.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Util.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/__DynamicConstants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/ThrottleMgr.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/Interfaces/IConfig.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/TelemetryItemCreator.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/DomHelperFuncs.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-common/dist-es5/applicationinsights-common.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/Config/ConfigDefaultHelpers.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/Config/ConfigDefaults.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/AggregationError.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/Config/DynamicProperty.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/Config/DynamicState.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/Config/DynamicConfig.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/Config/DynamicSupport.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK.Enums/EnumHelperFuncs.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK.Enums/EventsDiscardedReason.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK.Enums/InitActiveStatusEnum.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/AppInsightsCore.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/TelemetryInitializerPlugin.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/AsyncUtils.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/BaseTelemetryPlugin.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/Constants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/CookieMgr.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/CoreUtils.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/DataCacheHelper.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/DbgExtensionUtils.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/DiagnosticLogger.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/EnvUtils.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/EventHelpers.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/HelperFuncs.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/InternalConstants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/NotificationManager.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/PerfManager.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/ProcessTelemetryContext.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/RandomHelper.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/ResponseHelpers.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/SenderPostManager.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/TelemetryHelpers.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/UnloadHandlerContainer.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/UnloadHookContainer.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/JavaScriptSDK/W3cTraceParent.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-core-js/dist-es5/__DynamicConstants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-shims/dist-es5/Constants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-shims/dist-es5/TsLibShims.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-channel-js/dist-es5/InternalConstants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-channel-js/dist-es5/__DynamicConstants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-channel-js/dist-es5/EnvelopeCreator.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-channel-js/dist-es5/SendBuffer.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-channel-js/dist-es5/Sender.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-channel-js/dist-es5/Serializer.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-channel-js/dist-es5/TelemetryProcessors/SamplingScoreGenerators/HashCodeScoreGenerator.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-channel-js/dist-es5/TelemetryProcessors/SamplingScoreGenerators/SamplingScoreGenerator.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-channel-js/dist-es5/TelemetryProcessors/Sample.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-web-basic/dist-es5/index.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/applicationinsights-web-basic/dist-es5/__DynamicConstants.js","../../vscode-dotnet-runtime-library/node_modules/@microsoft/dynamicproto-js/dist-es5/DynamicProto.js","../../vscode-dotnet-runtime-library/node_modules/@nevware21/ts-async/dist/es5/mod/ts-async.js","../../vscode-dotnet-runtime-library/node_modules/@nevware21/ts-utils/dist/es5/mod/ts-utils.js","../../vscode-dotnet-runtime-library/node_modules/@vscode/extension-telemetry/dist/node/common/1dsClientFactory.js","../../vscode-dotnet-runtime-library/node_modules/@vscode/extension-telemetry/dist/node/common/appInsightsClientFactory.js","../../vscode-dotnet-runtime-library/node_modules/@vscode/extension-telemetry/dist/node/common/baseTelemetryReporter.js","../../vscode-dotnet-runtime-library/node_modules/@vscode/extension-telemetry/dist/node/common/baseTelemetrySender.js","../../vscode-dotnet-runtime-library/node_modules/@vscode/extension-telemetry/dist/node/common/util.js","../../vscode-dotnet-runtime-library/node_modules/@vscode/extension-telemetry/dist/node/node/telemetryReporter.js","../../vscode-dotnet-runtime-library/node_modules/@vscode/sudo-prompt/index.js","../../vscode-dotnet-runtime-library/node_modules/agent-base/dist/helpers.js","../../vscode-dotnet-runtime-library/node_modules/agent-base/dist/index.js","../../vscode-dotnet-runtime-library/node_modules/asynckit/index.js","../../vscode-dotnet-runtime-library/node_modules/asynckit/lib/abort.js","../../vscode-dotnet-runtime-library/node_modules/asynckit/lib/async.js","../../vscode-dotnet-runtime-library/node_modules/asynckit/lib/defer.js","../../vscode-dotnet-runtime-library/node_modules/asynckit/lib/iterate.js","../../vscode-dotnet-runtime-library/node_modules/asynckit/lib/state.js","../../vscode-dotnet-runtime-library/node_modules/asynckit/lib/terminator.js","../../vscode-dotnet-runtime-library/node_modules/asynckit/parallel.js","../../vscode-dotnet-runtime-library/node_modules/asynckit/serial.js","../../vscode-dotnet-runtime-library/node_modules/asynckit/serialOrdered.js","../../vscode-dotnet-runtime-library/node_modules/axios-retry/index.js","../../vscode-dotnet-runtime-library/node_modules/balanced-match/index.js","../../vscode-dotnet-runtime-library/node_modules/brace-expansion/index.js","../../vscode-dotnet-runtime-library/node_modules/clone/clone.js","../../vscode-dotnet-runtime-library/node_modules/combined-stream/lib/combined_stream.js","../../vscode-dotnet-runtime-library/node_modules/concat-map/index.js","../../vscode-dotnet-runtime-library/node_modules/config-chain/index.js","../../vscode-dotnet-runtime-library/node_modules/debug/src/browser.js","../../vscode-dotnet-runtime-library/node_modules/debug/src/common.js","../../vscode-dotnet-runtime-library/node_modules/debug/src/index.js","../../vscode-dotnet-runtime-library/node_modules/debug/src/node.js","../../vscode-dotnet-runtime-library/node_modules/define-lazy-prop/index.js","../../vscode-dotnet-runtime-library/node_modules/delayed-stream/lib/delayed_stream.js","../../vscode-dotnet-runtime-library/node_modules/eol/eol.js","../../vscode-dotnet-runtime-library/node_modules/follow-redirects/debug.js","../../vscode-dotnet-runtime-library/node_modules/follow-redirects/index.js","../../vscode-dotnet-runtime-library/node_modules/form-data/lib/form_data.js","../../vscode-dotnet-runtime-library/node_modules/form-data/lib/populate.js","../../vscode-dotnet-runtime-library/node_modules/fs.realpath/index.js","../../vscode-dotnet-runtime-library/node_modules/fs.realpath/old.js","../../vscode-dotnet-runtime-library/node_modules/get-proxy-settings/dist/defaults.js","../../vscode-dotnet-runtime-library/node_modules/get-proxy-settings/dist/index.js","../../vscode-dotnet-runtime-library/node_modules/get-proxy-settings/dist/proxy-errors.js","../../vscode-dotnet-runtime-library/node_modules/get-proxy-settings/dist/proxy-settings.js","../../vscode-dotnet-runtime-library/node_modules/get-proxy-settings/dist/proxy.js","../../vscode-dotnet-runtime-library/node_modules/get-proxy-settings/dist/validate.js","../../vscode-dotnet-runtime-library/node_modules/get-proxy-settings/dist/winreg.js","../../vscode-dotnet-runtime-library/node_modules/glob/common.js","../../vscode-dotnet-runtime-library/node_modules/glob/glob.js","../../vscode-dotnet-runtime-library/node_modules/glob/sync.js","../../vscode-dotnet-runtime-library/node_modules/graceful-fs/clone.js","../../vscode-dotnet-runtime-library/node_modules/graceful-fs/graceful-fs.js","../../vscode-dotnet-runtime-library/node_modules/graceful-fs/legacy-streams.js","../../vscode-dotnet-runtime-library/node_modules/graceful-fs/polyfills.js","../../vscode-dotnet-runtime-library/node_modules/has-flag/index.js","../../vscode-dotnet-runtime-library/node_modules/https-proxy-agent/dist/index.js","../../vscode-dotnet-runtime-library/node_modules/https-proxy-agent/dist/parse-proxy-response.js","../../vscode-dotnet-runtime-library/node_modules/inflight/inflight.js","../../vscode-dotnet-runtime-library/node_modules/inherits/inherits.js","../../vscode-dotnet-runtime-library/node_modules/inherits/inherits_browser.js","../../vscode-dotnet-runtime-library/node_modules/ini/ini.js","../../vscode-dotnet-runtime-library/node_modules/is-docker/index.js","../../vscode-dotnet-runtime-library/node_modules/is-retry-allowed/index.js","../../vscode-dotnet-runtime-library/node_modules/is-wsl/index.js","../../vscode-dotnet-runtime-library/node_modules/lodash/lodash.js","../../vscode-dotnet-runtime-library/node_modules/mime-db/index.js","../../vscode-dotnet-runtime-library/node_modules/mime-types/index.js","../../vscode-dotnet-runtime-library/node_modules/minimatch/minimatch.js","../../vscode-dotnet-runtime-library/node_modules/ms/index.js","../../vscode-dotnet-runtime-library/node_modules/node-cache/index.js","../../vscode-dotnet-runtime-library/node_modules/node-cache/lib/node_cache.js","../../vscode-dotnet-runtime-library/node_modules/npm-conf/index.js","../../vscode-dotnet-runtime-library/node_modules/npm-conf/lib/conf.js","../../vscode-dotnet-runtime-library/node_modules/npm-conf/lib/defaults.js","../../vscode-dotnet-runtime-library/node_modules/npm-conf/lib/types.js","../../vscode-dotnet-runtime-library/node_modules/npm-conf/lib/util.js","../../vscode-dotnet-runtime-library/node_modules/once/once.js","../../vscode-dotnet-runtime-library/node_modules/open/index.js","../../vscode-dotnet-runtime-library/node_modules/path-is-absolute/index.js","../../vscode-dotnet-runtime-library/node_modules/proper-lockfile/index.js","../../vscode-dotnet-runtime-library/node_modules/proper-lockfile/lib/adapter.js","../../vscode-dotnet-runtime-library/node_modules/proper-lockfile/lib/lockfile.js","../../vscode-dotnet-runtime-library/node_modules/proper-lockfile/lib/mtime-precision.js","../../vscode-dotnet-runtime-library/node_modules/proto-list/proto-list.js","../../vscode-dotnet-runtime-library/node_modules/proxy-from-env/index.js","../../vscode-dotnet-runtime-library/node_modules/retry/index.js","../../vscode-dotnet-runtime-library/node_modules/retry/lib/retry.js","../../vscode-dotnet-runtime-library/node_modules/retry/lib/retry_operation.js","../../vscode-dotnet-runtime-library/node_modules/rimraf/rimraf.js","../../vscode-dotnet-runtime-library/node_modules/semver/classes/comparator.js","../../vscode-dotnet-runtime-library/node_modules/semver/classes/range.js","../../vscode-dotnet-runtime-library/node_modules/semver/classes/semver.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/clean.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/cmp.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/coerce.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/compare-build.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/compare-loose.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/compare.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/diff.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/eq.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/gt.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/gte.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/inc.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/lt.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/lte.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/major.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/minor.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/neq.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/parse.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/patch.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/prerelease.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/rcompare.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/rsort.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/satisfies.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/sort.js","../../vscode-dotnet-runtime-library/node_modules/semver/functions/valid.js","../../vscode-dotnet-runtime-library/node_modules/semver/index.js","../../vscode-dotnet-runtime-library/node_modules/semver/internal/constants.js","../../vscode-dotnet-runtime-library/node_modules/semver/internal/debug.js","../../vscode-dotnet-runtime-library/node_modules/semver/internal/identifiers.js","../../vscode-dotnet-runtime-library/node_modules/semver/internal/lrucache.js","../../vscode-dotnet-runtime-library/node_modules/semver/internal/parse-options.js","../../vscode-dotnet-runtime-library/node_modules/semver/internal/re.js","../../vscode-dotnet-runtime-library/node_modules/semver/ranges/gtr.js","../../vscode-dotnet-runtime-library/node_modules/semver/ranges/intersects.js","../../vscode-dotnet-runtime-library/node_modules/semver/ranges/ltr.js","../../vscode-dotnet-runtime-library/node_modules/semver/ranges/max-satisfying.js","../../vscode-dotnet-runtime-library/node_modules/semver/ranges/min-satisfying.js","../../vscode-dotnet-runtime-library/node_modules/semver/ranges/min-version.js","../../vscode-dotnet-runtime-library/node_modules/semver/ranges/outside.js","../../vscode-dotnet-runtime-library/node_modules/semver/ranges/simplify.js","../../vscode-dotnet-runtime-library/node_modules/semver/ranges/subset.js","../../vscode-dotnet-runtime-library/node_modules/semver/ranges/to-comparators.js","../../vscode-dotnet-runtime-library/node_modules/semver/ranges/valid.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/commands.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/shell.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/cat.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/cd.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/chmod.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/common.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/cp.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/dirs.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/echo.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/error.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/exec-child.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/exec.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/find.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/grep.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/head.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/ln.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/ls.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/mkdir.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/mv.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/pwd.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/rm.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/sed.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/set.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/sort.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/tail.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/tempdir.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/test.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/to.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/toEnd.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/touch.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/uniq.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/which.js","../../vscode-dotnet-runtime-library/node_modules/shelljs/src/ sync ^\\.\\/.*$","../../vscode-dotnet-runtime-library/node_modules/signal-exit/index.js","../../vscode-dotnet-runtime-library/node_modules/signal-exit/signals.js","../../vscode-dotnet-runtime-library/node_modules/supports-color/index.js","../../vscode-dotnet-runtime-library/node_modules/wrappy/wrappy.js","../external commonjs \"vscode\"","../external node-commonjs \"assert\"","../external node-commonjs \"child_process\"","../external node-commonjs \"constants\"","../external node-commonjs \"crypto\"","../external node-commonjs \"dns\"","../external node-commonjs \"events\"","../external node-commonjs \"fs\"","../external node-commonjs \"http\"","../external node-commonjs \"https\"","../external node-commonjs \"net\"","../external node-commonjs \"os\"","../external node-commonjs \"path\"","../external node-commonjs \"stream\"","../external node-commonjs \"tls\"","../external node-commonjs \"tty\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../external node-commonjs \"zlib\"","../../vscode-dotnet-runtime-library/node_modules/@babel/runtime/helpers/asyncToGenerator.js","../../vscode-dotnet-runtime-library/node_modules/@babel/runtime/helpers/defineProperty.js","../../vscode-dotnet-runtime-library/node_modules/@babel/runtime/helpers/interopRequireDefault.js","../../vscode-dotnet-runtime-library/node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../../vscode-dotnet-runtime-library/node_modules/@babel/runtime/helpers/toPrimitive.js","../../vscode-dotnet-runtime-library/node_modules/@babel/runtime/helpers/toPropertyKey.js","../../vscode-dotnet-runtime-library/node_modules/@babel/runtime/helpers/typeof.js","../../vscode-dotnet-runtime-library/node_modules/@babel/runtime/regenerator/index.js","../../vscode-dotnet-runtime-library/node_modules/axios-cache-interceptor/dist/index.cjs","../../vscode-dotnet-runtime-library/node_modules/axios-retry/lib/cjs/index.js","../../vscode-dotnet-runtime-library/node_modules/axios/dist/node/axios.cjs","../../vscode-dotnet-runtime-library/node_modules/cache-parser/dist/index.mjs","../../vscode-dotnet-runtime-library/node_modules/fast-defer/dist/index.mjs","../../vscode-dotnet-runtime-library/node_modules/object-code/dist/index.mjs","../webpack/bootstrap","../webpack/runtime/define property getters","../webpack/runtime/hasOwnProperty shorthand","../webpack/runtime/make namespace object","../webpack/runtime/node module decorator","../webpack/startup"],"sourcesContent":["'use strict';\nmodule.exports = (object, propertyName, fn) => {\n\tconst define = value => Object.defineProperty(object, propertyName, {value, enumerable: true, writable: true});\n\n\tObject.defineProperty(object, propertyName, {\n\t\tconfigurable: true,\n\t\tenumerable: true,\n\t\tget() {\n\t\t\tconst result = fn();\n\t\t\tdefine(result);\n\t\t\treturn result;\n\t\t},\n\t\tset(value) {\n\t\t\tdefine(value);\n\t\t}\n\t});\n\n\treturn object;\n};\n","'use strict';\nconst fs = require('fs');\n\nlet isDocker;\n\nfunction hasDockerEnv() {\n\ttry {\n\t\tfs.statSync('/.dockerenv');\n\t\treturn true;\n\t} catch (_) {\n\t\treturn false;\n\t}\n}\n\nfunction hasDockerCGroup() {\n\ttry {\n\t\treturn fs.readFileSync('/proc/self/cgroup', 'utf8').includes('docker');\n\t} catch (_) {\n\t\treturn false;\n\t}\n}\n\nmodule.exports = () => {\n\tif (isDocker === undefined) {\n\t\tisDocker = hasDockerEnv() || hasDockerCGroup();\n\t}\n\n\treturn isDocker;\n};\n","'use strict';\nconst os = require('os');\nconst fs = require('fs');\nconst isDocker = require('is-docker');\n\nconst isWsl = () => {\n\tif (process.platform !== 'linux') {\n\t\treturn false;\n\t}\n\n\tif (os.release().toLowerCase().includes('microsoft')) {\n\t\tif (isDocker()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\ttry {\n\t\treturn fs.readFileSync('/proc/version', 'utf8').toLowerCase().includes('microsoft') ?\n\t\t\t!isDocker() : false;\n\t} catch (_) {\n\t\treturn false;\n\t}\n};\n\nif (process.env.__IS_WSL_TEST__) {\n\tmodule.exports = isWsl;\n} else {\n\tmodule.exports = isWsl();\n}\n","const path = require('path');\nconst childProcess = require('child_process');\nconst {promises: fs, constants: fsConstants} = require('fs');\nconst isWsl = require('is-wsl');\nconst isDocker = require('is-docker');\nconst defineLazyProperty = require('define-lazy-prop');\n\n// Path to included `xdg-open`.\nconst localXdgOpenPath = path.join(__dirname, 'xdg-open');\n\nconst {platform, arch} = process;\n\n// Podman detection\nconst hasContainerEnv = () => {\n\ttry {\n\t\tfs.statSync('/run/.containerenv');\n\t\treturn true;\n\t} catch {\n\t\treturn false;\n\t}\n};\n\nlet cachedResult;\nfunction isInsideContainer() {\n\tif (cachedResult === undefined) {\n\t\tcachedResult = hasContainerEnv() || isDocker();\n\t}\n\n\treturn cachedResult;\n}\n\n/**\nGet the mount point for fixed drives in WSL.\n\n@inner\n@returns {string} The mount point.\n*/\nconst getWslDrivesMountPoint = (() => {\n\t// Default value for \"root\" param\n\t// according to https://docs.microsoft.com/en-us/windows/wsl/wsl-config\n\tconst defaultMountPoint = '/mnt/';\n\n\tlet mountPoint;\n\n\treturn async function () {\n\t\tif (mountPoint) {\n\t\t\t// Return memoized mount point value\n\t\t\treturn mountPoint;\n\t\t}\n\n\t\tconst configFilePath = '/etc/wsl.conf';\n\n\t\tlet isConfigFileExists = false;\n\t\ttry {\n\t\t\tawait fs.access(configFilePath, fsConstants.F_OK);\n\t\t\tisConfigFileExists = true;\n\t\t} catch {}\n\n\t\tif (!isConfigFileExists) {\n\t\t\treturn defaultMountPoint;\n\t\t}\n\n\t\tconst configContent = await fs.readFile(configFilePath, {encoding: 'utf8'});\n\t\tconst configMountPoint = /(?<!#.*)root\\s*=\\s*(?<mountPoint>.*)/g.exec(configContent);\n\n\t\tif (!configMountPoint) {\n\t\t\treturn defaultMountPoint;\n\t\t}\n\n\t\tmountPoint = configMountPoint.groups.mountPoint.trim();\n\t\tmountPoint = mountPoint.endsWith('/') ? mountPoint : `${mountPoint}/`;\n\n\t\treturn mountPoint;\n\t};\n})();\n\nconst pTryEach = async (array, mapper) => {\n\tlet latestError;\n\n\tfor (const item of array) {\n\t\ttry {\n\t\t\treturn await mapper(item); // eslint-disable-line no-await-in-loop\n\t\t} catch (error) {\n\t\t\tlatestError = error;\n\t\t}\n\t}\n\n\tthrow latestError;\n};\n\nconst baseOpen = async options => {\n\toptions = {\n\t\twait: false,\n\t\tbackground: false,\n\t\tnewInstance: false,\n\t\tallowNonzeroExitCode: false,\n\t\t...options\n\t};\n\n\tif (Array.isArray(options.app)) {\n\t\treturn pTryEach(options.app, singleApp => baseOpen({\n\t\t\t...options,\n\t\t\tapp: singleApp\n\t\t}));\n\t}\n\n\tlet {name: app, arguments: appArguments = []} = options.app || {};\n\tappArguments = [...appArguments];\n\n\tif (Array.isArray(app)) {\n\t\treturn pTryEach(app, appName => baseOpen({\n\t\t\t...options,\n\t\t\tapp: {\n\t\t\t\tname: appName,\n\t\t\t\targuments: appArguments\n\t\t\t}\n\t\t}));\n\t}\n\n\tlet command;\n\tconst cliArguments = [];\n\tconst childProcessOptions = {};\n\n\tif (platform === 'darwin') {\n\t\tcommand = 'open';\n\n\t\tif (options.wait) {\n\t\t\tcliArguments.push('--wait-apps');\n\t\t}\n\n\t\tif (options.background) {\n\t\t\tcliArguments.push('--background');\n\t\t}\n\n\t\tif (options.newInstance) {\n\t\t\tcliArguments.push('--new');\n\t\t}\n\n\t\tif (app) {\n\t\t\tcliArguments.push('-a', app);\n\t\t}\n\t} else if (platform === 'win32' || (isWsl && !isInsideContainer() && !app)) {\n\t\tconst mountPoint = await getWslDrivesMountPoint();\n\n\t\tcommand = isWsl ?\n\t\t\t`${mountPoint}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe` :\n\t\t\t`${process.env.SYSTEMROOT}\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell`;\n\n\t\tcliArguments.push(\n\t\t\t'-NoProfile',\n\t\t\t'-NonInteractive',\n\t\t\t'ExecutionPolicy',\n\t\t\t'Bypass',\n\t\t\t'-EncodedCommand'\n\t\t);\n\n\t\tif (!isWsl) {\n\t\t\tchildProcessOptions.windowsVerbatimArguments = true;\n\t\t}\n\n\t\tconst encodedArguments = ['Start'];\n\n\t\tif (options.wait) {\n\t\t\tencodedArguments.push('-Wait');\n\t\t}\n\n\t\tif (app) {\n\t\t\t// Double quote with double quotes to ensure the inner quotes are passed through.\n\t\t\t// Inner quotes are delimited for PowerShell interpretation with backticks.\n\t\t\tencodedArguments.push(`\"\\`\"${app}\\`\"\"`, '-ArgumentList');\n\t\t\tif (options.target) {\n\t\t\t\tappArguments.unshift(options.target);\n\t\t\t}\n\t\t} else if (options.target) {\n\t\t\tencodedArguments.push(`\"${options.target}\"`);\n\t\t}\n\n\t\tif (appArguments.length > 0) {\n\t\t\tappArguments = appArguments.map(arg => `\"\\`\"${arg}\\`\"\"`);\n\t\t\tencodedArguments.push(appArguments.join(','));\n\t\t}\n\n\t\t// Using Base64-encoded command, accepted by PowerShell, to allow special characters.\n\t\toptions.target = Buffer.from(encodedArguments.join(' '), 'utf16le').toString('base64');\n\t} else {\n\t\tif (app) {\n\t\t\tcommand = app;\n\t\t} else {\n\t\t\t// When bundled by Webpack, there's no actual package file path and no local `xdg-open`.\n\t\t\tconst isBundled = !__dirname || __dirname === '/';\n\n\t\t\t// Check if local `xdg-open` exists and is executable.\n\t\t\tlet exeLocalXdgOpen = false;\n\t\t\ttry {\n\t\t\t\tawait fs.access(localXdgOpenPath, fsConstants.X_OK);\n\t\t\t\texeLocalXdgOpen = true;\n\t\t\t} catch {}\n\n\t\t\tconst useSystemXdgOpen = process.versions.electron ||\n\t\t\t\tplatform === 'android' || isBundled || !exeLocalXdgOpen;\n\t\t\tcommand = useSystemXdgOpen ? 'xdg-open' : localXdgOpenPath;\n\t\t}\n\n\t\tif (appArguments.length > 0) {\n\t\t\tcliArguments.push(...appArguments);\n\t\t}\n\n\t\tif (!options.wait) {\n\t\t\t// `xdg-open` will block the process unless stdio is ignored\n\t\t\t// and it's detached from the parent even if it's unref'd.\n\t\t\tchildProcessOptions.stdio = 'ignore';\n\t\t\tchildProcessOptions.detached = true;\n\t\t}\n\t}\n\n\tif (options.target) {\n\t\tcliArguments.push(options.target);\n\t}\n\n\tif (platform === 'darwin' && appArguments.length > 0) {\n\t\tcliArguments.push('--args', ...appArguments);\n\t}\n\n\tconst subprocess = childProcess.spawn(command, cliArguments, childProcessOptions);\n\n\tif (options.wait) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsubprocess.once('error', reject);\n\n\t\t\tsubprocess.once('close', exitCode => {\n\t\t\t\tif (!options.allowNonzeroExitCode && exitCode > 0) {\n\t\t\t\t\treject(new Error(`Exited with code ${exitCode}`));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresolve(subprocess);\n\t\t\t});\n\t\t});\n\t}\n\n\tsubprocess.unref();\n\n\treturn subprocess;\n};\n\nconst open = (target, options) => {\n\tif (typeof target !== 'string') {\n\t\tthrow new TypeError('Expected a `target`');\n\t}\n\n\treturn baseOpen({\n\t\t...options,\n\t\ttarget\n\t});\n};\n\nconst openApp = (name, options) => {\n\tif (typeof name !== 'string') {\n\t\tthrow new TypeError('Expected a `name`');\n\t}\n\n\tconst {arguments: appArguments = []} = options || {};\n\tif (appArguments !== undefined && appArguments !== null && !Array.isArray(appArguments)) {\n\t\tthrow new TypeError('Expected `appArguments` as Array type');\n\t}\n\n\treturn baseOpen({\n\t\t...options,\n\t\tapp: {\n\t\t\tname,\n\t\t\targuments: appArguments\n\t\t}\n\t});\n};\n\nfunction detectArchBinary(binary) {\n\tif (typeof binary === 'string' || Array.isArray(binary)) {\n\t\treturn binary;\n\t}\n\n\tconst {[arch]: archBinary} = binary;\n\n\tif (!archBinary) {\n\t\tthrow new Error(`${arch} is not supported`);\n\t}\n\n\treturn archBinary;\n}\n\nfunction detectPlatformBinary({[platform]: platformBinary}, {wsl}) {\n\tif (wsl && isWsl) {\n\t\treturn detectArchBinary(wsl);\n\t}\n\n\tif (!platformBinary) {\n\t\tthrow new Error(`${platform} is not supported`);\n\t}\n\n\treturn detectArchBinary(platformBinary);\n}\n\nconst apps = {};\n\ndefineLazyProperty(apps, 'chrome', () => detectPlatformBinary({\n\tdarwin: 'google chrome',\n\twin32: 'chrome',\n\tlinux: ['google-chrome', 'google-chrome-stable', 'chromium']\n}, {\n\twsl: {\n\t\tia32: '/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe',\n\t\tx64: ['/mnt/c/Program Files/Google/Chrome/Application/chrome.exe', '/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe']\n\t}\n}));\n\ndefineLazyProperty(apps, 'firefox', () => detectPlatformBinary({\n\tdarwin: 'firefox',\n\twin32: 'C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe',\n\tlinux: 'firefox'\n}, {\n\twsl: '/mnt/c/Program Files/Mozilla Firefox/firefox.exe'\n}));\n\ndefineLazyProperty(apps, 'edge', () => detectPlatformBinary({\n\tdarwin: 'microsoft edge',\n\twin32: 'msedge',\n\tlinux: ['microsoft-edge', 'microsoft-edge-dev']\n}, {\n\twsl: '/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe'\n}));\n\nopen.apps = apps;\nopen.openApp = openApp;\n\nmodule.exports = open;\n","/*---------------------------------------------------------------------------------------------\r\n *  *  Licensed to the .NET Foundation under one or more agreements.\r\n*  The .NET Foundation licenses this file to you under the MIT license.\r\n *--------------------------------------------------------------------------------------------*/\r\n\r\nexport const dotnetCoreAcquisitionExtensionId = 'ms-dotnettools.vscode-dotnet-runtime';\r\n","/*---------------------------------------------------------------------------------------------\r\n*  Licensed to the .NET Foundation under one or more agreements.\r\n*  The .NET Foundation licenses this file to you under the MIT license.\r\n*--------------------------------------------------------------------------------------------*/\r\n\r\nimport * as cp from 'child_process';\r\nimport * as fs from 'fs';\r\nimport * as os from 'os';\r\nimport * as vscode from 'vscode';\r\nimport\r\n{\r\n    AcquireErrorConfiguration,\r\n    AcquisitionInvoker,\r\n    callWithErrorHandling,\r\n    CommandExecutor,\r\n    directoryProviderFactory,\r\n    DotnetAcquisitionMissingLinuxDependencies,\r\n    DotnetAcquisitionRequested,\r\n    DotnetAcquisitionStatusRequested,\r\n    DotnetAcquisitionTotalSuccessEvent,\r\n    DotnetConditionValidator,\r\n    DotnetCoreAcquisitionWorker,\r\n    DotnetCoreDependencyInstaller,\r\n    DotnetExistingPathResolutionCompleted,\r\n    DotnetFindPathCommandInvoked,\r\n    DotnetFindPathLookupSetting,\r\n    DotnetFindPathMetCondition,\r\n    DotnetFindPathNoPathMetCondition,\r\n    DotnetFindPathSettingFound,\r\n    DotnetInstall,\r\n    DotnetInstallMode,\r\n    DotnetInstallType,\r\n    DotnetOfflineWarning,\r\n    DotnetPathFinder,\r\n    DotnetVersionResolutionError,\r\n    DotnetVersionSpecRequirement,\r\n    enableExtensionTelemetry,\r\n    ErrorConfiguration,\r\n    EventBasedError,\r\n    EventCancellationError,\r\n    ExistingPathResolver,\r\n    ExtensionConfigurationWorker,\r\n    formatIssueUrl,\r\n    getInstallIdCustomArchitecture,\r\n    getMajor,\r\n    getMajorMinor,\r\n    GlobalAcquisitionContextMenuOpened,\r\n    GlobalInstallerResolver,\r\n    IAcquisitionWorkerContext,\r\n    IDotnetAcquireContext,\r\n    IDotnetAcquireResult,\r\n    IDotnetConditionValidator,\r\n    IDotnetEnsureDependenciesContext,\r\n    IDotnetFindPathContext,\r\n    IDotnetListVersionsContext,\r\n    IDotnetListVersionsResult,\r\n    IDotnetUninstallContext,\r\n    IDotnetVersion,\r\n    IEventStreamContext,\r\n    IExtensionContext,\r\n    IIssueContext,\r\n    InstallationValidator,\r\n    InstallRecord,\r\n    InvalidUninstallRequest,\r\n    isRunningUnderWSL,\r\n    IUtilityContext,\r\n    JsonInstaller,\r\n    LinuxVersionResolver,\r\n    LocalMemoryCacheSingleton,\r\n    NoExtensionIdProvided,\r\n    registerEventStream,\r\n    UserManualInstallFailure,\r\n    UserManualInstallRequested,\r\n    UserManualInstallSuccess,\r\n    UserManualInstallVersionChosen,\r\n    VersionResolver,\r\n    VSCodeEnvironment,\r\n    VSCodeExtensionContext,\r\n    WebRequestWorker,\r\n    WindowDisplayWorker,\r\n} from 'vscode-dotnet-runtime-library';\r\nimport { InstallTrackerSingleton } from 'vscode-dotnet-runtime-library/dist/Acquisition/InstallTrackerSingleton';\r\nimport { dotnetCoreAcquisitionExtensionId } from './DotnetCoreAcquisitionId';\r\nimport open = require('open');\r\n\r\nconst packageJson = require('../package.json');\r\n\r\n// Extension constants\r\nnamespace configKeys\r\n{\r\n    export const installTimeoutValue = 'installTimeoutValue';\r\n    export const enableTelemetry = 'enableTelemetry';\r\n    export const existingPath = 'existingDotnetPath';\r\n    export const existingSharedPath = 'sharedExistingDotnetPath'\r\n    export const proxyUrl = 'proxyUrl';\r\n    export const allowInvalidPaths = 'allowInvalidPaths';\r\n    export const cacheTimeToLiveMultiplier = 'cacheTimeToLiveMultiplier';\r\n}\r\n\r\nnamespace commandKeys\r\n{\r\n    export const acquire = 'acquire';\r\n    export const acquireGlobalSDK = 'acquireGlobalSDK';\r\n    export const acquireStatus = 'acquireStatus';\r\n    export const uninstall = 'uninstall';\r\n    export const findPath = 'findPath';\r\n    export const uninstallPublic = 'uninstallPublic'\r\n    export const uninstallAll = 'uninstallAll';\r\n    export const listVersions = 'listVersions';\r\n    export const recommendedVersion = 'recommendedVersion'\r\n    export const globalAcquireSDKPublic = 'acquireGlobalSDKPublic';\r\n    export const showAcquisitionLog = 'showAcquisitionLog';\r\n    export const ensureDotnetDependencies = 'ensureDotnetDependencies';\r\n    export const reportIssue = 'reportIssue';\r\n}\r\n\r\nconst commandPrefix = 'dotnet';\r\nconst configPrefix = 'dotnetAcquisitionExtension';\r\nconst displayChannelName = '.NET Install Tool';\r\nconst defaultTimeoutValue = 600;\r\nconst moreInfoUrl = 'https://github.com/dotnet/vscode-dotnet-runtime/blob/main/Documentation/troubleshooting-runtime.md';\r\nlet disableActivationUnderTest = true;\r\n\r\nexport function activate(vsCodeContext: vscode.ExtensionContext, extensionContext?: IExtensionContext)\r\n{\r\n\r\n    if ((process.env.DOTNET_INSTALL_TOOL_UNDER_TEST === 'true' || (vsCodeContext?.extensionMode === vscode.ExtensionMode.Test)) && disableActivationUnderTest)\r\n    {\r\n        return;\r\n    }\r\n\r\n    // Loading Extension Configuration\r\n    const extensionConfiguration = extensionContext !== undefined && extensionContext.extensionConfiguration ?\r\n        extensionContext.extensionConfiguration :\r\n        vscode.workspace.getConfiguration(configPrefix);\r\n\r\n    // Reading Extension Configuration\r\n    const timeoutValue = extensionConfiguration.get<number>(configKeys.installTimeoutValue);\r\n    if (!fs.existsSync(vsCodeContext.globalStoragePath))\r\n    {\r\n        fs.mkdirSync(vsCodeContext.globalStoragePath, { recursive: true });\r\n    }\r\n    const resolvedTimeoutSeconds = timeoutValue === undefined ? defaultTimeoutValue : timeoutValue;\r\n    const proxyLink = extensionConfiguration.get<string>(configKeys.proxyUrl);\r\n\r\n    // Create a cache with the TTL setting that we can only reasonably access from here.\r\n    const cacheTimeToLiveMultiplier = Math.abs(Number(extensionConfiguration.get<string>(configKeys.cacheTimeToLiveMultiplier) ?? 1)) ?? 1;\r\n    const _localCache = LocalMemoryCacheSingleton.getInstance(cacheTimeToLiveMultiplier);\r\n\r\n\r\n    const allowInvalidPathSetting = extensionConfiguration.get<boolean>(configKeys.allowInvalidPaths);\r\n    const isExtensionTelemetryEnabled = enableExtensionTelemetry(extensionConfiguration, configKeys.enableTelemetry);\r\n    const displayWorker = extensionContext ? extensionContext.displayWorker : new WindowDisplayWorker();\r\n\r\n    // Creating Contexts to Execute Under\r\n    const utilContext = {\r\n        ui: displayWorker,\r\n        vsCodeEnv: new VSCodeEnvironment()\r\n    }\r\n\r\n    const vsCodeExtensionContext = new VSCodeExtensionContext(vsCodeContext);\r\n    const eventStreamContext = {\r\n        displayChannelName,\r\n        logPath: vsCodeContext.logPath,\r\n        extensionId: dotnetCoreAcquisitionExtensionId,\r\n        enableTelemetry: isExtensionTelemetryEnabled,\r\n        telemetryReporter: extensionContext ? extensionContext.telemetryReporter : undefined,\r\n        showLogCommand: `${commandPrefix}.${commandKeys.showAcquisitionLog}`,\r\n        packageJson\r\n    } as IEventStreamContext;\r\n    const [globalEventStream, outputChannel, loggingObserver,\r\n        eventStreamObservers, telemetryObserver, _] = registerEventStream(eventStreamContext, vsCodeExtensionContext, utilContext);\r\n\r\n\r\n    // Setting up command-shared classes for Runtime & SDK Acquisition\r\n    const existingPathConfigWorker = new ExtensionConfigurationWorker(extensionConfiguration, configKeys.existingPath, configKeys.existingSharedPath);\r\n    checkIfSDKAcquisitionIsSupported();\r\n\r\n    // Creating API Surfaces\r\n    const dotnetAcquireRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.acquire}`, async (commandContext: IDotnetAcquireContext): Promise<IDotnetAcquireResult | undefined> =>\r\n    {\r\n        const worker = getAcquisitionWorker();\r\n        commandContext.mode = commandContext.mode ?? 'runtime' as DotnetInstallMode;\r\n        const mode = commandContext.mode;\r\n\r\n        const workerContext = getAcquisitionWorkerContext(mode, commandContext);\r\n\r\n        const dotnetPath = await callWithErrorHandling<Promise<IDotnetAcquireResult>>(async () =>\r\n        {\r\n            globalEventStream.post(new DotnetAcquisitionRequested(commandContext.version, commandContext.requestingExtensionId ?? 'notProvided', mode, commandContext.installType ?? 'local'));\r\n\r\n            telemetryObserver?.setAcquisitionContext(workerContext, commandContext);\r\n\r\n            if (!commandContext.requestingExtensionId)\r\n            {\r\n                globalEventStream.post(new NoExtensionIdProvided(`No requesting extension id was provided for the request ${commandContext.version}.`));\r\n                vscode.window.showWarningMessage(`One of your extensions is attempting to install .NET without providing an extension id.\r\n                This install cannot be properly maintained. Please report this to the extension author.`);\r\n            }\r\n\r\n            if (!commandContext.version || commandContext.version === 'latest')\r\n            {\r\n                throw new EventBasedError('BadContextualVersion',\r\n                    `Cannot acquire .NET version \"${commandContext.version}\". Please provide a valid version.`);\r\n            }\r\n\r\n            const existingPath = await resolveExistingPathIfExists(existingPathConfigWorker, commandContext, workerContext, utilContext);\r\n            if (existingPath)\r\n            {\r\n                return existingPath;\r\n            }\r\n\r\n            const existingOfflinePath = await getExistingInstallIfOffline(worker, workerContext);\r\n            if (existingOfflinePath)\r\n            {\r\n                return Promise.resolve(existingOfflinePath);\r\n            }\r\n\r\n            // Note: This will impact the context object given to the worker and error handler since objects own a copy of a reference in JS.\r\n            const runtimeVersionResolver = new VersionResolver(workerContext);\r\n            commandContext.version = await runtimeVersionResolver.getFullVersion(commandContext.version, mode);\r\n\r\n            const acquisitionInvoker = new AcquisitionInvoker(workerContext, utilContext);\r\n            return mode === 'aspnetcore' ? worker.acquireLocalASPNET(workerContext, acquisitionInvoker) : worker.acquireLocalRuntime(workerContext, acquisitionInvoker);\r\n        }, getIssueContext(existingPathConfigWorker)(commandContext.errorConfiguration, 'acquire', commandContext.version), commandContext.requestingExtensionId, workerContext);\r\n\r\n        const installationId = getInstallIdCustomArchitecture(commandContext.version, commandContext.architecture, mode, 'local');\r\n        const install = {\r\n            installId: installationId, version: commandContext.version, installMode: mode, isGlobal: false,\r\n            architecture: commandContext.architecture ?? DotnetCoreAcquisitionWorker.defaultArchitecture()\r\n        } as DotnetInstall;\r\n\r\n        if (dotnetPath !== undefined && dotnetPath?.dotnetPath)\r\n        {\r\n            globalEventStream.post(new DotnetAcquisitionTotalSuccessEvent(commandContext.version, install, commandContext.requestingExtensionId ?? '', dotnetPath.dotnetPath));\r\n        }\r\n\r\n        loggingObserver.dispose();\r\n        return dotnetPath;\r\n    });\r\n\r\n    const dotnetAcquireGlobalSDKRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.acquireGlobalSDK}`, async (commandContext: IDotnetAcquireContext): Promise<IDotnetAcquireResult | undefined> =>\r\n    {\r\n        commandContext.mode = commandContext.mode ?? 'sdk' as DotnetInstallMode;\r\n\r\n        if (commandContext.requestingExtensionId === undefined)\r\n        {\r\n            return Promise.reject('No requesting extension id was provided.');\r\n        }\r\n\r\n        let fullyResolvedVersion = '';\r\n        const workerContext = getAcquisitionWorkerContext(commandContext.mode, commandContext);\r\n        const worker = getAcquisitionWorker();\r\n\r\n        const pathResult = await callWithErrorHandling(async () =>\r\n        {\r\n            // Warning: Between now and later in this call-stack, the context 'version' is incomplete as it has not been resolved.\r\n            // Errors between here and the place where it is resolved cannot be routed to one another.\r\n\r\n            telemetryObserver?.setAcquisitionContext(workerContext, commandContext);\r\n\r\n            if (commandContext.version === '' || !commandContext.version)\r\n            {\r\n                throw new EventCancellationError('BadContextualRuntimeVersionError',\r\n                    `No version was defined to install.`);\r\n            }\r\n\r\n            globalEventStream.post(new DotnetAcquisitionRequested(commandContext.version, commandContext.requestingExtensionId ?? 'notProvided', commandContext.mode!, commandContext.installType ?? 'global'));\r\n\r\n            const existingOfflinePath = await getExistingInstallIfOffline(worker, workerContext);\r\n            if (existingOfflinePath)\r\n            {\r\n                return Promise.resolve(existingOfflinePath);\r\n            }\r\n\r\n            const globalInstallerResolver = new GlobalInstallerResolver(workerContext, commandContext.version);\r\n            fullyResolvedVersion = await globalInstallerResolver.getFullySpecifiedVersion();\r\n\r\n            // Reset context to point to the fully specified version so it is not possible for someone to access incorrect data during the install process.\r\n            // Note: This will impact the context object given to the worker and error handler since objects own a copy of a reference in JS.\r\n            commandContext.version = fullyResolvedVersion;\r\n            telemetryObserver?.setAcquisitionContext(workerContext, commandContext);\r\n\r\n            outputChannel.show(true);\r\n            const dotnetPath = await worker.acquireGlobalSDK(workerContext, globalInstallerResolver);\r\n\r\n            new CommandExecutor(workerContext, utilContext).setPathEnvVar(dotnetPath.dotnetPath, moreInfoUrl, displayWorker, vsCodeExtensionContext, true);\r\n            return dotnetPath;\r\n        }, getIssueContext(existingPathConfigWorker)(commandContext.errorConfiguration, commandKeys.acquireGlobalSDK), commandContext.requestingExtensionId, workerContext);\r\n\r\n        const installationId = getInstallIdCustomArchitecture(commandContext.version, commandContext.architecture, commandContext.mode, 'global');\r\n        const install = {\r\n            installId: installationId, version: commandContext.version, installMode: commandContext.mode, isGlobal: true,\r\n            architecture: commandContext.architecture ?? DotnetCoreAcquisitionWorker.defaultArchitecture()\r\n        } as DotnetInstall;\r\n\r\n        if (pathResult !== undefined && pathResult?.dotnetPath)\r\n        {\r\n            globalEventStream.post(new DotnetAcquisitionTotalSuccessEvent(commandContext.version, install, commandContext.requestingExtensionId ?? '', pathResult.dotnetPath));\r\n        }\r\n\r\n        loggingObserver.dispose();\r\n        return pathResult;\r\n    });\r\n\r\n    const dotnetListVersionsRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.listVersions}`,\r\n        async (commandContext: IDotnetListVersionsContext | undefined, customWebWorker: WebRequestWorker | undefined): Promise<IDotnetListVersionsResult | undefined> =>\r\n        {\r\n            return getAvailableVersions(commandContext, customWebWorker, false);\r\n        });\r\n\r\n    const dotnetRecommendedVersionRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.recommendedVersion}`,\r\n        async (commandContext: IDotnetListVersionsContext | undefined, customWebWorker: WebRequestWorker | undefined): Promise<IDotnetListVersionsResult> =>\r\n        {\r\n            const availableVersions = await getAvailableVersions(commandContext, customWebWorker, true);\r\n            const activeSupportVersions = availableVersions?.filter((version: IDotnetVersion) => version.supportPhase === 'active');\r\n\r\n            if (!activeSupportVersions || activeSupportVersions.length < 1)\r\n            {\r\n                const err = new EventCancellationError('DotnetVersionResolutionError', `An active-support version of dotnet couldn't be found. Discovered versions: ${JSON.stringify(availableVersions)}`);\r\n                globalEventStream.post(new DotnetVersionResolutionError(err, null));\r\n                if (!availableVersions || availableVersions.length < 1)\r\n                {\r\n                    return [];\r\n                }\r\n                return [availableVersions[0]];\r\n            }\r\n\r\n            // The first item will be the newest version.\r\n            return [activeSupportVersions[0]];\r\n        });\r\n\r\n    const acquireGlobalSDKPublicRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.globalAcquireSDKPublic}`, async (commandContext: IDotnetAcquireContext) =>\r\n    {\r\n        globalEventStream.post(new GlobalAcquisitionContextMenuOpened(`The user has opened the global SDK acquisition context menu.`));\r\n\r\n        const recommendedVersionResult: IDotnetListVersionsResult = await vscode.commands.executeCommand('dotnet.recommendedVersion');\r\n        const recommendedVersion: string = recommendedVersionResult ? recommendedVersionResult[0]?.version : '';\r\n\r\n        const chosenVersion = await vscode.window.showInputBox(\r\n            {\r\n                placeHolder: recommendedVersion,\r\n                value: recommendedVersion,\r\n                prompt: 'The .NET SDK version. You can use different formats: 5, 3.1, 7.0.3xx, 6.0.201, etc.',\r\n            }) ?? '';\r\n\r\n        globalEventStream.post(new UserManualInstallVersionChosen(`The user has chosen to install the .NET SDK version ${chosenVersion}.`));\r\n\r\n        try\r\n        {\r\n            globalEventStream.post(new UserManualInstallRequested(`Starting to install the .NET SDK ${chosenVersion} via a user request.`));\r\n\r\n            await vscode.commands.executeCommand('dotnet.showAcquisitionLog');\r\n            const userCommandContext: IDotnetAcquireContext = { version: chosenVersion, requestingExtensionId: 'user', installType: 'global' };\r\n            const path: IDotnetAcquireResult = await vscode.commands.executeCommand('dotnet.acquireGlobalSDK', userCommandContext);\r\n            if (path && path?.dotnetPath)\r\n            {\r\n                globalEventStream.post(new UserManualInstallSuccess(`The .NET SDK ${chosenVersion} was successfully installed.`));\r\n            }\r\n        }\r\n        catch (error)\r\n        {\r\n            globalEventStream.post(new UserManualInstallFailure((error as Error), `The .NET SDK ${chosenVersion} failed to install. Error: ${(error as Error).toString()}`));\r\n            vscode.window.showErrorMessage((error as Error).toString());\r\n        }\r\n    });\r\n\r\n    const dotnetAcquireStatusRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.acquireStatus}`, async (commandContext: IDotnetAcquireContext): Promise<IDotnetAcquireResult | undefined> =>\r\n    {\r\n        const pathResult = await callWithErrorHandling(async () =>\r\n        {\r\n            const mode = commandContext.mode ?? 'runtime' as DotnetInstallMode;\r\n            const worker = getAcquisitionWorker();\r\n            const workerContext = getAcquisitionWorkerContext(mode, commandContext);\r\n\r\n            globalEventStream.post(new DotnetAcquisitionStatusRequested(commandContext.version, commandContext.requestingExtensionId));\r\n            const runtimeVersionResolver = new VersionResolver(workerContext);\r\n            const resolvedVersion = await runtimeVersionResolver.getFullVersion(commandContext.version, mode);\r\n            commandContext.version = resolvedVersion;\r\n            const dotnetPath = await worker.acquireStatus(workerContext, mode);\r\n            return dotnetPath;\r\n        }, getIssueContext(existingPathConfigWorker)(commandContext.errorConfiguration, 'acquireStatus'));\r\n        return pathResult;\r\n    });\r\n\r\n    const dotnetUninstallPublicRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.uninstallPublic}`, async () =>\r\n    {\r\n        const existingInstalls = await InstallTrackerSingleton.getInstance(globalEventStream, vsCodeContext.globalState).getExistingInstalls(true);\r\n\r\n        const menuItems = existingInstalls?.sort(\r\n            function (x: InstallRecord, y: InstallRecord): number\r\n            {\r\n                if (x.dotnetInstall.installMode === y.dotnetInstall.installMode)\r\n                {\r\n                    return x.dotnetInstall.version.localeCompare(y.dotnetInstall.version);\r\n                }\r\n                return x.dotnetInstall.installMode.localeCompare(y.dotnetInstall.installMode);\r\n            })?.map(install =>\r\n            {\r\n                return {\r\n                    label: `.NET ${(install.dotnetInstall.installMode === 'sdk' ? 'SDK' : install.dotnetInstall.installMode === 'runtime' ? 'Runtime' : 'ASP.NET Core Runtime')} ${install.dotnetInstall.version}`,\r\n                    description: `${install.dotnetInstall.architecture ?? ''} | ${install.dotnetInstall.isGlobal ? 'machine-wide' : 'vscode-local'}`,\r\n                    detail: install.installingExtensions.some(x => x !== null) ? `Used by ${install.installingExtensions.join(', ')}` : ``,\r\n                    iconPath: install.dotnetInstall.isGlobal ? new vscode.ThemeIcon('shield') : new vscode.ThemeIcon('trash'),\r\n                    internalId: install.dotnetInstall.installId\r\n                }\r\n            });\r\n\r\n        if (menuItems.length < 1)\r\n        {\r\n            vscode.window.showInformationMessage('No .NET installations were found to uninstall.');\r\n            return;\r\n        }\r\n\r\n        const chosenVersion = await vscode.window.showQuickPick(menuItems, { placeHolder: 'Select a version to uninstall.' });\r\n\r\n        if (chosenVersion)\r\n        {\r\n            const installRecord: InstallRecord = existingInstalls.find(install => install.dotnetInstall.installId === chosenVersion.internalId)!;\r\n\r\n            if (!installRecord || !installRecord?.dotnetInstall?.version || !installRecord?.dotnetInstall?.installMode)\r\n            {\r\n                return;\r\n            }\r\n\r\n            const selectedInstall: DotnetInstall = installRecord.dotnetInstall;\r\n            let canContinue = true;\r\n            const uninstallWillBreakSomething = !(await InstallTrackerSingleton.getInstance(globalEventStream, vsCodeContext.globalState).canUninstall(true, selectedInstall, true));\r\n\r\n            const yes = `Continue`;\r\n            if (uninstallWillBreakSomething)\r\n            {\r\n                const brokenExtensions = installRecord.installingExtensions.some(x => x !== null) ? installRecord.installingExtensions.join(', ') : 'extensions such as C# or C# DevKit';\r\n                const pick = await vscode.window.showWarningMessage(\r\n                    `Uninstalling .NET ${selectedInstall.version} will likely cause ${brokenExtensions} to stop functioning properly. Do you still wish to continue?`, { modal: true }, yes);\r\n                canContinue = pick === yes;\r\n            }\r\n\r\n            if (!canContinue)\r\n            {\r\n                return;\r\n            }\r\n\r\n            const commandContext: IDotnetAcquireContext =\r\n            {\r\n                version: selectedInstall.version,\r\n                mode: selectedInstall.installMode,\r\n                installType: selectedInstall.isGlobal ? 'global' : 'local',\r\n                architecture: selectedInstall.architecture,\r\n                requestingExtensionId: 'user'\r\n            }\r\n\r\n            outputChannel.show(true);\r\n            return uninstall(commandContext, true);\r\n        }\r\n    });\r\n\r\n    /**\r\n     * @returns 0 on success. Error string if not.\r\n     */\r\n    const dotnetUninstallRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.uninstall}`, async (commandContext: IDotnetAcquireContext | undefined): Promise<string> =>\r\n    {\r\n        return uninstall(commandContext);\r\n    });\r\n\r\n    /**\r\n     * @param commandContext The context of the request to find the dotnet path.\r\n     * We wrap an AcquisitionContext which must include the version, requestingExtensionId, architecture of .NET desired, and mode.\r\n     * The architecture should be of the node format ('x64', 'x86', 'arm64', etc.)\r\n     *\r\n     * @returns the path to the dotnet executable as an IDotnetAcquireResult (or undefined), if one can be found. This should be the true path to the executable. undefined if none can be found.\r\n     * Before version 2.2.2, the result could be a string, undefined, or an IDotnetAcquireResult. This was changed to be more consistent with the rest of the APIs.\r\n     *\r\n     * @remarks Priority Order for path lookup:\r\n     * VSCode Setting -> PATH -> Realpath of PATH -> DOTNET_ROOT (Emulation DOTNET_ROOT if set first)\r\n     *\r\n     * This accounts for pmc installs, snap installs, bash configurations, and other non-standard installations such as homebrew.\r\n     */\r\n    const dotnetFindPathRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.findPath}`, async (commandContext: IDotnetFindPathContext): Promise<IDotnetAcquireResult | undefined> =>\r\n    {\r\n        globalEventStream.post(new DotnetFindPathCommandInvoked(`The find path command was invoked.`, commandContext));\r\n\r\n        if (!commandContext.acquireContext.mode || !commandContext.acquireContext.requestingExtensionId || !commandContext.acquireContext.version || !commandContext.acquireContext.architecture)\r\n        {\r\n            throw new EventCancellationError('BadContextualFindPathError', `The find path request was missing required information: a mode, version, architecture, and requestingExtensionId.`);\r\n        }\r\n\r\n        globalEventStream.post(new DotnetFindPathLookupSetting(`Looking up vscode setting.`));\r\n        const workerContext = getAcquisitionWorkerContext(commandContext.acquireContext.mode, commandContext.acquireContext);\r\n        const existingPath = await resolveExistingPathIfExists(existingPathConfigWorker, commandContext.acquireContext, workerContext, utilContext, commandContext.versionSpecRequirement);\r\n\r\n        // The setting is not intended to be used as the SDK, only the runtime for extensions to run on. Ex: PowerShell policy doesn't allow us to install the runtime, let users set the path manually.\r\n        if (existingPath && commandContext.acquireContext.mode !== 'sdk')\r\n        {\r\n            // We don't need to validate the existing path as it gets validated in the lookup logic already.\r\n            globalEventStream.post(new DotnetFindPathSettingFound(`Found vscode setting.`));\r\n            loggingObserver.dispose();\r\n            return existingPath;\r\n        }\r\n\r\n        const validator = new DotnetConditionValidator(workerContext, utilContext);\r\n        const finder = new DotnetPathFinder(workerContext, utilContext);\r\n\r\n        const dotnetsOnPATH = await finder.findRawPathEnvironmentSetting();\r\n        for (const dotnetPath of dotnetsOnPATH ?? [])\r\n        {\r\n            const validatedPATH = await getPathIfValid(dotnetPath, validator, commandContext);\r\n            if (validatedPATH)\r\n            {\r\n                loggingObserver.dispose();\r\n                return { dotnetPath: validatedPATH };\r\n            }\r\n        }\r\n\r\n        const dotnetsOnRealPATH = await finder.findRealPathEnvironmentSetting();\r\n        for (const dotnetPath of dotnetsOnRealPATH ?? [])\r\n        {\r\n            const validatedRealPATH = await getPathIfValid(dotnetPath, validator, commandContext);\r\n            if (validatedRealPATH)\r\n            {\r\n                loggingObserver.dispose();\r\n                return { dotnetPath: validatedRealPATH };\r\n            }\r\n        }\r\n\r\n        const dotnetOnROOT = await finder.findDotnetRootPath(commandContext.acquireContext.architecture);\r\n        const validatedRoot = await getPathIfValid(dotnetOnROOT, validator, commandContext);\r\n        if (validatedRoot)\r\n        {\r\n            loggingObserver.dispose();\r\n            return { dotnetPath: validatedRoot };\r\n        }\r\n\r\n        const dotnetOnHostfxrRecord = await finder.findHostInstallPaths(commandContext.acquireContext.architecture);\r\n        for (const dotnetPath of dotnetOnHostfxrRecord ?? [])\r\n        {\r\n            const validatedHostfxr = await getPathIfValid(dotnetPath, validator, commandContext);\r\n            if (validatedHostfxr && process.env.DOTNET_INSTALL_TOOL_SKIP_HOSTFXR !== 'true')\r\n            {\r\n                loggingObserver.dispose();\r\n                return { dotnetPath: validatedHostfxr };\r\n            }\r\n        }\r\n\r\n        loggingObserver.dispose();\r\n        globalEventStream.post(new DotnetFindPathNoPathMetCondition(`Could not find a single host path that met the conditions.\r\nexistingPath : ${existingPath?.dotnetPath}\r\nonPath : ${JSON.stringify(dotnetsOnPATH)}\r\nonRealPath : ${JSON.stringify(dotnetsOnRealPATH)}\r\nonRoot : ${dotnetOnROOT}\r\nonHostfxrRecord : ${JSON.stringify(dotnetOnHostfxrRecord)}\r\n\r\nRequirement:\r\n${JSON.stringify(commandContext)}`));\r\n        return undefined;\r\n    });\r\n\r\n    async function getPathIfValid(path: string | undefined, validator: IDotnetConditionValidator, commandContext: IDotnetFindPathContext): Promise<string | undefined>\r\n    {\r\n        if (path)\r\n        {\r\n            const validated = await validator.dotnetMeetsRequirement(path, commandContext);\r\n            if (validated)\r\n            {\r\n                globalEventStream.post(new DotnetFindPathMetCondition(`${path} met the conditions.`));\r\n                return path;\r\n            }\r\n        }\r\n\r\n        return undefined;\r\n    }\r\n\r\n    async function uninstall(commandContext: IDotnetAcquireContext | undefined, force = false): Promise<string>\r\n    {\r\n        let result = '1';\r\n        await callWithErrorHandling(async () =>\r\n        {\r\n            if (!commandContext?.version || !commandContext?.installType || !commandContext?.mode || !commandContext?.requestingExtensionId)\r\n            {\r\n                const error = new EventCancellationError('InvalidUninstallRequest', `The caller ${commandContext?.requestingExtensionId} did not properly submit an uninstall request.\r\n    Please include the mode, installType, version, and extensionId.`);\r\n                globalEventStream.post(new InvalidUninstallRequest(error as Error));\r\n                throw error;\r\n            }\r\n            else\r\n            {\r\n                const worker = getAcquisitionWorker();\r\n                const workerContext = getAcquisitionWorkerContext(commandContext.mode, commandContext);\r\n\r\n                if (commandContext.installType === 'local' && !force) // if using force mode, we are also using the UI, which passes the fully specified version to uninstall only\r\n                {\r\n                    const versionResolver = new VersionResolver(workerContext);\r\n                    const resolvedVersion = await versionResolver.getFullVersion(commandContext.version, commandContext.mode);\r\n                    commandContext.version = resolvedVersion;\r\n                }\r\n\r\n                const installationId = getInstallIdCustomArchitecture(commandContext.version, commandContext.architecture, commandContext.mode, commandContext.installType);\r\n                const install = {\r\n                    installId: installationId, version: commandContext.version, installMode: commandContext.mode, isGlobal: commandContext.installType === 'global',\r\n                    architecture: commandContext.architecture ?? DotnetCoreAcquisitionWorker.defaultArchitecture()\r\n                } as DotnetInstall;\r\n\r\n                if (commandContext.installType === 'local')\r\n                {\r\n                    result = await worker.uninstallLocal(workerContext, install, force);\r\n                }\r\n                else\r\n                {\r\n                    const globalInstallerResolver = new GlobalInstallerResolver(workerContext, commandContext.version);\r\n                    result = await worker.uninstallGlobal(workerContext, install, globalInstallerResolver, force);\r\n                }\r\n            }\r\n        }, getIssueContext(existingPathConfigWorker)(commandContext?.errorConfiguration, 'uninstall'));\r\n\r\n        return result;\r\n    }\r\n\r\n    const dotnetUninstallAllRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.uninstallAll}`, async (commandContext: IDotnetUninstallContext | undefined) =>\r\n    {\r\n        await callWithErrorHandling(async () =>\r\n        {\r\n            const mode = 'runtime' as DotnetInstallMode;\r\n            const worker = getAcquisitionWorker();\r\n            const installDirectoryProvider = directoryProviderFactory(mode, vsCodeContext.globalStoragePath);\r\n\r\n            await worker.uninstallAll(globalEventStream, installDirectoryProvider.getStoragePath(), vsCodeContext.globalState);\r\n        },\r\n            getIssueContext(existingPathConfigWorker)(commandContext ? commandContext.errorConfiguration : undefined, 'uninstallAll')\r\n        );\r\n    });\r\n\r\n    const showOutputChannelRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.showAcquisitionLog}`, () => outputChannel.show(/* preserveFocus */ false));\r\n\r\n    const ensureDependenciesRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.ensureDotnetDependencies}`, async (commandContext: IDotnetEnsureDependenciesContext) =>\r\n    {\r\n        await callWithErrorHandling(async () =>\r\n        {\r\n            if (os.platform() !== 'linux')\r\n            {\r\n                // We can't handle installing dependencies for anything other than Linux\r\n                return;\r\n            }\r\n\r\n            const result = cp.spawnSync(commandContext.command, commandContext.arguments);\r\n            const installer = new DotnetCoreDependencyInstaller();\r\n            if (installer.signalIndicatesMissingLinuxDependencies(result.signal!))\r\n            {\r\n                globalEventStream.post(new DotnetAcquisitionMissingLinuxDependencies());\r\n                await installer.promptLinuxDependencyInstall('Failed to run .NET runtime.');\r\n            }\r\n        }, getIssueContext(existingPathConfigWorker)(commandContext.errorConfiguration, 'ensureDependencies'));\r\n    });\r\n\r\n    const reportIssueRegistration = vscode.commands.registerCommand(`${commandPrefix}.${commandKeys.reportIssue}`, async () =>\r\n    {\r\n        const [url, issueBody] = formatIssueUrl(undefined, getIssueContext(existingPathConfigWorker)(AcquireErrorConfiguration.DisableErrorPopups, 'reportIssue'));\r\n        await vscode.env.clipboard.writeText(issueBody);\r\n        open(url).catch(() => {});\r\n    });\r\n\r\n    // Helper Functions\r\n    async function resolveExistingPathIfExists(configResolver: ExtensionConfigurationWorker, commandContext: IDotnetAcquireContext,\r\n        workerContext: IAcquisitionWorkerContext, utilityContext: IUtilityContext, requirement?: DotnetVersionSpecRequirement): Promise<IDotnetAcquireResult | null>\r\n    {\r\n        const existingPathResolver = new ExistingPathResolver(workerContext, utilityContext);\r\n\r\n        const existingPath = await existingPathResolver.resolveExistingPath(configResolver.getAllPathConfigurationValues(), commandContext.requestingExtensionId, displayWorker, requirement);\r\n        if (existingPath)\r\n        {\r\n            globalEventStream.post(new DotnetExistingPathResolutionCompleted(existingPath.dotnetPath));\r\n            return new Promise((resolve) =>\r\n            {\r\n                resolve(existingPath);\r\n            });\r\n        }\r\n        return new Promise((resolve) =>\r\n        {\r\n            resolve(null);\r\n        });\r\n    }\r\n\r\n    function checkIfSDKAcquisitionIsSupported(): boolean\r\n    {\r\n        let isSupported = true;\r\n        isSupported = isSupported && !isRunningUnderWSL(globalEventStream);\r\n        vscode.commands.executeCommand('setContext', 'dotnetAcquisitionExtension.isGlobalSDKUnsupported', !isSupported);\r\n        return isSupported;\r\n    }\r\n\r\n    const getAvailableVersions = async (commandContext: IDotnetListVersionsContext | undefined,\r\n        customWebWorker: WebRequestWorker | undefined, onRecommendationMode: boolean): Promise<IDotnetListVersionsResult | undefined> =>\r\n    {\r\n        const mode = 'sdk' as DotnetInstallMode;\r\n        const workerContext = getVersionResolverContext(mode, 'global', commandContext?.errorConfiguration);\r\n        const customVersionResolver = new VersionResolver(workerContext, customWebWorker);\r\n\r\n        if (os.platform() !== 'linux' || !onRecommendationMode)\r\n        {\r\n            const versionsResult = await callWithErrorHandling(async () =>\r\n            {\r\n                return customVersionResolver.GetAvailableDotnetVersions(commandContext);\r\n            }, getIssueContext(existingPathConfigWorker)(commandContext?.errorConfiguration, 'getAvailableVersions'));\r\n\r\n            return versionsResult;\r\n        }\r\n        else\r\n        {\r\n            const linuxResolver = new LinuxVersionResolver(workerContext, utilContext);\r\n            try\r\n            {\r\n                const suggestedVersion = await linuxResolver.getRecommendedDotnetVersion('sdk' as DotnetInstallMode);\r\n                const osAgnosticVersionData = await getAvailableVersions(commandContext, customWebWorker, !onRecommendationMode);\r\n                const resolvedSupportPhase = osAgnosticVersionData?.find((version: IDotnetVersion) =>\r\n                    getMajorMinor(version.version, globalEventStream, workerContext) === getMajorMinor(suggestedVersion, globalEventStream, workerContext))?.supportPhase ?? 'active';\r\n                // Assumption : The newest version is 'active' support, but we can't guarantee that.\r\n                // If the linux version is too old it will eventually support no active versions of .NET, which would cause a failure.\r\n                // The best we can give it is the newest working version, which is the most likely to be supported, and mark it as active so we can use it.\r\n\r\n                return [\r\n                    {\r\n                        version: suggestedVersion, channelVersion: `${getMajorMinor(suggestedVersion, globalEventStream, workerContext)}`,\r\n                        supportStatus: Number(getMajor(suggestedVersion, globalEventStream, workerContext)) % 2 === 0 ? 'lts' : 'sts',\r\n                        supportPhase: resolvedSupportPhase\r\n                    }\r\n                ];\r\n            }\r\n            catch (error: any)\r\n            {\r\n                return [];\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @returns A 'worker' context object that can be used for when there actually isn't any acquisition happening.\r\n     * Eventually the version resolver and web request worker should be decoupled from the context object, ...\r\n     * so we don't need to do this, but not doing this right now.\r\n     */\r\n    function getVersionResolverContext(mode: DotnetInstallMode, typeOfInstall: DotnetInstallType, errorsConfiguration?: ErrorConfiguration): IAcquisitionWorkerContext\r\n    {\r\n        return getAcquisitionWorkerContext(mode,\r\n            {\r\n                requestingExtensionId: 'notProvided',\r\n                installType: typeOfInstall,\r\n                version: 'notAnAcquisitionRequest',\r\n                errorConfiguration: errorsConfiguration,\r\n                architecture: DotnetCoreAcquisitionWorker.defaultArchitecture()\r\n            } as IDotnetAcquireContext\r\n        )\r\n    }\r\n\r\n    function getAcquisitionWorkerContext(mode: DotnetInstallMode, acquiringContext: IDotnetAcquireContext): IAcquisitionWorkerContext\r\n    {\r\n        return {\r\n            storagePath: vsCodeContext.globalStoragePath,\r\n            extensionState: vsCodeContext.globalState,\r\n            eventStream: globalEventStream,\r\n            installationValidator: new InstallationValidator(globalEventStream),\r\n            timeoutSeconds: resolvedTimeoutSeconds,\r\n            acquisitionContext: acquiringContext,\r\n            installDirectoryProvider: directoryProviderFactory(mode, vsCodeContext.globalStoragePath),\r\n            proxyUrl: proxyLink,\r\n            isExtensionTelemetryInitiallyEnabled: isExtensionTelemetryEnabled,\r\n            allowInvalidPathSetting: allowInvalidPathSetting ?? false\r\n        }\r\n    }\r\n\r\n    function getAcquisitionWorker(): DotnetCoreAcquisitionWorker\r\n    {\r\n        return new DotnetCoreAcquisitionWorker(utilContext, vsCodeExtensionContext);\r\n    }\r\n\r\n    function getIssueContext(configResolver: ExtensionConfigurationWorker)\r\n    {\r\n        return (errorConfiguration: ErrorConfiguration | undefined, commandName: string, version?: string) =>\r\n        {\r\n            return {\r\n                logger: loggingObserver,\r\n                errorConfiguration: errorConfiguration || AcquireErrorConfiguration.DisplayAllErrorPopups,\r\n                displayWorker,\r\n                extensionConfigWorker: configResolver,\r\n                eventStream: globalEventStream,\r\n                commandName,\r\n                version,\r\n                moreInfoUrl,\r\n                timeoutInfoUrl: `${moreInfoUrl}#install-script-timeouts`\r\n            } as IIssueContext;\r\n        };\r\n    }\r\n\r\n    async function getExistingInstallIfOffline(worker: DotnetCoreAcquisitionWorker, workerContext: IAcquisitionWorkerContext): Promise<IDotnetAcquireResult | null>\r\n    {\r\n        if (!(await WebRequestWorker.isOnline(timeoutValue ?? defaultTimeoutValue, globalEventStream)))\r\n        {\r\n            workerContext.acquisitionContext.architecture ??= DotnetCoreAcquisitionWorker.defaultArchitecture();\r\n            const existingOfflinePath = await worker.getSimilarExistingInstall(workerContext);\r\n            if (existingOfflinePath?.dotnetPath)\r\n            {\r\n                return Promise.resolve(existingOfflinePath);\r\n            }\r\n            else\r\n            {\r\n                globalEventStream.post(new DotnetOfflineWarning(`It looks like you may be offline (can you connect to www.microsoft.com?) and have no installations of .NET for VS Code.\r\nWe will try to install .NET, but are unlikely to be able to connect to the server. Installation will timeout in ${timeoutValue} seconds.`))\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    // Preemptively install .NET for extensions who tell us to in their package.json\r\n    const jsonInstaller = new JsonInstaller(globalEventStream, vsCodeExtensionContext);\r\n\r\n    // Exposing API Endpoints\r\n    vsCodeContext.subscriptions.push(\r\n        dotnetAcquireRegistration,\r\n        dotnetAcquireStatusRegistration,\r\n        dotnetAcquireGlobalSDKRegistration,\r\n        acquireGlobalSDKPublicRegistration,\r\n        dotnetFindPathRegistration,\r\n        dotnetListVersionsRegistration,\r\n        dotnetRecommendedVersionRegistration,\r\n        dotnetUninstallRegistration,\r\n        dotnetUninstallPublicRegistration,\r\n        dotnetUninstallAllRegistration,\r\n        showOutputChannelRegistration,\r\n        ensureDependenciesRegistration,\r\n        reportIssueRegistration,\r\n        ...eventStreamObservers);\r\n}\r\n\r\nexport function ReEnableActivationForManualActivation()\r\n{\r\n    disableActivationUnderTest = false;\r\n}\r\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ASPNetRuntimeInstallationDirectoryProvider = void 0;\nconst path = require(\"path\");\nconst IInstallationDirectoryProvider_1 = require(\"./IInstallationDirectoryProvider\");\nclass ASPNetRuntimeInstallationDirectoryProvider extends IInstallationDirectoryProvider_1.IInstallationDirectoryProvider {\n    getInstallDir(installId) {\n        const dotnetInstallDir = path.join(this.getStoragePath(), installId);\n        return dotnetInstallDir;\n    }\n}\nexports.ASPNetRuntimeInstallationDirectoryProvider = ASPNetRuntimeInstallationDirectoryProvider;\n//# sourceMappingURL=ASPNetRuntimeInstallationDirectoryProvider.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AcquisitionInvoker = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst cp = require(\"child_process\");\nconst os = require(\"os\");\nconst path = require(\"path\");\n/* eslint-disable */ // When editing this file, please remove this and fix the linting concerns.\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst ErrorHandler_1 = require(\"../Utils/ErrorHandler\");\nconst InstallScriptAcquisitionWorker_1 = require(\"./InstallScriptAcquisitionWorker\");\nconst TelemetryUtilities_1 = require(\"../EventStream/TelemetryUtilities\");\nconst FileUtilities_1 = require(\"../Utils/FileUtilities\");\nconst CommandExecutor_1 = require(\"../Utils/CommandExecutor\");\nconst IAcquisitionInvoker_1 = require(\"./IAcquisitionInvoker\");\nconst WebRequestWorker_1 = require(\"../Utils/WebRequestWorker\");\nclass AcquisitionInvoker extends IAcquisitionInvoker_1.IAcquisitionInvoker {\n    constructor(workerContext, utilityContext) {\n        super(workerContext.eventStream);\n        this.workerContext = workerContext;\n        this.utilityContext = utilityContext;\n        this.noPowershellError = `powershell.exe is not discoverable on your system. Is PowerShell added to your PATH and correctly installed? Please visit: https://learn.microsoft.com/powershell/scripting/install/installing-powershell-on-windows.\r\nYou will need to restart VS Code after these changes. If PowerShell is still not discoverable, try setting a custom existingDotnetPath following our instructions here: https://github.com/dotnet/vscode-dotnet-runtime/blob/main/Documentation/troubleshooting-runtime.md.`;\n        this.scriptWorker = new InstallScriptAcquisitionWorker_1.InstallScriptAcquisitionWorker(workerContext);\n        this.fileUtilities = new FileUtilities_1.FileUtilities();\n    }\n    installDotnet(installContext, install) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const winOS = os.platform() === 'win32';\n            const installCommand = yield this.getInstallCommand(installContext.version, installContext.installDir, installContext.installMode, installContext.architecture);\n            return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                try {\n                    let windowsFullCommand = `powershell.exe -NoProfile -NonInteractive -NoLogo -ExecutionPolicy bypass -Command \"& { [Net.ServicePointManager]::SecurityProtocol = [Net.ServicePointManager]::SecurityProtocol -bor [Net.SecurityProtocolType]::Tls12; & ${installCommand} }\"`;\n                    let powershellReference = 'powershell.exe';\n                    if (winOS) {\n                        powershellReference = yield this.verifyPowershellCanRun(installContext, install);\n                        windowsFullCommand = windowsFullCommand.replace('powershell.exe', powershellReference);\n                    }\n                    cp.exec(winOS ? windowsFullCommand : installCommand, { cwd: process.cwd(), maxBuffer: 500 * 1024, timeout: 1000 * installContext.timeoutSeconds, killSignal: 'SIGKILL' }, (error, stdout, stderr) => __awaiter(this, void 0, void 0, function* () {\n                        if (stdout) {\n                            this.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionScriptOutput(install, TelemetryUtilities_1.TelemetryUtilities.HashAllPaths(stdout)));\n                        }\n                        if (stderr) {\n                            this.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionScriptOutput(install, `STDERR: ${TelemetryUtilities_1.TelemetryUtilities.HashAllPaths(stderr)}`));\n                        }\n                        if (this.looksLikeBadExecutionPolicyError(stderr)) {\n                            const badPolicyError = new EventStreamEvents_1.EventBasedError('PowershellBadExecutionPolicy', `Your powershell execution policy does not allow script execution, so we can't automate the installation.\r\nPlease read more at https://go.microsoft.com/fwlink/?LinkID=135170`);\n                            this.eventStream.post(new EventStreamEvents_1.PowershellBadExecutionPolicy(badPolicyError, install));\n                            reject(badPolicyError);\n                        }\n                        if ((this.looksLikeBadLanguageModeError(stderr) || (error === null || error === void 0 ? void 0 : error.code) === 1) && this.badLanguageModeSet(powershellReference)) {\n                            const badModeError = new EventStreamEvents_1.EventBasedError('PowershellBadLanguageMode', `Your Language Mode disables PowerShell language features needed to install .NET. Read more at: https://learn.microsoft.com/powershell/module/microsoft.powershell.core/about/about_language_modes.\r\nIf you cannot change this flag, try setting a custom existingDotnetPath via the instructions here: https://github.com/dotnet/vscode-dotnet-runtime/blob/main/Documentation/troubleshooting-runtime.md.`);\n                            this.eventStream.post(new EventStreamEvents_1.PowershellBadLanguageMode(badModeError, install));\n                            reject(badModeError);\n                        }\n                        if (error) {\n                            if (!(yield WebRequestWorker_1.WebRequestWorker.isOnline(installContext.timeoutSeconds, this.eventStream))) {\n                                const offlineError = new EventStreamEvents_1.EventBasedError('DotnetOfflineFailure', 'No internet connection detected: Cannot install .NET');\n                                this.eventStream.post(new EventStreamEvents_1.DotnetOfflineFailure(offlineError, install));\n                                reject(offlineError);\n                            }\n                            else if (error.signal === 'SIGKILL') {\n                                const newError = new EventStreamEvents_1.EventBasedError('DotnetAcquisitionTimeoutError', `${ErrorHandler_1.timeoutConstants.timeoutMessage}, MESSAGE: ${error.message}, CODE: ${error.code}, KILLED: ${error.killed}`, error.stack);\n                                this.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionTimeoutError(error, install, installContext.timeoutSeconds));\n                                reject(newError);\n                            }\n                            else {\n                                const newError = new EventStreamEvents_1.EventBasedError('DotnetAcquisitionInstallError', `${ErrorHandler_1.timeoutConstants.timeoutMessage}, MESSAGE: ${error.message}, CODE: ${error.code}, SIGNAL: ${error.signal}`, error.stack);\n                                this.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionInstallError(newError, install));\n                                reject(newError);\n                            }\n                        }\n                        else if (stderr && stderr.length > 0) {\n                            this.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionCompleted(install, installContext.dotnetPath, installContext.version));\n                            resolve();\n                        }\n                        else {\n                            this.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionCompleted(install, installContext.dotnetPath, installContext.version));\n                            resolve();\n                        }\n                    }));\n                }\n                catch (error) {\n                    // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                    const newError = new EventStreamEvents_1.EventBasedError('DotnetAcquisitionUnexpectedError', error === null || error === void 0 ? void 0 : error.message, error === null || error === void 0 ? void 0 : error.stack);\n                    this.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionUnexpectedError(newError, install));\n                    reject(newError);\n                }\n            }));\n        });\n    }\n    looksLikeBadExecutionPolicyError(stderr) {\n        // tls12 is from the command output and gets truncated like so with this error\n        // 135170 is the link id to the error, which may be subject to change but is a good language agnostic way to catch this\n        // about_Execution_Policies this is a relatively language agnostic way to check as well\n        return stderr.includes('+ ... ]::Tls12;') || stderr.includes('135170') || stderr.includes('about_Execution_Policies');\n    }\n    looksLikeBadLanguageModeError(stderr) {\n        /*\nThis is one possible output of a failed command for this right now, but the install script might change so we account for multiple possibilities.\n\n        Failed to resolve the exact version number.\nAt dotnet-install.ps1:1189 char:5\n+     throw \"Failed to resolve the exact version number.\"\n+     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : OperationStopped: (Failed to resol...version number.:String) [], RuntimeException\n    + FullyQualifiedErrorId : Failed to resolve the exact version number.\n        */\n        // Unexpected Token may also appear\n        return stderr.includes('FullyQualifiedErrorId') || stderr.includes('unexpectedToken');\n    }\n    badLanguageModeSet(powershellReference) {\n        if (os.platform() !== 'win32') {\n            return false;\n        }\n        try {\n            const languageModeOutput = cp.spawnSync(powershellReference, [`-command`, `$ExecutionContext.SessionState.LanguageMode`], { cwd: path.resolve(__dirname), shell: true });\n            const languageMode = languageModeOutput.stdout.toString().trim();\n            return (languageMode === 'ConstrainedLanguage' || languageMode === 'NoLanguage');\n        }\n        catch (e) {\n            return true;\n        }\n    }\n    getInstallCommand(version, dotnetInstallDir, installMode, architecture) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const arch = this.fileUtilities.nodeArchToDotnetArch(architecture, this.eventStream);\n            let args = [\n                '-InstallDir', this.escapeFilePath(dotnetInstallDir),\n                '-Version', version,\n                '-Verbose'\n            ];\n            if (installMode === 'runtime') {\n                args = args.concat('-Runtime', 'dotnet');\n            }\n            else if (installMode === 'aspnetcore') {\n                args = args.concat('-Runtime', 'aspnetcore');\n            }\n            if (arch !== 'auto') {\n                args = args.concat('-Architecture', arch);\n            }\n            const scriptPath = yield this.scriptWorker.getDotnetInstallScriptPath();\n            return `${this.escapeFilePath(scriptPath)} ${args.join(' ')}`;\n        });\n    }\n    escapeFilePath(pathToEsc) {\n        if (os.platform() === 'win32') {\n            // Need to escape apostrophes with two apostrophes\n            const dotnetInstallDirEscaped = pathToEsc.replace(/'/g, `''`);\n            // Surround with single quotes instead of double quotes (see https://github.com/dotnet/cli/issues/11521)\n            return `'${dotnetInstallDirEscaped}'`;\n        }\n        else {\n            return `\"${pathToEsc}\"`;\n        }\n    }\n    /**\n     *\n     * @remarks Some users have reported not having powershell.exe or having execution policy that fails property evaluation functions in powershell install scripts.\n     * We use this function to throw better errors if powershell is not configured correctly.\n     */\n    verifyPowershellCanRun(installContext, installId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let knownError = false;\n            let error = null;\n            let command = null;\n            const possibleCommands = [\n                CommandExecutor_1.CommandExecutor.makeCommand(`powershell.exe`, []),\n                CommandExecutor_1.CommandExecutor.makeCommand(`%SystemRoot%\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell.exe`, []),\n                CommandExecutor_1.CommandExecutor.makeCommand(`pwsh`, []),\n                CommandExecutor_1.CommandExecutor.makeCommand(`powershell`, []),\n                CommandExecutor_1.CommandExecutor.makeCommand(`pwsh.exe`, [])\n            ];\n            try {\n                // Check if PowerShell exists and is on the path.\n                command = yield new CommandExecutor_1.CommandExecutor(this.workerContext, this.utilityContext).tryFindWorkingCommand(possibleCommands);\n                if (!command) {\n                    knownError = true;\n                    const err = Error(this.noPowershellError);\n                    error = err;\n                }\n            }\n            catch (err) {\n                if (!knownError) {\n                    error = new Error(`${this.noPowershellError} More details: ${err.message}`);\n                }\n            }\n            if (error != null) {\n                this.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionScriptError(error, installId));\n                throw new EventStreamEvents_1.EventBasedError('DotnetAcquisitionScriptError', error === null || error === void 0 ? void 0 : error.message, error === null || error === void 0 ? void 0 : error.stack);\n            }\n            return command.commandRoot;\n        });\n    }\n}\nexports.AcquisitionInvoker = AcquisitionInvoker;\n//# sourceMappingURL=AcquisitionInvoker.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SYSTEM_INFORMATION_CACHE_DURATION_MS = exports.READ_SYMLINK_CACHE_DURATION_MS = exports.SYS_CMD_SEARCH_CACHE_DURATION_MS = exports.DOTNET_INFORMATION_CACHE_DURATION_MS = void 0;\nexports.DOTNET_INFORMATION_CACHE_DURATION_MS = 3000;\nexports.SYS_CMD_SEARCH_CACHE_DURATION_MS = 30000;\nexports.READ_SYMLINK_CACHE_DURATION_MS = 4000;\nexports.SYSTEM_INFORMATION_CACHE_DURATION_MS = 1200000;\n//# sourceMappingURL=CacheTimeConstants.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n *  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.directoryProviderFactory = directoryProviderFactory;\nconst ASPNetRuntimeInstallationDirectoryProvider_1 = require(\"./ASPNetRuntimeInstallationDirectoryProvider\");\nconst RuntimeInstallationDirectoryProvider_1 = require(\"./RuntimeInstallationDirectoryProvider\");\nconst SdkInstallationDirectoryProvider_1 = require(\"./SdkInstallationDirectoryProvider\");\nfunction directoryProviderFactory(mode, storagePath) {\n    return mode === 'runtime' ? new RuntimeInstallationDirectoryProvider_1.RuntimeInstallationDirectoryProvider(storagePath) :\n        mode === 'sdk' ? new SdkInstallationDirectoryProvider_1.SdkInstallationDirectoryProvider(storagePath) :\n            mode === 'aspnetcore' ? new ASPNetRuntimeInstallationDirectoryProvider_1.ASPNetRuntimeInstallationDirectoryProvider(storagePath)\n                : new RuntimeInstallationDirectoryProvider_1.RuntimeInstallationDirectoryProvider(storagePath); // default if no mode is provided - should never happen\n}\n//# sourceMappingURL=DirectoryProviderFactory.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DotnetConditionValidator = void 0;\nconst CommandExecutor_1 = require(\"../Utils/CommandExecutor\");\nconst versionUtils = require(\"./VersionUtilities\");\nconst os = require(\"os\");\nconst FileUtilities_1 = require(\"../Utils/FileUtilities\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst CacheTimeConstants_1 = require(\"./CacheTimeConstants\");\nclass DotnetConditionValidator {\n    constructor(workerContext, utilityContext, executor) {\n        var _a;\n        this.workerContext = workerContext;\n        this.utilityContext = utilityContext;\n        this.executor = executor;\n        (_a = this.executor) !== null && _a !== void 0 ? _a : (this.executor = new CommandExecutor_1.CommandExecutor(this.workerContext, this.utilityContext));\n    }\n    dotnetMeetsRequirement(dotnetExecutablePath, requirement) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const availableRuntimes = requirement.acquireContext.mode === 'sdk' ? [] : yield this.getRuntimes(dotnetExecutablePath);\n            const hostArch = yield this.getHostArchitecture(dotnetExecutablePath, requirement);\n            if (availableRuntimes.some((runtime) => {\n                return runtime.mode === requirement.acquireContext.mode && this.stringArchitectureMeetsRequirement(hostArch, requirement.acquireContext.architecture) &&\n                    this.stringVersionMeetsRequirement(runtime.version, requirement.acquireContext.version, requirement) && this.allowPreview(runtime.version, requirement);\n            })) {\n                return true;\n            }\n            else {\n                const availableSDKs = yield this.getSDKs(dotnetExecutablePath);\n                if (availableSDKs.some((sdk) => {\n                    // The SDK includes the Runtime, ASP.NET Core Runtime, and Windows Desktop Runtime. So, we don't need to check the mode.\n                    return this.stringArchitectureMeetsRequirement(hostArch, requirement.acquireContext.architecture) &&\n                        this.stringVersionMeetsRequirement(sdk.version, requirement.acquireContext.version, requirement) && this.allowPreview(sdk.version, requirement);\n                })) {\n                    return true;\n                }\n                else {\n                    this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathDidNotMeetCondition(`${dotnetExecutablePath} did NOT satisfy the conditions: hostArch: ${hostArch}, requiredArch: ${requirement.acquireContext.architecture},\r\n                    required version: ${requirement.acquireContext.version}, required mode: ${requirement.acquireContext.mode}`));\n                }\n            }\n            return false;\n        });\n    }\n    /**\n     *\n     * @param hostPath The path to the dotnet executable\n     * @returns The architecture of the dotnet host from the PATH, in dotnet info string format\n     * The .NET Host will only list versions of the runtime and sdk that match its architecture.\n     * Thus, any runtime or sdk that it prints out will be the same architecture as the host.\n     * This information is not always accurate as dotnet info is subject to change.\n     *\n     * @remarks Will return '' if the architecture cannot be determined for some peculiar reason (e.g. dotnet --info is broken or changed).\n     */\n    // eslint-disable-next-line @typescript-eslint/require-await\n    getHostArchitecture(hostPath, requirement) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // dotnet --info is not machine-readable and subject to breaking changes. See https://github.com/dotnet/sdk/issues/33697 and https://github.com/dotnet/runtime/issues/98735/\n            // Unfortunately even with a new API, that might not go in until .NET 10 and beyond, so we have to rely on dotnet --info for now.*/\n            const infoCommand = CommandExecutor_1.CommandExecutor.makeCommand(`\"${hostPath}\"`, ['--info']);\n            const envWithForceEnglish = process.env;\n            envWithForceEnglish.DOTNET_CLI_UI_LANGUAGE = 'en-US';\n            // System may not have english installed, but CDK already calls this without issue -- the .NET SDK language invocation is also wrapped by a runtime library and natively includes english assets\n            const hostArch = yield (this.executor).execute(infoCommand, { env: envWithForceEnglish, dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.DOTNET_INFORMATION_CACHE_DURATION_MS }, false).then((result) => {\n                const lines = result.stdout.split('\\n').map((line) => line.trim()).filter((line) => line.length > 0);\n                // This is subject to change but there is no good alternative to do this\n                const archLine = lines.find((line) => line.startsWith('Architecture:'));\n                if (archLine === undefined) {\n                    this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetUnableToCheckPATHArchitecture(`Could not find the architecture of the dotnet host ${hostPath}. If this host does not match the architecture ${requirement.acquireContext.architecture}:\r\nPlease set the PATH to a dotnet host that matches the architecture ${requirement.acquireContext.architecture}. An incorrect architecture will cause instability for the extension ${requirement.acquireContext.requestingExtensionId}.`));\n                    if (process.env.DOTNET_INSTALL_TOOL_DONT_ACCEPT_UNKNOWN_ARCH === '1') {\n                        return 'unknown'; // Bad value to cause failure mismatch, which will become 'auto'\n                    }\n                    else {\n                        return '';\n                    }\n                }\n                const arch = archLine.split(' ')[1];\n                return arch;\n            });\n            return hostArch;\n        });\n    }\n    getSDKs(existingPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const findSDKsCommand = (yield this.setCodePage()) ? CommandExecutor_1.CommandExecutor.makeCommand(`chcp`, [`65001`, `|`, `\"${existingPath}\"`, '--list-sdks']) :\n                CommandExecutor_1.CommandExecutor.makeCommand(`\"${existingPath}\"`, ['--list-sdks']);\n            const sdkInfo = yield (this.executor).execute(findSDKsCommand, { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.DOTNET_INFORMATION_CACHE_DURATION_MS }, false).then((result) => {\n                const sdks = result.stdout.split('\\n').map((line) => line.trim()).filter((line) => line.length > 0);\n                const sdkInfos = sdks.map((sdk) => {\n                    const parts = sdk.split(' ', 2);\n                    return {\n                        mode: 'sdk',\n                        version: parts[0],\n                        directory: sdk.split(' ').slice(1).join(' ').slice(1, -1) // need to remove the brackets from the path [path]\n                    };\n                }).filter(x => x !== null);\n                return sdkInfos;\n            });\n            return sdkInfo;\n        });\n    }\n    setCodePage() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // For Windows, we need to change the code page to UTF-8 to handle the output of the command. https://github.com/nodejs/node-v0.x-archive/issues/2190\n            // Only certain builds of windows support UTF 8 so we need to check that we can use it.\n            return os.platform() === 'win32' ? (yield this.executor.tryFindWorkingCommand([CommandExecutor_1.CommandExecutor.makeCommand('chcp', ['65001'])], { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.SYS_CMD_SEARCH_CACHE_DURATION_MS })) !== null : false;\n        });\n    }\n    stringVersionMeetsRequirement(availableVersion, requestedVersion, requirement) {\n        const availableMajor = Number(versionUtils.getMajor(availableVersion, this.workerContext.eventStream, this.workerContext));\n        const requestedMajor = Number(versionUtils.getMajor(requestedVersion, this.workerContext.eventStream, this.workerContext));\n        const requestedPatchStr = requirement.acquireContext.mode !== 'sdk' ? versionUtils.getRuntimePatchVersionString(requestedVersion, this.workerContext.eventStream, this.workerContext)\n            : versionUtils.getSDKCompleteBandAndPatchVersionString(requestedVersion, this.workerContext.eventStream, this.workerContext);\n        const requestedPatch = requestedPatchStr ? Number(requestedPatchStr) : null;\n        if (availableMajor === requestedMajor) {\n            const availableMinor = Number(versionUtils.getMinor(availableVersion, this.workerContext.eventStream, this.workerContext));\n            const requestedMinor = Number(versionUtils.getMinor(requestedVersion, this.workerContext.eventStream, this.workerContext));\n            if (availableMinor === requestedMinor && requestedPatch) {\n                const availablePatchStr = requirement.acquireContext.mode !== 'sdk' ? versionUtils.getRuntimePatchVersionString(availableVersion, this.workerContext.eventStream, this.workerContext)\n                    : versionUtils.getSDKCompleteBandAndPatchVersionString(availableVersion, this.workerContext.eventStream, this.workerContext);\n                const availablePatch = availablePatchStr ? Number(availablePatchStr) : null;\n                switch (requirement.versionSpecRequirement) {\n                    case 'equal':\n                        return availablePatch === requestedPatch;\n                    case 'greater_than_or_equal':\n                        // the 'availablePatch' must exist, since the version is from --list-runtimes or --list-sdks.\n                        return availablePatch >= requestedPatch;\n                    case 'less_than_or_equal':\n                        return availablePatch <= requestedPatch;\n                }\n            }\n            else {\n                switch (requirement.versionSpecRequirement) {\n                    case 'equal':\n                        return availableMinor === requestedMinor;\n                    case 'greater_than_or_equal':\n                        return availableMinor >= requestedMinor;\n                    case 'less_than_or_equal':\n                        return availableMinor <= requestedMinor;\n                }\n            }\n        }\n        else {\n            switch (requirement.versionSpecRequirement) {\n                case 'equal':\n                    return false;\n                case 'greater_than_or_equal':\n                    return availableMajor >= requestedMajor;\n                case 'less_than_or_equal':\n                    return availableMajor <= requestedMajor;\n            }\n        }\n    }\n    stringArchitectureMeetsRequirement(outputArchitecture, requiredArchitecture) {\n        return !requiredArchitecture || outputArchitecture === '' || FileUtilities_1.FileUtilities.dotnetInfoArchToNodeArch(outputArchitecture, this.workerContext.eventStream) === requiredArchitecture;\n    }\n    allowPreview(availableVersion, requirement) {\n        if (requirement.rejectPreviews === true) {\n            return !versionUtils.isPreviewVersion(availableVersion, this.workerContext.eventStream, this.workerContext);\n        }\n        return true;\n    }\n    getRuntimes(existingPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const findRuntimesCommand = (yield this.setCodePage()) ? CommandExecutor_1.CommandExecutor.makeCommand(`chcp`, [`65001`, `|`, `\"${existingPath}\"`, '--list-runtimes']) :\n                CommandExecutor_1.CommandExecutor.makeCommand(`\"${existingPath}\"`, ['--list-runtimes']);\n            const windowsDesktopString = 'Microsoft.WindowsDesktop.App';\n            const aspnetCoreString = 'Microsoft.AspNetCore.App';\n            const runtimeString = 'Microsoft.NETCore.App';\n            const runtimeInfo = yield (this.executor).execute(findRuntimesCommand, { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.DOTNET_INFORMATION_CACHE_DURATION_MS }, false).then((result) => {\n                const runtimes = result.stdout.split('\\n').map((line) => line.trim()).filter((line) => line.length > 0);\n                const runtimeInfos = runtimes.map((runtime) => {\n                    const parts = runtime.split(' ', 3); // account for spaces in PATH, no space should appear before then and luckily path is last\n                    return {\n                        mode: parts[0] === aspnetCoreString ? 'aspnetcore' : parts[0] === runtimeString ? 'runtime' : 'sdk', // sdk is a placeholder for windows desktop, will never match since this is for runtime search only\n                        version: parts[1],\n                        directory: runtime.split(' ').slice(2).join(' ').slice(1, -1) // account for spaces in PATH, no space should appear before then and luckily path is last.\n                        // the 2nd slice needs to remove the brackets from the path [path]\n                    };\n                }).filter(x => x !== null);\n                return runtimeInfos;\n            });\n            return runtimeInfo;\n        });\n    }\n}\nexports.DotnetConditionValidator = DotnetConditionValidator;\n//# sourceMappingURL=DotnetConditionValidator.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DotnetCoreAcquisitionWorker = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst fs = require(\"fs\");\nconst os = require(\"os\");\nconst path = require(\"path\");\nconst rimraf = require(\"rimraf\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst versionUtils = require(\"./VersionUtilities\");\nconst TelemetryUtilities_1 = require(\"../EventStream/TelemetryUtilities\");\nconst CommandExecutor_1 = require(\"../Utils/CommandExecutor\");\nconst Debugging_1 = require(\"../Utils/Debugging\");\nconst InstallIdUtilities_1 = require(\"../Utils/InstallIdUtilities\");\nconst CacheTimeConstants_1 = require(\"./CacheTimeConstants\");\nconst DotnetInstall_1 = require(\"./DotnetInstall\");\nconst InstallationGraveyard_1 = require(\"./InstallationGraveyard\");\nconst InstallTrackerSingleton_1 = require(\"./InstallTrackerSingleton\");\nconst LinuxGlobalInstaller_1 = require(\"./LinuxGlobalInstaller\");\nconst WinMacGlobalInstaller_1 = require(\"./WinMacGlobalInstaller\");\nclass DotnetCoreAcquisitionWorker {\n    constructor(utilityContext, extensionContext) {\n        this.utilityContext = utilityContext;\n        // @member usingNoInstallInvoker - Only use this for test when using the No Install Invoker to fake the worker into thinking a path is on disk.\n        this.usingNoInstallInvoker = false;\n        const dotnetExtension = os.platform() === 'win32' ? '.exe' : '';\n        this.dotnetExecutable = `dotnet${dotnetExtension}`;\n        this.globalResolver = null;\n        this.extensionContext = extensionContext;\n    }\n    uninstallAll(eventStream, storagePath, extensionState) {\n        return __awaiter(this, void 0, void 0, function* () {\n            eventStream.post(new EventStreamEvents_1.DotnetUninstallAllStarted());\n            InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(eventStream, extensionState).clearPromises();\n            this.removeFolderRecursively(eventStream, storagePath);\n            yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(eventStream, extensionState).uninstallAllRecords();\n            eventStream.post(new EventStreamEvents_1.DotnetUninstallAllCompleted());\n        });\n    }\n    /**\n     *\n     * @remarks this is simply a wrapper around the acquire function.\n     * @returns the requested dotnet path.\n     */\n    acquireLocalSDK(context, invoker) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.acquire(context, 'sdk', undefined, invoker);\n        });\n    }\n    acquireGlobalSDK(context, installerResolver) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.globalResolver = installerResolver;\n            return this.acquire(context, 'sdk', installerResolver);\n        });\n    }\n    acquireLocalASPNET(context, invoker) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.acquire(context, 'aspnetcore', undefined, invoker);\n        });\n    }\n    /**\n     *\n     * @remarks this is simply a wrapper around the acquire function.\n     * @returns the requested dotnet path.\n     */\n    acquireLocalRuntime(context, invoker) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.acquire(context, 'runtime', undefined, invoker);\n        });\n    }\n    /**\n     * A function that allows installations to work in offline mode by preventing us from pinging the server,\n     * to check if the .NET is the newest installed version.\n     *\n     * @param context\n     * @returns null if no existing install matches with the same major.minor.\n     * Else, returns the newest existing install that matches the major.minor.\n     */\n    getSimilarExistingInstall(context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const possibleInstallWithSameMajorMinor = (0, InstallIdUtilities_1.getInstallFromContext)(context);\n            const installedVersions = yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).getExistingInstalls(true);\n            for (const install of installedVersions) {\n                if (install.dotnetInstall.installMode === possibleInstallWithSameMajorMinor.installMode &&\n                    install.dotnetInstall.architecture === possibleInstallWithSameMajorMinor.architecture &&\n                    install.dotnetInstall.isGlobal === possibleInstallWithSameMajorMinor.isGlobal &&\n                    versionUtils.getMajorMinor(install.dotnetInstall.version, context.eventStream, context) ===\n                        versionUtils.getMajorMinor(possibleInstallWithSameMajorMinor.version, context.eventStream, context)) {\n                    // Requested version has already been installed.\n                    const dotnetExePath = install.dotnetInstall.isGlobal ?\n                        os.platform() === 'linux' ?\n                            yield new LinuxGlobalInstaller_1.LinuxGlobalInstaller(context, this.utilityContext, install.dotnetInstall.version).getExpectedGlobalSDKPath(install.dotnetInstall.version, install.dotnetInstall.architecture) :\n                            yield new WinMacGlobalInstaller_1.WinMacGlobalInstaller(context, this.utilityContext, install.dotnetInstall.version, '', '').getExpectedGlobalSDKPath(install.dotnetInstall.version, install.dotnetInstall.architecture) :\n                        path.join(context.installDirectoryProvider.getInstallDir(install.dotnetInstall.installId), this.dotnetExecutable);\n                    if ((fs.existsSync(dotnetExePath) || this.usingNoInstallInvoker)) {\n                        context.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionStatusResolved(possibleInstallWithSameMajorMinor, possibleInstallWithSameMajorMinor.version));\n                        context.eventStream.post(new EventStreamEvents_1.DotnetOfflineInstallUsed(`We detected you are offline and are using the pre-existing .NET installation ${install.dotnetInstall.installId}.\r\nTo keep your .NET version up to date, please reconnect to the internet at your soonest convenience.`));\n                        return { dotnetPath: dotnetExePath };\n                    }\n                }\n            }\n            return null;\n        });\n    }\n    /**\n     *\n     * @param version The version of the runtime or sdk to check\n     * @param installRuntime Whether this is a local runtime status check or a local SDK status check.\n     * @param architecture The architecture of the install. Undefined means it will be the default arch, which is the node platform arch.\n     * @returns The result of the install with the path to dotnet if installed, else undefined.\n     */\n    acquireStatus(context, installMode, architecture) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const version = context.acquisitionContext.version;\n            const install = (0, DotnetInstall_1.GetDotnetInstallInfo)(version, installMode, 'local', architecture ? architecture : (_a = context.acquisitionContext.architecture) !== null && _a !== void 0 ? _a : this.getDefaultInternalArchitecture(context.acquisitionContext.architecture));\n            const existingAcquisitionPromise = yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).getPromise(install, context.acquisitionContext, true);\n            if (existingAcquisitionPromise) {\n                return { dotnetPath: existingAcquisitionPromise };\n            }\n            const dotnetInstallDir = context.installDirectoryProvider.getInstallDir(install.installId);\n            const dotnetPath = path.join(dotnetInstallDir, this.dotnetExecutable);\n            const installedVersions = yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).getExistingInstalls(true);\n            if (installedVersions.some(x => (0, DotnetInstall_1.IsEquivalentInstallationFile)(x.dotnetInstall, install)) && (fs.existsSync(dotnetPath) || this.usingNoInstallInvoker)) {\n                // Requested version has already been installed.\n                context.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionStatusResolved(install, version));\n                return { dotnetPath };\n            }\n            else if (installedVersions.length === 0 && fs.existsSync(dotnetPath) && installMode === 'sdk') {\n                // The education bundle already laid down a local install, add it to our managed installs\n                const preinstalledVersions = yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).checkForUnrecordedLocalSDKSuccessfulInstall(context, dotnetInstallDir, installedVersions);\n                if (preinstalledVersions.some(x => (0, DotnetInstall_1.IsEquivalentInstallationFile)(x.dotnetInstall, install)) &&\n                    (fs.existsSync(dotnetPath) || this.usingNoInstallInvoker)) {\n                    // Requested version has already been installed.\n                    context.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionStatusResolved(install, version));\n                    return { dotnetPath };\n                }\n            }\n            // Version is not installed\n            context.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionStatusUndefined(install));\n            return undefined;\n        });\n    }\n    /**\n     *\n     * @param version the version to get of the runtime or sdk.\n     * @param installRuntime true for runtime acquisition, false for SDK.\n     * @param globalInstallerResolver Create this and add it to install globally.\n     * @returns the dotnet acquisition result.\n     */\n    acquire(context_1, mode_1) {\n        return __awaiter(this, arguments, void 0, function* (context, mode, globalInstallerResolver = null, localInvoker) {\n            var _a;\n            if (globalInstallerResolver !== null) {\n                context.acquisitionContext.version = yield globalInstallerResolver.getFullySpecifiedVersion();\n            }\n            const version = context.acquisitionContext.version;\n            let install = (0, DotnetInstall_1.GetDotnetInstallInfo)(version, mode, globalInstallerResolver !== null ? 'global' : 'local', (_a = context.acquisitionContext.architecture) !== null && _a !== void 0 ? _a : this.getDefaultInternalArchitecture(context.acquisitionContext.architecture));\n            // Allow for the architecture to be null, which is a legacy behavior.\n            if (context.acquisitionContext.architecture === null && context.acquisitionContext.architecture !== undefined) {\n                install =\n                    {\n                        installId: (0, InstallIdUtilities_1.getInstallIdCustomArchitecture)(version, context.acquisitionContext.architecture, context.acquisitionContext.mode, globalInstallerResolver !== null ? 'global' : 'local'),\n                        version: install.version,\n                        isGlobal: install.isGlobal,\n                        installMode: mode,\n                    };\n            }\n            context.eventStream.post(new EventStreamEvents_1.DotnetInstallIdCreatedEvent(`The requested version ${version} is now marked under the install: ${JSON.stringify(install)}.`));\n            const existingAcquisitionPromise = yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).getPromise(install, context.acquisitionContext);\n            if (existingAcquisitionPromise) {\n                return { dotnetPath: existingAcquisitionPromise };\n            }\n            else {\n                // We're the only one acquiring this version of dotnet, start the acquisition process.\n                let acquisitionPromise = null;\n                if (globalInstallerResolver !== null) {\n                    Debugging_1.Debugging.log(`The Acquisition Worker has Determined a Global Install was requested.`, context.eventStream);\n                    acquisitionPromise = this.acquireGlobalCore(context, globalInstallerResolver, install).catch((error) => __awaiter(this, void 0, void 0, function* () {\n                        yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).untrackInstallingVersion(context, install);\n                        const err = this.getErrorOrStringAsEventError(error);\n                        throw err;\n                    }));\n                }\n                else {\n                    acquisitionPromise = this.acquireLocalCore(context, mode, install, localInvoker).catch((error) => __awaiter(this, void 0, void 0, function* () {\n                        yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).untrackInstallingVersion(context, install);\n                        const err = this.getErrorOrStringAsEventError(error);\n                        throw err;\n                    }));\n                }\n                // Put this promise into the list so we can let other requests run at the same time\n                // Allows us to return the end result of this current request for any following duplicates while we are still running.\n                InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).addPromise(install, acquisitionPromise);\n                return acquisitionPromise.then((res) => ({ dotnetPath: res }));\n            }\n        });\n    }\n    /**\n     *\n     * @param version The version of the object to acquire.\n     * @param installRuntime true if the request is to install the runtime, false for the SDK.\n     * @param install The install record / id of the version managed by us.\n     * @returns the dotnet path of the acquired dotnet.\n     *\n     * @remarks it is called \"core\" because it is the meat of the actual acquisition work; this has nothing to do with .NET core vs framework.\n     */\n    acquireLocalCore(context, mode, install, acquisitionInvoker) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            const version = context.acquisitionContext.version;\n            this.checkForPartialInstalls(context, install).catch(() => { });\n            let installedVersions = yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).getExistingInstalls(true);\n            const dotnetInstallDir = context.installDirectoryProvider.getInstallDir(install.installId);\n            const dotnetPath = path.join(dotnetInstallDir, this.dotnetExecutable);\n            if (fs.existsSync(dotnetPath) && installedVersions.length === 0) {\n                // The education bundle already laid down a local install, add it to our managed installs\n                installedVersions = yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).checkForUnrecordedLocalSDKSuccessfulInstall(context, dotnetInstallDir, installedVersions);\n            }\n            const existingInstall = yield this.getExistingInstall(context, installedVersions, install, dotnetPath);\n            if (existingInstall) {\n                return existingInstall;\n            }\n            // We update the extension state to indicate we're starting a .NET Core installation.\n            yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).trackInstallingVersion(context, install);\n            const installContext = {\n                installDir: dotnetInstallDir,\n                version,\n                dotnetPath,\n                timeoutSeconds: context.timeoutSeconds,\n                installMode: mode,\n                installType: (_a = context.acquisitionContext.installType) !== null && _a !== void 0 ? _a : 'local', // Before this API param existed, all calls were for local types.\n                architecture: (_b = context.acquisitionContext.architecture) !== null && _b !== void 0 ? _b : this.getDefaultInternalArchitecture(context.acquisitionContext.architecture),\n            };\n            context.acquisitionContext.architecture = installContext.architecture;\n            context.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionStarted(install, version, context.acquisitionContext.requestingExtensionId));\n            yield acquisitionInvoker.installDotnet(installContext, install).catch((reason) => {\n                throw reason; // This will get handled and cast into an event based error by its caller.\n            });\n            context.installationValidator.validateDotnetInstall(install, dotnetPath);\n            yield this.removeMatchingLegacyInstall(context, installedVersions, version);\n            yield this.tryCleanUpInstallGraveyard(context);\n            yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).reclassifyInstallingVersionToInstalled(context, install);\n            return dotnetPath;\n        });\n    }\n    getExistingInstall(context, installedVersions, install, dotnetPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (installedVersions.some(x => (0, DotnetInstall_1.IsEquivalentInstallation)(x.dotnetInstall, install) && (fs.existsSync(dotnetPath) || this.usingNoInstallInvoker))) {\n                // Version requested has already been installed.\n                try {\n                    context.installationValidator.validateDotnetInstall(install, dotnetPath, false, false);\n                }\n                catch (error) {\n                    return null;\n                }\n                if (context.acquisitionContext.installType === 'global') {\n                    if (!(yield this.sdkIsFound(context, context.acquisitionContext.version))) {\n                        yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).untrackInstalledVersion(context, install);\n                        return null;\n                    }\n                }\n                context.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionAlreadyInstalled(install, (context.acquisitionContext && context.acquisitionContext.requestingExtensionId)\n                    ? context.acquisitionContext.requestingExtensionId : null));\n                yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).trackInstalledVersion(context, install);\n                return dotnetPath;\n            }\n            return null;\n        });\n    }\n    sdkIsFound(context, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const executor = new CommandExecutor_1.CommandExecutor(context, this.utilityContext);\n            const listSDKsCommand = CommandExecutor_1.CommandExecutor.makeCommand('dotnet', ['--list-sdks']);\n            const result = yield executor.execute(listSDKsCommand, { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.DOTNET_INFORMATION_CACHE_DURATION_MS }, false);\n            if (result.status !== '0') {\n                return false;\n            }\n            return result.stdout.includes(version);\n        });\n    }\n    checkForPartialInstalls(context, installId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const installingVersions = yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).getExistingInstalls(false);\n            const partialInstall = installingVersions === null || installingVersions === void 0 ? void 0 : installingVersions.some(x => x.dotnetInstall.installId === installId.installId);\n            // Don't count it as partial if the promise is still being resolved.\n            // The promises get wiped out upon reload, so we can check this.\n            if (partialInstall && (yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).getPromise(installId, context.acquisitionContext, true)) === null) {\n                // Partial install, we never updated our extension to no longer be 'installing'. Maybe someone killed the vscode process or we failed in an unexpected way.\n                context.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionPartialInstallation(installId));\n                // Delete the existing local files so we can re-install. For global installs, let the installer handle it.\n                yield this.uninstallLocal(context, installId);\n            }\n        });\n    }\n    tryCleanUpInstallGraveyard(context) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const graveyard = new InstallationGraveyard_1.InstallationGraveyard(context);\n            const installsToRemove = yield graveyard.get();\n            for (const install of installsToRemove) {\n                context.eventStream.post(new EventStreamEvents_1.DotnetInstallGraveyardEvent(`Attempting to remove .NET at ${JSON.stringify(install)} again, as it was left in the graveyard.`));\n                yield this.uninstallLocal(context, install);\n            }\n        });\n    }\n    getDefaultInternalArchitecture(existingArch) {\n        if (existingArch !== null && existingArch !== undefined) {\n            return existingArch;\n        }\n        if (existingArch === null) {\n            return 'null';\n        }\n        return DotnetCoreAcquisitionWorker.defaultArchitecture();\n    }\n    static defaultArchitecture() {\n        return os.arch();\n    }\n    getErrorOrStringAsEventError(error) {\n        var _a;\n        if (error instanceof EventStreamEvents_1.EventBasedError || error instanceof EventStreamEvents_1.EventCancellationError) {\n            error.message = `.NET Acquisition Failed: ${error.message}, ${error === null || error === void 0 ? void 0 : error.stack}`;\n            return error;\n        }\n        else {\n            // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            const newError = new EventStreamEvents_1.EventBasedError('DotnetAcquisitionError', `.NET Acquisition Failed: ${(_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : JSON.stringify(error)}`);\n            return newError;\n        }\n    }\n    acquireGlobalCore(context, globalInstallerResolver, install) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            const installingVersion = yield globalInstallerResolver.getFullySpecifiedVersion();\n            context.eventStream.post(new EventStreamEvents_1.DotnetGlobalVersionResolutionCompletionEvent(`The version we resolved that was requested is: ${installingVersion}.`));\n            this.checkForPartialInstalls(context, install).catch(() => { });\n            const installedVersions = yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).getExistingInstalls(true);\n            const installer = os.platform() === 'linux' ?\n                new LinuxGlobalInstaller_1.LinuxGlobalInstaller(context, this.utilityContext, installingVersion) :\n                new WinMacGlobalInstaller_1.WinMacGlobalInstaller(context, this.utilityContext, installingVersion, yield globalInstallerResolver.getInstallerUrl(), yield globalInstallerResolver.getInstallerHash());\n            // See if we should return a fake path instead of running the install\n            if (process.env.VSCODE_DOTNET_GLOBAL_INSTALL_FAKE_PATH && process.env.VSCODE_DOTNET_GLOBAL_INSTALL_FAKE_PATH === 'true') {\n                context.eventStream.post(new EventStreamEvents_1.DotnetFakeSDKEnvironmentVariableTriggered(`VSCODE_DOTNET_GLOBAL_INSTALL_FAKE_PATH has been set.`));\n                return 'fake-sdk';\n            }\n            let dotnetPath = yield installer.getExpectedGlobalSDKPath(installingVersion, (_a = context.acquisitionContext.architecture) !== null && _a !== void 0 ? _a : this.getDefaultInternalArchitecture(context.acquisitionContext.architecture), false);\n            const existingInstall = yield this.getExistingInstall(context, installedVersions, install, dotnetPath);\n            if (existingInstall) {\n                return existingInstall;\n            }\n            context.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionStarted(install, installingVersion, context.acquisitionContext.requestingExtensionId));\n            yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).trackInstallingVersion(context, install);\n            context.eventStream.post(new EventStreamEvents_1.DotnetBeginGlobalInstallerExecution(`Beginning to run installer for ${JSON.stringify(install)} in ${os.platform()}.`));\n            const installerResult = yield installer.installSDK(install);\n            context.eventStream.post(new EventStreamEvents_1.DotnetCompletedGlobalInstallerExecution(`Completed installer for ${JSON.stringify(install)} in ${os.platform()}.`));\n            if (installerResult !== '0') {\n                const err = new EventStreamEvents_1.DotnetNonZeroInstallerExitCodeError(new EventStreamEvents_1.EventBasedError('DotnetNonZeroInstallerExitCodeError', `An error was raised by the .NET SDK installer. The exit code it gave us: ${installerResult}.\r\n${WinMacGlobalInstaller_1.WinMacGlobalInstaller.InterpretExitCode(installerResult)}`), install);\n                context.eventStream.post(err);\n                throw err;\n            }\n            TelemetryUtilities_1.TelemetryUtilities.setDotnetSDKTelemetryToMatch(context.isExtensionTelemetryInitiallyEnabled, this.extensionContext, context, this.utilityContext).catch(() => { });\n            // in case the path does not exist, try resetting the path using an automatic path search setting\n            dotnetPath = yield installer.getExpectedGlobalSDKPath(installingVersion, (_b = context.acquisitionContext.architecture) !== null && _b !== void 0 ? _b : this.getDefaultInternalArchitecture(context.acquisitionContext.architecture));\n            context.installationValidator.validateDotnetInstall(install, dotnetPath, os.platform() !== 'win32', os.platform() !== 'darwin');\n            context.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionCompleted(install, dotnetPath, installingVersion));\n            yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).reclassifyInstallingVersionToInstalled(context, install);\n            yield new CommandExecutor_1.CommandExecutor(context, this.utilityContext).endSudoProcessMaster(context.eventStream);\n            context.eventStream.post(new EventStreamEvents_1.DotnetGlobalAcquisitionCompletionEvent(`The version ${JSON.stringify(install)} completed successfully.`));\n            return dotnetPath;\n        });\n    }\n    /**\n     *\n     * @param installedVersions - all of the currently installed versions of dotnet managed by the extension\n     * @param version - the version that is about to be installed\n     *\n     * @remarks Before, installed versions used their version as the 'install id' in the promises and folder structure.\n     * We changed this install id to include architecture so different architectures could be installed side-by-side.\n     * This means any installs that were made before version 1.8.0 will not have the architecture in their install id.\n     * They should be removed. This is what makes an install 'legacy'.\n     *\n     * This function only removes the legacy install with the same version as 'version'.\n     * That's because removing other legacy installs may cause a breaking change.\n     * Assuming the install succeeds, this will not break as the legacy install of 'version' will be replaced by a non-legacy one upon completion.\n     *\n     * Many (if not most) legacy installs will actually hold the same content as the newly installed runtime/sdk.\n     * But since we don't want to be in the business of detecting their architecture, we chose this option as opposed to renaming and install id and folder\n     * ... for the legacy install.\n     *\n     * Note : only local installs were ever 'legacy.'\n     */\n    removeMatchingLegacyInstall(context, installedVersions, version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const legacyInstalls = this.existingLegacyInstalls(context, installedVersions);\n            for (const legacyInstall of legacyInstalls) {\n                if (legacyInstall.dotnetInstall.installId.includes(version)) {\n                    context.eventStream.post(new EventStreamEvents_1.DotnetLegacyInstallRemovalRequestEvent(`Trying to remove legacy install: ${JSON.stringify(legacyInstall)} of ${version}.`));\n                    yield this.uninstallLocal(context, legacyInstall.dotnetInstall);\n                }\n            }\n        });\n    }\n    /**\n     *\n     * @param allInstalls all of the existing installs.\n     * @returns All existing installs made by the extension that don't include a - for the architecture. Not all of the ones which use a string type.\n     */\n    existingLegacyInstalls(context, allInstalls) {\n        let legacyInstalls = [];\n        for (const install of allInstalls) {\n            // Assumption: .NET versions so far did not include ~ in them, but we do for our non-legacy ids.\n            if (!install.dotnetInstall.installId.includes('~')) {\n                context.eventStream.post(new EventStreamEvents_1.DotnetLegacyInstallDetectedEvent(`A legacy install was detected -- ${JSON.stringify(install)}.`));\n                legacyInstalls = legacyInstalls.concat(install);\n            }\n        }\n        return legacyInstalls;\n    }\n    uninstallLocal(context_1, install_1) {\n        return __awaiter(this, arguments, void 0, function* (context, install, force = false) {\n            var _a;\n            if (install.isGlobal) {\n                return '0';\n            }\n            try {\n                const dotnetInstallDir = context.installDirectoryProvider.getInstallDir(install.installId);\n                const graveyard = new InstallationGraveyard_1.InstallationGraveyard(context);\n                yield graveyard.add(install, dotnetInstallDir);\n                context.eventStream.post(new EventStreamEvents_1.DotnetInstallGraveyardEvent(`Attempting to remove .NET at ${JSON.stringify(install)} in path ${dotnetInstallDir}`));\n                yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).untrackInstalledVersion(context, install, force);\n                // this is the only place where installed and installing could deal with pre existing installing id\n                yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).untrackInstallingVersion(context, install, force);\n                if (force || (yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).canUninstall(true, install))) {\n                    context.eventStream.post(new EventStreamEvents_1.DotnetUninstallStarted(`Attempting to remove .NET ${install.installId}.`));\n                    this.removeFolderRecursively(context.eventStream, dotnetInstallDir);\n                    context.eventStream.post(new EventStreamEvents_1.DotnetUninstallCompleted(`Uninstalled .NET ${install.installId}.`));\n                    yield graveyard.remove(install);\n                    context.eventStream.post(new EventStreamEvents_1.DotnetInstallGraveyardEvent(`Success at uninstalling ${JSON.stringify(install)} in path ${dotnetInstallDir}`));\n                }\n                else {\n                    context.eventStream.post(new EventStreamEvents_1.DotnetInstallGraveyardEvent(`Removed reference of ${JSON.stringify(install)} in path ${dotnetInstallDir}, but did not uninstall.\r\nOther dependents remain.`));\n                }\n                return '0';\n            }\n            catch (error) {\n                context.eventStream.post(new EventStreamEvents_1.SuppressedAcquisitionError(error, `The attempt to uninstall .NET ${install.installId} failed - was .NET in use?`));\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                return (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : '1';\n            }\n        });\n    }\n    uninstallGlobal(context_1, install_1, globalInstallerResolver_1) {\n        return __awaiter(this, arguments, void 0, function* (context, install, globalInstallerResolver, force = false) {\n            var _a;\n            try {\n                context.eventStream.post(new EventStreamEvents_1.DotnetUninstallStarted(`Attempting to remove .NET ${install.installId}.`));\n                yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).untrackInstalledVersion(context, install, force);\n                // this is the only place where installed and installing could deal with pre existing installing id\n                yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).untrackInstallingVersion(context, install, force);\n                if (force || (yield InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(context.eventStream, context.extensionState).canUninstall(true, install))) {\n                    const installingVersion = yield globalInstallerResolver.getFullySpecifiedVersion();\n                    const installer = os.platform() === 'linux' ?\n                        new LinuxGlobalInstaller_1.LinuxGlobalInstaller(context, this.utilityContext, installingVersion) :\n                        new WinMacGlobalInstaller_1.WinMacGlobalInstaller(context, this.utilityContext, installingVersion, yield globalInstallerResolver.getInstallerUrl(), yield globalInstallerResolver.getInstallerHash());\n                    const ok = yield installer.uninstallSDK(install);\n                    yield new CommandExecutor_1.CommandExecutor(context, this.utilityContext).endSudoProcessMaster(context.eventStream);\n                    if (ok === '0') {\n                        context.eventStream.post(new EventStreamEvents_1.DotnetUninstallCompleted(`Uninstalled .NET ${install.installId}.`));\n                        return '0';\n                    }\n                }\n                context.eventStream.post(new EventStreamEvents_1.DotnetUninstallFailed(`Failed to uninstall .NET ${install.installId}. Uninstall manually or delete the folder.`));\n                return '117778'; // arbitrary error code to indicate uninstall failed without error.\n            }\n            catch (error) {\n                yield new CommandExecutor_1.CommandExecutor(context, this.utilityContext).endSudoProcessMaster(context.eventStream);\n                context.eventStream.post(new EventStreamEvents_1.SuppressedAcquisitionError(error, `The attempt to uninstall .NET ${install.installId} failed - was .NET in use?`));\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                return (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : '1';\n            }\n        });\n    }\n    removeFolderRecursively(eventStream, folderPath) {\n        eventStream.post(new EventStreamEvents_1.DotnetAcquisitionDeletion(folderPath));\n        try {\n            fs.chmodSync(folderPath, 0o744);\n        }\n        catch (error) {\n            eventStream.post(new EventStreamEvents_1.SuppressedAcquisitionError(error, `Failed to chmod +x on .NET folder ${folderPath} when marked for deletion.`));\n        }\n        try {\n            rimraf.sync(folderPath);\n        }\n        catch (error) {\n            eventStream.post(new EventStreamEvents_1.SuppressedAcquisitionError(error, `Failed to delete .NET folder ${folderPath} when marked for deletion.`));\n        }\n    }\n}\nexports.DotnetCoreAcquisitionWorker = DotnetCoreAcquisitionWorker;\n//# sourceMappingURL=DotnetCoreAcquisitionWorker.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DotnetCoreDependencyInstaller = void 0;\n/* eslint-disable */ // When editing this file, please remove this and fix the linting concerns.\nconst cp = require(\"child_process\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst shelljs_1 = require(\"shelljs\");\nconst vscode = require(\"vscode\");\nconst moreInfoUrl = 'https://aka.ms/dotnet-linux-prereqs';\nclass DotnetCoreDependencyInstaller {\n    constructor() {\n        this.platform = process.platform;\n    }\n    signalIndicatesMissingLinuxDependencies(signal) {\n        // If the dotnet does a SIGABRT on Linux this can mean that there are missing dependencies.\n        // In fact, many signals can actually be an indicator of missing libraries on Linux as we have seen\n        // SIGSEGV frequently as well. Checking the error stream is not accurate enough as on openSUSE15\n        // we get a SIGABRT with no standard error output if libssl1_0_0 is missing (which it is vanilla).\n        if (this.platform === 'linux' &&\n            ['SIGABRT',\n                'SIGIOT',\n                'SIGSYS',\n                'SIGPIPE',\n                'SIGSEGV',\n                'SIGILL',\n                'SIGBUS',\n                'SIGPFE',\n                'SIGSYS'].includes(signal)) {\n            return true;\n        }\n        return false;\n    }\n    installLinuxDependencies() {\n        return __awaiter(this, arguments, void 0, function* (additionalLibs = {}, skipDotNetCore = false) {\n            const scriptRoot = path.join(__dirname, '..', 'install scripts');\n            const shellCommand = this.getShellCommand();\n            // Determine the distro\n            const result = cp.spawnSync(shellCommand, [path.join(scriptRoot, 'determine-linux-distro.sh')]);\n            if (result.status !== 0) {\n                console.log(`Failed to determine distro. Exit code: ${result.status}`);\n                return result.status;\n            }\n            const distro = result.stdout.toString().trim();\n            console.log(`Found distro ${distro}`);\n            const additionalLibsKey = distro.toLowerCase(); // Always use lower case for this\n            // Run the installer for the distro passing in any additional libs for it\n            return this.executeCommandInTerminal('Linux dependency installer (.NET)', shellCommand, [path.join(scriptRoot, 'install-linux-prereqs.sh'),\n                distro,\n                (additionalLibs[additionalLibsKey] ? `\"${additionalLibs[additionalLibsKey]}\"` : ''),\n                skipDotNetCore.toString(),\n                moreInfoUrl]);\n        });\n    }\n    promptLinuxDependencyInstall(message_1) {\n        return __awaiter(this, arguments, void 0, function* (message, additionalLibs = {}, skipDotNetCore = false) {\n            while (true) {\n                const response = yield vscode.window.showErrorMessage(`${message} You may be missing key Linux libraries. Install them now?`, 'More Info', 'Install', 'Cancel');\n                if (response === 'More Info') {\n                    // Don't return, user has to explicitly hit \"cancel\"\n                    vscode.commands.executeCommand('vscode.open', vscode.Uri.parse(moreInfoUrl));\n                }\n                else if (response === 'Install') {\n                    const exitCode = yield this.installLinuxDependencies(additionalLibs, skipDotNetCore);\n                    if (exitCode !== 0) {\n                        const msg = (exitCode === 4 ?\n                            'Your Linux distribution is not supported by the automated installer' :\n                            'The dependency installer failed.');\n                        // Terminal will pause for input on error so this is just an info message with a more info button\n                        const failResponse = yield vscode.window.showErrorMessage(`${msg} Try installing dependencies manually.`, 'More Info');\n                        if (failResponse === 'More Info') {\n                            vscode.commands.executeCommand('vscode.open', vscode.Uri.parse(moreInfoUrl));\n                        }\n                        return false;\n                    }\n                    const reloadResponse = yield vscode.window.showInformationMessage('The dependency installer has completed successfully. Reload to activate your extensions!', 'Reload Now');\n                    if (reloadResponse === 'Reload Now') {\n                        yield vscode.commands.executeCommand('workbench.action.reloadWindow');\n                    }\n                    return true;\n                }\n                else {\n                    // response === 'Cancel'\n                    return false;\n                }\n            }\n        });\n    }\n    executeCommandInTerminal(name_1, command_1) {\n        return __awaiter(this, arguments, void 0, function* (name, command, args = [], promptAfterRun = false) {\n            return new Promise((resolve, reject) => {\n                const fullCommand = `\"${command}\" ${(args.length > 0 ? ` \"${args.join('\" \"')}\"` : '')}`;\n                const exitCodeFile = path.join(__dirname, '..', `terminal-exit-code-${Math.floor(Math.random() * 1000000)}`);\n                const commandList = new Array();\n                if (this.platform === 'win32') {\n                    // Note that \"|| echo %ERRORLEVEL% >\"\" in this command sequence is a hack to get the exit code\n                    // from the executed command given VS Code terminal does not return it.\n                    commandList.push('cls', `echo 0 > \"${exitCodeFile}\"`, `${fullCommand} || echo %ERRORLEVEL% > \"${exitCodeFile}\"`);\n                    if (promptAfterRun) {\n                        commandList.push('pause');\n                    }\n                }\n                else {\n                    // Note that \"|| echo $? >\" in this command sequence is a hack to get the exit code from the\n                    // executed command given VS Code terminal does not return it.\n                    commandList.push('clear', `echo 0 > \"${exitCodeFile}\"`, `${fullCommand} || echo $? > \"${exitCodeFile}\"`);\n                    if (promptAfterRun) {\n                        commandList.push('echo \"Press enter to close the terminal window.\"', 'sync', 'read');\n                    }\n                }\n                commandList.push('exit 0');\n                const commandSequence = commandList.join(' && ');\n                // Use a long name to reduce the chances of overlap with other extension installers\n                const terminal = vscode.window.createTerminal(name);\n                terminal.sendText(commandSequence, true);\n                terminal.show(false);\n                // If the scripts executes successfully, reload\n                vscode.window.onDidCloseTerminal((terminalEvent) => {\n                    if (terminalEvent.name === terminal.name) {\n                        // Hack to get exit code - VS Code terminal does not return it\n                        try {\n                            if (fs.existsSync(exitCodeFile)) {\n                                const exitFile = fs.readFileSync(exitCodeFile).toString().trim();\n                                fs.unlinkSync(exitCodeFile); // Delete file since we don't need it anymore\n                                if (exitFile) {\n                                    const exitCode = parseInt(exitFile, 10);\n                                    if (exitCode === 0) {\n                                        // Expected exit code\n                                    }\n                                    else {\n                                        // Possible that this is an expected exit code, so just a warning\n                                        console.log('Non-zero exit code detected.');\n                                    }\n                                    resolve(exitCode);\n                                }\n                                else {\n                                    const message = `Terminal \"${name}\" run resulted in empty exit file. Command likely did not execute successfully.`;\n                                    reject(new Error(message));\n                                }\n                            }\n                            else {\n                                const message = `Terminal \"${name}\" did not generate an exit file. Command likely did not execute successfully.`;\n                                reject(new Error(message));\n                            }\n                        }\n                        catch (err) {\n                            reject(err);\n                        }\n                    }\n                });\n            });\n        });\n    }\n    getShellCommand() {\n        var _a, _b, _c, _d;\n        if (this.platform === 'win32') {\n            return (_b = (_a = (0, shelljs_1.which)('cmd')) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : 'cmd';\n        }\n        // Test for existence of bash which won't exist on the base Alpine Linux container, use sh instead there\n        const shellCommand = (0, shelljs_1.which)('bash');\n        // shellCommand will be null if bash is not found\n        return shellCommand ? shellCommand.toString() : (_d = (_c = (0, shelljs_1.which)('sh')) === null || _c === void 0 ? void 0 : _c.toString()) !== null && _d !== void 0 ? _d : 'sh';\n    }\n}\nexports.DotnetCoreDependencyInstaller = DotnetCoreDependencyInstaller;\n//# sourceMappingURL=DotnetCoreDependencyInstaller.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IsEquivalentInstallationFile = IsEquivalentInstallationFile;\nexports.IsEquivalentInstallation = IsEquivalentInstallation;\nexports.InstallToStrings = InstallToStrings;\nexports.looksLikeRuntimeVersion = looksLikeRuntimeVersion;\nexports.GetDotnetInstallInfo = GetDotnetInstallInfo;\nconst InstallIdUtilities_1 = require(\"../Utils/InstallIdUtilities\");\n/**\n *\n * @returns True if the underlying installs are the exact same 'files'.\n * An 'install' is technically marked on disk by its install id.\n * The id could theoretically be temporarily shared between installs that are not the same underlying files.\n * For example, if the install id becomes '8', then '8' could at one point hold 8.0.100, then later 8.0.200.\n * That is not the case at the moment, but it is a possibility.\n * Think carefully between using this and IsEquivalentInstallation\n */\nfunction IsEquivalentInstallationFile(a, b) {\n    return a.version === b.version && a.architecture === b.architecture &&\n        a.isGlobal === b.isGlobal && a.installMode === b.installMode;\n}\n/**\n *\n * @returns true if A and B are can be treated as the same install.\n * This does not mean they have the same files on disk or version, just that they should be managed as the same install.\n * (e.g. auto updating the '8.0' install.)\n * Think carefully between using this and IsEquivalentInstallationFile. There is no difference between the two *yet*\n */\nfunction IsEquivalentInstallation(a, b) {\n    return a.installId === b.installId;\n}\n/**\n * @returns A string set representing the installation of either a .NET runtime or .NET SDK.\n */\nfunction InstallToStrings(install) {\n    return {\n        installId: install.installId,\n        version: install.version,\n        architecture: install.architecture,\n        isGlobal: install.isGlobal.toString(),\n        installMode: install.installMode.toString()\n    };\n}\nfunction looksLikeRuntimeVersion(version) {\n    var _a;\n    const band = (_a = version.split('.')) === null || _a === void 0 ? void 0 : _a.at(2);\n    return !band || band.length <= 2; // assumption : there exists no runtime version at this point over 99 sub versions\n}\nfunction GetDotnetInstallInfo(installVersion, installationMode, installType, installArchitecture) {\n    return {\n        installId: (0, InstallIdUtilities_1.getInstallIdCustomArchitecture)(installVersion, installArchitecture, installationMode, installType),\n        version: installVersion,\n        architecture: installArchitecture,\n        isGlobal: installType === 'global',\n        installMode: installationMode,\n    };\n}\n//# sourceMappingURL=DotnetInstall.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DOTNET_INSTALL_MODE_LIST = void 0;\nexports.DOTNET_INSTALL_MODE_LIST = ['sdk', 'runtime', 'aspnetcore'];\n//# sourceMappingURL=DotnetInstallMode.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DotnetPathFinder = void 0;\nconst CommandExecutor_1 = require(\"../Utils/CommandExecutor\");\nconst os = require(\"os\");\nconst path = require(\"path\");\nconst lodash = require(\"lodash\");\nconst fs_1 = require(\"fs\");\nconst TypescriptUtilities_1 = require(\"../Utils/TypescriptUtilities\");\nconst DotnetConditionValidator_1 = require(\"./DotnetConditionValidator\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst RegistryReader_1 = require(\"./RegistryReader\");\nconst FileUtilities_1 = require(\"../Utils/FileUtilities\");\nconst CacheTimeConstants_1 = require(\"./CacheTimeConstants\");\nclass DotnetPathFinder {\n    constructor(workerContext, utilityContext, executor, file) {\n        var _a, _b;\n        this.workerContext = workerContext;\n        this.utilityContext = utilityContext;\n        this.executor = executor;\n        this.file = file;\n        (_a = this.executor) !== null && _a !== void 0 ? _a : (this.executor = new CommandExecutor_1.CommandExecutor(this.workerContext, this.utilityContext));\n        (_b = this.file) !== null && _b !== void 0 ? _b : (this.file = new FileUtilities_1.FileUtilities());\n    }\n    /**\n     *\n     * @returns The DOTNET_ROOT environment variable, which is the root path for the dotnet installation.\n     * Some applications, such as `dotnet test`, prefer DOTNET_ROOT over the PATH setting.\n     * DOTNET_ROOT is also not the only setting.\n     * DOTNET_ROOT(x86) - Deprecated. Only used when running 32-bit executables. VS Code 32 bit is deprecated, so don't support this.\n     * DOTNET_ROOT_X86 - The non deprecated version of the above variable, still ignore.\n     * DOTNET_ROOT_X64 - Used when running 64-bit executables on an ARM64 OS.\n     * Node only runs on x64 and not ARM, but that doesn't mean the .NET Application won't run on ARM.\n     *\n     * DOTNET_HOST_PATH may be set but this is owned by the host. Don't respect any user setting here.\n     *\n     * The VS Code Workspace environment may also be different from the System environment.\n     */\n    findDotnetRootPath(requestedArchitecture) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathLookupRootPATH(`Looking up .NET on the root.`));\n            if (requestedArchitecture === 'x64' && (this.executor !== undefined ? (yield (0, TypescriptUtilities_1.getOSArch)(this.executor)).includes('arm') : false)) {\n                let dotnetOnRootEmulationPath = process.env.DOTNET_ROOT_X64;\n                if ((0, TypescriptUtilities_1.EnvironmentVariableIsDefined)(dotnetOnRootEmulationPath)) {\n                    // DOTNET_ROOT should be set to the directory containing the dotnet executable, not the executable itself.\n                    // https://learn.microsoft.com/en-us/dotnet/core/tools/dotnet-environment-variables\n                    dotnetOnRootEmulationPath = path.join(dotnetOnRootEmulationPath, (0, TypescriptUtilities_1.getDotnetExecutable)());\n                    this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathRootEmulationPATHFound(`Under emulation and emulation root is set to ${dotnetOnRootEmulationPath}.`));\n                    return dotnetOnRootEmulationPath;\n                }\n                else {\n                    this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathRootUnderEmulationButNoneSet(`Under emulation but DOTNET_ROOT_X64 is not set.`));\n                }\n            }\n            let dotnetOnRootPath = process.env.DOTNET_ROOT;\n            if ((0, TypescriptUtilities_1.EnvironmentVariableIsDefined)(dotnetOnRootPath)) {\n                // DOTNET_ROOT should be set to the directory containing the dotnet executable, not the executable itself.\n                dotnetOnRootPath = path.join(dotnetOnRootPath, (0, TypescriptUtilities_1.getDotnetExecutable)());\n                this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathRootPATHFound(`Found .NET on the root: ${dotnetOnRootPath}`));\n                return dotnetOnRootPath;\n            }\n            return undefined;\n        });\n    }\n    /**\n     *\n     * @returns A set of the path environment variable(s) for which or where dotnet, which may need to be converted to the actual path if it points to a polymorphic executable.\n     * For example, `snap` installs dotnet to snap/bin/dotnet, which you can call --list-runtimes on.\n     * The 'realpath' of that is 'usr/bin/snap', which you cannot invoke --list-runtimes on, because it is snap.\n     * In this case, we need to use this polymorphic path to find the actual path later.\n     *\n     * In an install such as homebrew, the PATH is not indicative of all of the PATHs. So dotnet may be missing in the PATH even though it is found in an alternative shell.\n     * The PATH can be discovered using path_helper on mac.\n     */\n    findRawPathEnvironmentSetting() {\n        return __awaiter(this, arguments, void 0, function* (tryUseTrueShell = true) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o;\n            const oldLookup = process.env.DOTNET_MULTILEVEL_LOOKUP;\n            process.env.DOTNET_MULTILEVEL_LOOKUP = '0'; // make it so --list-runtimes only finds the runtimes on that path: https://learn.microsoft.com/en-us/dotnet/core/compatibility/deployment/7.0/multilevel-lookup#reason-for-change\n            const searchEnvironment = process.env; // this is the default, but sometimes it does not get picked up\n            const options = tryUseTrueShell && os.platform() !== 'win32' ? { env: searchEnvironment, shell: process.env.SHELL === '/bin/bash' ? '/bin/bash' : '/bin/sh', dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.SYS_CMD_SEARCH_CACHE_DURATION_MS } : {\n                env: searchEnvironment, dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.SYS_CMD_SEARCH_CACHE_DURATION_MS\n            };\n            this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathLookupPATH(`Looking up .NET on the path. Process.env.path: ${process.env.PATH}.\r\nExecutor Path: ${(_b = (yield ((_a = this.executor) === null || _a === void 0 ? void 0 : _a.execute(os.platform() === 'win32' ? CommandExecutor_1.CommandExecutor.makeCommand('echo', ['%PATH%']) : CommandExecutor_1.CommandExecutor.makeCommand('env', []), { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.DOTNET_INFORMATION_CACHE_DURATION_MS }, false)))) === null || _b === void 0 ? void 0 : _b.stdout}\r\n\r\nBin Bash Path: ${os.platform() !== 'win32' ? (_d = (yield ((_c = this.executor) === null || _c === void 0 ? void 0 : _c.execute(CommandExecutor_1.CommandExecutor.makeCommand('env', ['bash']), { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.DOTNET_INFORMATION_CACHE_DURATION_MS, shell: '/bin/bash' }, false)))) === null || _d === void 0 ? void 0 : _d.stdout : 'N/A'}\r\n`));\n            let pathLocatorCommand = '';\n            if (os.platform() === 'win32') {\n                pathLocatorCommand = (_g = (_f = (yield ((_e = this.executor) === null || _e === void 0 ? void 0 : _e.tryFindWorkingCommand([\n                    // We have to give the command an argument to return status 0, and the only thing its guaranteed to find is itself :)\n                    CommandExecutor_1.CommandExecutor.makeCommand('where', ['where']),\n                    CommandExecutor_1.CommandExecutor.makeCommand('where.exe', ['where.exe']),\n                    CommandExecutor_1.CommandExecutor.makeCommand('%SystemRoot%\\\\System32\\\\where.exe', ['%SystemRoot%\\\\System32\\\\where.exe']), // if PATH is corrupted\n                    CommandExecutor_1.CommandExecutor.makeCommand('C:\\\\Windows\\\\System32\\\\where.exe', ['C:\\\\Windows\\\\System32\\\\where.exe']) // in case SystemRoot is corrupted, best effort guess\n                ], options)))) === null || _f === void 0 ? void 0 : _f.commandRoot) !== null && _g !== void 0 ? _g : 'where';\n            }\n            else {\n                pathLocatorCommand = (_k = (_j = (yield ((_h = this.executor) === null || _h === void 0 ? void 0 : _h.tryFindWorkingCommand([\n                    CommandExecutor_1.CommandExecutor.makeCommand('which', ['which']),\n                    CommandExecutor_1.CommandExecutor.makeCommand('/usr/bin/which', ['/usr/bin/which']), // if PATH is corrupted\n                ], options)))) === null || _j === void 0 ? void 0 : _j.commandRoot) !== null && _k !== void 0 ? _k : 'which';\n            }\n            options.dotnetInstallToolCacheTtlMs = CacheTimeConstants_1.DOTNET_INFORMATION_CACHE_DURATION_MS;\n            const findCommand = CommandExecutor_1.CommandExecutor.makeCommand(pathLocatorCommand, ['dotnet']);\n            const dotnetsOnPATH = (_m = (yield ((_l = this.executor) === null || _l === void 0 ? void 0 : _l.execute(findCommand, options)))) === null || _m === void 0 ? void 0 : _m.stdout.split('\\n').map(x => x.trim()).filter(x => x !== '');\n            if (dotnetsOnPATH && dotnetsOnPATH.length > 0) {\n                this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathPATHFound(`Found .NET on the path: ${JSON.stringify(dotnetsOnPATH)}`));\n                return this.returnWithRestoringEnvironment(yield this.getTruePath(dotnetsOnPATH), 'DOTNET_MULTILEVEL_LOOKUP', oldLookup);\n            }\n            else {\n                const pathsOnPATH = (_o = process.env.PATH) === null || _o === void 0 ? void 0 : _o.split((0, TypescriptUtilities_1.getPathSeparator)());\n                const validPathsOnPATH = [];\n                if (pathsOnPATH && pathsOnPATH.length > 0) {\n                    const dotnetExecutable = (0, TypescriptUtilities_1.getDotnetExecutable)();\n                    for (const pathOnPATH of pathsOnPATH) {\n                        const resolvedDotnetPath = path.join(pathOnPATH, dotnetExecutable);\n                        if ((0, fs_1.existsSync)(resolvedDotnetPath)) {\n                            this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathLookupPATH(`Looking up .NET on the path by processing PATH string. resolved: ${resolvedDotnetPath}.`));\n                            validPathsOnPATH.push(resolvedDotnetPath);\n                        }\n                    }\n                }\n                if (validPathsOnPATH.length > 0) {\n                    return this.returnWithRestoringEnvironment(validPathsOnPATH, 'DOTNET_MULTILEVEL_LOOKUP', oldLookup);\n                }\n            }\n            return this.returnWithRestoringEnvironment(undefined, 'DOTNET_MULTILEVEL_LOOKUP', oldLookup);\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/require-await\n    returnWithRestoringEnvironment(returnValue, envVarToRestore, envResToRestore) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if ((0, TypescriptUtilities_1.EnvironmentVariableIsDefined)(envVarToRestore)) {\n                process.env[envVarToRestore] = envResToRestore;\n            }\n            else {\n                delete process.env[envVarToRestore];\n            }\n            return returnValue;\n        });\n    }\n    /**\n     * @returns The 'realpath' or resolved path for dotnet from which or where dotnet.\n     * Some installers, such as the Ubuntu install with the PMC Feed, the PATH is set to /usr/bin/dotnet which is a symlink to /usr/share/dotnet.\n     * If we want to return the actual path, we need to use realpath.\n     *\n     * We can't use realpath on all paths, because some paths are polymorphic executables and the realpath is invalid.\n     */\n    findRealPathEnvironmentSetting() {\n        return __awaiter(this, arguments, void 0, function* (tryUseTrueShell = true) {\n            this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathLookupRealPATH(`Looking up .NET on the real path.`));\n            const dotnetsOnPATH = yield this.findRawPathEnvironmentSetting(tryUseTrueShell);\n            if (dotnetsOnPATH && dotnetsOnPATH.length > 0) {\n                const realPaths = dotnetsOnPATH.map(x => (0, fs_1.realpathSync)(x));\n                this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathRealPATHFound(`Found .NET on the path: ${JSON.stringify(dotnetsOnPATH)}, realpath: ${realPaths}`));\n                return this.getTruePath(realPaths);\n            }\n            return undefined;\n        });\n    }\n    findHostInstallPaths(requestedArchitecture) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathHostFxrResolutionLookup(`Looking up .NET without checking the PATH.`));\n            const oldLookup = process.env.DOTNET_MULTILEVEL_LOOKUP;\n            process.env.DOTNET_MULTILEVEL_LOOKUP = '0';\n            if (os.platform() === 'win32') {\n                const registryReader = new RegistryReader_1.RegistryReader(this.workerContext, this.utilityContext, this.executor);\n                const hostPathWin = yield registryReader.getHostLocation(requestedArchitecture);\n                const paths = hostPathWin ? [path.join(hostPathWin, (0, TypescriptUtilities_1.getDotnetExecutable)()), path.join((0, fs_1.realpathSync)(hostPathWin), (0, TypescriptUtilities_1.getDotnetExecutable)())] : [];\n                if (paths.length > 0) {\n                    this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathOnRegistry(`The host could be found in the registry. ${JSON.stringify(paths)}`));\n                }\n                else {\n                    this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathNoHostOnRegistry(`The host could not be found in the registry`));\n                }\n                return this.returnWithRestoringEnvironment(yield this.getTruePath(lodash.uniq(paths)), 'DOTNET_MULTILEVEL_LOOKUP', oldLookup);\n            }\n            else {\n                // Possible values for arch are: x86, x64, arm32, arm64\n                // x86 and arm32 are not a concern since 32 bit vscode is out of support and not needed by other extensions\n                // https://github.com/dotnet/designs/blob/main/accepted/2021/install-location-per-architecture.md#new-format\n                const paths = [];\n                const netSixAndAboveHostInstallSaveLocation = `/etc/dotnet/install_location_${requestedArchitecture}`;\n                const netFiveAndNetSixAboveFallBackInstallSaveLocation = `/etc/dotnet/install_location`;\n                paths.push(...this.getPathsFromEtc(netSixAndAboveHostInstallSaveLocation));\n                paths.push(...this.getPathsFromEtc(netFiveAndNetSixAboveFallBackInstallSaveLocation));\n                if (paths.length > 0) {\n                    this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathOnFileSystem(`The host could be found in the file system. ${JSON.stringify(paths)}`));\n                }\n                else {\n                    this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathNoHostOnFileSystem(`The host could not be found in the file system.`));\n                }\n                return this.returnWithRestoringEnvironment(yield this.getTruePath(lodash.uniq(paths)), 'DOTNET_MULTILEVEL_LOOKUP', oldLookup);\n            }\n        });\n    }\n    getPathsFromEtc(etcLoc) {\n        const paths = [];\n        if (this.file.existsSync(etcLoc)) {\n            try {\n                const installPath = this.file.readSync(etcLoc).toString().trim();\n                paths.push(path.join(installPath, (0, TypescriptUtilities_1.getDotnetExecutable)()));\n                paths.push(path.join((0, fs_1.realpathSync)(installPath), (0, TypescriptUtilities_1.getDotnetExecutable)()));\n            }\n            catch (error) // eslint-disable-line @typescript-eslint/no-explicit-any\n             {\n                // readfile throws if the file gets deleted in between the existing check and now\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                this.workerContext.eventStream.post(new EventStreamEvents_1.FileDoesNotExist(`The host was deleted after checking in the file system. ${error === null || error === void 0 ? void 0 : error.message} ${etcLoc}`));\n            }\n        }\n        else {\n            this.workerContext.eventStream.post(new EventStreamEvents_1.FileDoesNotExist(`The host save location never existed at ${etcLoc}`));\n        }\n        return paths;\n    }\n    /**\n     *\n     * @param tentativePaths Paths that may hold a dotnet executable.\n     * @returns The actual physical location/path on disk where the executables lie for each of the paths.\n     * Some of the symlinks etc resolve to a path which works but is still not the actual path.\n     */\n    getTruePath(tentativePaths) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const truePaths = [];\n            for (const tentativePath of tentativePaths) {\n                // This will even work if only the sdk is installed, list-runtimes on an sdk installed host would work\n                const runtimeInfo = yield new DotnetConditionValidator_1.DotnetConditionValidator(this.workerContext, this.utilityContext, this.executor).getRuntimes(tentativePath);\n                if (runtimeInfo.length > 0) {\n                    // q.t. from @dibarbet on the C# Extension:\n                    // The .NET install layout is a well known structure on all platforms.\n                    // See https://github.com/dotnet/designs/blob/main/accepted/2020/install-locations.md#net-core-install-layout\n                    //\n                    // Therefore we know that the runtime path is always in <install root>/shared/<runtime name>\n                    // and the dotnet executable is always at <install root>/dotnet(.exe).\n                    //\n                    // Since dotnet --list-runtimes will always use the real assembly path to output the runtime folder (no symlinks!)\n                    // we know the dotnet executable will be two folders up in the install root.\n                    truePaths.push(path.join(path.dirname(path.dirname(runtimeInfo[0].directory)), (0, TypescriptUtilities_1.getDotnetExecutable)()));\n                }\n                else {\n                    this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetFindPathNoRuntimesOnHost(`The host: ${tentativePath} does not contain a .NET runtime installation.`));\n                }\n            }\n            return truePaths.length > 0 ? truePaths : tentativePaths;\n        });\n    }\n}\nexports.DotnetPathFinder = DotnetPathFinder;\n//# sourceMappingURL=DotnetPathFinder.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExistingPathResolver = void 0;\nconst CommandExecutor_1 = require(\"../Utils/CommandExecutor\");\nconst DotnetConditionValidator_1 = require(\"./DotnetConditionValidator\");\nconst DotnetPathFinder_1 = require(\"./DotnetPathFinder\");\nconst badExistingPathWarningMessage = `The 'existingDotnetPath' setting was set, but it did not meet the requirements for this extension to run properly.\r\nThis setting has been ignored.\r\nIf you would like to continue to use the setting anyways, set dotnetAcquisitionExtension.allowInvalidPaths to true in the .NET Install Tool Extension Settings.`;\nclass ExistingPathResolver {\n    constructor(workerContext, utilityContext, executor) {\n        var _a;\n        this.workerContext = workerContext;\n        this.utilityContext = utilityContext;\n        this.executor = executor;\n        this.lastSeenNonTruePathValue = null;\n        (_a = this.executor) !== null && _a !== void 0 ? _a : (this.executor = new CommandExecutor_1.CommandExecutor(this.workerContext, this.utilityContext));\n    }\n    resolveExistingPath(existingPaths, extensionId, windowDisplayWorker, requirement) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            let existingPath = this.getExistingPath(existingPaths, extensionId, windowDisplayWorker);\n            this.lastSeenNonTruePathValue = existingPath;\n            if (!this.allowInvalidPath(this.workerContext)) {\n                // The user path setting may be a symlink but we dont want to resolve it since a snap symlink isnt a real directory, we can find the true path better this way:\n                const oldLookup = process.env.DOTNET_MULTILEVEL_LOOKUP;\n                process.env.DOTNET_MULTILEVEL_LOOKUP = '0'; // make it so --list-runtimes only finds the runtimes on that path: https://learn.microsoft.com/en-us/dotnet/core/compatibility/deployment/7.0/multilevel-lookup#reason-for-change\n                const dotnetFinder = new DotnetPathFinder_1.DotnetPathFinder(this.workerContext, this.utilityContext, this.executor);\n                const resolvedPaths = yield dotnetFinder.returnWithRestoringEnvironment(yield dotnetFinder.getTruePath([existingPath !== null && existingPath !== void 0 ? existingPath : '']), 'DOTNET_MULTILEVEL_LOOKUP', oldLookup);\n                existingPath = (_a = resolvedPaths === null || resolvedPaths === void 0 ? void 0 : resolvedPaths.at(0)) !== null && _a !== void 0 ? _a : null;\n            }\n            if (existingPath && ((yield this.providedPathMeetsAPIRequirement(this.workerContext, existingPath, this.workerContext.acquisitionContext, requirement)) || this.allowInvalidPath(this.workerContext))) {\n                return { dotnetPath: existingPath };\n            }\n            return undefined;\n        });\n    }\n    /**\n     * @remarks Returns the last path this class processed before getting the true path.\n     * This is a bit of a hack to allow tests to evaluate the class more thoroughly.\n     */\n    getlastSeenNonTruePathValue() {\n        return this.lastSeenNonTruePathValue;\n    }\n    getExistingPath(existingPaths, extensionId, windowDisplayWorker) {\n        var _a, _b, _c, _d;\n        if (existingPaths && (((_b = (_a = existingPaths === null || existingPaths === void 0 ? void 0 : existingPaths.individualizedExtensionPaths) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) > 0 || (existingPaths === null || existingPaths === void 0 ? void 0 : existingPaths.sharedExistingPath))) {\n            if (!extensionId) {\n                // Use the global path if it is specified\n                if (existingPaths.sharedExistingPath) {\n                    return existingPaths.sharedExistingPath;\n                }\n                else {\n                    windowDisplayWorker.showWarningMessage('Ignoring existing .NET paths defined in settings.json because requesting extension does not define its extension ID. Please file a bug against the requesting extension.', () => { });\n                    return null;\n                }\n            }\n            else {\n                const matchingExtensions = (_c = existingPaths.individualizedExtensionPaths) === null || _c === void 0 ? void 0 : _c.filter((pair) => pair.extensionId === extensionId);\n                if (matchingExtensions && matchingExtensions.length > 0) {\n                    const existingLocalPath = (_d = existingPaths.individualizedExtensionPaths) === null || _d === void 0 ? void 0 : _d.filter((pair) => pair.extensionId === extensionId);\n                    if (existingLocalPath && existingLocalPath.length > 0) {\n                        return existingLocalPath[0].path;\n                    }\n                }\n                else if (existingPaths.sharedExistingPath) {\n                    return existingPaths.sharedExistingPath;\n                }\n                else {\n                    windowDisplayWorker.showWarningMessage(`Ignoring existing .NET paths defined in settings.json because the setting is only set for other extensions, and not for ${extensionId}`, () => { });\n                    return null;\n                }\n            }\n        }\n        return null;\n    }\n    allowInvalidPath(workerContext) {\n        var _a;\n        return (_a = workerContext.allowInvalidPathSetting) !== null && _a !== void 0 ? _a : false;\n    }\n    providedPathMeetsAPIRequirement(workerContext, existingPath, apiRequest, requirement) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const validator = new DotnetConditionValidator_1.DotnetConditionValidator(this.workerContext, this.utilityContext, this.executor);\n            const validated = yield validator.dotnetMeetsRequirement(existingPath, { acquireContext: apiRequest, versionSpecRequirement: requirement !== null && requirement !== void 0 ? requirement : 'equal' });\n            if (!validated && !this.allowInvalidPath(workerContext)) {\n                this.utilityContext.ui.showWarningMessage(`${badExistingPathWarningMessage}\\nExtension: ${(_a = workerContext.acquisitionContext.requestingExtensionId) !== null && _a !== void 0 ? _a : 'Unspecified'}`, () => { });\n            }\n            return validated;\n        });\n    }\n}\nexports.ExistingPathResolver = ExistingPathResolver;\n//# sourceMappingURL=ExistingPathResolver.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GenericDistroSDKProvider = void 0;\n/* --------------------------------------------------------------------------------------------\n *  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nconst path = require(\"path\");\nconst versionUtils = require(\"./VersionUtilities\");\nconst CommandExecutor_1 = require(\"../Utils/CommandExecutor\");\nconst IDistroDotnetSDKProvider_1 = require(\"./IDistroDotnetSDKProvider\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst CacheTimeConstants_1 = require(\"./CacheTimeConstants\");\nclass GenericDistroSDKProvider extends IDistroDotnetSDKProvider_1.IDistroDotnetSDKProvider {\n    constructor() {\n        super(...arguments);\n        this.resolvePathAsSymlink = true;\n    }\n    installDotnet(fullySpecifiedVersion, installType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.injectPMCFeed(fullySpecifiedVersion, installType);\n            let commands = this.myDistroCommands(this.installCommandKey);\n            const sdkPackage = yield this.myDotnetVersionPackageName(fullySpecifiedVersion, installType);\n            commands = CommandExecutor_1.CommandExecutor.replaceSubstringsInCommands(commands, this.missingPackageNameKey, sdkPackage);\n            const updateCommandsResult = (yield this.commandRunner.executeMultipleCommands(commands.slice(0, -1), undefined))[0];\n            const installCommandResult = (yield this.commandRunner.execute(commands.slice(-1)[0])).status;\n            return installCommandResult;\n        });\n    }\n    getInstalledGlobalDotnetPathIfExists(installType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            const commandResult = yield this.commandRunner.executeMultipleCommands(this.myDistroCommands(this.currentInstallPathCommandKey));\n            if (commandResult[0].status !== '0') // no dotnet error can be returned, dont want to try to parse this as a path\n             {\n                return null;\n            }\n            if (commandResult[0].stdout) {\n                commandResult[0].stdout = commandResult[0].stdout.trim();\n            }\n            if (commandResult[0] && this.resolvePathAsSymlink) {\n                let symLinkReadCommand = this.myDistroCommands(this.readSymbolicLinkCommandKey);\n                symLinkReadCommand = CommandExecutor_1.CommandExecutor.replaceSubstringsInCommands(symLinkReadCommand, this.missingPathKey, commandResult[0].stdout);\n                const resolvedPath = (yield this.commandRunner.executeMultipleCommands(symLinkReadCommand, { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.READ_SYMLINK_CACHE_DURATION_MS }))[0].stdout;\n                if (resolvedPath) {\n                    return path.dirname(resolvedPath.trim());\n                }\n            }\n            return (_a = commandResult[0].stdout) !== null && _a !== void 0 ? _a : null;\n        });\n    }\n    dotnetPackageExistsOnSystem(fullySpecifiedDotnetVersion, installType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let command = this.myDistroCommands(this.packageLookupCommandKey);\n            const sdkPackage = yield this.myDotnetVersionPackageName(this.JsonDotnetVersion(fullySpecifiedDotnetVersion), installType);\n            command = CommandExecutor_1.CommandExecutor.replaceSubstringsInCommands(command, this.missingPackageNameKey, sdkPackage);\n            const commandResult = (yield this.commandRunner.executeMultipleCommands(command))[0];\n            return commandResult.status === '0';\n        });\n    }\n    getExpectedDotnetDistroFeedInstallationDirectory() {\n        return this.myDistroStrings(this.expectedDistroFeedInstallDirKey);\n    }\n    getExpectedDotnetMicrosoftFeedInstallationDirectory() {\n        return this.myDistroStrings(this.expectedMicrosoftFeedInstallDirKey);\n    }\n    upgradeDotnet(versionToUpgrade, installType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let command = this.myDistroCommands(this.updateCommandKey);\n            const sdkPackage = yield this.myDotnetVersionPackageName(versionToUpgrade, installType);\n            command = CommandExecutor_1.CommandExecutor.replaceSubstringsInCommands(command, this.missingPackageNameKey, sdkPackage);\n            const commandResult = (yield this.commandRunner.executeMultipleCommands(command))[0].status;\n            return commandResult[0];\n        });\n    }\n    uninstallDotnet(versionToUninstall, installType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let command = this.myDistroCommands(this.uninstallCommandKey);\n            const sdkPackage = yield this.myDotnetVersionPackageName(versionToUninstall, installType);\n            command = CommandExecutor_1.CommandExecutor.replaceSubstringsInCommands(command, this.missingPackageNameKey, sdkPackage);\n            const commandResult = (yield this.commandRunner.executeMultipleCommands(command))[0];\n            return commandResult.status;\n        });\n    }\n    getInstalledDotnetSDKVersions() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const command = this.myDistroCommands(this.installedSDKVersionsCommandKey);\n            const commandResult = (yield this.commandRunner.executeMultipleCommands(command))[0];\n            const outputLines = commandResult.stdout.split('\\n');\n            const versions = [];\n            for (const line of outputLines) {\n                const splitLine = line.split(/\\s+/);\n                // list sdk lines shows in the form: version [path], so the version is the 2nd item\n                if (splitLine.length === 2 && splitLine[0] !== '') {\n                    versions.push(splitLine[0]);\n                }\n            }\n            return versions;\n        });\n    }\n    getInstalledDotnetRuntimeVersions() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const command = this.myDistroCommands(this.installedRuntimeVersionsCommandKey);\n            const commandResult = (yield this.commandRunner.executeMultipleCommands(command))[0];\n            const outputLines = commandResult.stdout.split('\\n');\n            const versions = [];\n            for (const line of outputLines) {\n                const splitLine = line.split(/\\s+/);\n                // list runtimes lines shows in the form: runtime version [path], so the version is the 3rd item\n                if (splitLine.length === 3) {\n                    versions.push(splitLine[1]);\n                }\n            }\n            return versions;\n        });\n    }\n    getInstalledGlobalDotnetVersionIfExists() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const command = this.myDistroCommands(this.currentInstallVersionCommandKey);\n            // we need to run this command in the root directory otherwise local dotnets on the path may interfere\n            const rootDir = path.parse(__dirname).root;\n            const commandResult = (yield this.commandRunner.executeMultipleCommands(command, { cwd: path.resolve(rootDir), shell: true }))[0];\n            commandResult.stdout = commandResult.stdout.replace('\\n', '');\n            if (!versionUtils.isValidLongFormVersionFormat(commandResult.stdout, this.context.eventStream, this.context)) {\n                return null;\n            }\n            {\n                return commandResult.stdout;\n            }\n        });\n    }\n    getDotnetVersionSupportStatus(fullySpecifiedVersion, installType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (versionUtils.getFeatureBandFromVersion(fullySpecifiedVersion, this.context.eventStream, this.context) !== '1' ||\n                Number(versionUtils.getMajor(fullySpecifiedVersion, this.context.eventStream, this.context)) < 6) {\n                return Promise.resolve(\"UNSUPPORTED\" /* DotnetDistroSupportStatus.Unsupported */);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            if (this.myVersionDetails().hasOwnProperty(this.preinstallCommandKey)) {\n                // If preinstall commands exist ( to add the msft feed ) then it's a microsoft feed.\n                return Promise.resolve(\"MICROSOFT\" /* DotnetDistroSupportStatus.Microsoft */);\n            }\n            else {\n                const availableVersions = yield this.myVersionPackages(installType, this.isMidFeedInjection);\n                const simplifiedVersion = this.JsonDotnetVersion(fullySpecifiedVersion);\n                for (const dotnetPackages of availableVersions) {\n                    if (Number(dotnetPackages.version) === Number(simplifiedVersion)) {\n                        return Promise.resolve(\"DISTRO\" /* DotnetDistroSupportStatus.Distro */);\n                    }\n                }\n            }\n            return Promise.resolve(\"UNKNOWN\" /* DotnetDistroSupportStatus.Unknown */);\n        });\n    }\n    getRecommendedDotnetVersion(installType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let maxVersion = '0';\n            const json = yield this.myVersionPackages(installType, this.isMidFeedInjection);\n            for (const dotnetPackages of json) {\n                if (Number(dotnetPackages.version) > Number(maxVersion)) {\n                    maxVersion = dotnetPackages.version;\n                }\n            }\n            if (maxVersion === '0') {\n                const err = new EventStreamEvents_1.DotnetVersionResolutionError(new EventStreamEvents_1.EventBasedError('DotnetVersionResolutionError', `No packages for .NET are available.\r\nPlease refer to https://learn.microsoft.com/en-us/dotnet/core/install/linux if you'd link to install .NET.`), null);\n                this.context.eventStream.post(err);\n                throw (err);\n            }\n            // Most distros support only 100 band .NET versions, so we default to that here.\n            return `${this.JsonDotnetVersion(maxVersion)}.1xx`;\n        });\n    }\n    JsonDotnetVersion(fullySpecifiedDotnetVersion) {\n        return versionUtils.getMajorMinor(fullySpecifiedDotnetVersion, this.context.eventStream, this.context);\n    }\n    isPackageFoundInSearch(resultOfSearchCommand, searchCommandExitCode) {\n        return resultOfSearchCommand.trim() !== '' && searchCommandExitCode === '0';\n    }\n}\nexports.GenericDistroSDKProvider = GenericDistroSDKProvider;\n//# sourceMappingURL=GenericDistroSDKProvider.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GlobalInstallerResolver = void 0;\n/* --------------------------------------------------------------------------------------------\n *  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nconst os = require(\"os\");\nconst path = require(\"path\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst FileUtilities_1 = require(\"../Utils/FileUtilities\");\nconst InstallIdUtilities_1 = require(\"../Utils/InstallIdUtilities\");\nconst WebRequestWorker_1 = require(\"../Utils/WebRequestWorker\");\nconst VersionResolver_1 = require(\"./VersionResolver\");\nconst versionUtils = require(\"./VersionUtilities\");\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/**\n * @remarks\n * This is similar to the version resolver but accepts a wider range of inputs such as '6', '6.1', or '6.0.3xx' or '6.0.301'.\n * It currently only is used for SDK Global acquisition to prevent breaking existing behaviors.\n * Throws various errors in the event that a version is incorrectly formatted, the sdk server is unavailable, etc.\n */\nclass GlobalInstallerResolver {\n    constructor(context, requestedVersion) {\n        this.context = context;\n        this.releasesJsonErrorString = `The API hosting the dotnet releases.json is invalid or has changed and the extension needs to be updated. Invalid API URL: `;\n        this.badResolvedVersionErrorString = `The requested version was not in the correct format. Allowable formats are\r\n        * <MAJOR> (for example '6')\r\n        * <MAJOR>.<minor> (for example '6.0')\r\n        * <MAJOR>.<minor>.<feature band without patch version> (for example '6.0.4xx')\r\n        * <MAJOR>.<minor>.<patch> (for example '6.0.402')\r\n        * Your version was resolved to: `;\n        this.releasesJsonKey = 'releases';\n        this.releasesSdksKey = 'sdks';\n        this.releasesSdkRidKey = 'rid';\n        this.releasesSdkFileKey = 'files';\n        this.releasesSdkVersionKey = 'version';\n        this.releasesSdkNameKey = 'name';\n        this.releasesUrlKey = 'url';\n        this.releasesHashKey = 'hash';\n        this.releasesLatestSdkKey = 'latest-sdk';\n        /**\n         * @remarks Do NOT set this unless you are testing.\n         * Written to allow mock data to be given to the resolver.\n         */\n        this.customWebRequestWorker = null;\n        this.requestedVersion = requestedVersion;\n        this.discoveredInstallerUrl = '';\n        this.fullySpecifiedVersionRequested = '';\n        this.expectedInstallerHash = '';\n        this.versionResolver = new VersionResolver_1.VersionResolver(context);\n        this.fileUtilities = new FileUtilities_1.FileUtilities();\n    }\n    /**\n     *\n     * @returns The url to the installer for the sdk that matches the machine os and architecture, as well as for the requestedVersion.\n     */\n    getInstallerUrl() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.determineVersionAndInstallerUrl();\n            return this.discoveredInstallerUrl;\n        });\n    }\n    /**\n     *\n     * @returns The fully specified version in a standardized format that was requested.\n     */\n    getFullySpecifiedVersion() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.determineVersionAndInstallerUrl();\n            return this.fullySpecifiedVersionRequested;\n        });\n    }\n    /**\n     *\n     * @returns The url to the installer for the sdk that matches the machine os and architecture, as well as for the requestedVersion.\n     */\n    getInstallerHash() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.determineVersionAndInstallerUrl();\n            return this.expectedInstallerHash;\n        });\n    }\n    determineVersionAndInstallerUrl() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.fullySpecifiedVersionRequested === '' || this.discoveredInstallerUrl === '') {\n                [this.discoveredInstallerUrl, this.fullySpecifiedVersionRequested, this.expectedInstallerHash] = yield this.routeRequestToProperVersionRequestType(this.requestedVersion);\n            }\n        });\n    }\n    /**\n     *\n     * @remarks this function maps the input version to a singular, specific and correct format based on the accepted version formats for global sdk installs.\n     * @param version The requested version given to the API.\n     * @returns The installer download URL for the correct OS, Architecture, & Specific Version based on the given input version, and then the resolved version we determined to install,\n     * ... followed by the expected hash.\n     */\n    routeRequestToProperVersionRequestType(version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (versionUtils.isNonSpecificMajorOrMajorMinorVersion(version)) {\n                this.context.eventStream.post(new EventStreamEvents_1.DotnetVersionCategorizedEvent(`The VersionResolver resolved the version ${version} to be major, or major.minor.`));\n                const numberOfPeriods = version.split('.').length - 1;\n                const indexUrl = this.getIndexUrl(numberOfPeriods === 0 ? `${version}.0` : version);\n                const indexJsonData = yield this.fetchJsonObjectFromUrl(indexUrl);\n                const fullySpecifiedVersionRequested = indexJsonData[this.releasesLatestSdkKey];\n                const installerUrlAndHash = yield this.findCorrectInstallerUrlAndHash(fullySpecifiedVersionRequested, indexUrl);\n                return [installerUrlAndHash[0], fullySpecifiedVersionRequested, installerUrlAndHash[1]];\n            }\n            else if (versionUtils.isNonSpecificFeatureBandedVersion(version)) {\n                this.context.eventStream.post(new EventStreamEvents_1.DotnetVersionCategorizedEvent(`The VersionResolver resolved the version ${version} to be a N.Y.XXX version.`));\n                const fullySpecifiedVersion = yield this.getNewestSpecificVersionFromFeatureBand(version);\n                const installerUrlAndHash = yield this.findCorrectInstallerUrlAndHash(fullySpecifiedVersion, this.getIndexUrl(versionUtils.getMajorMinor(fullySpecifiedVersion, this.context.eventStream, this.context)));\n                return [installerUrlAndHash[0], fullySpecifiedVersion, installerUrlAndHash[1]];\n            }\n            else if (versionUtils.isFullySpecifiedVersion(version, this.context.eventStream, this.context)) {\n                this.context.eventStream.post(new EventStreamEvents_1.DotnetVersionCategorizedEvent(`The VersionResolver resolved the version ${version} to be a fully specified version.`));\n                const fullySpecifiedVersionRequested = version;\n                const indexUrl = this.getIndexUrl(versionUtils.getMajorMinor(fullySpecifiedVersionRequested, this.context.eventStream, this.context));\n                const installerUrlAndHash = yield this.findCorrectInstallerUrlAndHash(fullySpecifiedVersionRequested, indexUrl);\n                return [installerUrlAndHash[0], fullySpecifiedVersionRequested, installerUrlAndHash[1]];\n            }\n            const err = new EventStreamEvents_1.DotnetVersionResolutionError(new EventStreamEvents_1.EventCancellationError('DotnetVersionResolutionError', `${this.badResolvedVersionErrorString} ${version}`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n            this.context.eventStream.post(err);\n            throw err.error;\n        });\n    }\n    /**\n     *\n     * @remarks this function handles finding the right os, arch url for the installer.\n     * @param specificVersion the full, specific version, e.g. 7.0.301 to get.\n     * @param indexUrl The url of the index server that hosts installer download links.\n     * @returns The installer url to download as the first item of a tuple and then the expected hash of said installer\n     */\n    findCorrectInstallerUrlAndHash(specificVersion, indexUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (specificVersion === null || specificVersion === undefined || specificVersion === '') {\n                const versionErr = new EventStreamEvents_1.DotnetVersionResolutionError(new EventStreamEvents_1.EventCancellationError('DotnetVersionResolutionError', `${this.badResolvedVersionErrorString} ${specificVersion}.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                this.context.eventStream.post(versionErr);\n                throw versionErr.error;\n            }\n            const convertedOs = this.fileUtilities.nodeOSToDotnetOS(os.platform(), this.context.eventStream);\n            if (convertedOs === 'auto') {\n                const osErr = new EventStreamEvents_1.DotnetUnexpectedInstallerOSError(new EventStreamEvents_1.EventBasedError('DotnetUnexpectedInstallerOSError', `The OS ${os.platform()} is currently unsupported or unknown.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                this.context.eventStream.post(osErr);\n                throw osErr.error;\n            }\n            const convertedArch = this.fileUtilities.nodeArchToDotnetArch(os.arch(), this.context.eventStream);\n            if (convertedArch === 'auto') {\n                const archErr = new EventStreamEvents_1.DotnetUnexpectedInstallerArchitectureError(new EventStreamEvents_1.EventBasedError('DotnetUnexpectedInstallerArchitectureError', `The architecture ${os.arch()} is currently unsupported or unknown.\r\n                Your architecture: ${os.arch()}. Your OS: ${os.platform()}.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                this.context.eventStream.post(archErr);\n                throw archErr.error;\n            }\n            const desiredRidPackage = `${convertedOs}-${convertedArch}`;\n            const indexJson = yield this.fetchJsonObjectFromUrl(indexUrl);\n            const releases = indexJson[this.releasesJsonKey];\n            if (releases.length === 0) {\n                const jsonErr = new EventStreamEvents_1.DotnetInvalidReleasesJSONError(new EventStreamEvents_1.EventBasedError('DotnetInvalidReleasesJSONError', `${this.releasesJsonErrorString}${indexUrl}`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                this.context.eventStream.post(jsonErr);\n                throw jsonErr.error;\n            }\n            const sdks = [];\n            const releasesKeyAlias = this.releasesSdksKey; // the forEach creates a separate 'this', so we introduce this copy to reduce ambiguity to the compiler\n            releases.forEach(function (release) {\n                // eslint-disable-next-line prefer-spread\n                sdks.push.apply(sdks, release[releasesKeyAlias]);\n            });\n            for (const sdk of sdks) {\n                const thisSDKVersion = sdk[this.releasesSdkVersionKey];\n                if (thisSDKVersion === specificVersion) // NOTE that this will not catch things like -preview or build number suffixed versions.\n                 {\n                    const thisSDKFiles = sdk[this.releasesSdkFileKey];\n                    for (const installer of thisSDKFiles) {\n                        if (installer[this.releasesSdkRidKey] === desiredRidPackage && this.installerMatchesDesiredFileExtension(specificVersion, installer, convertedOs)) {\n                            const installerUrl = installer[this.releasesUrlKey];\n                            if (installerUrl === undefined) {\n                                const releaseJsonErr = new EventStreamEvents_1.DotnetInvalidReleasesJSONError(new EventStreamEvents_1.EventBasedError('DotnetInvalidReleasesJSONError', `URL for ${desiredRidPackage} on ${specificVersion} is unavailable:\r\nThe version may be Out of Support, or the releases json format used by ${indexUrl} may be invalid and the extension needs to be updated.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                                this.context.eventStream.post(releaseJsonErr);\n                                throw releaseJsonErr.error;\n                            }\n                            if (!this.startsWithAny(installerUrl, [\n                                'https://download.visualstudio.microsoft.com/', 'https://builds.dotnet.microsoft.com/', 'https://ci.dot.net',\n                                'https://dotnetcli.blob.core.windows.net/',\n                            ])) {\n                                const releaseJsonErr = new EventStreamEvents_1.DotnetInvalidReleasesJSONError(new EventStreamEvents_1.EventBasedError('DotnetInvalidReleasesJSONError', `The url: ${installerUrl} is hosted on an unexpected domain.\r\nWe cannot verify that .NET downloads are hosted in a secure location, so we have rejected .NET. The url should be download.visualstudio.microsoft.com.\r\nPlease report this issue so it can be remedied or investigated.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                                this.context.eventStream.post(releaseJsonErr);\n                                throw releaseJsonErr.error;\n                            }\n                            else {\n                                this.context.eventStream.post(new EventStreamEvents_1.DotnetFileIntegrityCheckEvent(`This installer file is hosted on an expected domain https://download.visualstudio.microsoft.com/.`));\n                            }\n                            let installerHash = installer[this.releasesHashKey];\n                            if (!installerHash) {\n                                installerHash = null;\n                            }\n                            return [installerUrl, installerHash];\n                        }\n                    }\n                    const installerErr = new EventStreamEvents_1.DotnetNoInstallerFileExistsError(new EventStreamEvents_1.EventBasedError('DotnetNoInstallerFileExistsError', `An installer for the runtime ${desiredRidPackage} could not be found for version ${specificVersion}.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                    this.context.eventStream.post(installerErr);\n                    throw installerErr.error;\n                }\n            }\n            const fileErr = new EventStreamEvents_1.DotnetNoInstallerFileExistsError(new EventStreamEvents_1.EventBasedError('DotnetNoInstallerFileExistsError', `The SDK installation files for version ${specificVersion} running on ${desiredRidPackage} couldn't be found.\r\nIs the version in support? Note that -preview versions or versions with build numbers aren't yet supported.\r\nVisit https://dotnet.microsoft.com/platform/support/policy/dotnet-core for support information.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n            this.context.eventStream.post(fileErr);\n            throw fileErr.error;\n        });\n    }\n    /**\n     *\n     * @param majorMinor the major.minor in the form of '3.1', etc.\n     * @returns the url to obtain the installer for the version.\n     */\n    getIndexUrl(majorMinor) {\n        return `https://builds.dotnet.microsoft.com/dotnet/release-metadata/${majorMinor}/releases.json`;\n    }\n    /**\n     * @remarks The releases json may contain both zips and exes or others that match the RID.\n     * We need to make sure we get the desired file type for each OS.\n     *\n     * @returns true if the filetype of the installer json entry containing the installer file name in the key 'name' is of a desired installer file extension type.\n     * (e.g. EXE on windows or PKG on mac.)\n     */\n    installerMatchesDesiredFileExtension(version, installerJson, operatingSystemInDotnetFormat) {\n        const installerFileName = installerJson[this.releasesSdkNameKey];\n        if (installerFileName === undefined) {\n            const err = new EventStreamEvents_1.DotnetInvalidReleasesJSONError(new EventStreamEvents_1.EventBasedError('DotnetInvalidReleasesJSONError', `${this.releasesJsonErrorString}\r\n                ${this.getIndexUrl(versionUtils.getMajorMinor(version, this.context.eventStream, this.context))}.\r\nThe json does not have the parameter ${this.releasesSdkNameKey} which means the API publisher has published invalid dotnet release data.\r\nPlease file an issue at https://github.com/dotnet/vscode-dotnet-runtime.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n            this.context.eventStream.post(err);\n            throw err.error;\n        }\n        let desiredFileExtension = '';\n        switch (operatingSystemInDotnetFormat) {\n            case 'win': {\n                desiredFileExtension = '.exe';\n                break;\n            }\n            case 'osx': {\n                desiredFileExtension = '.pkg';\n                break;\n            }\n            case 'linux': {\n                desiredFileExtension = '.gz';\n                break;\n            }\n            default:\n                {\n                    const err = new EventStreamEvents_1.DotnetUnexpectedInstallerOSError(new EventStreamEvents_1.EventBasedError('DotnetUnexpectedInstallerOSError', `The SDK Extension failed to map the OS ${operatingSystemInDotnetFormat} to a proper package type.\r\nYour architecture: ${os.arch()}. Your OS: ${os.platform()}.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                    this.context.eventStream.post(err);\n                    throw err.error;\n                }\n        }\n        return path.extname(installerFileName) === desiredFileExtension;\n    }\n    /**\n     *\n     * @param version the non-specific version, such as 6.0.4xx.\n     * @param band The band of the version.\n     */\n    getNewestSpecificVersionFromFeatureBand(version) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const band = versionUtils.getFeatureBandFromVersion(version, this.context.eventStream, this.context);\n            const indexUrl = this.getIndexUrl(versionUtils.getMajorMinor(version, this.context.eventStream, this.context));\n            // Get the sdks\n            const indexJson = yield this.fetchJsonObjectFromUrl(indexUrl);\n            const releases = indexJson[this.releasesJsonKey];\n            if (releases.length === 0) {\n                const badJsonErr = new EventStreamEvents_1.DotnetInvalidReleasesJSONError(new EventStreamEvents_1.EventBasedError('DotnetInvalidReleasesJSONError', `${this.releasesJsonErrorString}${indexUrl}`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                this.context.eventStream.post(badJsonErr);\n                throw badJsonErr.error;\n            }\n            // Assumption: The first release in releases will be the newest release and contain the newest sdk for each feature band. This has been 'confirmed' with the releases team.\n            const sdks = releases[0][this.releasesSdksKey];\n            for (const sdk of sdks) {\n                // The SDKs in the index should be in-order, so we can rely on that property.\n                // The first one we find with the given feature band will also be the 'newest.'\n                const thisSDKVersion = sdk[this.releasesSdkVersionKey];\n                if (versionUtils.getFeatureBandFromVersion(thisSDKVersion, this.context.eventStream, this.context) === band) {\n                    return thisSDKVersion;\n                }\n            }\n            const availableBands = Array.from(new Set(sdks.map((x) => versionUtils.getFeatureBandFromVersion(x[this.releasesSdkVersionKey], this.context.eventStream, this.context))));\n            const err = new EventStreamEvents_1.DotnetFeatureBandDoesNotExistError(new EventStreamEvents_1.EventBasedError('DotnetFeatureBandDoesNotExistError', `The feature band '${band}' doesn't exist for the SDK major version '${version}'.\r\nAvailable feature bands for this SDK version are ${availableBands}.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n            this.context.eventStream.post(err);\n            throw err.error;\n        });\n    }\n    startsWithAny(str, substrings) {\n        for (const substring of substrings) {\n            if (str.startsWith(substring)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    /**\n     *\n     * @param url The url containing raw json data to parse.\n     * @returns a serialized JSON object.\n     * @remarks A wrapper around the real web request worker class to call into either the mock or real web worker. The main point of this function is  to dedupe logic.\n     */\n    fetchJsonObjectFromUrl(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const webWorker = this.customWebRequestWorker ? this.customWebRequestWorker : new WebRequestWorker_1.WebRequestWorker(this.context, url);\n            return webWorker.getCachedData();\n        });\n    }\n}\nexports.GlobalInstallerResolver = GlobalInstallerResolver;\n//# sourceMappingURL=GlobalInstallerResolver.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IAcquisitionInvoker = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst InstallationValidator_1 = require(\"./InstallationValidator\");\nclass IAcquisitionInvoker {\n    constructor(eventStream) {\n        this.eventStream = eventStream;\n        this.installationValidator = new InstallationValidator_1.InstallationValidator(eventStream);\n    }\n}\nexports.IAcquisitionInvoker = IAcquisitionInvoker;\n//# sourceMappingURL=IAcquisitionInvoker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IAcquisitionWorkerContext.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IDistroDotnetSDKProvider = void 0;\n/* --------------------------------------------------------------------------------------------\n *  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst VersionResolver_1 = require(\"./VersionResolver\");\nconst CommandExecutor_1 = require(\"../Utils/CommandExecutor\");\nconst InstallIdUtilities_1 = require(\"../Utils/InstallIdUtilities\");\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\n/**\n * This interface describes the functionality needed to manage the .NET SDK on a specific distro and version of Linux.\n *\n * @remarks We accept community contributions of this interface for each distro-version pair.\n * All calls which require sudo must leverage the vscode/sudo library. We will not accept contributions that use other methods to gain admin privilege.\n * Please see DotnetDistroVersion as well to add your version.\n */\nclass IDistroDotnetSDKProvider {\n    constructor(distroVersion, context, utilContext, executor = null) {\n        this.distroJson = null;\n        this.preinstallCommandKey = 'preInstallCommands';\n        this.installCommandKey = 'installCommand';\n        this.uninstallCommandKey = 'uninstallCommand';\n        this.searchCommandKey = 'searchCommand';\n        this.updateCommandKey = 'updateCommand';\n        this.packageLookupCommandKey = 'packageLookupCommand';\n        this.readSymbolicLinkCommandKey = 'readSymLinkCommand';\n        this.currentInstallPathCommandKey = 'currentInstallPathCommand';\n        this.isInstalledCommandKey = 'isInstalledCommand';\n        this.expectedMicrosoftFeedInstallDirKey = 'expectedMicrosoftFeedInstallDirectory';\n        this.expectedDistroFeedInstallDirKey = 'expectedDistroFeedInstallDirectory';\n        this.installedSDKVersionsCommandKey = 'installedSDKVersionsCommand';\n        this.installedRuntimeVersionsCommandKey = 'installedRuntimeVersionsCommand';\n        this.currentInstallVersionCommandKey = 'currentInstallationVersionCommand';\n        this.missingPackageNameKey = '{packageName}';\n        this.missingPathKey = '{path}';\n        this.distroVersionsKey = 'versions';\n        this.versionKey = 'version';\n        this.dotnetPackagesKey = 'dotnet';\n        this.distroPackagesKey = 'packages';\n        this.sdkKey = 'sdk';\n        this.runtimeKey = 'runtime';\n        this.aspNetKey = 'aspnetcore';\n        this.isMidFeedInjection = false;\n        this.cachedMyVersionPacakges = null;\n        this.context = context;\n        this.distroVersion = distroVersion;\n        this.versionResolver = new VersionResolver_1.VersionResolver(context);\n        const distroDataFile = path.join(__dirname, 'distro-data', `distro-support.json`);\n        try {\n            fs.chmodSync(distroDataFile, 0o544);\n        }\n        catch (error) {\n            this.context.eventStream.post(new EventStreamEvents_1.SuppressedAcquisitionError(error, `Failed to chmod +x on .NET folder ${distroDataFile} when marked for deletion.`));\n        }\n        this.distroJson = JSON.parse(fs.readFileSync(distroDataFile, 'utf8'));\n        if (!distroVersion || !this.distroJson || !(this.distroJson[this.distroVersion.distro])) {\n            const error = new EventStreamEvents_1.DotnetAcquisitionDistroUnknownError(new EventStreamEvents_1.EventBasedError('DotnetAcquisitionDistroUnknownError', `Automated installation for the distro ${this.distroVersion.distro} is not yet supported.\r\nPlease install the .NET SDK manually: https://dotnet.microsoft.com/download.\r\nIf you would like to contribute to the list of supported distros, please visit: https://github.com/dotnet/vscode-dotnet-runtime/blob/main/Documentation/adding-distros.md`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n            throw error.error;\n        }\n        const validCommandSet = this.getAllValidCommands();\n        this.commandRunner = executor !== null && executor !== void 0 ? executor : new CommandExecutor_1.CommandExecutor(context, utilContext, validCommandSet);\n    }\n    /**\n     *\n     * @param fullySpecifiedVersion The version of dotnet to check support for in the 3-part semver version.\n     * @returns true if the version is supported by default within the distro, false else.\n     */\n    isDotnetVersionSupported(fullySpecifiedVersion, installType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const supportStatus = yield this.getDotnetVersionSupportStatus(fullySpecifiedVersion, installType);\n            const supportedType = supportStatus === \"DISTRO\" /* DotnetDistroSupportStatus.Distro */ || supportStatus === \"MICROSOFT\" /* DotnetDistroSupportStatus.Microsoft */;\n            return supportedType;\n        });\n    }\n    myVersionPackages(installType_1) {\n        return __awaiter(this, arguments, void 0, function* (installType, haveTriedFeedInjectionAlready = false) {\n            if (this.cachedMyVersionPacakges) {\n                return this.cachedMyVersionPacakges;\n            }\n            const availableVersions = [];\n            const potentialDotnetPackageNames = this.distroJson[this.distroVersion.distro][this.distroPackagesKey];\n            for (const packageSet of potentialDotnetPackageNames) {\n                const thisVersionPackage = {\n                    version: packageSet[this.versionKey],\n                    packages: []\n                };\n                for (const packageName of packageSet[installType]) {\n                    let command = this.myDistroCommands(this.searchCommandKey);\n                    command = CommandExecutor_1.CommandExecutor.replaceSubstringsInCommands(command, this.missingPackageNameKey, packageName);\n                    const packageIsAvailableResult = (yield this.commandRunner.executeMultipleCommands(command))[0];\n                    packageIsAvailableResult.stdout = packageIsAvailableResult.stdout.trim();\n                    packageIsAvailableResult.stderr = packageIsAvailableResult.stderr.trim();\n                    packageIsAvailableResult.status = packageIsAvailableResult.status.trim();\n                    const packageExists = this.isPackageFoundInSearch(`${packageIsAvailableResult.stdout}${packageIsAvailableResult.stderr}`, packageIsAvailableResult.status);\n                    if (packageExists) {\n                        thisVersionPackage.packages.push(packageName);\n                    }\n                }\n                if (thisVersionPackage.packages.length !== 0) {\n                    availableVersions.push(thisVersionPackage);\n                }\n            }\n            if (availableVersions.length === 0 && !haveTriedFeedInjectionAlready) {\n                // PMC is only injected and should only be injected for MSFT feed distros.\n                // Our check runs by checking the feature band first, so that needs to be supported for it to fallback to the preinstall command check.\n                const fakeVersionToCheckMicrosoftSupportStatus = '6.0.1xx';\n                yield this.injectPMCFeed(fakeVersionToCheckMicrosoftSupportStatus, installType);\n                this.cachedMyVersionPacakges = this.myVersionPackages(installType, true);\n            }\n            else {\n                this.cachedMyVersionPacakges = availableVersions;\n            }\n            return this.cachedMyVersionPacakges;\n        });\n    }\n    injectPMCFeed(fullySpecifiedVersion, installType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.isMidFeedInjection) {\n                return;\n            }\n            this.isMidFeedInjection = true;\n            const supportStatus = yield this.getDotnetVersionSupportStatus(fullySpecifiedVersion, installType);\n            if (supportStatus === \"MICROSOFT\" /* DotnetDistroSupportStatus.Microsoft */) {\n                const myVersionDetails = this.myVersionDetails();\n                const preInstallCommands = myVersionDetails[this.preinstallCommandKey];\n                yield this.commandRunner.executeMultipleCommands(preInstallCommands);\n            }\n            this.isMidFeedInjection = false;\n        });\n    }\n    myVersionDetails() {\n        const distroVersions = this.distroJson[this.distroVersion.distro][this.distroVersionsKey];\n        const versionData = distroVersions.filter((x) => x[this.versionKey] === this.distroVersion.version)[0];\n        if (!versionData) {\n            const closestVersion = this.findMostSimilarVersion(this.distroVersion.version, distroVersions.map((x) => parseFloat(x[this.versionKey])));\n            return distroVersions.filter((x) => parseFloat(x[this.versionKey]) === closestVersion)[0];\n        }\n        return versionData;\n    }\n    findMostSimilarVersion(myVersion, knownVersions) {\n        const sameMajorVersions = knownVersions.filter(x => Math.floor(x) === Math.floor(parseFloat(myVersion)));\n        if (sameMajorVersions && sameMajorVersions.length) {\n            return Math.max(...sameMajorVersions);\n        }\n        const lowerMajorVersions = knownVersions.filter(x => x < Math.floor(parseFloat(myVersion)));\n        if (lowerMajorVersions && lowerMajorVersions.length) {\n            return Math.max(...lowerMajorVersions);\n        }\n        // Just return the lowest known version, as it will be the closest to our version, as they are all larger than our version.\n        return Math.min(...knownVersions);\n    }\n    myDistroStrings(stringKey) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        return this.distroJson[this.distroVersion.distro][stringKey];\n    }\n    myDistroCommands(commandKey) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        return this.distroJson[this.distroVersion.distro][commandKey];\n    }\n    getAllValidCommands() {\n        const validCommands = [];\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        const baseCommands = (Object.values(this.distroJson[this.distroVersion.distro])\n            .filter((x) => x && Array.isArray(x) && (x[0].commandParts))).flat();\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        let preInstallCommands = this.myVersionDetails()[this.preinstallCommandKey];\n        if (!preInstallCommands) {\n            preInstallCommands = [];\n        }\n        const sudoCommands = baseCommands.concat(preInstallCommands).filter(x => x.runUnderSudo);\n        for (const command of sudoCommands) {\n            if (command.commandParts.slice(-1)[0] !== this.missingPackageNameKey) {\n                validCommands.push(`\"${CommandExecutor_1.CommandExecutor.prettifyCommandExecutorCommand(command, false)}\"`);\n            }\n            else {\n                for (const packageName of this.allPackages()) {\n                    const newCommand = CommandExecutor_1.CommandExecutor.replaceSubstringsInCommands([command], this.missingPackageNameKey, packageName)[0];\n                    validCommands.push(`\"${CommandExecutor_1.CommandExecutor.prettifyCommandExecutorCommand(newCommand, false)}\"`);\n                }\n            }\n        }\n        return [...new Set(validCommands)];\n    }\n    allPackages() {\n        let allPackages = [];\n        // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        const distroPackages = this.distroJson[this.distroVersion.distro][this.distroPackagesKey];\n        for (const packageSet of distroPackages) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            allPackages = allPackages.concat(packageSet[this.sdkKey]);\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            allPackages = allPackages.concat(packageSet[this.runtimeKey]);\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            allPackages = allPackages.concat(packageSet[this.aspNetKey]);\n        }\n        return allPackages;\n    }\n    myDotnetVersionPackageName(fullySpecifiedDotnetVersion, installType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const myDotnetVersions = yield this.myVersionPackages(installType, this.isMidFeedInjection);\n            for (const dotnetPackage of myDotnetVersions) {\n                if (dotnetPackage.version === this.JsonDotnetVersion(fullySpecifiedDotnetVersion)) {\n                    // Arbitrarily pick the first existing package.\n                    return dotnetPackage.packages[0];\n                }\n            }\n            const err = new EventStreamEvents_1.EventCancellationError('DotnetVersionResolutionError', `Could not find a .NET package for version ${fullySpecifiedDotnetVersion}. Found only: ${JSON.stringify(myDotnetVersions)}`);\n            this.context.eventStream.post(new EventStreamEvents_1.DotnetVersionResolutionError(err, (0, InstallIdUtilities_1.getInstallFromContext)(this.context)));\n            throw err;\n        });\n    }\n}\nexports.IDistroDotnetSDKProvider = IDistroDotnetSDKProvider;\n//# sourceMappingURL=IDistroDotnetSDKProvider.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IDotnetConditionValidator.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n;\n//# sourceMappingURL=IDotnetListInfo.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IDotnetPathFinder.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n *  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IGlobalInstaller = void 0;\nconst path = require(\"path\");\nconst crypto = require(\"crypto\");\nclass IGlobalInstaller {\n    constructor(acquisitionContext, utilContext) {\n        this.acquisitionContext = acquisitionContext;\n        this.utilityContext = utilContext;\n    }\n    /**\n     *\n     * @returns The folder where global sdk installers will be downloaded onto the disk.\n     */\n    static getDownloadedInstallFilesFolder(uniqueInstallerId) {\n        return path.join(__dirname, 'installers', crypto.createHash('sha256').update(uniqueInstallerId).digest('hex'));\n    }\n}\nexports.IGlobalInstaller = IGlobalInstaller;\n//# sourceMappingURL=IGlobalInstaller.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IInstallationDirectoryProvider = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst path = require(\"path\");\nclass IInstallationDirectoryProvider {\n    constructor(storagePath) {\n        this.storagePath = storagePath;\n    }\n    getStoragePath() {\n        const installFolderName = process.env._VSCODE_DOTNET_INSTALL_FOLDER || '.dotnet';\n        return path.join(this.storagePath, installFolderName);\n    }\n}\nexports.IInstallationDirectoryProvider = IInstallationDirectoryProvider;\n//# sourceMappingURL=IInstallationDirectoryProvider.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IInstallationValidator = void 0;\nclass IInstallationValidator {\n    constructor(eventStream) {\n        this.eventStream = eventStream;\n    }\n}\nexports.IInstallationValidator = IInstallationValidator;\n//# sourceMappingURL=IInstallationValidator.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IJsonInstaller = void 0;\nclass IJsonInstaller {\n    constructor(eventStream, vscodeAccessor) {\n        this.eventStream = eventStream;\n        this.vscodeAccessor = vscodeAccessor;\n    }\n}\nexports.IJsonInstaller = IJsonInstaller;\n//# sourceMappingURL=IJsonInstaller.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IRegistryReader = void 0;\nclass IRegistryReader {\n    constructor() { }\n}\nexports.IRegistryReader = IRegistryReader;\n//# sourceMappingURL=IRegistryReader.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IVersionResolver.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=InstallRecord.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InstallScriptAcquisitionWorker = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst fs = require(\"fs\");\nconst os = require(\"os\");\nconst path = require(\"path\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst WebRequestWorker_1 = require(\"../Utils/WebRequestWorker\");\nconst Debugging_1 = require(\"../Utils/Debugging\");\nconst FileUtilities_1 = require(\"../Utils/FileUtilities\");\nconst InstallIdUtilities_1 = require(\"../Utils/InstallIdUtilities\");\nclass InstallScriptAcquisitionWorker {\n    constructor(context) {\n        this.context = context;\n        this.scriptAcquisitionUrl = 'https://builds.dotnet.microsoft.com/dotnet/scripts/v1/dotnet-install.';\n        const scriptFileEnding = os.platform() === 'win32' ? 'ps1' : 'sh';\n        const scriptFileName = 'dotnet-install';\n        this.scriptFilePath = path.join(__dirname, 'install scripts', `${scriptFileName}.${scriptFileEnding}`);\n        this.webWorker = new WebRequestWorker_1.WebRequestWorker(context, this.scriptAcquisitionUrl + scriptFileEnding);\n        this.fileUtilities = new FileUtilities_1.FileUtilities();\n    }\n    getDotnetInstallScriptPath() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                Debugging_1.Debugging.log('getDotnetInstallScriptPath() invoked.');\n                const script = yield this.webWorker.getCachedData();\n                if (!script) {\n                    Debugging_1.Debugging.log('The request to acquire the script failed.');\n                    throw new EventStreamEvents_1.EventBasedError('NoInstallScriptPathExists', 'Unable to get script path.');\n                }\n                yield this.fileUtilities.writeFileOntoDisk(script, this.scriptFilePath, false, this.context.eventStream);\n                this.context.eventStream.post(new EventStreamEvents_1.DotnetInstallScriptAcquisitionCompleted());\n                return this.scriptFilePath;\n            }\n            catch (error) {\n                Debugging_1.Debugging.log('An error occurred processing the install script.');\n                this.context.eventStream.post(new EventStreamEvents_1.DotnetInstallScriptAcquisitionError(error, (0, InstallIdUtilities_1.getInstallFromContext)(this.context)));\n                // Try to use fallback install script\n                const fallbackPath = this.getFallbackScriptPath();\n                if (fs.existsSync(fallbackPath)) {\n                    Debugging_1.Debugging.log('Returning the fallback script path.');\n                    this.context.eventStream.post(new EventStreamEvents_1.DotnetFallbackInstallScriptUsed());\n                    return fallbackPath;\n                }\n                throw new EventStreamEvents_1.EventBasedError('UnableToAcquireDotnetInstallScript', `Failed to Acquire Dotnet Install Script: ${error}`);\n            }\n        });\n    }\n    getFallbackScriptPath() {\n        return this.scriptFilePath;\n    }\n}\nexports.InstallScriptAcquisitionWorker = InstallScriptAcquisitionWorker;\n//# sourceMappingURL=InstallScriptAcquisitionWorker.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InstallTrackerSingleton = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst fs = require(\"fs\");\nconst lockfile = require(\"proper-lockfile\");\nconst path = require(\"path\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst DotnetInstall_1 = require(\"./DotnetInstall\");\nconst InstallIdUtilities_1 = require(\"../Utils/InstallIdUtilities\");\nconst DotnetCoreAcquisitionWorker_1 = require(\"./DotnetCoreAcquisitionWorker\");\nclass InstallTrackerSingleton {\n    constructor(eventStream, extensionState) {\n        this.eventStream = eventStream;\n        this.extensionState = extensionState;\n        this.inProgressInstalls = new Set();\n        this.installingVersionsId = 'installing';\n        this.installedVersionsId = 'installed';\n        this.executeWithLock = (alreadyHoldingLock, dataKey, f, ...args) => __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            const trackingLock = `${dataKey}.lock`;\n            const lockPath = path.join(__dirname, trackingLock);\n            fs.writeFileSync(lockPath, '', 'utf-8');\n            let returnResult;\n            try {\n                if (alreadyHoldingLock) {\n                    // eslint-disable-next-line @typescript-eslint/await-thenable\n                    return yield f(...(args));\n                }\n                else {\n                    (_a = this.eventStream) === null || _a === void 0 ? void 0 : _a.post(new EventStreamEvents_1.DotnetLockAttemptingAcquireEvent(`Lock Acquisition request to begin.`, new Date().toISOString(), lockPath, lockPath));\n                    yield lockfile.lock(lockPath, { retries: { retries: 10, minTimeout: 5, maxTimeout: 10000 } })\n                        .then((release) => __awaiter(this, void 0, void 0, function* () {\n                        var _a;\n                        // eslint-disable-next-line @typescript-eslint/await-thenable\n                        returnResult = yield f(...(args));\n                        (_a = this.eventStream) === null || _a === void 0 ? void 0 : _a.post(new EventStreamEvents_1.DotnetLockReleasedEvent(`Lock about to be released.`, new Date().toISOString(), lockPath, lockPath));\n                        return release();\n                    }))\n                        .catch((e) => {\n                        var _a;\n                        // Either the lock could not be acquired or releasing it failed\n                        (_a = this.eventStream) === null || _a === void 0 ? void 0 : _a.post(new EventStreamEvents_1.DotnetLockErrorEvent(e, e.message, new Date().toISOString(), lockPath, lockPath));\n                    });\n                }\n            }\n            catch (e) {\n                // Either the lock could not be acquired or releasing it failed\n                // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                this.eventStream.post(new EventStreamEvents_1.DotnetLockErrorEvent(e, (_b = e === null || e === void 0 ? void 0 : e.message) !== null && _b !== void 0 ? _b : 'Unable to acquire lock to update installation state', new Date().toISOString(), lockPath, lockPath));\n                // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                throw new EventStreamEvents_1.EventBasedError('DotnetLockErrorEvent', e === null || e === void 0 ? void 0 : e.message, e === null || e === void 0 ? void 0 : e.stack);\n            }\n            return returnResult;\n        });\n    }\n    static getInstance(eventStream, extensionState) {\n        if (!InstallTrackerSingleton.instance) {\n            InstallTrackerSingleton.instance = new InstallTrackerSingleton(eventStream, extensionState);\n        }\n        return InstallTrackerSingleton.instance;\n    }\n    overrideMembers(eventStream, extensionState) {\n        InstallTrackerSingleton.instance.eventStream = eventStream;\n        InstallTrackerSingleton.instance.extensionState = extensionState;\n    }\n    clearPromises() {\n        this.inProgressInstalls.clear();\n    }\n    /**\n     *\n     * @param install the install id to get a working install promise for.\n     */\n    getPromise(install_1, acquisitionContext_1) {\n        return __awaiter(this, arguments, void 0, function* (install, acquisitionContext, disableOutput = false) {\n            for (const x of this.inProgressInstalls) {\n                const xAsId = x.dotnetInstall;\n                if ((0, DotnetInstall_1.IsEquivalentInstallationFile)(xAsId, install)) {\n                    this.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionStatusResolved(install, install.version));\n                    if (!disableOutput) {\n                        this.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionInProgress(install, (acquisitionContext && acquisitionContext.requestingExtensionId)\n                            ? acquisitionContext.requestingExtensionId : 'unknown'));\n                    }\n                    const result = yield x.installingPromise;\n                    return result;\n                }\n            }\n            return null;\n        });\n    }\n    addPromise(install, installPromise) {\n        this.inProgressInstalls.add({ dotnetInstall: install, installingPromise: installPromise });\n    }\n    removePromise(install) {\n        const resolvedInstall = [...this.inProgressInstalls].find(x => (0, DotnetInstall_1.IsEquivalentInstallation)(x.dotnetInstall, install));\n        if (!resolvedInstall) {\n            this.eventStream.post(new EventStreamEvents_1.NoMatchingInstallToStopTracking(`No matching install to stop tracking for ${install.installId}.\r\n    Installs: ${[...this.inProgressInstalls].map(x => x.dotnetInstall.installId).join(', ')}`));\n            return;\n        }\n        this.inProgressInstalls.delete(resolvedInstall);\n    }\n    canUninstall(isFinishedInstall_1, dotnetInstall_1) {\n        return __awaiter(this, arguments, void 0, function* (isFinishedInstall, dotnetInstall, allowUninstallUserOnlyInstall = false) {\n            return this.executeWithLock(false, this.installedVersionsId, (id, install) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b, _c, _d, _e, _f;\n                this.eventStream.post(new EventStreamEvents_1.RemovingVersionFromExtensionState(`Removing ${JSON.stringify(install)} with id ${id} from the state.`));\n                const existingInstalls = yield this.getExistingInstalls(id === this.installedVersionsId, true);\n                const installRecord = existingInstalls.filter(x => (0, DotnetInstall_1.IsEquivalentInstallation)(x.dotnetInstall, install));\n                return installRecord.length === 0 || ((_b = (_a = installRecord[0]) === null || _a === void 0 ? void 0 : _a.installingExtensions) === null || _b === void 0 ? void 0 : _b.length) === 0 ||\n                    (allowUninstallUserOnlyInstall && ((_d = (_c = installRecord[0]) === null || _c === void 0 ? void 0 : _c.installingExtensions) === null || _d === void 0 ? void 0 : _d.length) === 1 && ((_f = (_e = installRecord[0]) === null || _e === void 0 ? void 0 : _e.installingExtensions) === null || _f === void 0 ? void 0 : _f.includes('user')));\n            }), isFinishedInstall ? this.installedVersionsId : this.installingVersionsId, dotnetInstall);\n        });\n    }\n    uninstallAllRecords() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.executeWithLock(false, this.installingVersionsId, () => __awaiter(this, void 0, void 0, function* () {\n                // This does not uninstall global things yet, so don't remove their ids.\n                const installingVersions = yield this.getExistingInstalls(false, true);\n                const remainingInstallingVersions = installingVersions.filter(x => x.dotnetInstall.isGlobal);\n                yield this.extensionState.update(this.installingVersionsId, remainingInstallingVersions);\n            }));\n            return this.executeWithLock(false, this.installedVersionsId, () => __awaiter(this, void 0, void 0, function* () {\n                const installedVersions = yield this.getExistingInstalls(true, true);\n                const remainingInstalledVersions = installedVersions.filter(x => x.dotnetInstall.isGlobal);\n                yield this.extensionState.update(this.installedVersionsId, remainingInstalledVersions);\n            }));\n        });\n    }\n    /**\n     *\n     * @param getAlreadyInstalledVersions - Whether to get the versions that are already installed. If true, gets installed, if false, gets what's still being installed / installing.\n     */\n    getExistingInstalls(getAlreadyInstalledVersion_1) {\n        return __awaiter(this, arguments, void 0, function* (getAlreadyInstalledVersion, alreadyHoldingLock = false) {\n            return this.executeWithLock(alreadyHoldingLock, getAlreadyInstalledVersion ? this.installedVersionsId : this.installingVersionsId, (getAlreadyInstalledVersions) => {\n                const extensionStateAccessor = getAlreadyInstalledVersions ? this.installedVersionsId : this.installingVersionsId;\n                const existingInstalls = this.extensionState.get(extensionStateAccessor, []);\n                const convertedInstalls = [];\n                existingInstalls.forEach((install) => {\n                    if (typeof install === 'string') {\n                        this.eventStream.post(new EventStreamEvents_1.ConvertingLegacyInstallRecord(`Converting legacy install record ${install} to a null owner. Assuming:\r\n                    ${JSON.stringify((0, DotnetInstall_1.InstallToStrings)((0, InstallIdUtilities_1.getAssumedInstallInfo)(install, null)))}`));\n                        convertedInstalls.push({\n                            dotnetInstall: (0, InstallIdUtilities_1.getAssumedInstallInfo)(install, null),\n                            installingExtensions: [null],\n                        });\n                    }\n                    else if (install.dotnetInstall.hasOwnProperty('installKey')) {\n                        convertedInstalls.push({\n                            dotnetInstall: {\n                                installId: install.dotnetInstall.installKey,\n                                version: install.dotnetInstall.version,\n                                architecture: install.dotnetInstall.architecture,\n                                isGlobal: install.dotnetInstall.isGlobal,\n                                installMode: install.dotnetInstall.installMode\n                            },\n                            installingExtensions: install.installingExtensions,\n                        });\n                    }\n                    else if (!install.dotnetInstall.hasOwnProperty('installId') && !install.dotnetInstall.hasOwnProperty('installKey')) {\n                        ; // This is a corrupted install which was cast to the incorrect type. We can install on top of it without causing a problem, lets get rid of this record.\n                    }\n                    else {\n                        convertedInstalls.push(install);\n                    }\n                });\n                this.extensionState.update(extensionStateAccessor, convertedInstalls);\n                this.eventStream.post(new EventStreamEvents_1.FoundTrackingVersions(`${getAlreadyInstalledVersions ? this.installedVersionsId : this.installingVersionsId} :\r\n${convertedInstalls.map(x => `${JSON.stringify(x.dotnetInstall)} owned by ${x.installingExtensions.map(owner => owner !== null && owner !== void 0 ? owner : 'null').join(', ')}\\n`)}`));\n                return convertedInstalls;\n            }, getAlreadyInstalledVersion);\n        });\n    }\n    reclassifyInstallingVersionToInstalled(context, install) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.untrackInstallingVersion(context, install);\n            yield this.trackInstalledVersion(context, install);\n        });\n    }\n    untrackInstallingVersion(context_1, install_1) {\n        return __awaiter(this, arguments, void 0, function* (context, install, force = false) {\n            yield this.removeVersionFromExtensionState(context, this.installingVersionsId, install, force);\n            this.removePromise(install);\n        });\n    }\n    untrackInstalledVersion(context_1, install_1) {\n        return __awaiter(this, arguments, void 0, function* (context, install, force = false) {\n            yield this.removeVersionFromExtensionState(context, this.installedVersionsId, install, force);\n        });\n    }\n    removeVersionFromExtensionState(context_1, idStr_1, installIdObj_1) {\n        return __awaiter(this, arguments, void 0, function* (context, idStr, installIdObj, forceUninstall = false) {\n            return this.executeWithLock(false, idStr, (id, install) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b, _c, _d;\n                this.eventStream.post(new EventStreamEvents_1.RemovingVersionFromExtensionState(`Removing ${JSON.stringify(install)} with id ${id} from the state.`));\n                const existingInstalls = yield this.getExistingInstalls(id === this.installedVersionsId, true);\n                const installRecord = existingInstalls.filter(x => (0, DotnetInstall_1.IsEquivalentInstallation)(x.dotnetInstall, install));\n                if (installRecord) {\n                    if (installRecord.length > 1) {\n                        this.eventStream.post(new EventStreamEvents_1.DuplicateInstallDetected(`The install ${(JSON.stringify(install))} has a duplicated record ${installRecord.length} times in the extension state.\r\n${installRecord.map(x => `${x.installingExtensions.join(' ')} ${JSON.stringify((0, DotnetInstall_1.InstallToStrings)(x.dotnetInstall))}`)}\\n`));\n                    }\n                    const preExistingRecord = installRecord.at(0);\n                    const owners = preExistingRecord === null || preExistingRecord === void 0 ? void 0 : preExistingRecord.installingExtensions.filter(x => { var _a; return x !== ((_a = context.acquisitionContext) === null || _a === void 0 ? void 0 : _a.requestingExtensionId); });\n                    if (forceUninstall || ((_a = owners === null || owners === void 0 ? void 0 : owners.length) !== null && _a !== void 0 ? _a : 0) < 1) {\n                        // There are no more references/extensions that depend on this install, so remove the install from the list entirely.\n                        // For installing versions, there should only ever be 1 owner.\n                        // For installed versions, there can be N owners.\n                        this.eventStream.post(new EventStreamEvents_1.RemovingExtensionFromList(forceUninstall ? `At the request of ${(_b = context.acquisitionContext) === null || _b === void 0 ? void 0 : _b.requestingExtensionId}, we force uninstalled ${JSON.stringify(install)}.` :\n                            `The last owner ${(_c = context.acquisitionContext) === null || _c === void 0 ? void 0 : _c.requestingExtensionId} removed ${JSON.stringify(install)} entirely from the state.`));\n                        yield this.extensionState.update(id, existingInstalls.filter(x => !(0, DotnetInstall_1.IsEquivalentInstallation)(x.dotnetInstall, install)));\n                    }\n                    else {\n                        // There are still other extensions that depend on this install, so merely remove this requesting extension from the list of owners.\n                        this.eventStream.post(new EventStreamEvents_1.RemovingOwnerFromList(`The owner ${(_d = context.acquisitionContext) === null || _d === void 0 ? void 0 : _d.requestingExtensionId} removed ${JSON.stringify(install)} itself from the list, but ${owners === null || owners === void 0 ? void 0 : owners.join(', ')} remain.`));\n                        yield this.extensionState.update(id, existingInstalls.map(x => (0, DotnetInstall_1.IsEquivalentInstallation)(x.dotnetInstall, install) ?\n                            { dotnetInstall: install, installingExtensions: owners } : x));\n                    }\n                }\n            }), idStr, installIdObj);\n        });\n    }\n    trackInstallingVersion(context, install) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.addVersionToExtensionState(context, this.installingVersionsId, install);\n        });\n    }\n    trackInstalledVersion(context, install) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.addVersionToExtensionState(context, this.installedVersionsId, install);\n        });\n    }\n    addVersionToExtensionState(context_1, idStr_1, installObj_1) {\n        return __awaiter(this, arguments, void 0, function* (context, idStr, installObj, alreadyHoldingLock = false) {\n            return this.executeWithLock(alreadyHoldingLock, idStr, (id, install) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b, _c, _d, _e, _f;\n                this.eventStream.post(new EventStreamEvents_1.RemovingVersionFromExtensionState(`Adding ${JSON.stringify(install)} with id ${id} from the state.`));\n                const existingVersions = yield this.getExistingInstalls(id === this.installedVersionsId, true);\n                const preExistingInstallIndex = existingVersions.findIndex(x => (0, DotnetInstall_1.IsEquivalentInstallation)(x.dotnetInstall, install));\n                if (preExistingInstallIndex !== -1) {\n                    const existingInstall = existingVersions.find(x => (0, DotnetInstall_1.IsEquivalentInstallation)(x.dotnetInstall, install));\n                    // Did this extension already mark itself as having ownership of this install? If so, we can skip re-adding it.\n                    if (!(existingInstall === null || existingInstall === void 0 ? void 0 : existingInstall.installingExtensions.includes((_b = (_a = context.acquisitionContext) === null || _a === void 0 ? void 0 : _a.requestingExtensionId) !== null && _b !== void 0 ? _b : null))) {\n                        this.eventStream.post(new EventStreamEvents_1.SkipAddingInstallEvent(`Skipped adding ${JSON.stringify(install)} to the state because it was already there with the same owner.`));\n                        existingInstall.installingExtensions.push((_d = (_c = context.acquisitionContext) === null || _c === void 0 ? void 0 : _c.requestingExtensionId) !== null && _d !== void 0 ? _d : null);\n                        existingVersions[preExistingInstallIndex] = existingInstall;\n                    }\n                }\n                else {\n                    existingVersions.push({\n                        dotnetInstall: install,\n                        installingExtensions: [(_f = (_e = context.acquisitionContext) === null || _e === void 0 ? void 0 : _e.requestingExtensionId) !== null && _f !== void 0 ? _f : null]\n                    });\n                }\n                this.eventStream.post(new EventStreamEvents_1.AddTrackingVersions(`Updated ${idStr} :\r\n${existingVersions.map(x => `${JSON.stringify(x.dotnetInstall)} owned by ${x.installingExtensions.map(owner => owner !== null && owner !== void 0 ? owner : 'null').join(', ')}\\n`)}`));\n                yield this.extensionState.update(id, existingVersions);\n            }), idStr, installObj);\n        });\n    }\n    checkForUnrecordedLocalSDKSuccessfulInstall(context, dotnetInstallDirectory, installedInstallIdsList) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.executeWithLock(false, this.installedVersionsId, (dotnetInstallDir, installedInstallIds) => __awaiter(this, void 0, void 0, function* () {\n                let localSDKDirectoryIdIter = '';\n                try {\n                    // Determine installed version(s) of local SDKs for the EDU bundle.\n                    const installIds = fs.readdirSync(path.join(dotnetInstallDir, 'sdk'));\n                    // Update extension state\n                    for (const installId of installIds) {\n                        localSDKDirectoryIdIter = installId;\n                        const installRecord = (0, DotnetInstall_1.GetDotnetInstallInfo)((0, InstallIdUtilities_1.getVersionFromLegacyInstallId)(installId), 'sdk', 'local', DotnetCoreAcquisitionWorker_1.DotnetCoreAcquisitionWorker.defaultArchitecture());\n                        this.eventStream.post(new EventStreamEvents_1.DotnetPreinstallDetected(installRecord));\n                        yield this.addVersionToExtensionState(context, this.installedVersionsId, installRecord, true);\n                        installedInstallIds.push({ dotnetInstall: installRecord, installingExtensions: [null] });\n                    }\n                }\n                catch (error) {\n                    this.eventStream.post(new EventStreamEvents_1.DotnetPreinstallDetectionError(error, (0, DotnetInstall_1.GetDotnetInstallInfo)(localSDKDirectoryIdIter, 'sdk', 'local', DotnetCoreAcquisitionWorker_1.DotnetCoreAcquisitionWorker.defaultArchitecture())));\n                }\n                return installedInstallIds;\n            }), dotnetInstallDirectory, installedInstallIdsList);\n        });\n    }\n}\nexports.InstallTrackerSingleton = InstallTrackerSingleton;\n//# sourceMappingURL=InstallTrackerSingleton.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InstallationGraveyard = void 0;\nconst DotnetInstall_1 = require(\"./DotnetInstall\");\nconst InstallIdUtilities_1 = require(\"../Utils/InstallIdUtilities\");\nclass InstallationGraveyard {\n    constructor(context) {\n        this.context = context;\n        // The 'graveyard' includes failed uninstall paths and their install key.\n        // These will become marked for attempted 'garbage collection' at the end of every acquisition.\n        this.installPathsGraveyardKey = 'installPathsGraveyard';\n    }\n    getGraveyard() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let graveyard = this.context.extensionState.get(this.installPathsGraveyardKey, new Set());\n            if (!(graveyard instanceof Set)) {\n                graveyard = new Set(Object.entries(graveyard).map(([key, path]) => ({ dotnetInstall: (0, InstallIdUtilities_1.getAssumedInstallInfo)(key, null), path })));\n            }\n            yield this.context.extensionState.update(this.installPathsGraveyardKey, graveyard);\n            return graveyard;\n        });\n    }\n    get() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const graveyard = yield this.getGraveyard();\n            return new Set([...graveyard].map(x => x.dotnetInstall));\n        });\n    }\n    add(installId, newPath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const graveyard = yield this.getGraveyard();\n            const newGraveyard = graveyard.add({ dotnetInstall: installId, path: newPath });\n            yield this.context.extensionState.update(this.installPathsGraveyardKey, newGraveyard);\n        });\n    }\n    remove(installId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const graveyard = yield this.getGraveyard();\n            const newGraveyard = new Set([...graveyard].filter(x => !(0, DotnetInstall_1.IsEquivalentInstallationFile)(x.dotnetInstall, installId)));\n            yield this.context.extensionState.update(this.installPathsGraveyardKey, newGraveyard);\n        });\n    }\n}\nexports.InstallationGraveyard = InstallationGraveyard;\n//# sourceMappingURL=InstallationGraveyard.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InstallationValidator = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst IInstallationValidator_1 = require(\"./IInstallationValidator\");\nclass InstallationValidator extends IInstallationValidator_1.IInstallationValidator {\n    validateDotnetInstall(install, dotnetPath, isDotnetFolder = false, failOnErr = true) {\n        const dotnetValidationFailed = `Validation of .dotnet installation for version ${JSON.stringify(install)} failed:`;\n        const folder = path.dirname(dotnetPath);\n        if (!isDotnetFolder) {\n            this.assertOrThrowError(failOnErr, fs.existsSync(folder), `${dotnetValidationFailed} Expected installation folder ${folder} does not exist.`, install, dotnetPath);\n            this.assertOrThrowError(failOnErr, fs.existsSync(dotnetPath), `${dotnetValidationFailed} Expected executable does not exist at \"${dotnetPath}\"`, install, dotnetPath);\n            this.assertOrThrowError(failOnErr, fs.lstatSync(dotnetPath).isFile(), `${dotnetValidationFailed} Expected executable file exists but is not a file: \"${dotnetPath}\"`, install, dotnetPath);\n        }\n        else {\n            this.assertOrThrowError(failOnErr, fs.existsSync(folder), `${dotnetValidationFailed} Expected dotnet folder ${dotnetPath} does not exist.`, install, dotnetPath);\n            try {\n                this.assertOrThrowError(failOnErr, fs.readdirSync(folder).length !== 0, `${dotnetValidationFailed} The dotnet folder is empty \"${dotnetPath}\"`, install, dotnetPath);\n            }\n            catch (error) // fs.readdirsync throws ENOENT so we need to recall the function\n             {\n                this.assertOrThrowError(failOnErr, false, `${dotnetValidationFailed} The dotnet file dne \"${dotnetPath}\"`, install, dotnetPath);\n            }\n        }\n        this.eventStream.post(new EventStreamEvents_1.DotnetInstallationValidated(install));\n    }\n    assertOrThrowError(failOnErr, passedValidation, message, install, dotnetPath) {\n        var _a;\n        if (!passedValidation && failOnErr) {\n            this.eventStream.post(new EventStreamEvents_1.DotnetInstallationValidationError(new Error(message), install, dotnetPath));\n            throw new EventStreamEvents_1.EventBasedError('DotnetInstallationValidationError', message);\n        }\n        if (os.platform() === 'darwin') {\n            message = `Did you close the .NET Installer, cancel the installation, or refuse the password prompt? If you want to install the .NET SDK, please try again. If you are facing an error, please report it at https://github.com/dotnet/vscode-dotnet-runtime/issues.\r\n${message}`;\n        }\n        if (!passedValidation && !failOnErr) {\n            (_a = this.eventStream) === null || _a === void 0 ? void 0 : _a.post(new EventStreamEvents_1.DotnetInstallationValidationMissed(new Error(message), message));\n        }\n    }\n}\nexports.InstallationValidator = InstallationValidator;\n//# sourceMappingURL=InstallationValidator.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonInstaller = void 0;\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst IJsonInstaller_1 = require(\"./IJsonInstaller\");\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\nclass JsonInstaller extends IJsonInstaller_1.IJsonInstaller {\n    constructor(eventStream, vscodeAccessor) {\n        super(eventStream, vscodeAccessor);\n        this.eventStream = eventStream;\n        this.vscodeAccessor = vscodeAccessor;\n        // If a new extension is installed, we want to install .NET preemptively for it if specified\n        vscodeAccessor.registerOnExtensionChange(() => {\n            this.eventStream.post(new EventStreamEvents_1.DotnetVSCodeExtensionChange(`A change was detected in the extensions. Installing .NET for new extensions.`));\n            this.executeJSONRequests().catch(() => { });\n        });\n        // On startup, (our extension gets activated onStartupFinished() via 'activationEvents' in package.json) we want to install .NET preemptively\n        // So other extensions can have a faster startup time if they so desire\n        this.executeJSONRequests().catch(() => { });\n    }\n    // eslint-disable-next-line @typescript-eslint/require-await\n    executeJSONRequests() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const extensions = this.vscodeAccessor.getExtensions();\n            for (const extension of extensions) {\n                const extensionPackage = extension === null || extension === void 0 ? void 0 : extension.packageJSON;\n                this.eventStream.post(new EventStreamEvents_1.DotnetVSCodeExtensionFound(`Checking extension ${extension === null || extension === void 0 ? void 0 : extension.id} for .NET installation requests`));\n                if (extensionPackage['x-dotnet-acquire']) {\n                    this.eventStream.post(new EventStreamEvents_1.DotnetVSCodeExtensionHasInstallRequest(`Installing .NET for extension ${extension.id}`));\n                    const jsonRequest = extensionPackage[\"x-dotnet-acquire\"];\n                    const apiRequest = Object.assign(Object.assign({}, jsonRequest), { requestingExtensionId: extension.id });\n                    this.vscodeAccessor.executeCommand('dotnet.acquire', apiRequest);\n                }\n            }\n        });\n    }\n}\nexports.JsonInstaller = JsonInstaller;\n//# sourceMappingURL=JsonInstaller.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n *  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinuxGlobalInstaller = void 0;\nconst IGlobalInstaller_1 = require(\"./IGlobalInstaller\");\nconst LinuxVersionResolver_1 = require(\"./LinuxVersionResolver\");\nclass LinuxGlobalInstaller extends IGlobalInstaller_1.IGlobalInstaller {\n    constructor(acquisitionContext, utilContext, fullySpecifiedDotnetVersion) {\n        super(acquisitionContext, utilContext);\n        this.linuxSDKResolver = new LinuxVersionResolver_1.LinuxVersionResolver(acquisitionContext, utilContext);\n        this.version = fullySpecifiedDotnetVersion;\n    }\n    installSDK() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.linuxSDKResolver.Initialize();\n            return this.linuxSDKResolver.ValidateAndInstallSDK(this.version);\n        });\n    }\n    uninstallSDK() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.linuxSDKResolver.Initialize();\n            return this.linuxSDKResolver.UninstallSDK(this.version);\n        });\n    }\n    getExpectedGlobalSDKPath(specificSDKVersionInstalled_1, installedArch_1) {\n        return __awaiter(this, arguments, void 0, function* (specificSDKVersionInstalled, installedArch, macPathShouldExist = true) {\n            yield this.linuxSDKResolver.Initialize();\n            const dotnetFolder = (yield (yield this.linuxSDKResolver.distroCall()).getDotnetVersionSupportStatus(specificSDKVersionInstalled, 'sdk')) === \"DISTRO\" /* DotnetDistroSupportStatus.Distro */ ?\n                (yield this.linuxSDKResolver.distroCall()).getExpectedDotnetDistroFeedInstallationDirectory() :\n                (yield this.linuxSDKResolver.distroCall()).getExpectedDotnetMicrosoftFeedInstallationDirectory();\n            return dotnetFolder;\n        });\n    }\n    getGlobalSdkVersionsInstalledOnMachine() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.linuxSDKResolver.Initialize();\n            return (yield this.linuxSDKResolver.distroCall()).getInstalledDotnetSDKVersions();\n        });\n    }\n}\nexports.LinuxGlobalInstaller = LinuxGlobalInstaller;\n//# sourceMappingURL=LinuxGlobalInstaller.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinuxVersionResolver = void 0;\n/* --------------------------------------------------------------------------------------------\n *  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst versionUtils = require(\"./VersionUtilities\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst GenericDistroSDKProvider_1 = require(\"./GenericDistroSDKProvider\");\nconst VersionResolver_1 = require(\"./VersionResolver\");\nconst CommandExecutor_1 = require(\"../Utils/CommandExecutor\");\nconst RedHatDistroSDKProvider_1 = require(\"./RedHatDistroSDKProvider\");\nconst InstallIdUtilities_1 = require(\"../Utils/InstallIdUtilities\");\nconst CacheTimeConstants_1 = require(\"./CacheTimeConstants\");\n/**\n * This class is responsible for detecting the distro and version of the Linux OS.\n * It also serves as the entry point to installation via a specific distro implementation\n * by implementing version validation that normally happens inside of a windows or mac .net installer.\n * Since those don't exist for linux, we need to manually implement and check certain edge-cases before allowing the installation to occur.\n */\nclass LinuxVersionResolver {\n    constructor(workerContext, utilityContext, executor = null, distroProvider = null) {\n        this.workerContext = workerContext;\n        this.utilityContext = utilityContext;\n        this.distro = null;\n        this.distroSDKProvider = null;\n        this.okUpdateExitCode = 11188; // Arbitrary number that is not shared or used by other things we rely on as an exit code\n        this.okAlreadyExistsExitCode = 11166;\n        this.conflictingInstallErrorMessage = `A dotnet installation was found which indicates dotnet that was installed via Microsoft package feeds. But for this distro and version, we only acquire .NET via the distro feeds.\r\n    You should not mix distro feed and microsoft feed installations. To continue, please completely remove this version of dotnet to continue by following https://learn.microsoft.com/dotnet/core/install/remove-runtime-sdk-versions?pivots=os-linux.\r\n    Your install location: `;\n        this.conflictingCustomInstallErrorMessage = `A custom dotnet installation exists.\r\n    If we were to install another .NET, we would break your custom .NET installation, so the installation request has been refused.\r\n    If you would like to proceed with installing .NET automatically for VS Code, you must remove this custom installation.\r\n    Your custom install is located at: `;\n        this.baseUnsupportedDistroErrorMessage = 'We are unable to detect the distro or version of your machine';\n        this.unsupportedDistroErrorMessage = `Your current distro is not yet supported. We are expanding this list based on community feed back and contributions.\r\nIf you would like to contribute to the list of supported distros, please visit: https://github.com/dotnet/vscode-dotnet-runtime/blob/main/Documentation/adding-distros.md`;\n        this.redhatUnsupportedDistroErrorMessage = `Red Hat Enterprise Linux 7.0 is currently not supported.\r\nFollow the instructions here to download the .NET SDK: https://learn.microsoft.com/en-us/dotnet/core/install/linux-rhel#rhel-7--net-6.\r\nOr, install Red Hat Enterprise Linux 8.0 or Red Hat Enterprise Linux 9.0 from https://access.redhat.com/downloads/;`;\n        this.commandRunner = executor !== null && executor !== void 0 ? executor : new CommandExecutor_1.CommandExecutor(this.workerContext, this.utilityContext);\n        this.versionResolver = new VersionResolver_1.VersionResolver(workerContext);\n        if (distroProvider) {\n            this.distroSDKProvider = distroProvider;\n        }\n        this.acquireCtx = this.workerContext.acquisitionContext;\n    }\n    /**\n     * @remarks relies on /etc/os-release currently. public for testing purposes.\n     * @returns The linux distro and version thats running this app. Should only ever be ran on linux.\n     */\n    getRunningDistro() {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c, _d;\n            if (this.distro) {\n                return this.distro;\n            }\n            const commandResult = yield this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`cat`, [`/etc/os-release`]), { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.SYSTEM_INFORMATION_CACHE_DURATION_MS });\n            const distroNameKey = 'NAME';\n            const distroVersionKey = 'VERSION_ID';\n            try {\n                const stdOut = commandResult.stdout.toString().split('\\n');\n                // We need to remove the quotes from the KEY=\"VALUE\"\\n pairs returned by the command stdout, and then turn it into a dictionary. We can't use replaceAll for older browsers.\n                // Replace only replaces one quote, so we remove the 2nd one later.\n                const stdOutWithQuotesRemoved = stdOut.map(x => x.replace('\"', ''));\n                const stdOutWithSeparatedKeyValues = stdOutWithQuotesRemoved.map(x => x.split('='));\n                const keyValueMap = Object.fromEntries(stdOutWithSeparatedKeyValues.map(x => [x[0], x[1]]));\n                // Remove the 2nd quotes.\n                const distroName = (_b = (_a = keyValueMap[distroNameKey]) === null || _a === void 0 ? void 0 : _a.replace('\"', '')) !== null && _b !== void 0 ? _b : '';\n                const distroVersion = (_d = (_c = keyValueMap[distroVersionKey]) === null || _c === void 0 ? void 0 : _c.replace('\"', '')) !== null && _d !== void 0 ? _d : '';\n                if (distroName === '' || distroVersion === '') {\n                    const error = new EventStreamEvents_1.DotnetAcquisitionDistroUnknownError(new EventStreamEvents_1.EventCancellationError('DotnetAcquisitionDistroUnknownError', this.baseUnsupportedDistroErrorMessage), (0, InstallIdUtilities_1.getInstallFromContext)(this.workerContext));\n                    this.workerContext.eventStream.post(error);\n                    throw error.error;\n                }\n                const pair = { distro: distroName, version: distroVersion };\n                return pair;\n            }\n            catch (error) {\n                const err = new EventStreamEvents_1.DotnetAcquisitionDistroUnknownError(new EventStreamEvents_1.EventCancellationError('DotnetAcquisitionDistroUnknownError', `${this.baseUnsupportedDistroErrorMessage} ... does /etc/os-release exist?`), (0, InstallIdUtilities_1.getInstallFromContext)(this.workerContext));\n                this.workerContext.eventStream.post(err);\n                throw err.error;\n            }\n        });\n    }\n    /**\n     * @remarks we need to call the command executor to allow us to test this class.\n     * The command executor needs to be able to run async commands. We cant call async commands in the constructor.\n     * So we have to use this pattern of calling initialize to verify our members are not null in each function.\n     */\n    Initialize() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.distro) {\n                this.distro = yield this.getRunningDistro();\n            }\n            if (!this.distroSDKProvider) {\n                this.distroSDKProvider = this.DistroProviderFactory(this.distro);\n            }\n            if (!this.distro || !this.distroSDKProvider) {\n                const error = new EventStreamEvents_1.DotnetAcquisitionDistroUnknownError(new EventStreamEvents_1.EventCancellationError('DotnetAcquisitionDistroUnknownError', `${this.baseUnsupportedDistroErrorMessage} ... we cannot initialize.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.workerContext));\n                this.workerContext.eventStream.post(error);\n                throw error.error;\n            }\n        });\n    }\n    isRedHatVersion7(rhelVersion) {\n        if (Math.floor(parseFloat(rhelVersion)) === 7) {\n            return true;\n        }\n        return false;\n    }\n    DistroProviderFactory(distroAndVersion) {\n        switch (distroAndVersion.distro) {\n            // Implement any custom logic for a Distro Class in a new DistroSDKProvider and add it to the factory here.\n            case null:\n                const unknownDistroErr = new EventStreamEvents_1.DotnetAcquisitionDistroUnknownError(new EventStreamEvents_1.EventCancellationError('DotnetAcquisitionDistroUnknownError', this.unsupportedDistroErrorMessage), (0, InstallIdUtilities_1.getInstallFromContext)(this.workerContext));\n                this.workerContext.eventStream.post(unknownDistroErr);\n                throw unknownDistroErr.error;\n            case 'Red Hat Enterprise Linux':\n                if (this.isRedHatVersion7(distroAndVersion.version)) {\n                    const unsupportedRhelErr = new EventStreamEvents_1.DotnetAcquisitionDistroUnknownError(new EventStreamEvents_1.EventCancellationError('DotnetAcquisitionDistroUnknownError', this.redhatUnsupportedDistroErrorMessage), (0, InstallIdUtilities_1.getInstallFromContext)(this.workerContext));\n                    this.workerContext.eventStream.post(unsupportedRhelErr);\n                    throw unsupportedRhelErr.error;\n                }\n                return new RedHatDistroSDKProvider_1.RedHatDistroSDKProvider(distroAndVersion, this.workerContext, this.utilityContext);\n            default:\n                return new GenericDistroSDKProvider_1.GenericDistroSDKProvider(distroAndVersion, this.workerContext, this.utilityContext);\n        }\n    }\n    /**\n     *\n     * @param supportStatus The support status of this distro and version pair.\n     * @param fullySpecifiedDotnetVersion The version of dotnet requested to install, upgrade, etc.\n     * @remarks Throws a specific error below if a conflicting install type of dotnet exists on linux.\n     * Microsoft and distro feed packages together cause system instability with dotnet, so we don't want to let people get into those states.\n     * Eventually, we could add logic to remove them for users, but that may require consent first.\n     */\n    VerifyNoConflictInstallTypeExists(supportStatus, fullySpecifiedDotnetVersion) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.Initialize();\n            if (supportStatus === \"DISTRO\" /* DotnetDistroSupportStatus.Distro */) {\n                const microsoftFeedDir = this.distroSDKProvider.getExpectedDotnetMicrosoftFeedInstallationDirectory();\n                if (fs.existsSync(microsoftFeedDir)) {\n                    const err = new EventStreamEvents_1.DotnetConflictingLinuxInstallTypesError(new EventStreamEvents_1.EventCancellationError('DotnetConflictingLinuxInstallTypesError', this.conflictingInstallErrorMessage + microsoftFeedDir), (0, InstallIdUtilities_1.getInstallFromContext)(this.workerContext));\n                    this.workerContext.eventStream.post(err);\n                    throw err.error;\n                }\n            }\n            else if (supportStatus === \"MICROSOFT\" /* DotnetDistroSupportStatus.Microsoft */) {\n                const distroFeedDir = this.distroSDKProvider.getExpectedDotnetDistroFeedInstallationDirectory();\n                if (fs.existsSync(distroFeedDir)) {\n                    const err = new EventStreamEvents_1.DotnetConflictingLinuxInstallTypesError(new EventStreamEvents_1.EventCancellationError('DotnetConflictingLinuxInstallTypesError', this.conflictingInstallErrorMessage + distroFeedDir), (0, InstallIdUtilities_1.getInstallFromContext)(this.workerContext));\n                    this.workerContext.eventStream.post(err);\n                    throw err.error;\n                }\n            }\n        });\n    }\n    /**\n     * Similar to VerifyNoConflictInstallTypeExists, but checks if a custom install exists. We don't want to override that.\n     * It could also cause unstable behavior and break a users current setup.\n     */\n    VerifyNoCustomInstallExists(supportStatus, fullySpecifiedDotnetVersion, existingInstall) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.Initialize();\n            if (existingInstall && path.resolve(existingInstall) !== path.resolve(supportStatus === \"DISTRO\" /* DotnetDistroSupportStatus.Distro */ ? this.distroSDKProvider.getExpectedDotnetDistroFeedInstallationDirectory()\n                : this.distroSDKProvider.getExpectedDotnetMicrosoftFeedInstallationDirectory())) {\n                const err = new EventStreamEvents_1.DotnetCustomLinuxInstallExistsError(new EventStreamEvents_1.EventCancellationError('DotnetCustomLinuxInstallExistsError', this.conflictingCustomInstallErrorMessage + existingInstall), (0, InstallIdUtilities_1.getInstallFromContext)(this.workerContext));\n                this.workerContext.eventStream.post(err);\n                throw err.error;\n            }\n        });\n    }\n    /**\n     *\n     * @param fullySpecifiedDotnetVersion The version to install of the dotnet sdk.\n     * @param existingInstall a path to the existing dotnet install on the machine.\n     * @returns 0 if we can proceed. Will throw if a conflicting install exists. If we can update, it will do the update and return 1.\n     * A string is returned in case we want to make this return more info about the update.\n     */\n    UpdateOrRejectIfVersionRequestDoesNotRequireInstall(fullySpecifiedDotnetVersion, existingInstall) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.Initialize();\n            this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetInstallLinuxChecks(`Checking to see if we should install, update, or cancel...`));\n            if (existingInstall) {\n                const existingGlobalInstallSDKVersion = yield this.distroSDKProvider.getInstalledGlobalDotnetVersionIfExists();\n                if (existingGlobalInstallSDKVersion && Number(versionUtils.getMajorMinor(existingGlobalInstallSDKVersion, this.workerContext.eventStream, this.workerContext)) ===\n                    Number(versionUtils.getMajorMinor(fullySpecifiedDotnetVersion, this.workerContext.eventStream, this.workerContext))) {\n                    const isPatchUpgrade = Number(versionUtils.getFeatureBandPatchVersion(existingGlobalInstallSDKVersion, this.workerContext.eventStream, this.workerContext)) <\n                        Number(versionUtils.getFeatureBandPatchVersion(fullySpecifiedDotnetVersion, this.workerContext.eventStream, this.workerContext));\n                    if (Number(versionUtils.getMajorMinor(existingGlobalInstallSDKVersion, this.workerContext.eventStream, this.workerContext)) >\n                        Number(versionUtils.getMajorMinor(fullySpecifiedDotnetVersion, this.workerContext.eventStream, this.workerContext))\n                        || Number(versionUtils.getFeatureBandFromVersion(existingGlobalInstallSDKVersion, this.workerContext.eventStream, this.workerContext)) >\n                            Number(versionUtils.getFeatureBandFromVersion(fullySpecifiedDotnetVersion, this.workerContext.eventStream, this.workerContext))) {\n                        // We shouldn't downgrade to a lower patch\n                        const err = new EventStreamEvents_1.DotnetCustomLinuxInstallExistsError(new EventStreamEvents_1.EventCancellationError('DotnetCustomLinuxInstallExistsError', `An installation of ${fullySpecifiedDotnetVersion} was requested but ${existingGlobalInstallSDKVersion} is already available.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.workerContext));\n                        this.workerContext.eventStream.post(err);\n                        throw err.error;\n                    }\n                    else if ((yield this.distroSDKProvider.dotnetPackageExistsOnSystem(fullySpecifiedDotnetVersion, 'sdk')) || isPatchUpgrade) {\n                        // We can update instead of doing an install\n                        this.workerContext.eventStream.post(new EventStreamEvents_1.DotnetUpgradedEvent(isPatchUpgrade ?\n                            `Updating .NET: Current Version: ${existingGlobalInstallSDKVersion} to ${fullySpecifiedDotnetVersion}.`\n                            :\n                                `Repairing .NET Packages for ${existingGlobalInstallSDKVersion}.`));\n                        return (yield this.distroSDKProvider.upgradeDotnet(existingGlobalInstallSDKVersion, 'sdk')) === '0' ? String(this.okUpdateExitCode) : '1';\n                    }\n                    else {\n                        // An existing install exists.\n                        return String(this.okAlreadyExistsExitCode);\n                    }\n                }\n                // Additional logic to check the major.minor could be added here if we wanted to prevent installing lower major.minors if an existing install existed.\n            }\n            return '0';\n        });\n    }\n    ValidateAndInstallSDK(fullySpecifiedDotnetVersion) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            yield this.Initialize();\n            // Verify the version of dotnet is supported\n            if (!(yield this.distroSDKProvider.isDotnetVersionSupported(fullySpecifiedDotnetVersion, 'sdk'))) {\n                throw new EventStreamEvents_1.EventBasedError('UnsupportedDistro', `The distro ${(_a = this.distro) === null || _a === void 0 ? void 0 : _a.distro} ${(_b = this.distro) === null || _b === void 0 ? void 0 : _b.version} does not officially support dotnet version ${fullySpecifiedDotnetVersion}.`);\n            }\n            // Verify there are no conflicting installs\n            // Check existing installs ...\n            const supportStatus = yield this.distroSDKProvider.getDotnetVersionSupportStatus(fullySpecifiedDotnetVersion, 'sdk');\n            yield this.VerifyNoConflictInstallTypeExists(supportStatus, fullySpecifiedDotnetVersion);\n            const existingInstall = yield this.distroSDKProvider.getInstalledGlobalDotnetPathIfExists('sdk');\n            // Check for a custom install\n            yield this.VerifyNoCustomInstallExists(supportStatus, fullySpecifiedDotnetVersion, existingInstall);\n            // Check if we need to install or not, if we can install (if the version conflicts with an existing one), or if we can just update the existing install.\n            const updateOrRejectState = yield this.UpdateOrRejectIfVersionRequestDoesNotRequireInstall(fullySpecifiedDotnetVersion, existingInstall);\n            if (updateOrRejectState === '0') {\n                return (yield this.distroSDKProvider.installDotnet(fullySpecifiedDotnetVersion, 'sdk')) ? '0' : '1';\n            }\n            else if (updateOrRejectState === String(this.okUpdateExitCode) || updateOrRejectState === String(this.okAlreadyExistsExitCode)) {\n                return '0';\n            }\n            return String(updateOrRejectState);\n        });\n    }\n    UninstallSDK(fullySpecifiedDotnetVersion) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.Initialize();\n            return this.distroSDKProvider.uninstallDotnet(fullySpecifiedDotnetVersion, 'sdk');\n        });\n    }\n    /**\n     * This exposes the class member that may or may not be initialized before execution of this function\n     * ... so other's can use it. (It is a terrible pattern but used because the ctor cannot be async.)\n     * @returns the distroSDKProvider to call distro related functions on top of.\n     */\n    distroCall() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.Initialize();\n            return this.distroSDKProvider;\n        });\n    }\n    getRecommendedDotnetVersion(installType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.Initialize();\n            return this.distroSDKProvider.getRecommendedDotnetVersion(installType);\n        });\n    }\n}\nexports.LinuxVersionResolver = LinuxVersionResolver;\n//# sourceMappingURL=LinuxVersionResolver.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RedHatDistroSDKProvider = void 0;\nconst GenericDistroSDKProvider_1 = require(\"./GenericDistroSDKProvider\");\nclass RedHatDistroSDKProvider extends GenericDistroSDKProvider_1.GenericDistroSDKProvider {\n    constructor(distroVersion, context, utilContext, executor = null) {\n        super(distroVersion, context, utilContext, executor);\n    }\n    myVersionDetails() {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        const distroVersions = this.distroJson[this.distroVersion.distro][this.distroVersionsKey];\n        const targetVersion = Math.floor(parseFloat(this.distroVersion.version[0])).toFixed(1);\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        const versionData = distroVersions.filter((x) => x[this.versionKey] === String(targetVersion));\n        return versionData;\n    }\n}\nexports.RedHatDistroSDKProvider = RedHatDistroSDKProvider;\n//# sourceMappingURL=RedHatDistroSDKProvider.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RegistryReader = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst os = require(\"os\");\nconst path = require(\"path\");\nconst IRegistryReader_1 = require(\"./IRegistryReader\");\nconst CommandExecutor_1 = require(\"../Utils/CommandExecutor\");\nconst CacheTimeConstants_1 = require(\"./CacheTimeConstants\");\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\nclass RegistryReader extends IRegistryReader_1.IRegistryReader {\n    constructor(context, utilContext, executor = null) {\n        super();\n        this.commandRunner = executor !== null && executor !== void 0 ? executor : new CommandExecutor_1.CommandExecutor(context, utilContext);\n    }\n    /**\n     * @remarks architecture values accepted: x64, arm64. x86, arm32 possible on linux but 32 bit vscode is not supported.\n     * @returns the folder containing the host\n     */\n    getHostLocation(architecture) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // InstallLocation vs sharedhost:\n            var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m;\n            // The sharedhost registry key stores the path of dotnet that gets put on the PATH.\n            // The InstallLocation stores other paths to the host that might not be on the PATH, such as an x64 host on an arm64 machine.\n            // The InstallLocation is always under the 32 bit reg node for our purposes, and the sharedhost is always on the native node.\n            // (You can't install arm64 SDK or Runtime on x64, but you can do vice versa and they follow the same methodology.)\n            // For non native installs: sharedhost nodes may exist, but there will be no path key\n            // See https://github.com/dotnet/runtime/issues/109974\n            // Docs: https://github.com/dotnet/designs/blob/main/accepted/2021/install-location-per-architecture.md\n            const queryForPATHLocationNotViaPATH = `HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\dotnet\\\\Setup\\\\InstalledVersions\\\\${architecture}\\\\sharedhost`;\n            const queryForInstallLocationNotPATH = `HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\dotnet\\\\Setup\\\\InstalledVersions\\\\${architecture}\\\\InstallLocation`;\n            const queryForPATH = os.arch() === architecture;\n            let queriedInstallationLocation = false;\n            let result = null;\n            if (queryForPATH) {\n                result = yield this.queryRegistry(queryForPATHLocationNotViaPATH, false, 'Path');\n            }\n            if (!queryForPATH || (result === null || result === void 0 ? void 0 : result.status) !== '0') {\n                result = yield this.queryRegistry(queryForInstallLocationNotPATH, true, 'InstallLocation');\n                queriedInstallationLocation = true;\n            }\n            if ((result === null || result === void 0 ? void 0 : result.status) === '0') {\n                // Output is of the type\n                // REGISTRY_KEY\n                // Key   REG_SZ    C:\\path\\to\\dotnet\n                let keyRow = (_d = (_c = (_b = (_a = result.stdout) === null || _a === void 0 ? void 0 : _a.trim()) === null || _b === void 0 ? void 0 : _b.split(\"\\n\")) === null || _c === void 0 ? void 0 : _c.at(1)) === null || _d === void 0 ? void 0 : _d.trim(); // Get the line that contains Key REG_SZ Path\n                if (!keyRow) {\n                    // If there's an extra newline in the output or reg.exe format changes, find the line which contains the key -- slower\n                    keyRow = (_j = (_h = (_g = (_f = (_e = result.stdout) === null || _e === void 0 ? void 0 : _e.trim()) === null || _f === void 0 ? void 0 : _f.split(\"\\n\")) === null || _g === void 0 ? void 0 : _g.filter((x) => x.toLowerCase().includes('path') || x.toLowerCase().includes('installlocation'))) === null || _h === void 0 ? void 0 : _h.at(0)) === null || _j === void 0 ? void 0 : _j.trim();\n                }\n                const finalPath = (_m = (_l = (_k = keyRow === null || keyRow === void 0 ? void 0 : keyRow.split(' ')) === null || _k === void 0 ? void 0 : _k.filter((x) => x !== '')) === null || _l === void 0 ? void 0 : _l.slice(2)) === null || _m === void 0 ? void 0 : _m.join(' '); // remove N (typically 4) spaces between each output, then remove the ''s, then split by space again to remove Key and REG_SZ, and recombine any path with spaces\n                return finalPath;\n            }\n            return undefined;\n        });\n    }\n    /**\n     *\n     * @returns an array containing fully specified / specific versions of all globally installed sdks on the machine in windows for 32 and 64 bit sdks.\n     */\n    getGlobalSdkVersionsInstalledOnMachine() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let sdks = [];\n            if (os.platform() === 'win32') {\n                const sdkInstallRecords64Bit = 'HKEY_LOCAL_MACHINE\\\\SOFTWARE\\\\dotnet\\\\Setup\\\\InstalledVersions\\\\x64\\\\sdk';\n                const sdkInstallRecords32Bit = sdkInstallRecords64Bit.replace('x64', 'x86');\n                const sdkInstallRecordsArm64 = sdkInstallRecords64Bit.replace('x64', 'arm64');\n                const queries = [sdkInstallRecords32Bit, sdkInstallRecords64Bit, sdkInstallRecordsArm64];\n                for (const query of queries) {\n                    // /reg:32 is added because all keys on 64 bit machines are all put into the WOW node. They won't be on the WOW node on a 32 bit machine.\n                    const registryLookup = yield this.queryRegistry(query, true);\n                    if (registryLookup === null) {\n                        return [];\n                    }\n                    let installRecordKeysOfXBit = '';\n                    if (registryLookup.status === '0') {\n                        installRecordKeysOfXBit = registryLookup.stdout;\n                    }\n                    const installedSdks = this.extractVersionsOutOfRegistryKeyStrings(installRecordKeysOfXBit);\n                    // Append any newly found sdk versions\n                    sdks = sdks.concat(installedSdks.filter((item) => sdks.indexOf(item) < 0));\n                }\n            }\n            return sdks;\n        });\n    }\n    queryRegistry(query, underWowNode, querySingleValue) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const registryQueryCommand = path.join(`${process.env.SystemRoot}`, `System32\\\\reg.exe`);\n                let queryParameters = [`query`, `${query}`];\n                if (underWowNode) {\n                    queryParameters = [...queryParameters, `\\/reg:32`];\n                }\n                if (querySingleValue) {\n                    queryParameters = [...queryParameters, `/v`, `${querySingleValue}`];\n                }\n                const command = CommandExecutor_1.CommandExecutor.makeCommand(registryQueryCommand, queryParameters);\n                const registryLookup = (yield this.commandRunner.execute(command, { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.DOTNET_INFORMATION_CACHE_DURATION_MS }, false));\n                return registryLookup;\n            }\n            catch (e) {\n                // There are no \"X\" bit sdks on the machine.\n            }\n            return null;\n        });\n    }\n    /**\n     *\n     * @param registryQueryResult the raw output of a registry query converted into a string\n     * @returns\n     */\n    extractVersionsOutOfRegistryKeyStrings(registryQueryResult) {\n        if (registryQueryResult === '') {\n            return [];\n        }\n        else {\n            return registryQueryResult.split(' ')\n                .filter(function (value, i) { return value !== '' && i !== 0; } // Filter out the whitespace & query as the query return value starts with the query.\n            )\n                .filter(function (value, i) { return i % 3 === 0; } // Every 0th, 4th, etc item will be a value name AKA the SDK version. The rest will be REGTYPE and REGHEXVALUE.\n            );\n        }\n    }\n}\nexports.RegistryReader = RegistryReader;\n//# sourceMappingURL=RegistryReader.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RuntimeInstallationDirectoryProvider = void 0;\nconst path = require(\"path\");\nconst IInstallationDirectoryProvider_1 = require(\"./IInstallationDirectoryProvider\");\nclass RuntimeInstallationDirectoryProvider extends IInstallationDirectoryProvider_1.IInstallationDirectoryProvider {\n    getInstallDir(installId) {\n        const dotnetInstallDir = path.join(this.getStoragePath(), installId);\n        return dotnetInstallDir;\n    }\n}\nexports.RuntimeInstallationDirectoryProvider = RuntimeInstallationDirectoryProvider;\n//# sourceMappingURL=RuntimeInstallationDirectoryProvider.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SdkInstallationDirectoryProvider = void 0;\nconst IInstallationDirectoryProvider_1 = require(\"./IInstallationDirectoryProvider\");\nclass SdkInstallationDirectoryProvider extends IInstallationDirectoryProvider_1.IInstallationDirectoryProvider {\n    getInstallDir(installId) {\n        return this.getStoragePath();\n    }\n}\nexports.SdkInstallationDirectoryProvider = SdkInstallationDirectoryProvider;\n//# sourceMappingURL=SdkInstallationDirectoryProvider.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VersionResolver = void 0;\nconst semver = require(\"semver\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst WebRequestWorker_1 = require(\"../Utils/WebRequestWorker\");\nconst InstallIdUtilities_1 = require(\"../Utils/InstallIdUtilities\");\nconst Debugging_1 = require(\"../Utils/Debugging\");\nclass VersionResolver {\n    constructor(context, webWorker) {\n        this.context = context;\n        this.releasesUrl = 'https://builds.dotnet.microsoft.com/dotnet/release-metadata/releases-index.json';\n        this.webWorker = webWorker !== null && webWorker !== void 0 ? webWorker : new WebRequestWorker_1.WebRequestWorker(context, this.releasesUrl);\n    }\n    /**\n     * @remarks\n     * Use the release.json manifest that contains the newest version of the SDK and Runtime for each major.minor of .NET to get the available versions.\n     * Relies on the context listRuntimes to tell if it should get runtime or sdk versions.\n     *\n     * @params\n     * webWorker - This class can use its own web-worker or a custom one for testing purposes.\n     *\n     * @returns\n     * IDotnetListVersionsResult of versions available.\n     *\n     * @throws\n     * Exception if the API service for releases-index.json is unavailable.\n     */\n    GetAvailableDotnetVersions(commandContext) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const getSdkVersions = !(commandContext === null || commandContext === void 0 ? void 0 : commandContext.listRuntimes);\n            const availableVersions = [];\n            const response = yield this.webWorker.getCachedData();\n            return new Promise((resolve, reject) => {\n                if (!response) {\n                    const offlineError = new Error('Unable to connect to the index server: Cannot find .NET versions.');\n                    this.context.eventStream.post(new EventStreamEvents_1.DotnetOfflineFailure(offlineError, (0, InstallIdUtilities_1.getInstallFromContext)(this.context)));\n                    reject(offlineError);\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                    const releases = response['releases-index'];\n                    for (const release of releases) {\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                        if (release['release-type'] === 'lts' || release['release-type'] === 'sts') {\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                            availableVersions.push({\n                                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                                supportStatus: release['release-type'],\n                                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                                supportPhase: release['support-phase'],\n                                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                                version: release[getSdkVersions ? 'latest-sdk' : 'latest-runtime'],\n                                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                                channelVersion: release['channel-version']\n                            });\n                        }\n                    }\n                }\n                resolve(availableVersions);\n            });\n        });\n    }\n    getFullVersion(version, mode) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let releasesVersions;\n            try {\n                releasesVersions = yield this.getReleasesInfo(mode);\n            }\n            catch (error) {\n                // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                throw new EventStreamEvents_1.EventBasedError(error, error === null || error === void 0 ? void 0 : error.message, error === null || error === void 0 ? void 0 : error.stack);\n            }\n            return new Promise((resolve, reject) => {\n                var _a;\n                try {\n                    const versionResult = this.resolveVersion(version, releasesVersions);\n                    this.context.eventStream.post(new EventStreamEvents_1.DotnetVersionResolutionCompleted(version, versionResult));\n                    resolve(versionResult);\n                }\n                catch (error) {\n                    // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                    this.context.eventStream.post(new EventStreamEvents_1.DotnetVersionResolutionError(new EventStreamEvents_1.EventCancellationError('DotnetVersionResolutionError', (_a = error === null || error === void 0 ? void 0 : error.message) !== null && _a !== void 0 ? _a : ''), (0, InstallIdUtilities_1.getAssumedInstallInfo)(version, mode)));\n                    reject(error);\n                }\n            });\n        });\n    }\n    resolveVersion(version, releases) {\n        this.validateVersionInput(version);\n        // Search for the specific version\n        let matchingVersion = releases.filter((availableVersions) => availableVersions.version === version);\n        // If a x.y version is given, just find that instead (which is how almost all requests are given atm)\n        if (!matchingVersion || matchingVersion.length < 1) {\n            matchingVersion = releases.filter((availableVersions) => availableVersions.channelVersion === version);\n        }\n        if (!matchingVersion || matchingVersion.length < 1) {\n            const err = new EventStreamEvents_1.DotnetVersionResolutionError(new EventStreamEvents_1.EventCancellationError('DotnetVersionResolutionError', `The requested and or resolved version is invalid.`), (0, InstallIdUtilities_1.getAssumedInstallInfo)(version, this.context.acquisitionContext.mode));\n            this.context.eventStream.post(err);\n            throw err.error;\n        }\n        return matchingVersion[0].version;\n    }\n    validateVersionInput(version) {\n        let parsedVer;\n        try {\n            parsedVer = semver.coerce(version);\n        }\n        catch (err) {\n            parsedVer = null;\n        }\n        Debugging_1.Debugging.log(`Semver parsing passed: ${version}.`, this.context.eventStream);\n        if (!parsedVer || (version.split('.').length !== 2 && version.split('.').length !== 3)) {\n            Debugging_1.Debugging.log(`Resolving the version: ${version} ... it is invalid!`, this.context.eventStream);\n            const err = new EventStreamEvents_1.DotnetVersionResolutionError(new EventStreamEvents_1.EventCancellationError('DotnetVersionResolutionError', `An invalid version was requested. Version: ${version}`), (0, InstallIdUtilities_1.getAssumedInstallInfo)(version, this.context.acquisitionContext.mode));\n            this.context.eventStream.post(err);\n            throw err.error;\n        }\n        Debugging_1.Debugging.log(`The version ${version} was determined to be valid.`, this.context.eventStream);\n    }\n    getReleasesInfo(mode) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const apiContext = { listRuntimes: mode === 'runtime' || mode === 'aspnetcore' };\n            const response = yield this.GetAvailableDotnetVersions(apiContext);\n            if (!response) {\n                const err = new EventStreamEvents_1.DotnetInvalidReleasesJSONError(new EventStreamEvents_1.EventBasedError('DotnetInvalidReleasesJSONError', `We could not reach the releases API ${this.releasesUrl} to download dotnet, is your machine offline or is this website down?`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                this.context.eventStream.post(err);\n                throw err.error;\n            }\n            return response;\n        });\n    }\n}\nexports.VersionResolver = VersionResolver;\n//# sourceMappingURL=VersionResolver.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMajor = getMajor;\nexports.getMinor = getMinor;\nexports.getMajorMinor = getMajorMinor;\nexports.getFeatureBandFromVersion = getFeatureBandFromVersion;\nexports.getFeatureBandPatchVersion = getFeatureBandPatchVersion;\nexports.getSDKPatchVersionString = getSDKPatchVersionString;\nexports.getSDKCompleteBandAndPatchVersionString = getSDKCompleteBandAndPatchVersionString;\nexports.getRuntimePatchVersionString = getRuntimePatchVersionString;\nexports.isValidLongFormVersionFormat = isValidLongFormVersionFormat;\nexports.isPreviewVersion = isPreviewVersion;\nexports.isNonSpecificFeatureBandedVersion = isNonSpecificFeatureBandedVersion;\nexports.isFullySpecifiedVersion = isFullySpecifiedVersion;\nexports.isNonSpecificMajorOrMajorMinorVersion = isNonSpecificMajorOrMajorMinorVersion;\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst InstallIdUtilities_1 = require(\"../Utils/InstallIdUtilities\");\nconst invalidFeatureBandErrorString = `A feature band couldn't be determined for the requested version: `;\n/**\n *\n * @param fullySpecifiedVersion the fully specified version of the sdk, e.g. 7.0.301 to get the major from.\n * @returns the major in the form of '3', etc.\n */\nfunction getMajor(fullySpecifiedVersion, eventStream, context) {\n    // The called function will check that we can do the split, so we don't need to check again.\n    return getMajorMinor(fullySpecifiedVersion, eventStream, context).split('.')[0];\n}\n/**\n *\n * @param fullySpecifiedVersion the fully specified version of the sdk, e.g. 7.0.301 to get the minor from.\n * @returns the major.minor in the form of '0', etc.\n */\nfunction getMinor(fullySpecifiedVersion, eventStream, context) {\n    // The called function will check that we can do the split, so we don't need to check again.\n    return getMajorMinor(fullySpecifiedVersion, eventStream, context).split('.')[1];\n}\n/**\n *\n * @param fullySpecifiedVersion the fully specified version, e.g. 7.0.301 to get the major minor from.\n * @returns the major.minor in the form of '3.1', etc.\n */\nfunction getMajorMinor(fullySpecifiedVersion, eventStream, context) {\n    if (fullySpecifiedVersion.split('.').length < 2) {\n        const event = new EventStreamEvents_1.DotnetVersionResolutionError(new EventStreamEvents_1.EventCancellationError('DotnetVersionResolutionError', `The requested version ${fullySpecifiedVersion} is invalid.`), (0, InstallIdUtilities_1.getInstallFromContext)(context));\n        eventStream.post(event);\n        throw event.error;\n    }\n    const majorMinor = `${fullySpecifiedVersion.split('.').at(0)}.${fullySpecifiedVersion.split('.').at(1)}`;\n    return majorMinor;\n}\n/**\n *\n * @param fullySpecifiedVersion the version of the sdk, either fully specified or not, but containing a band definition.\n * @returns a single string representing the band number, e.g. 3 in 7.0.301.\n * @remarks can return '' if no band exists in the fully specified version, and if considerErrorIfNoBand is false.\n */\nfunction getFeatureBandFromVersion(fullySpecifiedVersion, eventStream, context, considerErrorIfNoBand = true) {\n    var _a, _b;\n    const band = (_b = (_a = fullySpecifiedVersion.split('.')) === null || _a === void 0 ? void 0 : _a.at(2)) === null || _b === void 0 ? void 0 : _b.charAt(0);\n    if (band === undefined) {\n        if (considerErrorIfNoBand) {\n            const event = new EventStreamEvents_1.DotnetFeatureBandDoesNotExistError(new EventStreamEvents_1.EventCancellationError('DotnetFeatureBandDoesNotExistError', `${invalidFeatureBandErrorString}${fullySpecifiedVersion}.`), (0, InstallIdUtilities_1.getInstallFromContext)(context));\n            eventStream.post(event);\n            throw event.error;\n        }\n        const nonErrEvent = new EventStreamEvents_1.FeatureBandDoesNotExist(`${invalidFeatureBandErrorString}${fullySpecifiedVersion}.`);\n        eventStream.post(nonErrEvent);\n        return '';\n    }\n    return band;\n}\n/**\n *\n * @param fullySpecifiedVersion the version of the sdk, either fully specified or not, but containing a band definition.\n * @returns a single string representing the band patch version, e.g. 12 in 7.0.312.\n * @remarks can return '' if no band exists in the fully specified version, and if considerErrorIfNoBand is false.\n */\nfunction getFeatureBandPatchVersion(fullySpecifiedVersion, eventStream, context, considerErrorIfNoBand = true) {\n    return Number(getSDKPatchVersionString(fullySpecifiedVersion, eventStream, context, considerErrorIfNoBand)).toString();\n}\n/**\n *\n * @remarks the logic for getFeatureBandPatchVersion, except that it returns '01' or '00' instead of the patch number.\n * Can return '' if no band exists in the fully specified version, and if considerErrorIfNoBand is false.\n * Not meant for public use.\n */\nfunction getSDKPatchVersionString(fullySpecifiedVersion, eventStream, context, considerErrorIfNoBand = true) {\n    var _a, _b, _c, _d;\n    const patch = (_d = (_c = (_b = (_a = fullySpecifiedVersion.split('.')) === null || _a === void 0 ? void 0 : _a.at(2)) === null || _b === void 0 ? void 0 : _b.substring(1)) === null || _c === void 0 ? void 0 : _c.split('-')) === null || _d === void 0 ? void 0 : _d.at(0);\n    if (patch === undefined || !isNumber(patch)) {\n        if (considerErrorIfNoBand) {\n            const event = new EventStreamEvents_1.DotnetFeatureBandDoesNotExistError(new EventStreamEvents_1.EventCancellationError('DotnetFeatureBandDoesNotExistError', `${invalidFeatureBandErrorString}${fullySpecifiedVersion}.`), (0, InstallIdUtilities_1.getInstallFromContext)(context));\n            eventStream.post(event);\n            throw event.error;\n        }\n        const nonErrEvent = new EventStreamEvents_1.FeatureBandDoesNotExist(`${invalidFeatureBandErrorString}${fullySpecifiedVersion}.`);\n        eventStream.post(nonErrEvent);\n        return '';\n    }\n    return patch;\n}\n/**\n *\n * @param fullySpecifiedVersion the version of the sdk, either fully specified or not, but containing a band definition.\n * @returns a single string representing the band and patch version, e.g. 312 in 7.0.312.\n * Returns null if the string is not fully specified.\n */\nfunction getSDKCompleteBandAndPatchVersionString(fullySpecifiedVersion, eventStream, context) {\n    try {\n        const band = getFeatureBandFromVersion(fullySpecifiedVersion, eventStream, context, false);\n        const patch = getSDKPatchVersionString(fullySpecifiedVersion, eventStream, context, false);\n        return `${band}${patch}`;\n    }\n    catch (error) {\n        // Catch failure for when version does not include a band, etc\n    }\n    return null;\n}\n/**\n * The runtime version doesn't have a feature band, unlike the SDK. We need to get the patch version from the runtime version.\n * It can contain any amount of text after the patch, such as 9.0.0-rc.2.24473.5. We don't process any of that extra text and should ignore it.\n * Needs to handle 8, 8.0, etc. This is why we don't use semver. We don't error if there isn't a patch but we should if the patch is invalid.\n * Returns null if no patch is in the string (e.g. 8.0).\n */\nfunction getRuntimePatchVersionString(fullySpecifiedVersion, eventStream, context) {\n    var _a, _b, _c;\n    const patch = (_c = (_b = (_a = fullySpecifiedVersion.split('.')) === null || _a === void 0 ? void 0 : _a.at(2)) === null || _b === void 0 ? void 0 : _b.split('-')) === null || _c === void 0 ? void 0 : _c.at(0);\n    if (patch && !isNumber(patch)) {\n        const event = new EventStreamEvents_1.DotnetInvalidRuntimePatchVersion(new EventStreamEvents_1.EventCancellationError('DotnetInvalidRuntimePatchVersion', `The runtime patch version ${patch} from ${fullySpecifiedVersion} is NaN.`), (0, InstallIdUtilities_1.getInstallFromContext)(context));\n        eventStream.post(event);\n        throw event.error;\n    }\n    return patch ? patch : null;\n}\n/**\n *\n * @param fullySpecifiedVersion the requested version to analyze.\n * @returns true IFF version is of an expected length and format.\n */\nfunction isValidLongFormVersionFormat(fullySpecifiedVersion, eventStream, context) {\n    const numberOfPeriods = fullySpecifiedVersion.split('.').length - 1;\n    // 9 is used to prevent bad versions (current expectation is 7 but we want to support .net 10 etc)\n    if (numberOfPeriods === 2 && fullySpecifiedVersion.length < 11) {\n        if (isNonSpecificFeatureBandedVersion(fullySpecifiedVersion) ||\n            (getSDKPatchVersionString(fullySpecifiedVersion, eventStream, context).length <= 2 &&\n                getSDKPatchVersionString(fullySpecifiedVersion, eventStream, context).length > 1)) {\n            return true;\n        }\n        eventStream.post(new EventStreamEvents_1.DotnetVersionParseEvent(`The version has a bad patch number: ${fullySpecifiedVersion}`));\n    }\n    eventStream.post(new EventStreamEvents_1.DotnetVersionParseEvent(`The version has more or less than two periods, or it is too long: ${fullySpecifiedVersion}`));\n    return false;\n}\n/**\n *\n * @param fullySpecifiedVersion the requested version to analyze.\n * @returns true IFF version is of an rc, preview, internal build, etc.\n */\nfunction isPreviewVersion(fullySpecifiedVersion, eventStream, context) {\n    return fullySpecifiedVersion.includes('-');\n}\n/**\n *\n * @param version the requested version to analyze.\n * @returns true IFF version is a feature band with an unspecified sub-version was given e.g. 6.0.4xx or 6.0.40x\n */\nfunction isNonSpecificFeatureBandedVersion(version) {\n    const numberOfPeriods = version.split('.').length - 1;\n    return version.split('.').slice(0, 2).every(x => isNumber(x)) && version.endsWith('x') && numberOfPeriods === 2;\n}\n/**\n *\n * @param version the requested version to analyze.\n * @returns true IFF version is a specific version e.g. 7.0.301.\n */\nfunction isFullySpecifiedVersion(version, eventStream, context) {\n    return version.split('.').every(x => isNumber(x)) && isValidLongFormVersionFormat(version, eventStream, context) && !isNonSpecificFeatureBandedVersion(version);\n}\n/**\n *\n * @param version the requested version to analyze.\n * @returns true IFF a major release represented as an integer was given. e.g. 6, which we convert to 6.0, OR a major minor was given, e.g. 6.1.\n */\nfunction isNonSpecificMajorOrMajorMinorVersion(version) {\n    const numberOfPeriods = version.split('.').length - 1;\n    return isNumber(version) && numberOfPeriods >= 0 && numberOfPeriods < 2;\n}\n/**\n *\n * @param value the string to check and see if it's a valid number.\n * @returns true if it's a valid number.\n */\nfunction isNumber(value) {\n    return ((value != null) &&\n        (value !== '') &&\n        !isNaN(Number(value.toString())));\n}\n//# sourceMappingURL=VersionUtilities.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WinMacGlobalInstaller = void 0;\n/* --------------------------------------------------------------------------------------------\n *  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nconst fs = require(\"fs\");\nconst os = require(\"os\");\nconst path = require(\"path\");\nconst versionUtils = require(\"./VersionUtilities\");\nconst FileUtilities_1 = require(\"../Utils/FileUtilities\");\nconst VersionResolver_1 = require(\"./VersionResolver\");\nconst WebRequestWorker_1 = require(\"../Utils/WebRequestWorker\");\nconst InstallIdUtilities_1 = require(\"../Utils/InstallIdUtilities\");\nconst CommandExecutor_1 = require(\"../Utils/CommandExecutor\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst IGlobalInstaller_1 = require(\"./IGlobalInstaller\");\nconst TypescriptUtilities_1 = require(\"../Utils/TypescriptUtilities\");\nconst RegistryReader_1 = require(\"./RegistryReader\");\nconst CacheTimeConstants_1 = require(\"./CacheTimeConstants\");\nvar validationPromptConstants;\n(function (validationPromptConstants) {\n    validationPromptConstants.noSignatureMessage = `The .NET Installer file could not be validated. It may be insecure or too new to verify. Would you like to continue installing .NET and accept the risks?`;\n    validationPromptConstants.cancelOption = 'Cancel Install';\n    validationPromptConstants.allowOption = 'Install Anyways';\n})(validationPromptConstants || (validationPromptConstants = {}));\n/**\n * @remarks\n * This class manages global .NET SDK installations for windows and mac.\n * Both of these OS's have official installers that we can download and run on the machine.\n * Since Linux does not, it is delegated into its own set of classes.\n */\nclass WinMacGlobalInstaller extends IGlobalInstaller_1.IGlobalInstaller {\n    constructor(context, utilContext, installingVersion, installerUrl, installerHash, executor = null, registryReader = null) {\n        super(context, utilContext);\n        this.cleanupInstallFiles = true;\n        this.completedInstall = false;\n        this.invalidIntegrityError = `The integrity of the .NET install file is invalid, or there was no integrity to check and you denied the request to continue with those risks.\r\nWe cannot verify our .NET file host at this time. Please try again later or install the SDK manually.`;\n        this.installerUrl = installerUrl;\n        this.installingVersion = installingVersion;\n        this.installerHash = installerHash;\n        this.commandRunner = executor !== null && executor !== void 0 ? executor : new CommandExecutor_1.CommandExecutor(context, utilContext);\n        this.versionResolver = new VersionResolver_1.VersionResolver(context);\n        this.file = new FileUtilities_1.FileUtilities();\n        this.webWorker = new WebRequestWorker_1.WebRequestWorker(context, installerUrl);\n        this.registry = registryReader !== null && registryReader !== void 0 ? registryReader : new RegistryReader_1.RegistryReader(context, utilContext);\n    }\n    static InterpretExitCode(code) {\n        const reportLogMessage = `Please provide your .NET Installer log (note our privacy notice), which can be found at %temp%.\r\nThe file has a name like 'Microsoft_.NET_SDK*.log and should appear in recent files.\r\nThis report should be made at https://github.com/dotnet/vscode-dotnet-runtime/issues.`;\n        switch (code) {\n            case '1':\n                return `The .NET SDK installer has failed with a generic failure. ${reportLogMessage}`;\n            case '5':\n                return `Insufficient permissions are available to install .NET. Please run the installer as an administrator.`;\n            case '67':\n                return `The network name cannot be found. ${reportLogMessage}`;\n            case '112':\n                return `The disk is full. Please free up space and try again.`;\n            case '255':\n                return `The .NET Installer was terminated by another process unexpectedly. Please try again.`;\n            case '1260':\n                return `The .NET SDK is blocked by group policy. Can you please report this at https://github.com/dotnet/vscode-dotnet-runtime/issues`;\n            case '1460':\n                return `The .NET SDK had a timeout error. ${reportLogMessage}`;\n            case '1603':\n                return `Fatal error during .NET SDK installation. ${reportLogMessage}`;\n            case '1618':\n                return `Another installation is already in progress. Complete that installation before proceeding with this install.`;\n            case '000751':\n                return `Page fault was satisfied by reading from a secondary storage device. ${reportLogMessage}`;\n            case '2147500037':\n                return `An unspecified error occurred. ${reportLogMessage}`;\n            case '2147942405':\n                return `Insufficient permissions are available to install .NET. Please try again as an administrator.`;\n        }\n        return '';\n    }\n    installSDK(install) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Check for conflicting windows installs\n            if (os.platform() === 'win32') {\n                const conflictingVersion = yield this.GlobalWindowsInstallWithConflictingVersionAlreadyExists(this.installingVersion);\n                if (conflictingVersion !== '') {\n                    if (conflictingVersion === this.installingVersion) {\n                        // The install already exists, we can just exit with Ok.\n                        this.acquisitionContext.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionAlreadyInstalled(install, (this.acquisitionContext.acquisitionContext && this.acquisitionContext.acquisitionContext.requestingExtensionId)\n                            ? this.acquisitionContext.acquisitionContext.requestingExtensionId : null));\n                        return '0';\n                    }\n                    const err = new EventStreamEvents_1.DotnetConflictingGlobalWindowsInstallError(new EventStreamEvents_1.EventCancellationError('DotnetConflictingGlobalWindowsInstallError', `A global install is already on the machine: version ${conflictingVersion}, that conflicts with the requested version.\r\n                    Please uninstall this version first if you would like to continue.\r\n                    If Visual Studio is installed, you may need to use the VS Setup Window to uninstall the SDK component.`), install);\n                    this.acquisitionContext.eventStream.post(err);\n                    throw err.error;\n                }\n            }\n            const installerFile = yield this.downloadInstaller(this.installerUrl);\n            const canContinue = yield this.installerFileHasValidIntegrity(installerFile);\n            if (!canContinue) {\n                const err = new EventStreamEvents_1.DotnetConflictingGlobalWindowsInstallError(new EventStreamEvents_1.EventCancellationError('DotnetConflictingGlobalWindowsInstallError', this.invalidIntegrityError), install);\n                this.acquisitionContext.eventStream.post(err);\n                throw err.error;\n            }\n            const installerResult = yield this.executeInstall(installerFile);\n            return this.handleStatus(installerResult, installerFile, install);\n        });\n    }\n    handleStatus(installerResult_1, installerFile_1, install_1) {\n        return __awaiter(this, arguments, void 0, function* (installerResult, installerFile, install, allowRetry = true) {\n            const validInstallerStatusCodes = ['0', '1641', '3010']; // Ok, Pending Reboot, + Reboot Starting Now\n            const noPermissionStatusCodes = ['1', '5', '1260', '2147942405'];\n            if (validInstallerStatusCodes.includes(installerResult)) {\n                if (this.cleanupInstallFiles) {\n                    this.file.wipeDirectory(path.dirname(installerFile), this.acquisitionContext.eventStream);\n                }\n                return '0'; // These statuses are a success, we don't want to throw.\n            }\n            else if (installerResult === '1602') {\n                // Special code for when user cancels the install\n                const err = new EventStreamEvents_1.DotnetInstallCancelledByUserError(new EventStreamEvents_1.EventCancellationError('DotnetInstallCancelledByUserError', `The install of .NET was cancelled by the user. Aborting.`), install);\n                this.acquisitionContext.eventStream.post(err);\n                throw err.error;\n            }\n            else if (noPermissionStatusCodes.includes(installerResult) && allowRetry) {\n                const retryWithElevationResult = yield this.executeInstall(installerFile, true);\n                return this.handleStatus(retryWithElevationResult, installerFile, install, false);\n            }\n            else {\n                return installerResult;\n            }\n        });\n    }\n    uninstallSDK(install) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (os.platform() === 'win32') {\n                const installerFile = yield this.downloadInstaller(this.installerUrl);\n                const canContinue = yield this.installerFileHasValidIntegrity(installerFile);\n                if (!canContinue) {\n                    const err = new EventStreamEvents_1.DotnetConflictingGlobalWindowsInstallError(new EventStreamEvents_1.EventCancellationError('DotnetConflictingGlobalWindowsInstallError', this.invalidIntegrityError), install);\n                    this.acquisitionContext.eventStream.post(err);\n                    throw err.error;\n                }\n                const command = `${path.resolve(installerFile)}`;\n                const uninstallArgs = ['/uninstall', '/passive', '/norestart'];\n                const commandResult = yield this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(command, uninstallArgs), { timeout: this.acquisitionContext.timeoutSeconds * 1000 });\n                this.handleTimeout(commandResult);\n                return commandResult.status;\n            }\n            else {\n                const macPath = yield this.getMacPath();\n                const command = CommandExecutor_1.CommandExecutor.makeCommand(`rm`, [`-rf`, `${path.join(path.dirname(macPath), 'sdk', install.version)}`, `&&`,\n                    `rm`, `-rf`, `${path.join(path.dirname(macPath), 'sdk-manifests', install.version)}`], true);\n                const commandResult = yield this.commandRunner.execute(command, { timeout: this.acquisitionContext.timeoutSeconds * 1000 });\n                this.handleTimeout(commandResult);\n                return commandResult.status;\n            }\n        });\n    }\n    /**\n     *\n     * @param installerUrl the url of the installer to download.\n     * @returns the path to the installer which was downloaded into a directory managed by us.\n     */\n    downloadInstaller(installerUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const ourInstallerDownloadFolder = IGlobalInstaller_1.IGlobalInstaller.getDownloadedInstallFilesFolder(installerUrl);\n            this.file.wipeDirectory(ourInstallerDownloadFolder, this.acquisitionContext.eventStream);\n            const installerPath = path.join(ourInstallerDownloadFolder, `${installerUrl.split('/').slice(-1)}`);\n            const installerDir = path.dirname(installerPath);\n            if (!fs.existsSync(installerDir)) {\n                fs.mkdirSync(installerDir, { recursive: true });\n            }\n            yield this.webWorker.downloadFile(installerUrl, installerPath);\n            try {\n                if (os.platform() === 'win32') // Windows does not have chmod +x ability with nodejs.\n                 {\n                    const permissionsCommand = CommandExecutor_1.CommandExecutor.makeCommand('icacls', [`\"${installerPath}\"`, '/grant:r', `\"%username%\":F`, '/t', '/c']);\n                    const commandRes = yield this.commandRunner.execute(permissionsCommand, { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.SYSTEM_INFORMATION_CACHE_DURATION_MS }, false);\n                    if (commandRes.stderr !== '') {\n                        const error = new EventStreamEvents_1.EventBasedError('FailedToSetInstallerPermissions', `Failed to set icacls permissions on the installer file ${installerPath}. ${commandRes.stderr}`);\n                        this.acquisitionContext.eventStream.post(new EventStreamEvents_1.SuppressedAcquisitionError(error, error.message));\n                    }\n                }\n                else {\n                    fs.chmodSync(installerPath, 0o744);\n                }\n            }\n            catch (error) {\n                this.acquisitionContext.eventStream.post(new EventStreamEvents_1.SuppressedAcquisitionError(error, `Failed to chmod +x on ${installerPath}.`));\n            }\n            return installerPath;\n        });\n    }\n    userChoosesToContinueWithInvalidHash() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const yes = validationPromptConstants.allowOption;\n            const no = validationPromptConstants.cancelOption;\n            const message = validationPromptConstants.noSignatureMessage;\n            const pick = yield this.utilityContext.ui.getModalWarningResponse(message, no, yes);\n            const userConsentsToContinue = pick === yes;\n            this.acquisitionContext.eventStream.post(new EventStreamEvents_1.DotnetFileIntegrityCheckEvent(`The valid hash could not be found. The user chose to continue? ${userConsentsToContinue}`));\n            return userConsentsToContinue;\n        });\n    }\n    installerFileHasValidIntegrity(installerFile) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            try {\n                const realFileHash = yield this.file.getFileHash(installerFile);\n                this.acquisitionContext.eventStream.post(new EventStreamEvents_1.DotnetFileIntegrityCheckEvent(`The hash of the installer file we downloaded is ${realFileHash}`));\n                const expectedFileHash = this.installerHash;\n                this.acquisitionContext.eventStream.post(new EventStreamEvents_1.DotnetFileIntegrityCheckEvent(`The valid and expected hash of the installer file is ${expectedFileHash}`));\n                if (expectedFileHash === null) {\n                    return yield this.userChoosesToContinueWithInvalidHash();\n                }\n                if (realFileHash !== expectedFileHash) {\n                    this.acquisitionContext.eventStream.post(new EventStreamEvents_1.DotnetFileIntegrityCheckEvent(`The hashes DO NOT match.`));\n                    return false;\n                }\n                else {\n                    this.acquisitionContext.eventStream.post(new EventStreamEvents_1.DotnetFileIntegrityCheckEvent(`This file is valid.`));\n                    return true;\n                }\n            }\n            catch (error) {\n                // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                if ((_a = error === null || error === void 0 ? void 0 : error.message) === null || _a === void 0 ? void 0 : _a.includes('ENOENT')) {\n                    this.acquisitionContext.eventStream.post(new EventStreamEvents_1.DotnetFileIntegrityFailureEvent(`The file ${installerFile} was not found, so we couldn't verify it.\r\nPlease try again, or download the .NET Installer file yourself. You may also report your issue at https://github.com/dotnet/vscode-dotnet-runtime/issues.`));\n                }\n                // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                else if ((_b = error === null || error === void 0 ? void 0 : error.message) === null || _b === void 0 ? void 0 : _b.includes('EPERM')) {\n                    this.acquisitionContext.eventStream.post(new EventStreamEvents_1.DotnetFileIntegrityFailureEvent(`The file ${installerFile} did not have the correct permissions scope to be assessed.\r\nPermissions: ${JSON.stringify(yield this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand('icacls', [`\"${installerFile}\"`]), { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.SYSTEM_INFORMATION_CACHE_DURATION_MS }))}`));\n                }\n                return this.userChoosesToContinueWithInvalidHash();\n            }\n        });\n    }\n    // async is needed to match the interface even if we don't use await.\n    // eslint-disable-next-line @typescript-eslint/require-await\n    getExpectedGlobalSDKPath(specificSDKVersionInstalled_1, installedArch_1) {\n        return __awaiter(this, arguments, void 0, function* (specificSDKVersionInstalled, installedArch, macPathShouldExist = true) {\n            if (os.platform() === 'win32') {\n                // The program files should always be set, but in the off chance they are wiped, we can try to use the default as backup.\n                // Both ia32 and x64 machines will use 'Program Files'\n                if (process.env.programfiles) {\n                    if (os.arch() === 'arm64' && installedArch === 'x64') {\n                        return path.resolve(path.join(process.env.programfiles, 'dotnet', 'x64', 'dotnet.exe'));\n                    }\n                    return path.resolve(path.join(process.env.programfiles, 'dotnet', 'dotnet.exe'));\n                }\n                if (os.arch() === 'arm64' && installedArch === 'x64') {\n                    return path.resolve(`C:\\\\Program Files\\\\dotnet\\\\x64\\\\dotnet.exe`);\n                }\n                return path.resolve(`C:\\\\Program Files\\\\dotnet\\\\dotnet.exe`);\n            }\n            else if (os.platform() === 'darwin') {\n                const sdkPath = yield this.getMacPath(macPathShouldExist);\n                return sdkPath;\n            }\n            const err = new EventStreamEvents_1.DotnetUnexpectedInstallerOSError(new EventStreamEvents_1.EventBasedError('DotnetUnexpectedInstallerOSError', `The operating system ${os.platform()} is unsupported.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.acquisitionContext));\n            this.acquisitionContext.eventStream.post(err);\n            throw err.error;\n        });\n    }\n    handleTimeout(commandResult) {\n        if (commandResult.status === 'SIGTERM') {\n            const noResponseError = new EventStreamEvents_1.DotnetNoInstallerResponseError(new EventStreamEvents_1.EventBasedError('DotnetNoInstallerResponseError', `The .NET Installer did not complete after ${this.acquisitionContext.timeoutSeconds} seconds.\r\nIf you would like to install .NET, please proceed to interact with the .NET Installer pop-up.\r\nIf you were waiting for the install to succeed, please extend the timeout setting of the .NET Install Tool extension.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.acquisitionContext));\n            this.acquisitionContext.eventStream.post(noResponseError);\n            throw noResponseError.error;\n        }\n    }\n    getMacPath() {\n        return __awaiter(this, arguments, void 0, function* (macPathShouldExist = true) {\n            const standardHostPath = path.resolve(`/usr/local/share/dotnet/dotnet`);\n            const arm64EmulationHostPath = path.resolve(`/usr/local/share/dotnet/x64/dotnet`);\n            if ((os.arch() === 'x64' || os.arch() === 'ia32') && (yield (0, TypescriptUtilities_1.getOSArch)(this.commandRunner)).includes('arm') && (fs.existsSync(arm64EmulationHostPath) || !macPathShouldExist)) {\n                // VS Code runs on an emulated version of node which will return x64 or use x86 emulation for ARM devices.\n                // os.arch() returns the architecture of the node binary, not the system architecture, so it will not report arm on an arm device.\n                return arm64EmulationHostPath;\n            }\n            if (!macPathShouldExist || fs.existsSync(standardHostPath) || !fs.existsSync(arm64EmulationHostPath)) {\n                return standardHostPath;\n            }\n            return arm64EmulationHostPath;\n        });\n    }\n    /**\n     *\n     * @param installerPath The path to the installer file to run.\n     * @returns The exit result from running the global install.\n     */\n    executeInstall(installerPath_1) {\n        return __awaiter(this, arguments, void 0, function* (installerPath, elevateVsCode = false) {\n            var _a, _b;\n            if (os.platform() === 'darwin') {\n                // For Mac:\n                // We don't rely on the installer because it doesn't allow us to run without sudo, and we don't want to handle the user password.\n                // The -W flag makes it so we wait for the installer .pkg to exit, though we are unable to get the exit code.\n                const possibleCommands = [\n                    CommandExecutor_1.CommandExecutor.makeCommand(`command`, [`-v`, `open`]),\n                    CommandExecutor_1.CommandExecutor.makeCommand(`/usr/bin/open`, [])\n                ];\n                let workingCommand = yield this.commandRunner.tryFindWorkingCommand(possibleCommands);\n                if (!workingCommand) {\n                    const error = new EventStreamEvents_1.EventBasedError('OSXOpenNotAvailableError', `The 'open' command on OSX was not detected. This is likely due to the PATH environment variable on your system being clobbered by another program.\r\nPlease correct your PATH variable or make sure the 'open' utility is installed so .NET can properly execute.`);\n                    this.acquisitionContext.eventStream.post(new EventStreamEvents_1.OSXOpenNotAvailableError(error, (0, InstallIdUtilities_1.getInstallFromContext)(this.acquisitionContext)));\n                    throw error;\n                }\n                else if (workingCommand.commandRoot === 'command') {\n                    workingCommand = CommandExecutor_1.CommandExecutor.makeCommand(`open`, [`-W`, `\"${path.resolve(installerPath)}\"`]);\n                }\n                this.acquisitionContext.eventStream.post(new EventStreamEvents_1.NetInstallerBeginExecutionEvent(`The OS X .NET Installer has been launched.`));\n                const commandResult = yield this.commandRunner.execute(workingCommand, { timeout: this.acquisitionContext.timeoutSeconds * 1000 });\n                this.acquisitionContext.eventStream.post(new EventStreamEvents_1.NetInstallerEndExecutionEvent(`The OS X .NET Installer has closed.`));\n                this.handleTimeout(commandResult);\n                return commandResult.status;\n            }\n            else {\n                const command = `\"${path.resolve(installerPath)}\"`;\n                let commandOptions = [];\n                if (yield this.file.isElevated(this.acquisitionContext, this.utilityContext)) {\n                    commandOptions = [`/quiet`, `/install`, `/norestart`];\n                }\n                else {\n                    commandOptions = [`/passive`, `/install`, `/norestart`];\n                }\n                this.acquisitionContext.eventStream.post(new EventStreamEvents_1.NetInstallerBeginExecutionEvent(`The Windows .NET Installer has been launched.`));\n                try {\n                    const commandResult = yield this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(command, commandOptions, elevateVsCode), { timeout: this.acquisitionContext.timeoutSeconds * 1000 });\n                    this.handleTimeout(commandResult);\n                    this.acquisitionContext.eventStream.post(new EventStreamEvents_1.NetInstallerEndExecutionEvent(`The Windows .NET Installer has closed.`));\n                    return commandResult.status;\n                }\n                catch (error) {\n                    // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                    if ((_a = error === null || error === void 0 ? void 0 : error.message) === null || _a === void 0 ? void 0 : _a.includes('EPERM')) {\n                        // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                        error.message = `The installer does not have permission to execute. Please try running as an administrator. ${error === null || error === void 0 ? void 0 : error.message}.\r\nPermissions: ${JSON.stringify(yield this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand('icacls', [`\"${installerPath}\"`]), { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.SYSTEM_INFORMATION_CACHE_DURATION_MS }))}`;\n                    }\n                    // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                    else if ((_b = error === null || error === void 0 ? void 0 : error.message) === null || _b === void 0 ? void 0 : _b.includes('ENOENT')) {\n                        // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                        error.message = `The .NET Installation files were not found. Please try again. ${error === null || error === void 0 ? void 0 : error.message}`;\n                    }\n                    throw error;\n                }\n            }\n        });\n    }\n    /**\n     *\n     * @returns Returns '' if no conflicting version was found on the machine.\n     * Returns the existing version if a global install with the requested version already exists.\n     * OR: If a global install exists for the same band with a higher version.\n     * For non-windows cases: In Mac the installer is always shown so that will show users this. For Linux, it's handled by the distro specific code.\n     */\n    GlobalWindowsInstallWithConflictingVersionAlreadyExists(requestedVersion) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Note that we could be more intelligent here and consider only if the SDKs conflict within an architecture, but for now we won't do this.\n            const sdks = yield this.registry.getGlobalSdkVersionsInstalledOnMachine();\n            for (const sdk of sdks) {\n                if ( // Side by side installs of the same major.minor and band can cause issues in some cases. So we decided to just not allow it unless upgrading to a newer patch version.\n                // The installer can catch this but we can avoid unnecessary work this way,\n                // and for windows the installer may never appear to the user. With this approach, we don't need to handle installer error codes.\n                Number(versionUtils.getMajorMinor(requestedVersion, this.acquisitionContext.eventStream, this.acquisitionContext)) ===\n                    Number(versionUtils.getMajorMinor(sdk, this.acquisitionContext.eventStream, this.acquisitionContext)) &&\n                    Number(versionUtils.getFeatureBandFromVersion(requestedVersion, this.acquisitionContext.eventStream, this.acquisitionContext)) ===\n                        Number(versionUtils.getFeatureBandFromVersion(sdk, this.acquisitionContext.eventStream, this.acquisitionContext)) &&\n                    Number(versionUtils.getFeatureBandPatchVersion(requestedVersion, this.acquisitionContext.eventStream, this.acquisitionContext)) <=\n                        Number(versionUtils.getFeatureBandPatchVersion(sdk, this.acquisitionContext.eventStream, this.acquisitionContext))) {\n                    return sdk;\n                }\n            }\n            return '';\n        });\n    }\n}\nexports.WinMacGlobalInstaller = WinMacGlobalInstaller;\n//# sourceMappingURL=WinMacGlobalInstaller.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=DotnetVersionSpecRequirement.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventStream = void 0;\nconst vscode = require(\"vscode\");\nclass EventStream {\n    constructor() {\n        this.subscribeEmitter = new vscode.EventEmitter();\n    }\n    post(event) {\n        this.subscribeEmitter.fire(event);\n    }\n    get subscribe() { return this.subscribeEmitter.event; }\n}\nexports.EventStream = EventStream;\n//# sourceMappingURL=EventStream.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DotnetAcquisitionUnexpectedError = exports.DotnetAcquisitionVersionError = exports.DotnetWSLSecurityError = exports.DotnetInvalidRuntimePatchVersion = exports.DotnetFeatureBandDoesNotExistError = exports.DotnetUnexpectedInstallerArchitectureError = exports.DotnetUnexpectedInstallerOSError = exports.DotnetNoInstallerResponseError = exports.DotnetNoInstallerFileExistsError = exports.DotnetInvalidReleasesJSONError = exports.DotnetCommandFailed = exports.InvalidUninstallRequest = exports.DotnetNotInstallRelatedCommandFailed = exports.CommandExecutionNonZeroExitFailure = exports.TimeoutSudoCommandExecutionError = exports.TimeoutSudoProcessSpawnerError = exports.DotnetPreinstallDetectionError = exports.DotnetDownloadFailure = exports.DiskIsFullError = exports.WebRequestError = exports.OSXOpenNotAvailableError = exports.DotnetInstallationValidationMissed = exports.OfflineDetectionLogicTriggered = exports.UserManualInstallFailure = exports.DotnetInstallScriptAcquisitionError = exports.SuppressedAcquisitionError = exports.DotnetInstallExpectedAbort = exports.DotnetNonAcquisitionError = exports.DotnetASPNetRuntimeFinalAcquisitionError = exports.DotnetRuntimeFinalAcquisitionError = exports.DotnetGlobalSDKAcquisitionError = exports.DotnetAcquisitionFinalError = exports.DotnetAcquisitionError = exports.DotnetAcquisitionCompleted = exports.DotnetASPNetRuntimeAcquisitionRequested = exports.DotnetGlobalSDKAcquisitionRequested = exports.DotnetRuntimeAcquisitionRequested = exports.DotnetAcquisitionRequested = exports.DotnetASPNetRuntimeAcquisitionTotalSuccessEvent = exports.DotnetGlobalSDKAcquisitionTotalSuccessEvent = exports.DotnetRuntimeAcquisitionTotalSuccessEvent = exports.DotnetAcquisitionTotalSuccessEvent = exports.DotnetASPNetRuntimeAcquisitionStarted = exports.DotnetGlobalSDKAcquisitionStarted = exports.DotnetSDKAcquisitionStarted = exports.DotnetRuntimeAcquisitionStarted = exports.DotnetAcquisitionStarted = exports.GenericModalEvent = exports.EventBasedError = exports.EventCancellationError = void 0;\nexports.SkipAddingInstallEvent = exports.RemovingOwnerFromList = exports.RemovingExtensionFromList = exports.RemovingVersionFromExtensionState = exports.FoundTrackingVersions = exports.ConvertingLegacyInstallRecord = exports.NoExtensionIdProvided = exports.DotnetUninstallFailed = exports.DotnetUninstallCompleted = exports.DotnetUninstallStarted = exports.FileDoesNotExist = exports.FeatureBandDoesNotExist = exports.TriedToExitMasterSudoProcess = exports.FileToWipe = exports.EmptyDirectoryToWipe = exports.WebRequestTimeUnknown = exports.WebRequestCachedTime = exports.WebRequestTime = exports.WebRequestTimer = exports.DuplicateInstallDetected = exports.DotnetVersionCategorizedEvent = exports.DotnetUnableToCheckPATHArchitecture = exports.DotnetFileIntegrityFailureEvent = exports.DotnetVisibleWarningEvent = exports.DotnetCustomMessageEvent = exports.DotnetFallbackInstallScriptUsed = exports.DotnetAcquisitionDeletion = exports.DotnetAcquisitionMessage = exports.DotnetExistingPathResolutionCompleted = exports.DotnetInstallScriptAcquisitionCompleted = exports.DotnetVersionResolutionCompleted = exports.DotnetUninstallAllCompleted = exports.DotnetUninstallAllStarted = exports.DotnetCommandSucceeded = exports.DotnetAcquisitionSuccessEvent = exports.DotnetAcquisitionDistroUnknownError = exports.DotnetInstallationValidationError = exports.DotnetCustomLinuxInstallExistsError = exports.DotnetConflictingLinuxInstallTypesError = exports.DotnetVersionResolutionError = exports.DotnetAcquisitionTimeoutError = exports.PowershellBadExecutionPolicy = exports.PowershellBadLanguageMode = exports.DotnetOfflineFailure = exports.DotnetNonZeroInstallerExitCodeError = exports.DotnetDebuggingMessage = exports.DotnetInstallCancelledByUserError = exports.DotnetConflictingGlobalWindowsInstallError = exports.DotnetAcquisitionScriptError = exports.DotnetAcquisitionInstallError = void 0;\nexports.DotnetCommandFallbackArchitectureEvent = exports.DotnetAlternativeCommandFoundEvent = exports.DotnetInstallGraveyardEvent = exports.DotnetGlobalAcquisitionCompletionEvent = exports.DotnetCompletedGlobalInstallerExecution = exports.DotnetBeginGlobalInstallerExecution = exports.CommandProcessorExecutionEnd = exports.CommandProcessorExecutionBegin = exports.CommandProcessesExecutionFailureNonTerminal = exports.DotnetGlobalVersionResolutionCompletionEvent = exports.DotnetGlobalAcquisitionBeginEvent = exports.CommandExecutionStdError = exports.NoMatchingInstallToStopTracking = exports.CommandExecutionStdOut = exports.UserManualInstallSuccess = exports.UserManualInstallRequested = exports.UserManualInstallVersionChosen = exports.GlobalAcquisitionContextMenuOpened = exports.DotnetFileIntegrityCheckEvent = exports.DotnetCommandNotFoundEvent = exports.DotnetVSCodeExtensionChange = exports.DotnetVSCodeExtensionHasInstallRequest = exports.DotnetVSCodeExtensionFound = exports.DotnetTelemetrySettingEvent = exports.DotnetFindPathDidNotMeetCondition = exports.DotnetFindPathNoPathMetCondition = exports.DotnetFindPathMetCondition = exports.DotnetFindPathRootPATHFound = exports.DotnetFindPathRootUnderEmulationButNoneSet = exports.DotnetFindPathRootEmulationPATHFound = exports.DotnetFindPathLookupRootPATH = exports.DotnetFindPathNoRuntimesOnHost = exports.DotnetFindPathNoHostOnFileSystem = exports.DotnetFindPathOnFileSystem = exports.DotnetFindPathNoHostOnRegistry = exports.DotnetFindPathOnRegistry = exports.DotnetFindPathHostFxrResolutionLookup = exports.DotnetFindPathRealPATHFound = exports.DotnetFindPathLookupRealPATH = exports.DotnetFindPathPATHFound = exports.DotnetFindPathLookupPATH = exports.DotnetFindPathSettingFound = exports.DotnetFindPathLookupSetting = exports.CacheGetEvent = exports.CachePutEvent = exports.CacheClearEvent = exports.DotnetFindPathCommandInvoked = exports.DotnetWSLOperationOutputEvent = exports.DotnetWSLCheckEvent = exports.AddTrackingVersions = void 0;\nexports.TestAcquireCalled = exports.DotnetPreinstallDetected = exports.WebRequestSent = exports.DotnetAcquisitionStatusResolved = exports.DotnetAcquisitionStatusUndefined = exports.DotnetAcquisitionStatusRequested = exports.DotnetInstallationValidated = exports.DotnetAcquisitionScriptOutput = exports.DotnetAcquisitionMissingLinuxDependencies = exports.DotnetAcquisitionAlreadyInstalled = exports.DotnetAcquisitionInProgress = exports.DotnetAcquisitionPartialInstallation = exports.DotnetFileWriteRequestEvent = exports.DotnetLockAttemptingAcquireEvent = exports.DotnetLockErrorEvent = exports.DotnetLockReleasedEvent = exports.DotnetLockAcquiredEvent = exports.DotnetLockEvent = exports.DotnetFileEvent = exports.DotnetInstallLinuxChecks = exports.NetInstallerEndExecutionEvent = exports.NetInstallerBeginExecutionEvent = exports.DotnetOfflineWarning = exports.DotnetOfflineInstallUsed = exports.DotnetUpgradedEvent = exports.DotnetVersionParseEvent = exports.CommandExecutionUnknownCommandExecutionAttempt = exports.CommandExecutionUserRejectedPasswordRequest = exports.CommandExecutionUnderSudoEvent = exports.CommandExecutionUserCompletedDialogueEvent = exports.CommandExecutionUserAskDialogueEvent = exports.SudoProcCommandExchangeEnd = exports.WaitingForDotnetInstallerResponse = exports.SudoProcCommandExchangePing = exports.SudoProcCommandExchangeBegin = exports.SudoProcAliveCheckEnd = exports.SudoProcAliveCheckBegin = exports.CommandExecutionEvent = exports.CommandExecutionStatusEvent = exports.CommandExecutionSignalSentEvent = exports.CommandExecutionNoStatusCodeWarning = exports.DotnetFakeSDKEnvironmentVariableTriggered = exports.DotnetLegacyInstallRemovalRequestEvent = exports.DotnetLegacyInstallDetectedEvent = exports.DotnetInstallIdCreatedEvent = exports.DotnetCommandFallbackOSEvent = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst DotnetInstall_1 = require(\"../Acquisition/DotnetInstall\");\nconst EventType_1 = require(\"./EventType\");\nconst IEvent_1 = require(\"./IEvent\");\nconst TelemetryUtilities_1 = require(\"./TelemetryUtilities\");\nclass EventCancellationError extends Error {\n    constructor(eventType, msg, stack) {\n        super(msg);\n        this.eventType = eventType;\n    }\n}\nexports.EventCancellationError = EventCancellationError;\nclass EventBasedError extends Error {\n    constructor(eventType, msg, stack) {\n        super(msg);\n        this.eventType = eventType;\n    }\n}\nexports.EventBasedError = EventBasedError;\nclass GenericModalEvent extends IEvent_1.IEvent {\n}\nexports.GenericModalEvent = GenericModalEvent;\nclass DotnetAcquisitionStarted extends GenericModalEvent {\n    constructor(install, startingVersion, requestingExtensionId = '') {\n        super();\n        this.install = install;\n        this.startingVersion = startingVersion;\n        this.requestingExtensionId = requestingExtensionId;\n        this.eventName = 'DotnetAcquisitionStarted';\n        this.type = EventType_1.EventType.DotnetAcquisitionStart;\n        this.mode = install.installMode;\n        this.installType = install.isGlobal ? 'global' : 'local';\n    }\n    getProperties() {\n        return Object.assign(Object.assign({}, (0, DotnetInstall_1.InstallToStrings)(this.install)), { AcquisitionStartVersion: this.startingVersion, AcquisitionInstallId: this.install.installId, extensionId: this.requestingExtensionId });\n    }\n}\nexports.DotnetAcquisitionStarted = DotnetAcquisitionStarted;\nclass DotnetAcquisitionStartedBase extends IEvent_1.IEvent {\n    constructor(requestingExtensionId = '') {\n        super();\n        this.requestingExtensionId = requestingExtensionId;\n    }\n    getProperties() {\n        return { extensionId: TelemetryUtilities_1.TelemetryUtilities.HashData(this.requestingExtensionId) };\n    }\n}\nclass DotnetRuntimeAcquisitionStarted extends DotnetAcquisitionStartedBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetRuntimeAcquisitionStarted';\n        this.type = EventType_1.EventType.DotnetModalChildEvent;\n    }\n}\nexports.DotnetRuntimeAcquisitionStarted = DotnetRuntimeAcquisitionStarted;\nclass DotnetSDKAcquisitionStarted extends DotnetAcquisitionStartedBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetSDKAcquisitionStarted';\n        this.type = EventType_1.EventType.DotnetModalChildEvent;\n    }\n}\nexports.DotnetSDKAcquisitionStarted = DotnetSDKAcquisitionStarted;\nclass DotnetGlobalSDKAcquisitionStarted extends DotnetAcquisitionStartedBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetGlobalSDKAcquisitionStarted';\n        this.type = EventType_1.EventType.DotnetModalChildEvent;\n    }\n}\nexports.DotnetGlobalSDKAcquisitionStarted = DotnetGlobalSDKAcquisitionStarted;\nclass DotnetASPNetRuntimeAcquisitionStarted extends DotnetAcquisitionStartedBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetASPNetRuntimeAcquisitionStarted';\n        this.type = EventType_1.EventType.DotnetModalChildEvent;\n    }\n}\nexports.DotnetASPNetRuntimeAcquisitionStarted = DotnetASPNetRuntimeAcquisitionStarted;\nclass DotnetAcquisitionTotalSuccessEvent extends GenericModalEvent {\n    constructor(startingVersion, install, requestingExtensionId = '', finalPath) {\n        super();\n        this.startingVersion = startingVersion;\n        this.install = install;\n        this.requestingExtensionId = requestingExtensionId;\n        this.finalPath = finalPath;\n        this.type = EventType_1.EventType.DotnetTotalSuccessEvent;\n        this.eventName = 'DotnetAcquisitionTotalSuccessEvent';\n        this.mode = install.installMode;\n        this.installType = install.isGlobal ? 'global' : 'local';\n    }\n    getProperties() {\n        return Object.assign(Object.assign({ AcquisitionStartVersion: this.startingVersion, AcquisitionInstallId: this.install.installId }, (0, DotnetInstall_1.InstallToStrings)(this.install)), { ExtensionId: TelemetryUtilities_1.TelemetryUtilities.HashData(this.requestingExtensionId), FinalPath: this.finalPath });\n    }\n}\nexports.DotnetAcquisitionTotalSuccessEvent = DotnetAcquisitionTotalSuccessEvent;\nclass DotnetAcquisitionTotalSuccessEventBase extends IEvent_1.IEvent {\n    constructor(installId) {\n        super();\n        this.installId = installId;\n        this.type = EventType_1.EventType.DotnetModalChildEvent;\n    }\n    getProperties() {\n        return Object.assign({}, (0, DotnetInstall_1.InstallToStrings)(this.installId));\n    }\n}\nclass DotnetRuntimeAcquisitionTotalSuccessEvent extends DotnetAcquisitionTotalSuccessEventBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetRuntimeAcquisitionTotalSuccessEvent';\n    }\n}\nexports.DotnetRuntimeAcquisitionTotalSuccessEvent = DotnetRuntimeAcquisitionTotalSuccessEvent;\nclass DotnetGlobalSDKAcquisitionTotalSuccessEvent extends DotnetAcquisitionTotalSuccessEventBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetGlobalSDKAcquisitionTotalSuccessEvent';\n    }\n}\nexports.DotnetGlobalSDKAcquisitionTotalSuccessEvent = DotnetGlobalSDKAcquisitionTotalSuccessEvent;\nclass DotnetASPNetRuntimeAcquisitionTotalSuccessEvent extends DotnetAcquisitionTotalSuccessEventBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetASPNetRuntimeAcquisitionTotalSuccessEvent';\n    }\n}\nexports.DotnetASPNetRuntimeAcquisitionTotalSuccessEvent = DotnetASPNetRuntimeAcquisitionTotalSuccessEvent;\nclass DotnetAcquisitionRequested extends GenericModalEvent {\n    constructor(startingVersion, requestingId = '', mode, installType) {\n        super();\n        this.startingVersion = startingVersion;\n        this.requestingId = requestingId;\n        this.eventName = 'DotnetAcquisitionRequested';\n        this.type = EventType_1.EventType.DotnetTotalSuccessEvent;\n        this.mode = mode;\n        this.installType = installType;\n    }\n    getProperties() {\n        return {\n            AcquisitionStartVersion: this.startingVersion,\n            RequestingExtensionId: TelemetryUtilities_1.TelemetryUtilities.HashData(this.requestingId)\n        };\n    }\n}\nexports.DotnetAcquisitionRequested = DotnetAcquisitionRequested;\nclass DotnetAcquisitionRequestedEventBase extends IEvent_1.IEvent {\n    constructor(startingVersion, requestingId = '', mode) {\n        super();\n        this.startingVersion = startingVersion;\n        this.requestingId = requestingId;\n        this.mode = mode;\n        this.type = EventType_1.EventType.DotnetModalChildEvent;\n    }\n    getProperties() {\n        return {\n            AcquisitionStartVersion: this.startingVersion,\n            RequestingExtensionId: TelemetryUtilities_1.TelemetryUtilities.HashData(this.requestingId),\n            Mode: this.mode\n        };\n    }\n}\nclass DotnetRuntimeAcquisitionRequested extends DotnetAcquisitionRequestedEventBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetRuntimeAcquisitionRequested';\n    }\n}\nexports.DotnetRuntimeAcquisitionRequested = DotnetRuntimeAcquisitionRequested;\nclass DotnetGlobalSDKAcquisitionRequested extends DotnetAcquisitionRequestedEventBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetGlobalSDKAcquisitionRequested';\n    }\n}\nexports.DotnetGlobalSDKAcquisitionRequested = DotnetGlobalSDKAcquisitionRequested;\nclass DotnetASPNetRuntimeAcquisitionRequested extends DotnetAcquisitionRequestedEventBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetASPNetRuntimeAcquisitionRequested';\n    }\n}\nexports.DotnetASPNetRuntimeAcquisitionRequested = DotnetASPNetRuntimeAcquisitionRequested;\nclass DotnetAcquisitionCompleted extends IEvent_1.IEvent {\n    constructor(install, dotnetPath, version) {\n        super();\n        this.install = install;\n        this.dotnetPath = dotnetPath;\n        this.version = version;\n        this.eventName = 'DotnetAcquisitionCompleted';\n        this.type = EventType_1.EventType.DotnetAcquisitionCompleted;\n    }\n    getProperties(telemetry = false) {\n        if (telemetry) {\n            return Object.assign(Object.assign({}, (0, DotnetInstall_1.InstallToStrings)(this.install)), { AcquisitionCompletedInstallId: this.install.installId, AcquisitionCompletedVersion: this.version });\n        }\n        else {\n            return Object.assign(Object.assign({}, (0, DotnetInstall_1.InstallToStrings)(this.install)), { AcquisitionCompletedVersion: this.version, AcquisitionCompletedInstallId: this.install.installId, AcquisitionCompletedDotnetPath: this.dotnetPath });\n        }\n    }\n}\nexports.DotnetAcquisitionCompleted = DotnetAcquisitionCompleted;\nclass DotnetAcquisitionError extends IEvent_1.IEvent {\n    /**\n     *\n     * @param error The error that triggered, so the call stack, etc. can be analyzed.\n     * @param install For acquisition errors, you MUST include this install id. For commands unrelated to acquiring or managing a specific dotnet version, you\n     * have the option to leave this parameter null. If it is NULL during acquisition the extension CANNOT properly manage what it has finished installing or not.\n     */\n    constructor(error, install) {\n        super();\n        this.error = error;\n        this.install = install;\n        this.type = EventType_1.EventType.DotnetAcquisitionError;\n        this.isError = true;\n    }\n    getProperties(telemetry = false) {\n        var _a, _b;\n        return Object.assign({ ErrorName: this.error.name, ErrorMessage: this.error.message, StackTrace: this.error.stack ? TelemetryUtilities_1.TelemetryUtilities.HashAllPaths(this.error.stack) : '', InstallId: (_b = (_a = this.install) === null || _a === void 0 ? void 0 : _a.installId) !== null && _b !== void 0 ? _b : 'null' }, (0, DotnetInstall_1.InstallToStrings)(this.install));\n    }\n}\nexports.DotnetAcquisitionError = DotnetAcquisitionError;\nclass DotnetAcquisitionFinalError extends GenericModalEvent {\n    constructor(error, originalEventName, install) {\n        super();\n        this.error = error;\n        this.originalEventName = originalEventName;\n        this.install = install;\n        this.type = EventType_1.EventType.DotnetAcquisitionFinalError;\n        this.eventName = 'DotnetAcquisitionFinalError';\n        this.mode = install.installMode;\n        this.installType = install.isGlobal ? 'global' : 'local';\n    }\n    getProperties(telemetry = false) {\n        var _a, _b;\n        return Object.assign({ ErrorName: this.error.name, ErrorMessage: this.error.message, StackTrace: this.error.stack ? TelemetryUtilities_1.TelemetryUtilities.HashAllPaths(this.error.stack) : '', InstallId: (_b = (_a = this.install) === null || _a === void 0 ? void 0 : _a.installId) !== null && _b !== void 0 ? _b : 'null' }, (0, DotnetInstall_1.InstallToStrings)(this.install));\n    }\n}\nexports.DotnetAcquisitionFinalError = DotnetAcquisitionFinalError;\n/**\n * @remarks A wrapper around events to detect them as a failure to install.\n * This allows us to count all errors and analyze them into categories.\n * The event name for the failure cause is stored in the originalEventName property.\n */\nclass DotnetAcquisitionFinalErrorBase extends DotnetAcquisitionError {\n    constructor(error, originalEventName, install) {\n        super(error, install);\n        this.error = error;\n        this.originalEventName = originalEventName;\n        this.install = install;\n        this.type = EventType_1.EventType.DotnetAcquisitionFinalError;\n    }\n    getProperties(telemetry = false) {\n        var _a, _b;\n        return Object.assign({ FailureMode: this.originalEventName, ErrorName: this.error.name, ErrorMessage: this.error.message, StackTrace: this.error.stack ? TelemetryUtilities_1.TelemetryUtilities.HashAllPaths(this.error.stack) : '', InstallId: (_b = (_a = this.install) === null || _a === void 0 ? void 0 : _a.installId) !== null && _b !== void 0 ? _b : 'null' }, (0, DotnetInstall_1.InstallToStrings)(this.install));\n    }\n}\nclass DotnetGlobalSDKAcquisitionError extends DotnetAcquisitionFinalErrorBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetGlobalSDKAcquisitionError';\n    }\n}\nexports.DotnetGlobalSDKAcquisitionError = DotnetGlobalSDKAcquisitionError;\nclass DotnetRuntimeFinalAcquisitionError extends DotnetAcquisitionFinalErrorBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetRuntimeFinalAcquisitionError';\n    }\n}\nexports.DotnetRuntimeFinalAcquisitionError = DotnetRuntimeFinalAcquisitionError;\nclass DotnetASPNetRuntimeFinalAcquisitionError extends DotnetAcquisitionFinalErrorBase {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetASPNetRuntimeFinalAcquisitionError';\n    }\n}\nexports.DotnetASPNetRuntimeFinalAcquisitionError = DotnetASPNetRuntimeFinalAcquisitionError;\nclass DotnetNonAcquisitionError extends IEvent_1.IEvent {\n    constructor(error) {\n        super();\n        this.error = error;\n        this.type = EventType_1.EventType.DotnetAcquisitionError;\n        this.isError = true;\n    }\n    getProperties(telemetry = false) {\n        return {\n            ErrorName: this.error.name,\n            ErrorMessage: this.error.message,\n            StackTrace: this.error.stack ? TelemetryUtilities_1.TelemetryUtilities.HashAllPaths(this.error.stack) : ''\n        };\n    }\n}\nexports.DotnetNonAcquisitionError = DotnetNonAcquisitionError;\nclass DotnetInstallExpectedAbort extends IEvent_1.IEvent {\n    /**\n     *\n     * @param error The error that triggered, so the call stack, etc. can be analyzed.\n     * @param install For acquisition errors, you MUST include this install id. For commands unrelated to acquiring or managing a specific dotnet version, you\n     * have the option to leave this parameter null. If it is NULL during acquisition the extension CANNOT properly manage what it has finished installing or not.\n     */\n    constructor(error, install) {\n        super();\n        this.error = error;\n        this.install = install;\n        this.type = EventType_1.EventType.DotnetInstallExpectedAbort;\n        this.isError = true;\n    }\n    getProperties(telemetry = false) {\n        var _a, _b;\n        if (this.install) {\n            return Object.assign({ ErrorName: this.error.name, ErrorMessage: this.error.message, StackTrace: this.error.stack ? TelemetryUtilities_1.TelemetryUtilities.HashAllPaths(this.error.stack) : '', InstallId: (_b = (_a = this.install) === null || _a === void 0 ? void 0 : _a.installId) !== null && _b !== void 0 ? _b : 'null' }, (0, DotnetInstall_1.InstallToStrings)(this.install));\n        }\n        else {\n            return {\n                ErrorName: this.error.name,\n                ErrorMessage: this.error.message,\n                StackTrace: this.error.stack ? TelemetryUtilities_1.TelemetryUtilities.HashAllPaths(this.error.stack) : '',\n                InstallId: 'null'\n            };\n        }\n    }\n}\nexports.DotnetInstallExpectedAbort = DotnetInstallExpectedAbort;\nclass SuppressedAcquisitionError extends IEvent_1.IEvent {\n    constructor(error, supplementalMessage) {\n        super();\n        this.error = error;\n        this.supplementalMessage = supplementalMessage;\n        this.eventName = 'SuppressedAcquisitionError';\n        this.type = EventType_1.EventType.SuppressedAcquisitionError;\n    }\n    getProperties(telemetry = false) {\n        return {\n            SupplementMessage: this.supplementalMessage,\n            ErrorName: this.error.name,\n            ErrorMessage: telemetry ? 'redacted' : TelemetryUtilities_1.TelemetryUtilities.HashAllPaths(this.error.message),\n            StackTrace: telemetry ? 'redacted' : (this.error.stack ? TelemetryUtilities_1.TelemetryUtilities.HashAllPaths(this.error.stack) : '')\n        };\n    }\n}\nexports.SuppressedAcquisitionError = SuppressedAcquisitionError;\nclass DotnetInstallScriptAcquisitionError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetInstallScriptAcquisitionError';\n    }\n}\nexports.DotnetInstallScriptAcquisitionError = DotnetInstallScriptAcquisitionError;\nclass UserManualInstallFailure extends SuppressedAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'UserManualInstallFailure';\n    }\n}\nexports.UserManualInstallFailure = UserManualInstallFailure;\nclass OfflineDetectionLogicTriggered extends SuppressedAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'OfflineDetectionLogicTriggered';\n    }\n}\nexports.OfflineDetectionLogicTriggered = OfflineDetectionLogicTriggered;\nclass DotnetInstallationValidationMissed extends SuppressedAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetInstallationValidationMissed';\n    }\n}\nexports.DotnetInstallationValidationMissed = DotnetInstallationValidationMissed;\nclass OSXOpenNotAvailableError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'OSXOpenNotAvailableError';\n    }\n}\nexports.OSXOpenNotAvailableError = OSXOpenNotAvailableError;\nclass WebRequestError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'WebRequestError';\n    }\n}\nexports.WebRequestError = WebRequestError;\nclass DiskIsFullError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DiskIsFullError';\n    }\n}\nexports.DiskIsFullError = DiskIsFullError;\nclass DotnetDownloadFailure extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetDownloadFailure';\n    }\n}\nexports.DotnetDownloadFailure = DotnetDownloadFailure;\nclass DotnetPreinstallDetectionError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetPreinstallDetectionError';\n    }\n}\nexports.DotnetPreinstallDetectionError = DotnetPreinstallDetectionError;\nclass TimeoutSudoProcessSpawnerError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'TimeoutSudoProcessSpawnerError';\n    }\n}\nexports.TimeoutSudoProcessSpawnerError = TimeoutSudoProcessSpawnerError;\nclass TimeoutSudoCommandExecutionError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'TimeoutSudoCommandExecutionError';\n    }\n}\nexports.TimeoutSudoCommandExecutionError = TimeoutSudoCommandExecutionError;\nclass CommandExecutionNonZeroExitFailure extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionNonZeroExitFailure';\n    }\n}\nexports.CommandExecutionNonZeroExitFailure = CommandExecutionNonZeroExitFailure;\nclass DotnetNotInstallRelatedCommandFailed extends DotnetNonAcquisitionError {\n    constructor(error, command) {\n        super(error);\n        this.command = command;\n        this.eventName = 'DotnetNotInstallRelatedCommandFailed';\n    }\n    getProperties(telemetry = false) {\n        return {\n            ErrorMessage: this.error.message,\n            CommandName: this.command,\n            ErrorName: this.error.name,\n            StackTrace: this.error.stack ? this.error.stack : ''\n        };\n    }\n}\nexports.DotnetNotInstallRelatedCommandFailed = DotnetNotInstallRelatedCommandFailed;\nclass InvalidUninstallRequest extends DotnetNonAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'InvalidUninstallRequest';\n    }\n}\nexports.InvalidUninstallRequest = InvalidUninstallRequest;\nclass DotnetCommandFailed extends DotnetAcquisitionError {\n    constructor(error, command, install) {\n        super(error, install);\n        this.command = command;\n        this.eventName = 'DotnetCommandFailed';\n    }\n    getProperties(telemetry = false) {\n        var _a, _b;\n        return Object.assign({ ErrorMessage: this.error.message, CommandName: this.command, ErrorName: this.error.name, StackTrace: this.error.stack ? this.error.stack : '', InstallId: (_b = (_a = this.install) === null || _a === void 0 ? void 0 : _a.installId) !== null && _b !== void 0 ? _b : 'null' }, (0, DotnetInstall_1.InstallToStrings)(this.install));\n    }\n}\nexports.DotnetCommandFailed = DotnetCommandFailed;\nclass DotnetInvalidReleasesJSONError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetInvalidReleasesJSONError';\n    }\n}\nexports.DotnetInvalidReleasesJSONError = DotnetInvalidReleasesJSONError;\nclass DotnetNoInstallerFileExistsError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetNoInstallerFileExistsError';\n    }\n}\nexports.DotnetNoInstallerFileExistsError = DotnetNoInstallerFileExistsError;\nclass DotnetNoInstallerResponseError extends DotnetInstallExpectedAbort {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetNoInstallerResponseError';\n    }\n}\nexports.DotnetNoInstallerResponseError = DotnetNoInstallerResponseError;\nclass DotnetUnexpectedInstallerOSError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetUnexpectedInstallerOSError';\n    }\n}\nexports.DotnetUnexpectedInstallerOSError = DotnetUnexpectedInstallerOSError;\nclass DotnetUnexpectedInstallerArchitectureError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetUnexpectedInstallerArchitectureError';\n    }\n}\nexports.DotnetUnexpectedInstallerArchitectureError = DotnetUnexpectedInstallerArchitectureError;\nclass DotnetFeatureBandDoesNotExistError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFeatureBandDoesNotExistError';\n    }\n}\nexports.DotnetFeatureBandDoesNotExistError = DotnetFeatureBandDoesNotExistError;\nclass DotnetInvalidRuntimePatchVersion extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetInvalidRuntimePatchVersion';\n    }\n}\nexports.DotnetInvalidRuntimePatchVersion = DotnetInvalidRuntimePatchVersion;\nclass DotnetWSLSecurityError extends DotnetInstallExpectedAbort {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetWSLSecurityError';\n    }\n}\nexports.DotnetWSLSecurityError = DotnetWSLSecurityError;\nclass DotnetAcquisitionVersionError extends DotnetAcquisitionError {\n    constructor(error, install) {\n        super(error, install);\n        this.install = install;\n    }\n    getProperties(telemetry = false) {\n        var _a, _b, _c;\n        return this.install ? Object.assign(Object.assign({ ErrorMessage: this.error.message, AcquisitionErrorInstallId: (_a = this.install.installId) !== null && _a !== void 0 ? _a : 'null' }, (0, DotnetInstall_1.InstallToStrings)(this.install)), { ErrorName: this.error.name, StackTrace: (_b = this.error.stack) !== null && _b !== void 0 ? _b : '' }) :\n            {\n                ErrorMessage: this.error.message,\n                AcquisitionErrorInstallId: 'null',\n                ErrorName: this.error.name,\n                StackTrace: (_c = this.error.stack) !== null && _c !== void 0 ? _c : ''\n            };\n    }\n}\nexports.DotnetAcquisitionVersionError = DotnetAcquisitionVersionError;\nclass DotnetAcquisitionUnexpectedError extends DotnetAcquisitionVersionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetAcquisitionUnexpectedError';\n    }\n}\nexports.DotnetAcquisitionUnexpectedError = DotnetAcquisitionUnexpectedError;\nclass DotnetAcquisitionInstallError extends DotnetAcquisitionVersionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetAcquisitionInstallError';\n    }\n}\nexports.DotnetAcquisitionInstallError = DotnetAcquisitionInstallError;\nclass DotnetAcquisitionScriptError extends DotnetAcquisitionVersionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetAcquisitionScriptError';\n    }\n}\nexports.DotnetAcquisitionScriptError = DotnetAcquisitionScriptError;\nclass DotnetConflictingGlobalWindowsInstallError extends DotnetInstallExpectedAbort {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetConflictingGlobalWindowsInstallError';\n    }\n}\nexports.DotnetConflictingGlobalWindowsInstallError = DotnetConflictingGlobalWindowsInstallError;\nclass DotnetInstallCancelledByUserError extends DotnetInstallExpectedAbort {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetInstallCancelledByUserError';\n    }\n}\nexports.DotnetInstallCancelledByUserError = DotnetInstallCancelledByUserError;\nclass DotnetDebuggingMessage extends IEvent_1.IEvent {\n    constructor(message) {\n        super();\n        this.message = message;\n        this.eventName = 'DotnetDebuggingMessage';\n        this.type = EventType_1.EventType.DotnetDebuggingMessage;\n        this.message = message;\n    }\n    getProperties() {\n        return { message: this.message };\n    }\n}\nexports.DotnetDebuggingMessage = DotnetDebuggingMessage;\nclass DotnetNonZeroInstallerExitCodeError extends DotnetAcquisitionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetNonZeroInstallerExitCodeError';\n    }\n}\nexports.DotnetNonZeroInstallerExitCodeError = DotnetNonZeroInstallerExitCodeError;\nclass DotnetOfflineFailure extends DotnetAcquisitionVersionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetOfflineFailure';\n    }\n}\nexports.DotnetOfflineFailure = DotnetOfflineFailure;\nclass PowershellBadLanguageMode extends DotnetAcquisitionVersionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'PowershellBadLanguageMode';\n    }\n}\nexports.PowershellBadLanguageMode = PowershellBadLanguageMode;\nclass PowershellBadExecutionPolicy extends DotnetAcquisitionVersionError {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'PowershellBadExecutionPolicy';\n    }\n}\nexports.PowershellBadExecutionPolicy = PowershellBadExecutionPolicy;\nclass DotnetAcquisitionTimeoutError extends DotnetAcquisitionVersionError {\n    constructor(error, installId, timeoutValue) {\n        super(error, installId);\n        this.timeoutValue = timeoutValue;\n        this.eventName = 'DotnetAcquisitionTimeoutError';\n    }\n    getProperties(telemetry = false) {\n        if (this.install) {\n            return Object.assign(Object.assign({ ErrorMessage: this.error.message, TimeoutValue: this.timeoutValue.toString() }, (0, DotnetInstall_1.InstallToStrings)(this.install)), { ErrorName: this.error.name, StackTrace: this.error.stack ? this.error.stack : '' });\n        }\n        else {\n            return {\n                ErrorMessage: this.error.message,\n                TimeoutValue: this.timeoutValue.toString(),\n                ErrorName: this.error.name,\n                StackTrace: this.error.stack ? this.error.stack : ''\n            };\n        }\n    }\n}\nexports.DotnetAcquisitionTimeoutError = DotnetAcquisitionTimeoutError;\nclass DotnetVersionResolutionError extends DotnetInstallExpectedAbort {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetVersionResolutionError';\n    }\n}\nexports.DotnetVersionResolutionError = DotnetVersionResolutionError;\nclass DotnetConflictingLinuxInstallTypesError extends DotnetInstallExpectedAbort {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetConflictingLinuxInstallTypesError';\n    }\n}\nexports.DotnetConflictingLinuxInstallTypesError = DotnetConflictingLinuxInstallTypesError;\nclass DotnetCustomLinuxInstallExistsError extends DotnetInstallExpectedAbort {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetCustomLinuxInstallExistsError';\n    }\n}\nexports.DotnetCustomLinuxInstallExistsError = DotnetCustomLinuxInstallExistsError;\nclass DotnetInstallationValidationError extends DotnetAcquisitionVersionError {\n    constructor(error, install, dotnetPath) {\n        super(error, install);\n        this.dotnetPath = dotnetPath;\n        this.eventName = 'DotnetInstallationValidationError';\n        this.fileStructure = this.getFileStructure();\n    }\n    getProperties(telemetry = false) {\n        var _a, _b, _c, _d;\n        if (this.install) {\n            return Object.assign(Object.assign({ ErrorMessage: this.error.message, AcquisitionErrorInstallId: (_b = (_a = this.install) === null || _a === void 0 ? void 0 : _a.installId) !== null && _b !== void 0 ? _b : 'null', InstallId: (_d = (_c = this.install) === null || _c === void 0 ? void 0 : _c.installId) !== null && _d !== void 0 ? _d : 'null' }, (0, DotnetInstall_1.InstallToStrings)(this.install)), { ErrorName: this.error.name, StackTrace: this.error.stack ? this.error.stack : '', FileStructure: this.fileStructure });\n        }\n        else {\n            return {\n                ErrorMessage: this.error.message,\n                AcquisitionErrorInstallId: 'null',\n                InstallId: 'null',\n                ErrorName: this.error.name,\n                StackTrace: this.error.stack ? this.error.stack : '',\n                FileStructure: this.fileStructure\n            };\n        }\n    }\n    getFileStructure() {\n        const folderPath = path.dirname(this.dotnetPath);\n        if (!fs.existsSync(folderPath)) {\n            return `Dotnet Path (${path.basename(folderPath)}) does not exist`;\n        }\n        // Get 2 levels worth of content of the folder\n        let files = fs.readdirSync(folderPath).map(file => path.join(folderPath, file));\n        for (const file of files) {\n            if (fs.statSync(file).isDirectory()) {\n                files = files.concat(fs.readdirSync(file).map(fileName => path.join(file, fileName)));\n            }\n        }\n        const relativeFiles = [];\n        for (const file of files) {\n            relativeFiles.push(path.relative(path.dirname(folderPath), file));\n        }\n        return relativeFiles.join('\\n');\n    }\n}\nexports.DotnetInstallationValidationError = DotnetInstallationValidationError;\nclass DotnetAcquisitionDistroUnknownError extends DotnetInstallExpectedAbort {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetAcquisitionDistroUnknownError';\n    }\n    getProperties(telemetry = false) {\n        var _a, _b;\n        return Object.assign({ ErrorMessage: this.error.message, ErrorName: this.error.name, StackTrace: this.error.stack ? this.error.stack : '', InstallId: (_b = (_a = this.install) === null || _a === void 0 ? void 0 : _a.installId) !== null && _b !== void 0 ? _b : 'null' }, (0, DotnetInstall_1.InstallToStrings)(this.install));\n    }\n}\nexports.DotnetAcquisitionDistroUnknownError = DotnetAcquisitionDistroUnknownError;\nclass DotnetAcquisitionSuccessEvent extends IEvent_1.IEvent {\n    constructor() {\n        super(...arguments);\n        this.type = EventType_1.EventType.DotnetAcquisitionSuccessEvent;\n    }\n    getProperties() {\n        return undefined;\n    }\n}\nexports.DotnetAcquisitionSuccessEvent = DotnetAcquisitionSuccessEvent;\nclass DotnetCommandSucceeded extends DotnetAcquisitionSuccessEvent {\n    constructor(commandName) {\n        super();\n        this.commandName = commandName;\n        this.eventName = 'DotnetCommandSucceeded';\n    }\n    getProperties() {\n        return { CommandName: this.commandName };\n    }\n}\nexports.DotnetCommandSucceeded = DotnetCommandSucceeded;\nclass DotnetUninstallAllStarted extends DotnetAcquisitionSuccessEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetUninstallAllStarted';\n    }\n}\nexports.DotnetUninstallAllStarted = DotnetUninstallAllStarted;\nclass DotnetUninstallAllCompleted extends DotnetAcquisitionSuccessEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetUninstallAllCompleted';\n    }\n}\nexports.DotnetUninstallAllCompleted = DotnetUninstallAllCompleted;\nclass DotnetVersionResolutionCompleted extends DotnetAcquisitionSuccessEvent {\n    constructor(requestedVersion, resolvedVersion) {\n        super();\n        this.requestedVersion = requestedVersion;\n        this.resolvedVersion = resolvedVersion;\n        this.eventName = 'DotnetVersionResolutionCompleted';\n    }\n    getProperties() {\n        return {\n            RequestedVersion: this.requestedVersion,\n            ResolvedVersion: this.resolvedVersion\n        };\n    }\n}\nexports.DotnetVersionResolutionCompleted = DotnetVersionResolutionCompleted;\nclass DotnetInstallScriptAcquisitionCompleted extends DotnetAcquisitionSuccessEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetInstallScriptAcquisitionCompleted';\n    }\n}\nexports.DotnetInstallScriptAcquisitionCompleted = DotnetInstallScriptAcquisitionCompleted;\nclass DotnetExistingPathResolutionCompleted extends DotnetAcquisitionSuccessEvent {\n    constructor(resolvedPath) {\n        super();\n        this.resolvedPath = resolvedPath;\n        this.eventName = 'DotnetExistingPathResolutionCompleted';\n    }\n    getProperties(telemetry = false) {\n        return telemetry ? undefined : { ConfiguredPath: this.resolvedPath };\n    }\n}\nexports.DotnetExistingPathResolutionCompleted = DotnetExistingPathResolutionCompleted;\nclass DotnetAcquisitionMessage extends IEvent_1.IEvent {\n    constructor() {\n        super(...arguments);\n        this.type = EventType_1.EventType.DotnetAcquisitionMessage;\n    }\n    getProperties() {\n        return {};\n    }\n}\nexports.DotnetAcquisitionMessage = DotnetAcquisitionMessage;\nclass DotnetAcquisitionDeletion extends DotnetAcquisitionMessage {\n    constructor(folderPath) {\n        super();\n        this.folderPath = folderPath;\n        this.eventName = 'DotnetAcquisitionDeletion';\n    }\n    getProperties(telemetry = false) {\n        return telemetry ? undefined : { DeletedFolderPath: this.folderPath };\n    }\n}\nexports.DotnetAcquisitionDeletion = DotnetAcquisitionDeletion;\nclass DotnetFallbackInstallScriptUsed extends DotnetAcquisitionMessage {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFallbackInstallScriptUsed';\n    }\n}\nexports.DotnetFallbackInstallScriptUsed = DotnetFallbackInstallScriptUsed;\nclass DotnetCustomMessageEvent extends DotnetAcquisitionMessage {\n    constructor(eventMessage) {\n        super();\n        this.eventMessage = eventMessage;\n    }\n    getProperties() {\n        return { Message: this.eventMessage };\n    }\n}\nexports.DotnetCustomMessageEvent = DotnetCustomMessageEvent;\nclass DotnetVisibleWarningEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.type = EventType_1.EventType.DotnetVisibleWarning;\n    }\n}\nexports.DotnetVisibleWarningEvent = DotnetVisibleWarningEvent;\nclass DotnetFileIntegrityFailureEvent extends DotnetVisibleWarningEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFileIntegrityFailureEvent';\n    }\n}\nexports.DotnetFileIntegrityFailureEvent = DotnetFileIntegrityFailureEvent;\nclass DotnetUnableToCheckPATHArchitecture extends DotnetVisibleWarningEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetUnableToCheckPATHArchitecture';\n    }\n}\nexports.DotnetUnableToCheckPATHArchitecture = DotnetUnableToCheckPATHArchitecture;\nclass DotnetVersionCategorizedEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetVersionCategorizedEvent';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.DotnetVersionCategorizedEvent = DotnetVersionCategorizedEvent;\nclass DuplicateInstallDetected extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DuplicateInstallDetected';\n    }\n}\nexports.DuplicateInstallDetected = DuplicateInstallDetected;\nclass WebRequestTimer extends DotnetCustomMessageEvent {\n    constructor(eventMessage, durationMs, finished, url, status) {\n        super(eventMessage);\n        this.eventMessage = eventMessage;\n        this.durationMs = durationMs;\n        this.finished = finished;\n        this.url = url;\n        this.status = status;\n    }\n    getProperties() {\n        return {\n            Message: this.eventMessage,\n            DurationMs: this.durationMs,\n            Finished: this.finished,\n            Url: this.url.replace(/\\//g, '.'), // urls get redacted as paths, they are not PII able since they are shared common urls. replaceAll may not exist with certain compilers, use regex\n            // see: https://github.com/microsoft/vscode/blob/a26fe3e4666aae75fdbfaacf7be153a07bdd12e8/src/vs/platform/telemetry/common/telemetryUtils.ts#L295C20-L295C105\n            Status: this.status\n        };\n    }\n}\nexports.WebRequestTimer = WebRequestTimer;\nclass WebRequestTime extends WebRequestTimer {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'WebRequestTime';\n    }\n}\nexports.WebRequestTime = WebRequestTime;\nclass WebRequestCachedTime extends WebRequestTimer {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'WebRequestCachedTime';\n    }\n}\nexports.WebRequestCachedTime = WebRequestCachedTime;\nclass WebRequestTimeUnknown extends WebRequestTimer {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'WebRequestTimeUnknown';\n    }\n}\nexports.WebRequestTimeUnknown = WebRequestTimeUnknown;\nclass EmptyDirectoryToWipe extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'EmptyDirectoryToWipe';\n    }\n}\nexports.EmptyDirectoryToWipe = EmptyDirectoryToWipe;\nclass FileToWipe extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'FileToWipe';\n    }\n}\nexports.FileToWipe = FileToWipe;\nclass TriedToExitMasterSudoProcess extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'TriedToExitMasterSudoProcess';\n    }\n}\nexports.TriedToExitMasterSudoProcess = TriedToExitMasterSudoProcess;\nclass FeatureBandDoesNotExist extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'FeatureBandDoesNotExist';\n    }\n}\nexports.FeatureBandDoesNotExist = FeatureBandDoesNotExist;\nclass FileDoesNotExist extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'FileDoesNotExist';\n    }\n}\nexports.FileDoesNotExist = FileDoesNotExist;\nclass DotnetUninstallStarted extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetUninstallStarted';\n        this.type = EventType_1.EventType.DotnetUninstallMessage;\n    }\n}\nexports.DotnetUninstallStarted = DotnetUninstallStarted;\nclass DotnetUninstallCompleted extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetUninstallStarted';\n        this.type = EventType_1.EventType.DotnetUninstallMessage;\n    }\n}\nexports.DotnetUninstallCompleted = DotnetUninstallCompleted;\nclass DotnetUninstallFailed extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetUninstallStarted';\n        this.type = EventType_1.EventType.DotnetUninstallMessage;\n    }\n}\nexports.DotnetUninstallFailed = DotnetUninstallFailed;\nclass NoExtensionIdProvided extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'NoExtensionIdProvided';\n    }\n}\nexports.NoExtensionIdProvided = NoExtensionIdProvided;\nclass ConvertingLegacyInstallRecord extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'ConvertingLegacyInstallRecord';\n    }\n}\nexports.ConvertingLegacyInstallRecord = ConvertingLegacyInstallRecord;\nclass FoundTrackingVersions extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'FoundTrackingVersions';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.FoundTrackingVersions = FoundTrackingVersions;\nclass RemovingVersionFromExtensionState extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'RemovingVersionFromExtensionState';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.RemovingVersionFromExtensionState = RemovingVersionFromExtensionState;\nclass RemovingExtensionFromList extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'RemovingExtensionFromList';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.RemovingExtensionFromList = RemovingExtensionFromList;\nclass RemovingOwnerFromList extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'RemovingOwnerFromList';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.RemovingOwnerFromList = RemovingOwnerFromList;\nclass SkipAddingInstallEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'SkipAddingInstallEvent';\n    }\n}\nexports.SkipAddingInstallEvent = SkipAddingInstallEvent;\nclass AddTrackingVersions extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'AddTrackingVersions';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.AddTrackingVersions = AddTrackingVersions;\nclass DotnetWSLCheckEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetWSLCheckEvent';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.DotnetWSLCheckEvent = DotnetWSLCheckEvent;\nclass DotnetWSLOperationOutputEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetWSLOperationOutputEvent';\n    }\n}\nexports.DotnetWSLOperationOutputEvent = DotnetWSLOperationOutputEvent;\nclass DotnetFindPathCommandInvoked extends DotnetCustomMessageEvent {\n    constructor(eventMessage, request) {\n        super(eventMessage);\n        this.eventMessage = eventMessage;\n        this.request = request;\n        this.eventName = 'DotnetFindPathCommandInvoked';\n    }\n    getProperties() {\n        return { Message: this.eventMessage, Context: JSON.stringify(this.request) };\n    }\n    ;\n}\nexports.DotnetFindPathCommandInvoked = DotnetFindPathCommandInvoked;\nclass CacheClearEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CacheClearEvent';\n    }\n}\nexports.CacheClearEvent = CacheClearEvent;\nclass CachePutEvent extends DotnetCustomMessageEvent {\n    constructor(eventMessage, indexStr, value, ttl) {\n        super(eventMessage);\n        this.eventMessage = eventMessage;\n        this.indexStr = indexStr;\n        this.value = value;\n        this.ttl = ttl;\n        this.eventName = 'CachePutEvent';\n    }\n    getProperties() {\n        return { Message: this.eventMessage, indexStr: this.indexStr, value: this.value, ttl: this.ttl };\n    }\n    ;\n}\nexports.CachePutEvent = CachePutEvent;\nclass CacheGetEvent extends DotnetCustomMessageEvent {\n    constructor(eventMessage, indexStr, value) {\n        super(eventMessage);\n        this.eventMessage = eventMessage;\n        this.indexStr = indexStr;\n        this.value = value;\n        this.eventName = 'CacheGetEvent';\n    }\n    getProperties() {\n        return { Message: this.eventMessage, indexStr: this.indexStr, value: this.value };\n    }\n    ;\n}\nexports.CacheGetEvent = CacheGetEvent;\nclass DotnetFindPathLookupSetting extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathLookupSetting';\n    }\n}\nexports.DotnetFindPathLookupSetting = DotnetFindPathLookupSetting;\nclass DotnetFindPathSettingFound extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathSettingFound';\n    }\n}\nexports.DotnetFindPathSettingFound = DotnetFindPathSettingFound;\nclass DotnetFindPathLookupPATH extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathLookupPATH';\n    }\n}\nexports.DotnetFindPathLookupPATH = DotnetFindPathLookupPATH;\nclass DotnetFindPathPATHFound extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathPATHFound';\n    }\n}\nexports.DotnetFindPathPATHFound = DotnetFindPathPATHFound;\nclass DotnetFindPathLookupRealPATH extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathLookupRealPATH';\n    }\n}\nexports.DotnetFindPathLookupRealPATH = DotnetFindPathLookupRealPATH;\nclass DotnetFindPathRealPATHFound extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathRealPATHFound';\n    }\n}\nexports.DotnetFindPathRealPATHFound = DotnetFindPathRealPATHFound;\nclass DotnetFindPathHostFxrResolutionLookup extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathHostFxrResolutionLookup';\n    }\n}\nexports.DotnetFindPathHostFxrResolutionLookup = DotnetFindPathHostFxrResolutionLookup;\nclass DotnetFindPathOnRegistry extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathOnRegistry';\n    }\n}\nexports.DotnetFindPathOnRegistry = DotnetFindPathOnRegistry;\nclass DotnetFindPathNoHostOnRegistry extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathNoHostOnRegistry';\n    }\n}\nexports.DotnetFindPathNoHostOnRegistry = DotnetFindPathNoHostOnRegistry;\nclass DotnetFindPathOnFileSystem extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathOnFileSystem';\n    }\n}\nexports.DotnetFindPathOnFileSystem = DotnetFindPathOnFileSystem;\nclass DotnetFindPathNoHostOnFileSystem extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathNoHostOnFileSystem';\n    }\n}\nexports.DotnetFindPathNoHostOnFileSystem = DotnetFindPathNoHostOnFileSystem;\nclass DotnetFindPathNoRuntimesOnHost extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathNoRuntimesOnHost';\n    }\n}\nexports.DotnetFindPathNoRuntimesOnHost = DotnetFindPathNoRuntimesOnHost;\nclass DotnetFindPathLookupRootPATH extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathLookupRealPATH';\n    }\n}\nexports.DotnetFindPathLookupRootPATH = DotnetFindPathLookupRootPATH;\nclass DotnetFindPathRootEmulationPATHFound extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathRealPATHFound';\n    }\n}\nexports.DotnetFindPathRootEmulationPATHFound = DotnetFindPathRootEmulationPATHFound;\nclass DotnetFindPathRootUnderEmulationButNoneSet extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathRealPATHFound';\n    }\n}\nexports.DotnetFindPathRootUnderEmulationButNoneSet = DotnetFindPathRootUnderEmulationButNoneSet;\nclass DotnetFindPathRootPATHFound extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathRealPATHFound';\n    }\n}\nexports.DotnetFindPathRootPATHFound = DotnetFindPathRootPATHFound;\nclass DotnetFindPathMetCondition extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathMetCondition';\n    }\n}\nexports.DotnetFindPathMetCondition = DotnetFindPathMetCondition;\nclass DotnetFindPathNoPathMetCondition extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathNoPathMetCondition';\n    }\n}\nexports.DotnetFindPathNoPathMetCondition = DotnetFindPathNoPathMetCondition;\nclass DotnetFindPathDidNotMeetCondition extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFindPathDidNotMeetCondition';\n    }\n}\nexports.DotnetFindPathDidNotMeetCondition = DotnetFindPathDidNotMeetCondition;\nclass DotnetTelemetrySettingEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetTelemetrySettingEvent';\n    }\n}\nexports.DotnetTelemetrySettingEvent = DotnetTelemetrySettingEvent;\nclass DotnetVSCodeExtensionFound extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetVSCodeExtensionFound';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.DotnetVSCodeExtensionFound = DotnetVSCodeExtensionFound;\nclass DotnetVSCodeExtensionHasInstallRequest extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetVSCodeExtensionHasInstallRequest';\n    }\n}\nexports.DotnetVSCodeExtensionHasInstallRequest = DotnetVSCodeExtensionHasInstallRequest;\nclass DotnetVSCodeExtensionChange extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetVSCodeExtensionChange';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.DotnetVSCodeExtensionChange = DotnetVSCodeExtensionChange;\nclass DotnetCommandNotFoundEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetCommandNotFoundEvent';\n    }\n}\nexports.DotnetCommandNotFoundEvent = DotnetCommandNotFoundEvent;\nclass DotnetFileIntegrityCheckEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFileIntegrityCheckEvent';\n    }\n}\nexports.DotnetFileIntegrityCheckEvent = DotnetFileIntegrityCheckEvent;\nclass GlobalAcquisitionContextMenuOpened extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'GlobalAcquisitionContextMenuOpened';\n    }\n}\nexports.GlobalAcquisitionContextMenuOpened = GlobalAcquisitionContextMenuOpened;\nclass UserManualInstallVersionChosen extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'UserManualInstallVersionChosen';\n    }\n}\nexports.UserManualInstallVersionChosen = UserManualInstallVersionChosen;\nclass UserManualInstallRequested extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'UserManualInstallRequested';\n    }\n}\nexports.UserManualInstallRequested = UserManualInstallRequested;\nclass UserManualInstallSuccess extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'UserManualInstallSuccess';\n    }\n}\nexports.UserManualInstallSuccess = UserManualInstallSuccess;\nclass CommandExecutionStdOut extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionStdOut';\n    }\n}\nexports.CommandExecutionStdOut = CommandExecutionStdOut;\nclass NoMatchingInstallToStopTracking extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'NoMatchingInstallToStopTracking';\n    }\n}\nexports.NoMatchingInstallToStopTracking = NoMatchingInstallToStopTracking;\nclass CommandExecutionStdError extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionStdError';\n    }\n}\nexports.CommandExecutionStdError = CommandExecutionStdError;\nclass DotnetGlobalAcquisitionBeginEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetGlobalAcquisitionBeginEvent';\n    }\n}\nexports.DotnetGlobalAcquisitionBeginEvent = DotnetGlobalAcquisitionBeginEvent;\nclass DotnetGlobalVersionResolutionCompletionEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetGlobalVersionResolutionCompletionEvent';\n    }\n}\nexports.DotnetGlobalVersionResolutionCompletionEvent = DotnetGlobalVersionResolutionCompletionEvent;\nclass CommandProcessesExecutionFailureNonTerminal extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandProcessesExecutionFailureNonTerminal';\n    }\n}\nexports.CommandProcessesExecutionFailureNonTerminal = CommandProcessesExecutionFailureNonTerminal;\nclass CommandProcessorExecutionBegin extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandProcessorExecutionBegin';\n    }\n}\nexports.CommandProcessorExecutionBegin = CommandProcessorExecutionBegin;\nclass CommandProcessorExecutionEnd extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandProcessorExecutionEnd';\n    }\n}\nexports.CommandProcessorExecutionEnd = CommandProcessorExecutionEnd;\nclass DotnetBeginGlobalInstallerExecution extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetBeginGlobalInstallerExecution';\n    }\n}\nexports.DotnetBeginGlobalInstallerExecution = DotnetBeginGlobalInstallerExecution;\nclass DotnetCompletedGlobalInstallerExecution extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetCompletedGlobalInstallerExecution';\n    }\n}\nexports.DotnetCompletedGlobalInstallerExecution = DotnetCompletedGlobalInstallerExecution;\nclass DotnetGlobalAcquisitionCompletionEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetGlobalAcquisitionCompletionEvent';\n    }\n}\nexports.DotnetGlobalAcquisitionCompletionEvent = DotnetGlobalAcquisitionCompletionEvent;\nclass DotnetInstallGraveyardEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetInstallGraveyardEvent';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.DotnetInstallGraveyardEvent = DotnetInstallGraveyardEvent;\nclass DotnetAlternativeCommandFoundEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetAlternativeCommandFoundEvent';\n    }\n}\nexports.DotnetAlternativeCommandFoundEvent = DotnetAlternativeCommandFoundEvent;\nclass DotnetCommandFallbackArchitectureEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetCommandFallbackArchitectureEvent';\n    }\n}\nexports.DotnetCommandFallbackArchitectureEvent = DotnetCommandFallbackArchitectureEvent;\nclass DotnetCommandFallbackOSEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetCommandFallbackOSEvent';\n    }\n}\nexports.DotnetCommandFallbackOSEvent = DotnetCommandFallbackOSEvent;\nclass DotnetInstallIdCreatedEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetInstallIdCreatedEvent';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.DotnetInstallIdCreatedEvent = DotnetInstallIdCreatedEvent;\nclass DotnetLegacyInstallDetectedEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetLegacyInstallDetectedEvent';\n    }\n}\nexports.DotnetLegacyInstallDetectedEvent = DotnetLegacyInstallDetectedEvent;\nclass DotnetLegacyInstallRemovalRequestEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetLegacyInstallRemovalRequestEvent';\n    }\n}\nexports.DotnetLegacyInstallRemovalRequestEvent = DotnetLegacyInstallRemovalRequestEvent;\nclass DotnetFakeSDKEnvironmentVariableTriggered extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFakeSDKEnvironmentVariableTriggered';\n    }\n}\nexports.DotnetFakeSDKEnvironmentVariableTriggered = DotnetFakeSDKEnvironmentVariableTriggered;\nclass CommandExecutionNoStatusCodeWarning extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionNoStatusCodeWarning';\n    }\n}\nexports.CommandExecutionNoStatusCodeWarning = CommandExecutionNoStatusCodeWarning;\nclass CommandExecutionSignalSentEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionSignalSentEvent';\n    }\n}\nexports.CommandExecutionSignalSentEvent = CommandExecutionSignalSentEvent;\nclass CommandExecutionStatusEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionStatusEvent';\n    }\n}\nexports.CommandExecutionStatusEvent = CommandExecutionStatusEvent;\nclass CommandExecutionEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionEvent';\n    }\n}\nexports.CommandExecutionEvent = CommandExecutionEvent;\nclass SudoProcAliveCheckBegin extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'SudoProcAliveCheckBegin';\n    }\n}\nexports.SudoProcAliveCheckBegin = SudoProcAliveCheckBegin;\nclass SudoProcAliveCheckEnd extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'SudoProcAliveCheckEnd';\n    }\n}\nexports.SudoProcAliveCheckEnd = SudoProcAliveCheckEnd;\nclass SudoProcCommandExchangeBegin extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'SudoProcCommandExchangeBegin';\n    }\n}\nexports.SudoProcCommandExchangeBegin = SudoProcCommandExchangeBegin;\nclass SudoProcCommandExchangePing extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'SudoProcCommandExchangePing';\n    }\n}\nexports.SudoProcCommandExchangePing = SudoProcCommandExchangePing;\nclass WaitingForDotnetInstallerResponse extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'WaitingForDotnetInstallerResponse';\n    }\n}\nexports.WaitingForDotnetInstallerResponse = WaitingForDotnetInstallerResponse;\nclass SudoProcCommandExchangeEnd extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'SudoProcCommandExchangeEnd';\n    }\n}\nexports.SudoProcCommandExchangeEnd = SudoProcCommandExchangeEnd;\nclass CommandExecutionUserAskDialogueEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionUserAskDialogueEvent';\n    }\n}\nexports.CommandExecutionUserAskDialogueEvent = CommandExecutionUserAskDialogueEvent;\nclass CommandExecutionUserCompletedDialogueEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionUserCompletedDialogueEvent';\n    }\n}\nexports.CommandExecutionUserCompletedDialogueEvent = CommandExecutionUserCompletedDialogueEvent;\nclass CommandExecutionUnderSudoEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionUnderSudoEvent';\n    }\n}\nexports.CommandExecutionUnderSudoEvent = CommandExecutionUnderSudoEvent;\nclass CommandExecutionUserRejectedPasswordRequest extends DotnetInstallExpectedAbort {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionUserRejectedPasswordRequest';\n    }\n}\nexports.CommandExecutionUserRejectedPasswordRequest = CommandExecutionUserRejectedPasswordRequest;\nclass CommandExecutionUnknownCommandExecutionAttempt extends DotnetInstallExpectedAbort {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'CommandExecutionUnknownCommandExecutionAttempt';\n    }\n}\nexports.CommandExecutionUnknownCommandExecutionAttempt = CommandExecutionUnknownCommandExecutionAttempt;\nclass DotnetVersionParseEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetVersionParseEvent';\n    }\n}\nexports.DotnetVersionParseEvent = DotnetVersionParseEvent;\nclass DotnetUpgradedEvent extends DotnetCustomMessageEvent {\n    constructor(eventMsg) {\n        super(eventMsg);\n        this.eventName = 'DotnetUpgradedEvent';\n        this.type = EventType_1.EventType.DotnetUpgradedEvent;\n    }\n}\nexports.DotnetUpgradedEvent = DotnetUpgradedEvent;\nclass DotnetOfflineInstallUsed extends DotnetCustomMessageEvent {\n    constructor(eventMsg) {\n        super(eventMsg);\n        this.eventName = 'DotnetOfflineInstallUsed';\n        this.type = EventType_1.EventType.OfflineInstallUsed;\n    }\n}\nexports.DotnetOfflineInstallUsed = DotnetOfflineInstallUsed;\nclass DotnetOfflineWarning extends DotnetCustomMessageEvent {\n    constructor(eventMsg) {\n        super(eventMsg);\n        this.eventName = 'DotnetOfflineWarning';\n        this.type = EventType_1.EventType.OfflineWarning;\n    }\n}\nexports.DotnetOfflineWarning = DotnetOfflineWarning;\nclass NetInstallerBeginExecutionEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'NetInstallerBeginExecutionEvent';\n    }\n}\nexports.NetInstallerBeginExecutionEvent = NetInstallerBeginExecutionEvent;\nclass NetInstallerEndExecutionEvent extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'NetInstallerEndExecutionEvent';\n    }\n}\nexports.NetInstallerEndExecutionEvent = NetInstallerEndExecutionEvent;\nclass DotnetInstallLinuxChecks extends DotnetCustomMessageEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetInstallLinuxChecks';\n    }\n}\nexports.DotnetInstallLinuxChecks = DotnetInstallLinuxChecks;\nclass DotnetFileEvent extends DotnetAcquisitionMessage {\n    constructor(eventMessage, time, file) {\n        super();\n        this.eventMessage = eventMessage;\n        this.time = time;\n        this.file = file;\n    }\n    getProperties() {\n        return { Message: this.eventMessage, Time: this.time, File: TelemetryUtilities_1.TelemetryUtilities.HashData(this.file) };\n    }\n}\nexports.DotnetFileEvent = DotnetFileEvent;\nclass DotnetLockEvent extends DotnetFileEvent {\n    constructor(eventMessage, time, lock, file) {\n        super(eventMessage, time, file);\n        this.eventMessage = eventMessage;\n        this.time = time;\n        this.lock = lock;\n        this.file = file;\n    }\n    getProperties() {\n        return { Message: this.eventMessage, Time: this.time, Lock: this.lock, File: this.file };\n    }\n}\nexports.DotnetLockEvent = DotnetLockEvent;\nclass DotnetLockAcquiredEvent extends DotnetLockEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetLockAcquiredEvent';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.DotnetLockAcquiredEvent = DotnetLockAcquiredEvent;\nclass DotnetLockReleasedEvent extends DotnetLockEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetLockReleasedEvent';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.DotnetLockReleasedEvent = DotnetLockReleasedEvent;\nclass DotnetLockErrorEvent extends DotnetLockEvent {\n    constructor(error, eventMessage, time, lock, file) {\n        super(eventMessage, time, lock, file);\n        this.error = error;\n        this.eventMessage = eventMessage;\n        this.time = time;\n        this.lock = lock;\n        this.file = file;\n        this.eventName = 'DotnetLockErrorEvent';\n    }\n    getProperties() {\n        return { Error: this.error.toString(), Message: this.eventMessage, Time: this.time, Lock: this.lock, File: this.file };\n    }\n}\nexports.DotnetLockErrorEvent = DotnetLockErrorEvent;\nclass DotnetLockAttemptingAcquireEvent extends DotnetLockEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetLockAttemptingAcquireEvent';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.DotnetLockAttemptingAcquireEvent = DotnetLockAttemptingAcquireEvent;\nclass DotnetFileWriteRequestEvent extends DotnetFileEvent {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetFileWriteRequestEvent';\n    }\n    getProperties() {\n        return Object.assign({ suppressTelemetry: 'true' }, super.getProperties());\n    }\n}\nexports.DotnetFileWriteRequestEvent = DotnetFileWriteRequestEvent;\nclass DotnetAcquisitionPartialInstallation extends DotnetAcquisitionMessage {\n    constructor(install) {\n        super();\n        this.install = install;\n        this.eventName = 'DotnetAcquisitionPartialInstallation';\n    }\n    getProperties() {\n        return Object.assign(Object.assign({}, (0, DotnetInstall_1.InstallToStrings)(this.install)), { PartialInstallationInstallId: this.install.installId });\n    }\n}\nexports.DotnetAcquisitionPartialInstallation = DotnetAcquisitionPartialInstallation;\nclass DotnetAcquisitionInProgress extends IEvent_1.IEvent {\n    constructor(install, requestingExtensionId) {\n        super();\n        this.install = install;\n        this.requestingExtensionId = requestingExtensionId;\n        this.type = EventType_1.EventType.DotnetAcquisitionInProgress;\n        this.eventName = 'DotnetAcquisitionInProgress';\n    }\n    getProperties() {\n        return Object.assign(Object.assign({ InProgressInstallationInstallId: this.install.installId }, (0, DotnetInstall_1.InstallToStrings)(this.install)), { extensionId: TelemetryUtilities_1.TelemetryUtilities.HashData(this.requestingExtensionId) });\n    }\n}\nexports.DotnetAcquisitionInProgress = DotnetAcquisitionInProgress;\nclass DotnetAcquisitionAlreadyInstalled extends IEvent_1.IEvent {\n    constructor(install, requestingExtensionId) {\n        super();\n        this.install = install;\n        this.requestingExtensionId = requestingExtensionId;\n        this.eventName = 'DotnetAcquisitionAlreadyInstalled';\n        this.type = EventType_1.EventType.DotnetAcquisitionAlreadyInstalled;\n    }\n    getProperties() {\n        return Object.assign(Object.assign({}, (0, DotnetInstall_1.InstallToStrings)(this.install)), { extensionId: TelemetryUtilities_1.TelemetryUtilities.HashData(this.requestingExtensionId) });\n    }\n}\nexports.DotnetAcquisitionAlreadyInstalled = DotnetAcquisitionAlreadyInstalled;\nclass DotnetAcquisitionMissingLinuxDependencies extends DotnetAcquisitionMessage {\n    constructor() {\n        super(...arguments);\n        this.eventName = 'DotnetAcquisitionMissingLinuxDependencies';\n    }\n}\nexports.DotnetAcquisitionMissingLinuxDependencies = DotnetAcquisitionMissingLinuxDependencies;\nclass DotnetAcquisitionScriptOutput extends DotnetAcquisitionMessage {\n    constructor(install, output) {\n        super();\n        this.install = install;\n        this.output = output;\n        this.eventName = 'DotnetAcquisitionScriptOutput';\n        this.isError = true;\n    }\n    getProperties(telemetry = false) {\n        return Object.assign(Object.assign({ AcquisitionInstallId: this.install.installId }, (0, DotnetInstall_1.InstallToStrings)(this.install)), { ScriptOutput: this.output });\n    }\n}\nexports.DotnetAcquisitionScriptOutput = DotnetAcquisitionScriptOutput;\nclass DotnetInstallationValidated extends DotnetAcquisitionMessage {\n    constructor(install) {\n        super();\n        this.install = install;\n        this.eventName = 'DotnetInstallationValidated';\n    }\n    getProperties(telemetry = false) {\n        return Object.assign({ ValidatedInstallId: this.install.installId }, (0, DotnetInstall_1.InstallToStrings)(this.install));\n    }\n}\nexports.DotnetInstallationValidated = DotnetInstallationValidated;\nclass DotnetAcquisitionStatusRequested extends DotnetAcquisitionMessage {\n    constructor(version, requestingId = '') {\n        super();\n        this.version = version;\n        this.requestingId = requestingId;\n        this.eventName = 'DotnetAcquisitionStatusRequested';\n    }\n    getProperties() {\n        return {\n            AcquisitionStartVersion: this.version,\n            RequestingExtensionId: TelemetryUtilities_1.TelemetryUtilities.HashData(this.requestingId)\n        };\n    }\n}\nexports.DotnetAcquisitionStatusRequested = DotnetAcquisitionStatusRequested;\nclass DotnetAcquisitionStatusUndefined extends DotnetAcquisitionMessage {\n    constructor(installId) {\n        super();\n        this.installId = installId;\n        this.eventName = 'DotnetAcquisitionStatusUndefined';\n    }\n    getProperties() {\n        return Object.assign({ AcquisitionStatusInstallId: this.installId.installId }, (0, DotnetInstall_1.InstallToStrings)(this.installId));\n    }\n}\nexports.DotnetAcquisitionStatusUndefined = DotnetAcquisitionStatusUndefined;\nclass DotnetAcquisitionStatusResolved extends DotnetAcquisitionMessage {\n    constructor(installId, version) {\n        super();\n        this.installId = installId;\n        this.version = version;\n        this.eventName = 'DotnetAcquisitionStatusResolved';\n    }\n    getProperties() {\n        return Object.assign(Object.assign({ AcquisitionStatusInstallId: this.installId.installId }, (0, DotnetInstall_1.InstallToStrings)(this.installId)), { AcquisitionStatusVersion: this.version });\n    }\n}\nexports.DotnetAcquisitionStatusResolved = DotnetAcquisitionStatusResolved;\nclass WebRequestSent extends DotnetAcquisitionMessage {\n    constructor(url) {\n        super();\n        this.url = url;\n        this.eventName = 'WebRequestSent';\n    }\n    getProperties() {\n        return { WebRequestUri: this.url };\n    }\n}\nexports.WebRequestSent = WebRequestSent;\nclass DotnetPreinstallDetected extends DotnetAcquisitionMessage {\n    constructor(installId) {\n        super();\n        this.installId = installId;\n        this.eventName = 'DotnetPreinstallDetected';\n    }\n    getProperties() {\n        return Object.assign(Object.assign({}, (0, DotnetInstall_1.InstallToStrings)(this.installId)), { PreinstalledInstallId: this.installId.installId });\n    }\n}\nexports.DotnetPreinstallDetected = DotnetPreinstallDetected;\nclass TestAcquireCalled extends IEvent_1.IEvent {\n    constructor(context) {\n        super();\n        this.context = context;\n        this.eventName = 'TestAcquireCalled';\n        this.type = EventType_1.EventType.DotnetAcquisitionTest;\n    }\n    getProperties() {\n        return undefined;\n    }\n}\nexports.TestAcquireCalled = TestAcquireCalled;\n//# sourceMappingURL=EventStreamEvents.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.registerEventStream = registerEventStream;\nexports.enableExtensionTelemetry = enableExtensionTelemetry;\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst vscode = require(\"vscode\");\nconst EventStream_1 = require(\"./EventStream\");\nconst LoggingObserver_1 = require(\"./LoggingObserver\");\nconst OutputChannelObserver_1 = require(\"./OutputChannelObserver\");\nconst StatusBarObserver_1 = require(\"./StatusBarObserver\");\nconst TelemetryObserver_1 = require(\"./TelemetryObserver\");\nconst ModalEventPublisher_1 = require(\"./ModalEventPublisher\");\nfunction registerEventStream(context, extensionContext, utilityContext) {\n    const outputChannel = vscode.window.createOutputChannel(context.displayChannelName);\n    if (!fs.existsSync(context.logPath)) {\n        fs.mkdirSync(context.logPath, { recursive: true });\n    }\n    const logFile = path.join(context.logPath, `DotNetAcquisition-${context.extensionId}-${new Date().getTime()}.txt`);\n    const loggingObserver = new LoggingObserver_1.LoggingObserver(logFile);\n    const eventStreamObservers = [\n        new StatusBarObserver_1.StatusBarObserver(vscode.window.createStatusBarItem(vscode.StatusBarAlignment.Left, Number.MIN_VALUE), context.showLogCommand),\n        new OutputChannelObserver_1.OutputChannelObserver(outputChannel),\n        loggingObserver\n    ];\n    const eventStream = new EventStream_1.EventStream();\n    for (const observer of eventStreamObservers) {\n        eventStream.subscribe(event => observer.post(event));\n    }\n    let telemetryObserver = null;\n    if (context.enableTelemetry) {\n        telemetryObserver = new TelemetryObserver_1.TelemetryObserver(context.packageJson, context.enableTelemetry, extensionContext, utilityContext, context.telemetryReporter);\n        eventStream.subscribe(event => telemetryObserver.post(event));\n    }\n    const modalEventObserver = new ModalEventPublisher_1.ModalEventRepublisher(eventStream);\n    eventStream.subscribe(event => modalEventObserver.post(event));\n    return [eventStream, outputChannel, loggingObserver, eventStreamObservers, telemetryObserver, modalEventObserver];\n}\nfunction enableExtensionTelemetry(extensionConfiguration, enableTelemetryKey) {\n    const extensionTelemetry = extensionConfiguration.get(enableTelemetryKey);\n    const vscodeTelemetry = vscode.workspace.getConfiguration('telemetry').get(enableTelemetryKey);\n    const enableDotnetTelemetry = extensionTelemetry === undefined ? true : extensionTelemetry;\n    const enableVSCodeTelemetry = vscodeTelemetry === undefined ? true : vscodeTelemetry;\n    return enableVSCodeTelemetry && enableDotnetTelemetry;\n}\n//# sourceMappingURL=EventStreamRegistration.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventType = void 0;\nvar EventType;\n(function (EventType) {\n    EventType[EventType[\"DotnetAcquisitionStart\"] = 0] = \"DotnetAcquisitionStart\";\n    EventType[EventType[\"DotnetSDKAcquisitionStart\"] = 1] = \"DotnetSDKAcquisitionStart\";\n    EventType[EventType[\"DotnetRuntimeAcquisitionStart\"] = 2] = \"DotnetRuntimeAcquisitionStart\";\n    EventType[EventType[\"DotnetASPNetRuntimeAcquisitionStarted\"] = 3] = \"DotnetASPNetRuntimeAcquisitionStarted\";\n    EventType[EventType[\"DotnetAcquisitionCompleted\"] = 4] = \"DotnetAcquisitionCompleted\";\n    EventType[EventType[\"DotnetAcquisitionError\"] = 5] = \"DotnetAcquisitionError\";\n    EventType[EventType[\"DotnetAcquisitionFinalError\"] = 6] = \"DotnetAcquisitionFinalError\";\n    EventType[EventType[\"DotnetAcquisitionSuccessEvent\"] = 7] = \"DotnetAcquisitionSuccessEvent\";\n    EventType[EventType[\"DotnetAcquisitionMessage\"] = 8] = \"DotnetAcquisitionMessage\";\n    EventType[EventType[\"DotnetAcquisitionTest\"] = 9] = \"DotnetAcquisitionTest\";\n    EventType[EventType[\"DotnetAcquisitionAlreadyInstalled\"] = 10] = \"DotnetAcquisitionAlreadyInstalled\";\n    EventType[EventType[\"DotnetAcquisitionInProgress\"] = 11] = \"DotnetAcquisitionInProgress\";\n    EventType[EventType[\"DotnetUninstallMessage\"] = 12] = \"DotnetUninstallMessage\";\n    EventType[EventType[\"DotnetDebuggingMessage\"] = 13] = \"DotnetDebuggingMessage\";\n    EventType[EventType[\"DotnetTotalSuccessEvent\"] = 14] = \"DotnetTotalSuccessEvent\";\n    EventType[EventType[\"OfflineInstallUsed\"] = 15] = \"OfflineInstallUsed\";\n    EventType[EventType[\"OfflineWarning\"] = 16] = \"OfflineWarning\";\n    EventType[EventType[\"DotnetUpgradedEvent\"] = 17] = \"DotnetUpgradedEvent\";\n    EventType[EventType[\"SuppressedAcquisitionError\"] = 18] = \"SuppressedAcquisitionError\";\n    EventType[EventType[\"DotnetVisibleWarning\"] = 19] = \"DotnetVisibleWarning\";\n    EventType[EventType[\"DotnetInstallExpectedAbort\"] = 20] = \"DotnetInstallExpectedAbort\";\n    EventType[EventType[\"DotnetModalChildEvent\"] = 21] = \"DotnetModalChildEvent\";\n    // Example: DotnetAcquisitionStarted -> Children events are RuntimeStarted, SDKStarted, etc.\n})(EventType || (exports.EventType = EventType = {}));\n//# sourceMappingURL=EventType.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IEvent = void 0;\nconst ContentSantizer_1 = require(\"../Utils/ContentSantizer\");\nclass IEvent {\n    constructor() {\n        this.isError = false;\n    }\n    getSanitizedProperties() {\n        return (0, ContentSantizer_1.sanitizeProperties)(this.getProperties(true));\n    }\n}\nexports.IEvent = IEvent;\n//# sourceMappingURL=IEvent.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IWindowDisplayWorker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LoggingObserver = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst fs = require(\"fs\");\nclass LoggingObserver {\n    constructor(logFilePath) {\n        this.logFilePath = logFilePath;\n        this.log = [];\n    }\n    post(event) {\n        this.writeLine(`${new Date().toLocaleString()} ${event.eventName}`);\n        const properties = event.getProperties();\n        if (properties) {\n            for (const property of Object.values(properties)) {\n                this.writeLine(property);\n            }\n        }\n        this.writeLine('');\n    }\n    dispose() {\n        fs.writeFileSync(this.logFilePath, this.log.join('\\n'));\n    }\n    getFileLocation() {\n        return this.logFilePath;\n    }\n    writeLine(line) {\n        this.log.push(line);\n    }\n}\nexports.LoggingObserver = LoggingObserver;\n//# sourceMappingURL=LoggingObserver.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ModalEventRepublisher = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nclass ModalEventRepublisher {\n    constructor(eventStreamReference) {\n        this.eventStreamReference = eventStreamReference;\n    }\n    getSpecificEvent(event) {\n        const mode = event.mode;\n        if (event instanceof EventStreamEvents_1.DotnetAcquisitionStarted) {\n            switch (mode) {\n                case 'sdk':\n                    return event.installType === 'global' ? new EventStreamEvents_1.DotnetGlobalSDKAcquisitionStarted(event.requestingExtensionId) : null;\n                case 'runtime':\n                    return new EventStreamEvents_1.DotnetRuntimeAcquisitionStarted(event.requestingExtensionId);\n                case 'aspnetcore':\n                    return new EventStreamEvents_1.DotnetASPNetRuntimeAcquisitionStarted(event.requestingExtensionId);\n                default:\n                    break;\n            }\n        }\n        else if (event instanceof EventStreamEvents_1.DotnetAcquisitionTotalSuccessEvent) {\n            switch (mode) {\n                case 'sdk':\n                    return event.installType === 'global' ? new EventStreamEvents_1.DotnetGlobalSDKAcquisitionTotalSuccessEvent(event.install) : null;\n                case 'runtime':\n                    return new EventStreamEvents_1.DotnetRuntimeAcquisitionTotalSuccessEvent(event.install);\n                case 'aspnetcore':\n                    return new EventStreamEvents_1.DotnetASPNetRuntimeAcquisitionTotalSuccessEvent(event.install);\n                default:\n                    break;\n            }\n        }\n        else if (event instanceof EventStreamEvents_1.DotnetAcquisitionFinalError) {\n            switch (mode) {\n                case 'sdk':\n                    return event.installType === 'global' ? new EventStreamEvents_1.DotnetGlobalSDKAcquisitionError(event.error, event.originalEventName, event.install) : null;\n                case 'runtime':\n                    return new EventStreamEvents_1.DotnetRuntimeFinalAcquisitionError(event.error, event.originalEventName, event.install);\n                case 'aspnetcore':\n                    return new EventStreamEvents_1.DotnetASPNetRuntimeFinalAcquisitionError(event.error, event.originalEventName, event.install);\n                default:\n                    break;\n            }\n        }\n        else if (event instanceof EventStreamEvents_1.DotnetAcquisitionRequested) {\n            switch (mode) {\n                case 'sdk':\n                    return event.installType === 'global' ? new EventStreamEvents_1.DotnetGlobalSDKAcquisitionRequested(event.startingVersion, event.requestingId, event.mode) : null;\n                case 'runtime':\n                    return new EventStreamEvents_1.DotnetRuntimeAcquisitionRequested(event.startingVersion, event.requestingId, event.mode);\n                case 'aspnetcore':\n                    return new EventStreamEvents_1.DotnetASPNetRuntimeAcquisitionRequested(event.startingVersion, event.requestingId, event.mode);\n                default:\n                    break;\n            }\n        }\n        return null;\n    }\n    republishEvent(event) {\n        const modeSpecificEvent = this.getSpecificEvent(event);\n        if (modeSpecificEvent !== null) {\n            this.eventStreamReference.post(modeSpecificEvent);\n        }\n    }\n    post(event) {\n        if (event instanceof EventStreamEvents_1.GenericModalEvent) {\n            this.republishEvent(event);\n        }\n    }\n    dispose() {\n    }\n}\nexports.ModalEventRepublisher = ModalEventRepublisher;\n//# sourceMappingURL=ModalEventPublisher.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OutputChannelObserver = void 0;\nconst EventStreamEvents_1 = require(\"./EventStreamEvents\");\nconst EventType_1 = require(\"./EventType\");\nclass OutputChannelObserver {\n    // private inProgressDownloads:\n    constructor(outputChannel) {\n        this.outputChannel = outputChannel;\n        this.inProgressDownloads = [];\n    }\n    post(event) {\n        var _a, _b, _c, _d, _e, _f;\n        switch (event.type) {\n            case EventType_1.EventType.DotnetAcquisitionStart:\n                const acquisitionStarted = event;\n                this.inProgressDownloads.push(acquisitionStarted.install.installId);\n                this.outputChannel.append(`${acquisitionStarted.requestingExtensionId} requested to download the ${acquisitionStarted.install.installMode === 'sdk' ? '.NET SDK' :\n                    acquisitionStarted.install.installMode === 'runtime' ? '.NET Runtime' :\n                        '.NET ASP.NET Runtime'}.`);\n                this.outputChannel.appendLine('');\n                if (this.inProgressDownloads.length > 1) {\n                    // Already a download in progress\n                    this.outputChannel.appendLine(` -- Concurrent download of '${acquisitionStarted.install.installId}' started!`);\n                    this.outputChannel.appendLine('');\n                }\n                else {\n                    this.startDownloadIndicator();\n                }\n                const startVersionString = this.inProgressDownloads.join(', ');\n                this.outputChannel.append(`Downloading .NET version(s) ${startVersionString} ...`);\n                break;\n            case EventType_1.EventType.DotnetAcquisitionCompleted:\n                const acquisitionCompleted = event;\n                this.outputChannel.appendLine(' Done!');\n                this.outputChannel.appendLine(`.NET ${acquisitionCompleted.install.installId} executable path: ${acquisitionCompleted.dotnetPath}`);\n                this.outputChannel.appendLine('');\n                this.inProgressVersionDone(acquisitionCompleted.install.installId);\n                if (this.inProgressDownloads.length > 0) {\n                    const completedVersionString = `'${this.inProgressDownloads.join('\\', \\'')}'`;\n                    this.outputChannel.append(`Still downloading .NET version(s) ${completedVersionString} ...`);\n                }\n                else {\n                    this.stopDownloadIndicator();\n                }\n                break;\n            case EventType_1.EventType.DotnetAcquisitionSuccessEvent:\n                if (event instanceof EventStreamEvents_1.DotnetExistingPathResolutionCompleted) {\n                    this.outputChannel.append(`Using configured .NET path: ${event.resolvedPath}\\n`);\n                }\n                break;\n            case EventType_1.EventType.DotnetVisibleWarning:\n                this.outputChannel.appendLine('');\n                this.outputChannel.appendLine(event.eventMessage);\n                this.outputChannel.appendLine('');\n                break;\n            case EventType_1.EventType.DotnetAcquisitionAlreadyInstalled:\n                if (event instanceof EventStreamEvents_1.DotnetAcquisitionAlreadyInstalled) {\n                    this.outputChannel.append(`${event.requestingExtensionId}: Trying to install .NET ${event.install.installId} but it already exists. No downloads or changes were made.\\n`);\n                }\n                break;\n            case EventType_1.EventType.DotnetAcquisitionInProgress:\n                if (event instanceof EventStreamEvents_1.DotnetAcquisitionInProgress) {\n                    this.outputChannel.append(`${event.requestingExtensionId} tried to install .NET ${event.install.installId} but that install had already been requested. No downloads or changes were made.\\n`);\n                }\n                break;\n            case EventType_1.EventType.DotnetAcquisitionError:\n                const error = event;\n                this.outputChannel.appendLine(`\\nError : (${(_a = error.eventName) !== null && _a !== void 0 ? _a : ''})`);\n                this.outputChannel.appendLine(`Failed to download .NET ${(_b = error.install) === null || _b === void 0 ? void 0 : _b.installId}:`);\n                this.outputChannel.appendLine((_c = error === null || error === void 0 ? void 0 : error.error) === null || _c === void 0 ? void 0 : _c.message);\n                this.outputChannel.appendLine('');\n                this.updateDownloadIndicators((_d = error.install) === null || _d === void 0 ? void 0 : _d.installId);\n                break;\n            case EventType_1.EventType.DotnetInstallExpectedAbort:\n                const abortEvent = event;\n                this.outputChannel.appendLine(`Cancelled Installation of .NET ${(_e = abortEvent.install) === null || _e === void 0 ? void 0 : _e.installId}.`);\n                this.outputChannel.appendLine(abortEvent.error.message);\n                this.updateDownloadIndicators((_f = abortEvent.install) === null || _f === void 0 ? void 0 : _f.installId);\n                break;\n            case EventType_1.EventType.DotnetUpgradedEvent:\n                const upgradeMessage = event;\n                this.outputChannel.appendLine(`${upgradeMessage.eventMessage}:`);\n                break;\n            case EventType_1.EventType.DotnetDebuggingMessage:\n                const loggedMessage = event;\n                this.outputChannel.appendLine(loggedMessage.message);\n                break;\n            case EventType_1.EventType.OfflineInstallUsed:\n                const offlineUsedMsg = event;\n                this.outputChannel.appendLine(offlineUsedMsg.eventMessage);\n            case EventType_1.EventType.OfflineWarning:\n                const offlineWarning = event;\n                this.outputChannel.appendLine(offlineWarning.eventMessage);\n            case EventType_1.EventType.DotnetUninstallMessage:\n                const uninstallMessage = event;\n                this.outputChannel.appendLine(uninstallMessage.eventMessage);\n        }\n    }\n    dispose() {\n        // Nothing to dispose\n    }\n    updateDownloadIndicators(installId) {\n        if (installId && installId !== 'null') {\n            this.inProgressVersionDone(installId);\n        }\n        if (this.inProgressDownloads.length > 0) {\n            const errorVersionString = this.inProgressDownloads.join(', ');\n            this.outputChannel.append(`Still downloading .NET version(s) ${errorVersionString} ...`);\n        }\n        else {\n            this.stopDownloadIndicator();\n        }\n    }\n    startDownloadIndicator() {\n        this.downloadProgressInterval = setInterval(() => this.outputChannel.append('.'), 1000);\n    }\n    stopDownloadIndicator() {\n        if (this.downloadProgressInterval) {\n            clearTimeout(this.downloadProgressInterval);\n            this.downloadProgressInterval = undefined;\n        }\n    }\n    inProgressVersionDone(version) {\n        const index = this.inProgressDownloads.indexOf(version);\n        this.inProgressDownloads.splice(index, 1);\n    }\n}\nexports.OutputChannelObserver = OutputChannelObserver;\n//# sourceMappingURL=OutputChannelObserver.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StatusBarObserver = void 0;\nconst EventType_1 = require(\"./EventType\");\nvar StatusBarColors;\n(function (StatusBarColors) {\n    StatusBarColors[\"Red\"] = \"rgb(218,0,0)\";\n    StatusBarColors[\"Green\"] = \"rgb(0,218,0)\";\n})(StatusBarColors || (StatusBarColors = {}));\nclass StatusBarObserver {\n    constructor(statusBarItem, showLogCommand) {\n        this.statusBarItem = statusBarItem;\n        this.showLogCommand = showLogCommand;\n    }\n    post(event) {\n        switch (event.type) {\n            case EventType_1.EventType.DotnetAcquisitionStart:\n                this.setAndShowStatusBar('$(cloud-download) Downloading .NET...', this.showLogCommand, '', 'Downloading .NET...');\n                break;\n            case EventType_1.EventType.DotnetAcquisitionCompleted:\n            case EventType_1.EventType.DotnetInstallExpectedAbort:\n                this.resetAndHideStatusBar();\n                break;\n            case EventType_1.EventType.DotnetAcquisitionError:\n                this.setAndShowStatusBar('$(alert) Error acquiring .NET!', this.showLogCommand, StatusBarColors.Red, 'Error acquiring .NET');\n                break;\n        }\n    }\n    dispose() {\n        // Nothing to dispose\n    }\n    setAndShowStatusBar(text, command, color, tooltip) {\n        this.statusBarItem.text = text;\n        this.statusBarItem.command = command;\n        this.statusBarItem.color = color;\n        this.statusBarItem.tooltip = tooltip;\n        this.statusBarItem.show();\n    }\n    resetAndHideStatusBar() {\n        this.statusBarItem.text = '';\n        this.statusBarItem.command = undefined;\n        this.statusBarItem.color = undefined;\n        this.statusBarItem.tooltip = undefined;\n        this.statusBarItem.hide();\n    }\n}\nexports.StatusBarObserver = StatusBarObserver;\n//# sourceMappingURL=StatusBarObserver.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TelemetryObserver = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst extension_telemetry_1 = require(\"@vscode/extension-telemetry\");\nconst vscode = require(\"vscode\");\nconst TelemetryUtilities_1 = require(\"./TelemetryUtilities\");\nclass TelemetryObserver {\n    constructor(packageJson, isExtensionTelemetryEnabled, extensionContext, utilityContext, telemetryReporter) {\n        this.extensionContext = extensionContext;\n        this.utilityContext = utilityContext;\n        this.isExtensionTelemetryEnabled = false;\n        this.acquisitionContext = null;\n        if (telemetryReporter === undefined) {\n            const connectionString = packageJson.connectionString;\n            this.telemetryReporter = new extension_telemetry_1.default(connectionString !== null && connectionString !== void 0 ? connectionString : '');\n        }\n        else {\n            this.telemetryReporter = telemetryReporter;\n        }\n        this.isExtensionTelemetryEnabled = isExtensionTelemetryEnabled;\n        vscode.env.onDidChangeTelemetryEnabled((newIsTelemetryEnabledSetting) => {\n            this.isExtensionTelemetryEnabled = newIsTelemetryEnabledSetting;\n            TelemetryUtilities_1.TelemetryUtilities.setDotnetSDKTelemetryToMatch(this.isExtensionTelemetryEnabled, this.extensionContext, this.acquisitionContext, this.utilityContext).catch(() => { });\n        });\n    }\n    setAcquisitionContext(context, underlyingAcquisitionContext) {\n        context.acquisitionContext = underlyingAcquisitionContext;\n        this.acquisitionContext = context;\n    }\n    /**\n     *\n     * @param event The event posted to the event stream that we subscribed to.\n     * @remarks The TelemetryReporter from the VSCode library contains all of the logic when we try to send an event for us.\n     * It will handle whether we should send the telemetry or not. However, it is not aware of our custom telemetry logic\n     * So we might as well check both to be safe.\n     *\n     * However, the .NET SDK itself has its own telemetry and we must keep track of VS Code's telemetry settings for that.\n     */\n    post(event) {\n        if (TelemetryUtilities_1.TelemetryUtilities.isTelemetryEnabled(this.isExtensionTelemetryEnabled, this.utilityContext)) {\n            const properties = event.getSanitizedProperties(); // Get properties that don't contain personally identifiable data\n            // Certain events get sent way too often (ex: 700 million locks acquired over a few months which is causing problems for the data team) and aren't useful for telemetry.\n            // We allow suppressing certain events before even hitting the data ingestion service by doing a check here.\n            if (properties && (properties === null || properties === void 0 ? void 0 : properties.suppressTelemetry) === 'true') {\n                return;\n            }\n            if (!properties) {\n                this.telemetryReporter.sendTelemetryEvent(event.eventName);\n            }\n            else if (event.isError) {\n                this.telemetryReporter.sendTelemetryErrorEvent(event.eventName, properties);\n            }\n            else {\n                this.telemetryReporter.sendTelemetryEvent(event.eventName, properties);\n            }\n        }\n    }\n    dispose() {\n        this.telemetryReporter.dispose().catch(() => { });\n    }\n}\nexports.TelemetryObserver = TelemetryObserver;\n//# sourceMappingURL=TelemetryObserver.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TelemetryUtilities = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst crypto = require(\"crypto\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst util_1 = require(\"util\");\nconst CommandExecutor_1 = require(\"../Utils/CommandExecutor\");\nconst EventStreamEvents_1 = require(\"./EventStreamEvents\");\nclass TelemetryUtilities {\n    static HashData(dataToHash) {\n        if (!dataToHash) {\n            return '';\n        }\n        const hasher = crypto.createHash('sha256');\n        const utf8Bytes = new util_1.TextEncoder().encode(dataToHash.toUpperCase());\n        const hashedData = hasher.update(utf8Bytes).digest('hex').toLowerCase();\n        return hashedData;\n    }\n    /**\n     *\n     * @param stringWithPaths The string that may contain paths to hash.\n     * @returns The same string but with all paths in it hashed.\n     * @remarks Will not hash a filename as it is a leaf file system object. It needs to be a path with at least one directory.\n     * That's what we'd like to hash. (E.g. dotnet-install.ps1 is not needed to hash.)\n     */\n    static HashAllPaths(stringWithPaths) {\n        let hashedPathsString = ``;\n        stringWithPaths.split(' ').forEach(word => {\n            const convertedLine = word !== path.basename(word) && fs.existsSync(word) && (fs.lstatSync(word).isFile() || fs.lstatSync(word).isDirectory())\n                ? TelemetryUtilities.HashData(word) : word;\n            hashedPathsString = `${hashedPathsString} ${convertedLine}`;\n            return hashedPathsString;\n        });\n        return hashedPathsString;\n    }\n    static setDotnetSDKTelemetryToMatch(isExtensionTelemetryEnabled, extensionContext, acquisitionContext, utilityContext) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!TelemetryUtilities.isTelemetryEnabled(isExtensionTelemetryEnabled, utilityContext)) {\n                TelemetryUtilities.logTelemetryChange(`Before disabling .NET SDK telemetry:`, isExtensionTelemetryEnabled, acquisitionContext === null || acquisitionContext === void 0 ? void 0 : acquisitionContext.eventStream, utilityContext);\n                yield new CommandExecutor_1.CommandExecutor(acquisitionContext, utilityContext).setEnvironmentVariable('DOTNET_CLI_TELEMETRY_OPTOUT', 'true', extensionContext, `Telemetry is disabled for the .NET Install Tool, but we were unable to turn off the .NET SDK telemetry.\r\nTo disable .NET SDK telemetry, set the environment variable DOTNET_CLI_TELEMETRY_OPTOUT to true.`, `The .NET Install Tool will not collect telemetry. However, the .NET SDK does collect telemetry.\r\nTo disable .NET SDK telemetry, set the environment variable DOTNET_CLI_TELEMETRY_OPTOUT to true.`);\n                TelemetryUtilities.logTelemetryChange(`After disabling .NET SDK telemetry:`, isExtensionTelemetryEnabled, acquisitionContext === null || acquisitionContext === void 0 ? void 0 : acquisitionContext.eventStream, utilityContext);\n            }\n            else {\n                utilityContext.ui.showWarningMessage(`The .NET tools collect usage data in order to help us improve your experience. It is collected by Microsoft and shared with the community. You can opt-out of telemetry by setting the DOTNET_CLI_TELEMETRY_OPTOUT environment variable to '1' or 'true' using your favorite shell.\r\nRead more about .NET CLI Tools telemetry: https://aka.ms/dotnet-cli-telemetry`, () => { });\n                TelemetryUtilities.logTelemetryChange(`Unchanged Telemetry Settings.`, isExtensionTelemetryEnabled, acquisitionContext === null || acquisitionContext === void 0 ? void 0 : acquisitionContext.eventStream, utilityContext);\n            }\n        });\n    }\n    static isDotnetSDKTelemetryDisabled() {\n        const optOut = process.env.DOTNET_CLI_TELEMETRY_OPTOUT;\n        return optOut && optOut !== 'false' && optOut !== '0';\n    }\n    static isTelemetryEnabled(isExtensionTelemetryEnabled, utilityContext) {\n        const isVSCodeTelemetryEnabled = utilityContext.vsCodeEnv.isTelemetryEnabled();\n        return isVSCodeTelemetryEnabled && isExtensionTelemetryEnabled;\n    }\n    static logTelemetryChange(changeMessage, isExtensionTelemetryEnabled, eventStream, utilityContext) {\n        eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetTelemetrySettingEvent(`Telemetry Setting Change: ${changeMessage}\r\n.NET SDK Setting: ${!TelemetryUtilities.isDotnetSDKTelemetryDisabled()},\r\nExtension Setting: ${isExtensionTelemetryEnabled}\r\nVS Code Setting: ${utilityContext.vsCodeEnv.isTelemetryEnabled()}.`));\n    }\n}\nexports.TelemetryUtilities = TelemetryUtilities;\n//# sourceMappingURL=TelemetryUtilities.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WindowDisplayWorker = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst os = require(\"os\");\nconst vscode_1 = require(\"vscode\");\n/* eslint-disable */ // When editing this file, please remove this and fix the linting concerns.\nclass WindowDisplayWorker {\n    constructor() {\n        this.pathPlaceholder = os.platform() === 'win32' ? 'C:\\\\Program Files\\\\dotnet\\\\dotnet.exe' : '/usr/local/share/dotnet/dotnet';\n        this.pathPrompt = 'Enter the path to the .NET executable. .NET can be installed at aka.ms/dotnet-download';\n    }\n    showErrorMessage(message, callback, ...items) {\n        vscode_1.window.showErrorMessage(message, ...items).then((response) => __awaiter(this, void 0, void 0, function* () { return callback(response); }));\n    }\n    showWarningMessage(message, callback, ...items) {\n        vscode_1.window.showWarningMessage(message, ...items).then((response) => __awaiter(this, void 0, void 0, function* () { return callback(response); }));\n    }\n    getModalWarningResponse(message, no, yes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return vscode_1.window.showWarningMessage(message, { modal: true }, no, yes);\n        });\n    }\n    showInformationMessage(message, callback, ...items) {\n        vscode_1.window.showInformationMessage(message).then((response) => __awaiter(this, void 0, void 0, function* () { return callback(response); }));\n    }\n    copyToUserClipboard(text) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield vscode_1.env.clipboard.writeText(text);\n        });\n    }\n    displayPathConfigPopUp() {\n        return vscode_1.window.showInputBox({ value: this.pathPlaceholder, prompt: this.pathPrompt, ignoreFocusOut: true });\n    }\n}\nexports.WindowDisplayWorker = WindowDisplayWorker;\n//# sourceMappingURL=WindowDisplayWorker.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IDotnetAcquireContext.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IDotnetAcquireResult.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IDotnetEnsureDependenciesContext.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IDotnetFindPathContext.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IDotnetListVersionsContext.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IDotnetUninstallContext.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExistingPathKeys = void 0;\nvar ExistingPathKeys;\n(function (ExistingPathKeys) {\n    ExistingPathKeys.extensionIdKey = 'extensionId';\n    ExistingPathKeys.pathKey = 'path';\n})(ExistingPathKeys || (exports.ExistingPathKeys = ExistingPathKeys = {}));\n//# sourceMappingURL=IExtensionContext.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IExtensionState.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IVSCodeExtensionContext = void 0;\nclass IVSCodeExtensionContext {\n}\nexports.IVSCodeExtensionContext = IVSCodeExtensionContext;\n//# sourceMappingURL=IVSCodeExtensionContext.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n *  Licensed to the .NET Foundation under one or more agreements.\n *  The .NET Foundation licenses this file to you under the MIT license.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LocalMemoryCacheSingleton = void 0;\nconst nodeCache = require(\"node-cache\");\nconst EventStreamEvents_1 = require(\"./EventStream/EventStreamEvents\");\nconst CommandExecutor_1 = require(\"./Utils/CommandExecutor\");\nclass LocalMemoryCacheSingleton {\n    constructor(timeToLiveMultiplier = 1) {\n        this.timeToLiveMultiplier = timeToLiveMultiplier;\n        this.cache = new nodeCache();\n    }\n    /**\n     *\n     * @param timeToLiveMultiplier The vscode setting that multiplies the time to live of the cache.\n     * Allows users to turn off the cache if it causes problems or if its working well to increase the ttl for better performance.\n     * Following the pattern of our other vscode settings, this is set initially and should be locked in during extension activation until that logic is decoupled.\n     * It'd be best to not try to set this number again after the extension is activated; it will not work.\n     *\n     * @returns The instance of the singleton.\n     */\n    static getInstance(timeToLiveMultiplier = 1) {\n        if (!LocalMemoryCacheSingleton.instance) {\n            LocalMemoryCacheSingleton.instance = new LocalMemoryCacheSingleton(timeToLiveMultiplier);\n        }\n        return LocalMemoryCacheSingleton.instance;\n    }\n    /**\n     * @returns the object in the cache with the key, key. undefined if the cache is empty. Telemetry will show this as a string undefined but it is undefined.\n     */\n    get(key, context) {\n        var _a;\n        const result = this.cache.get(key);\n        context.eventStream.post(new EventStreamEvents_1.CacheGetEvent(`Checking the cache at ${new Date().toISOString()}`, key, (_a = JSON.stringify(result)) !== null && _a !== void 0 ? _a : 'undefined'));\n        return result;\n    }\n    getCommand(key, context) {\n        return this.get(this.cacheableCommandToKey(key), context);\n    }\n    /**\n     *\n     * @param metadata if ttl is 0, it won't be added to the cache.\n     * @returns\n     */\n    put(key, obj, metadata, context) {\n        metadata.ttlMs = metadata.ttlMs * this.timeToLiveMultiplier;\n        if (metadata.ttlMs === 0) {\n            context.eventStream.post(new EventStreamEvents_1.CachePutEvent(`TTL is 0 : Not to the cache at ${new Date().toISOString()}`, key, JSON.stringify(obj), metadata.ttlMs.toString()));\n            return;\n        }\n        context.eventStream.post(new EventStreamEvents_1.CachePutEvent(`Adding to the cache at ${new Date().toISOString()}`, key, JSON.stringify(obj), metadata.ttlMs.toString()));\n        this.cache.set(key, obj, metadata.ttlMs / 1000);\n    }\n    putCommand(key, obj, context) {\n        var _a, _b;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        const ttl = (_b = (_a = key.options) === null || _a === void 0 ? void 0 : _a.dotnetInstallToolCacheTtlMs) !== null && _b !== void 0 ? _b : 5000;\n        return this.put(this.cacheableCommandToKey(key), obj, { ttlMs: ttl }, context);\n    }\n    invalidate(context) {\n        context === null || context === void 0 ? void 0 : context.eventStream.post(new EventStreamEvents_1.CacheClearEvent(`Wiping the cache at ${new Date().toISOString()}`));\n        this.cache.flushAll();\n    }\n    cacheableCommandToKey(key) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        return `${CommandExecutor_1.CommandExecutor.prettifyCommandExecutorCommand(key.command)}${JSON.stringify(key.options, function replacer(k, v) {\n            // Replace the dotnetInstallToolCacheTtlMs key with undefined so that it doesn't affect the cache key.\n            if (k === 'dotnetInstallToolCacheTtlMs') {\n                return undefined;\n            }\n            return v;\n        })}`;\n    }\n}\nexports.LocalMemoryCacheSingleton = LocalMemoryCacheSingleton;\n;\n//# sourceMappingURL=LocalMemoryCacheSingleton.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommandExecutor = void 0;\n/* --------------------------------------------------------------------------------------------\n *  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nconst proc = require(\"child_process\");\nconst fs = require(\"fs\");\nconst os = require(\"os\");\nconst open = require(\"open\");\nconst path = require(\"path\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst sudo_prompt_1 = require(\"@vscode/sudo-prompt\");\nconst lockfile = require(\"proper-lockfile\");\nconst InstallIdUtilities_1 = require(\"./InstallIdUtilities\");\nconst ICommandExecutor_1 = require(\"./ICommandExecutor\");\nconst FileUtilities_1 = require(\"./FileUtilities\");\nconst TypescriptUtilities_1 = require(\"./TypescriptUtilities\");\nconst LocalMemoryCacheSingleton_1 = require(\"../LocalMemoryCacheSingleton\");\nclass CommandExecutor extends ICommandExecutor_1.ICommandExecutor {\n    constructor(context, utilContext, validSudoCommands) {\n        super(context, utilContext);\n        this.validSudoCommands = validSudoCommands;\n        this.pathTroubleshootingOption = 'Troubleshoot';\n        this.englishOutputEnvironmentVariables = {\n            LC_ALL: 'en_US.UTF-8',\n            LANG: 'en_US.UTF-8',\n            LANGUAGE: 'en',\n            DOTNET_CLI_UI_LANGUAGE: 'en-US',\n        }; // Not all systems have english installed -- not sure if it's safe to use this.\n        this.sudoProcessCommunicationDir = path.join(__dirname, 'install scripts');\n        this.hasEverLaunchedSudoFork = false;\n        this.fileUtil = new FileUtilities_1.FileUtilities();\n    }\n    /**\n     *\n     * @returns The output of the command.\n     */\n    ExecSudoAsync(command_1) {\n        return __awaiter(this, arguments, void 0, function* (command, terminalFailure = true) {\n            var _a, _b, _c;\n            const fullCommandString = CommandExecutor.prettifyCommandExecutorCommand(command, false);\n            (_a = this.context) === null || _a === void 0 ? void 0 : _a.eventStream.post(new EventStreamEvents_1.CommandExecutionUnderSudoEvent(`The command ${fullCommandString} is being ran under sudo.`));\n            const shellScript = path.join(this.sudoProcessCommunicationDir, 'interprocess-communicator.sh');\n            if ((0, TypescriptUtilities_1.isRunningUnderWSL)((_b = this.context) === null || _b === void 0 ? void 0 : _b.eventStream)) {\n                // For WSL, vscode/sudo-prompt does not work.\n                // This is because it relies on pkexec or a GUI app to popup and request sudo privilege.\n                // GUI in WSL is not supported, so it will fail.\n                // We had a working implementation that opens a vscode box and gets the user password, but that will require more security analysis.\n                const err = new EventStreamEvents_1.DotnetWSLSecurityError(new EventStreamEvents_1.EventCancellationError('DotnetWSLSecurityError', `Automatic .NET SDK Installation is not yet supported in WSL due to VS Code & WSL limitations.\r\nPlease install the .NET SDK manually by following https://learn.microsoft.com/en-us/dotnet/core/install/linux-ubuntu. Then, add it to the path by following https://github.com/dotnet/vscode-dotnet-runtime/blob/main/Documentation/troubleshooting-runtime.md#manually-installing-net`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                (_c = this.context) === null || _c === void 0 ? void 0 : _c.eventStream.post(err);\n                throw err.error;\n            }\n            const masterSudoProcessSpawnResult = this.startupSudoProc(fullCommandString, shellScript, terminalFailure);\n            yield this.sudoProcIsLive(terminalFailure);\n            return this.executeSudoViaProcessCommunication(fullCommandString, terminalFailure);\n        });\n    }\n    /**\n     *\n     * @param fullCommandString the command that will be run by the master process once it is spawned, not super relevant here, used for logging.\n     * @param shellScriptPath the path of the shell script file for the process to run that should loop and follow the protocol procedure\n     * @param terminalFailure whether if we cannot start the sudo process, should we fail the entire program.\n     * @returns The string result of either trying to spawn the sudo master process, or the status code of that attempt depending on the return mode.\n     */\n    startupSudoProc(fullCommandString, shellScriptPath, terminalFailure) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            if (this.hasEverLaunchedSudoFork) {\n                if (yield this.sudoProcIsLive(false)) {\n                    return Promise.resolve('0');\n                }\n            }\n            this.hasEverLaunchedSudoFork = true;\n            // Launch the process under sudo\n            (_a = this.context) === null || _a === void 0 ? void 0 : _a.eventStream.post(new EventStreamEvents_1.CommandExecutionUserAskDialogueEvent(`Prompting user for command ${fullCommandString} under sudo.`));\n            const options = { name: this.getSanitizedCallerName() };\n            fs.chmodSync(shellScriptPath, 0o500);\n            const timeoutSeconds = Math.max(100, this.context.timeoutSeconds);\n            (0, sudo_prompt_1.exec)((`\"${shellScriptPath}\" \"${this.sudoProcessCommunicationDir}\" \"${timeoutSeconds}\" ${(_b = this.validSudoCommands) === null || _b === void 0 ? void 0 : _b.join(' ')} &`), options, (error, stdout, stderr) => {\n                var _a, _b, _c, _d;\n                (_a = this.context) === null || _a === void 0 ? void 0 : _a.eventStream.post(new EventStreamEvents_1.CommandExecutionStdOut(`The process spawn: ${fullCommandString} encountered stdout, continuing\r\n${stdout}`));\n                (_b = this.context) === null || _b === void 0 ? void 0 : _b.eventStream.post(new EventStreamEvents_1.CommandExecutionStdError(`The process spawn: ${fullCommandString} encountered stderr, continuing\r\n${stderr}`));\n                if (error) {\n                    (_c = this.context) === null || _c === void 0 ? void 0 : _c.eventStream.post(new EventStreamEvents_1.CommandExecutionUserCompletedDialogueEvent(`The process spawn: ${fullCommandString} failed to run under sudo.`));\n                    if (terminalFailure) {\n                        this.parseVSCodeSudoExecError(error, fullCommandString);\n                        return Promise.reject(error);\n                    }\n                    else {\n                        return Promise.resolve('1');\n                    }\n                }\n                else {\n                    (_d = this.context) === null || _d === void 0 ? void 0 : _d.eventStream.post(new EventStreamEvents_1.CommandExecutionUserCompletedDialogueEvent(`The process spawn: ${fullCommandString} successfully ran under sudo.`));\n                    return Promise.resolve('0');\n                }\n            });\n            return Promise.resolve('0');\n        });\n    }\n    /**\n     *\n     * @param errorIfDead set this to true if we should terminally fail if the master process is not yet alive\n     * @returns a boolean, true if the master process is live, false otherwise\n     */\n    sudoProcIsLive(errorIfDead) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c;\n            let isLive = false;\n            const processAliveOkSentinelFile = path.join(this.sudoProcessCommunicationDir, 'ok.txt');\n            const fakeLockFile = path.join(this.sudoProcessCommunicationDir, 'fakeLockFile'); // We need a file to lock the directory in the API besides the dir lock file\n            yield this.fileUtil.writeFileOntoDisk('', fakeLockFile, false, (_a = this.context) === null || _a === void 0 ? void 0 : _a.eventStream);\n            // Prepare to lock directory\n            const directoryLock = 'dir.lock';\n            const directoryLockPath = path.join(path.dirname(processAliveOkSentinelFile), directoryLock);\n            // Lock the directory -- this is not a system wide lock, only a library lock we must respect in the code.\n            // This will allow the process to still edit the directory, but not our extension API calls from overlapping with one another.\n            yield lockfile.lock(fakeLockFile, { lockfilePath: directoryLockPath, retries: { retries: 10, minTimeout: 5, maxTimeout: 10000 } })\n                .then((release) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b, _c, _d, _e, _f, _g;\n                (_a = this.context) === null || _a === void 0 ? void 0 : _a.eventStream.post(new EventStreamEvents_1.DotnetLockAcquiredEvent(`Lock Acquired.`, new Date().toISOString(), directoryLockPath, fakeLockFile));\n                this.fileUtil.wipeDirectory(this.sudoProcessCommunicationDir, (_b = this.context) === null || _b === void 0 ? void 0 : _b.eventStream, ['.txt']);\n                yield this.fileUtil.writeFileOntoDisk('', processAliveOkSentinelFile, true, (_c = this.context) === null || _c === void 0 ? void 0 : _c.eventStream);\n                (_d = this.context) === null || _d === void 0 ? void 0 : _d.eventStream.post(new EventStreamEvents_1.SudoProcAliveCheckBegin(`Looking for Sudo Process Master, wrote OK file. ${new Date().toISOString()}`));\n                const waitTime = ((_e = this.context) === null || _e === void 0 ? void 0 : _e.timeoutSeconds) ? ((((_f = this.context) === null || _f === void 0 ? void 0 : _f.timeoutSeconds) / 3) * 1000) : 180000;\n                yield (0, TypescriptUtilities_1.loopWithTimeoutOnCond)(100, waitTime, function processRespondedByDeletingOkFile() { return !fs.existsSync(processAliveOkSentinelFile); }, function setProcessIsAlive() { isLive = true; }, this.context.eventStream, new EventStreamEvents_1.SudoProcCommandExchangePing(`Ping : Waiting. ${new Date().toISOString()}`))\n                    .catch(error => {\n                    // Let the rejected promise get handled below\n                });\n                (_g = this.context) === null || _g === void 0 ? void 0 : _g.eventStream.post(new EventStreamEvents_1.DotnetLockReleasedEvent(`Lock about to be released.`, new Date().toISOString(), directoryLockPath, fakeLockFile));\n                return release();\n            }));\n            (_b = this.context) === null || _b === void 0 ? void 0 : _b.eventStream.post(new EventStreamEvents_1.SudoProcAliveCheckEnd(`Finished Sudo Process Master: Is Alive? ${isLive}. ${new Date().toISOString()}`));\n            if (!isLive && errorIfDead) {\n                const err = new EventStreamEvents_1.TimeoutSudoProcessSpawnerError(new EventStreamEvents_1.EventCancellationError('TimeoutSudoProcessSpawnerError', `We are unable to spawn the process to run commands under sudo for installing .NET.\r\nProcess Directory: ${this.sudoProcessCommunicationDir} failed with error mode: ${errorIfDead}.\r\nIt had previously spawned: ${this.hasEverLaunchedSudoFork}.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                (_c = this.context) === null || _c === void 0 ? void 0 : _c.eventStream.post(err);\n                throw err.error;\n            }\n            return isLive;\n        });\n    }\n    /**\n     *\n     * @param commandToExecuteString The command to tell the sudo'd master process to execute. It must be live.\n     * @param terminalFailure Whether to fail if we never get a response from the sudo process.\n     * @param failOnNonZeroExit Whether to fail if we get an exit code from the command besides 0.\n     * @returns The output string of the command, or the string status code, depending on the mode of execution.\n     */\n    executeSudoViaProcessCommunication(commandToExecuteString_1, terminalFailure_1) {\n        return __awaiter(this, arguments, void 0, function* (commandToExecuteString, terminalFailure, failOnNonZeroExit = true) {\n            var _a, _b, _c, _d, _e, _f, _g, _h;\n            let commandOutputJson = null;\n            const noStatusCodeErrorCode = '1220'; // Special failure code for if code is never set error\n            const commandFile = path.join(this.sudoProcessCommunicationDir, 'command.txt');\n            const stderrFile = path.join(this.sudoProcessCommunicationDir, 'stderr.txt');\n            const stdoutFile = path.join(this.sudoProcessCommunicationDir, 'stdout.txt');\n            const statusFile = path.join(this.sudoProcessCommunicationDir, 'status.txt');\n            const outputFile = path.join(this.sudoProcessCommunicationDir, 'output.txt');\n            const fakeLockFile = path.join(this.sudoProcessCommunicationDir, 'fakeLockFile'); // We need a file to lock the directory in the API besides the dir lock file\n            yield this.fileUtil.writeFileOntoDisk('', fakeLockFile, false, (_a = this.context) === null || _a === void 0 ? void 0 : _a.eventStream);\n            // Prepare to lock directory\n            const directoryLock = 'dir.lock';\n            const directoryLockPath = path.join(path.dirname(commandFile), directoryLock);\n            // Lock the directory -- this is not a system wide lock, only a library lock we must respect in the code.\n            // This will allow the process to still edit the directory, but not our extension API calls from overlapping with one another.\n            yield lockfile.lock(fakeLockFile, { lockfilePath: directoryLockPath, retries: { retries: 10, minTimeout: 5, maxTimeout: 10000 } })\n                .then((release) => __awaiter(this, void 0, void 0, function* () {\n                var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n                (_a = this.context) === null || _a === void 0 ? void 0 : _a.eventStream.post(new EventStreamEvents_1.DotnetLockAcquiredEvent(`Lock Acquired.`, new Date().toISOString(), directoryLockPath, fakeLockFile));\n                this.fileUtil.wipeDirectory(this.sudoProcessCommunicationDir, (_b = this.context) === null || _b === void 0 ? void 0 : _b.eventStream, ['.txt', '.json']);\n                yield this.fileUtil.writeFileOntoDisk(`${commandToExecuteString}`, commandFile, true, (_c = this.context) === null || _c === void 0 ? void 0 : _c.eventStream);\n                (_d = this.context) === null || _d === void 0 ? void 0 : _d.eventStream.post(new EventStreamEvents_1.SudoProcCommandExchangeBegin(`Handing command off to master process. ${new Date().toISOString()}`));\n                (_e = this.context) === null || _e === void 0 ? void 0 : _e.eventStream.post(new EventStreamEvents_1.CommandProcessorExecutionBegin(`The command ${commandToExecuteString} was forwarded to the master process to run.`));\n                const waitTime = ((_f = this.context) === null || _f === void 0 ? void 0 : _f.timeoutSeconds) ? (((_g = this.context) === null || _g === void 0 ? void 0 : _g.timeoutSeconds) * 1000) : 600000;\n                yield (0, TypescriptUtilities_1.loopWithTimeoutOnCond)(100, waitTime, function ProcessFinishedExecutingAndWroteOutput() { return fs.existsSync(outputFile); }, function doNothing() { ; }, this.context.eventStream, new EventStreamEvents_1.SudoProcCommandExchangePing(`Ping : Waiting. ${new Date().toISOString()}`))\n                    .catch(error => {\n                    // Let the rejected promise get handled below\n                });\n                commandOutputJson = {\n                    stdout: (fs.readFileSync(stdoutFile, 'utf8')).trim(),\n                    stderr: (fs.readFileSync(stderrFile, 'utf8')).trim(),\n                    status: (fs.readFileSync(statusFile, 'utf8')).trim()\n                };\n                (_h = this.context) === null || _h === void 0 ? void 0 : _h.eventStream.post(new EventStreamEvents_1.DotnetLockReleasedEvent(`Lock about to be released.`, new Date().toISOString(), directoryLockPath, fakeLockFile));\n                this.fileUtil.wipeDirectory(this.sudoProcessCommunicationDir, (_j = this.context) === null || _j === void 0 ? void 0 : _j.eventStream, ['.txt']);\n                return release();\n            }));\n            (_b = this.context) === null || _b === void 0 ? void 0 : _b.eventStream.post(new EventStreamEvents_1.SudoProcCommandExchangeEnd(`Finished or timed out with master process. ${new Date().toISOString()}`));\n            if (!commandOutputJson && terminalFailure) {\n                const err = new EventStreamEvents_1.TimeoutSudoCommandExecutionError(new EventStreamEvents_1.EventCancellationError('TimeoutSudoCommandExecutionError', `Timeout: The master process with command ${commandToExecuteString} never finished executing.\r\nProcess Directory: ${this.sudoProcessCommunicationDir} failed with error mode: ${terminalFailure}.\r\nIt had previously spawned: ${this.hasEverLaunchedSudoFork}.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                (_c = this.context) === null || _c === void 0 ? void 0 : _c.eventStream.post(err);\n                throw err.error;\n            }\n            else if (!commandOutputJson) {\n                (_d = this.context) === null || _d === void 0 ? void 0 : _d.eventStream.post(new EventStreamEvents_1.CommandProcessesExecutionFailureNonTerminal(`The command ${commandToExecuteString} never finished under the process, but it was marked non terminal.`));\n            }\n            else {\n                (_e = this.context) === null || _e === void 0 ? void 0 : _e.eventStream.post(new EventStreamEvents_1.CommandProcessorExecutionEnd(`The command ${commandToExecuteString} was finished by the master process, as ${outputFile} was found.`));\n                (_f = this.context) === null || _f === void 0 ? void 0 : _f.eventStream.post(new EventStreamEvents_1.CommandExecutionStdOut(`The command ${commandToExecuteString} encountered stdout, continuing\r\n${commandOutputJson.stdout}`));\n                (_g = this.context) === null || _g === void 0 ? void 0 : _g.eventStream.post(new EventStreamEvents_1.CommandExecutionStdError(`The command ${commandToExecuteString} encountered stderr, continuing\r\n${commandOutputJson.stderr}`));\n                if (commandOutputJson.status !== '0' && failOnNonZeroExit) {\n                    const err = new EventStreamEvents_1.CommandExecutionNonZeroExitFailure(new EventStreamEvents_1.EventBasedError('CommandExecutionNonZeroExitFailure', `Cancelling .NET Install, as command ${commandToExecuteString} returned with status ${commandOutputJson.status}.\r\n${commandOutputJson.stderr}.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                    (_h = this.context) === null || _h === void 0 ? void 0 : _h.eventStream.post(err);\n                    throw err.error;\n                }\n            }\n            return commandOutputJson !== null && commandOutputJson !== void 0 ? commandOutputJson : { stdout: '', stderr: '', status: noStatusCodeErrorCode };\n        });\n    }\n    /**\n     * @returns 0 if the sudo master process was ended, 1 if it was not.\n     */\n    endSudoProcessMaster(eventStream) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c;\n            if (os.platform() !== 'linux') {\n                return 0;\n            }\n            let didDelete = 1;\n            const processExitFile = path.join(this.sudoProcessCommunicationDir, 'exit.txt');\n            yield this.fileUtil.writeFileOntoDisk('', processExitFile, true, (_a = this.context) === null || _a === void 0 ? void 0 : _a.eventStream);\n            const waitTime = ((_b = this.context) === null || _b === void 0 ? void 0 : _b.timeoutSeconds) ? (((_c = this.context) === null || _c === void 0 ? void 0 : _c.timeoutSeconds) * 1000) : 600000;\n            try {\n                yield (0, TypescriptUtilities_1.loopWithTimeoutOnCond)(100, waitTime, function processRespondedByDeletingExitFile() { return !fs.existsSync(processExitFile); }, function returnZeroOnExit() { didDelete = 0; }, this.context.eventStream, new EventStreamEvents_1.SudoProcCommandExchangePing(`Ping : Waiting to exit sudo process master. ${new Date().toISOString()}`));\n            }\n            catch (error) {\n                eventStream.post(new EventStreamEvents_1.TriedToExitMasterSudoProcess(`Tried to exit sudo master process: FAILED. ${error ? JSON.stringify(error) : ''}`));\n            }\n            eventStream.post(new EventStreamEvents_1.TriedToExitMasterSudoProcess(`Tried to exit sudo master process: exit code ${didDelete}`));\n            return didDelete;\n        });\n    }\n    executeMultipleCommands(commands_1, options_1) {\n        return __awaiter(this, arguments, void 0, function* (commands, options, terminalFailure = true) {\n            const results = [];\n            for (const command of commands) {\n                results.push(yield this.execute(command, options, terminalFailure));\n            }\n            return results;\n        });\n    }\n    /**\n     *\n     * @param workingDirectory The directory to execute in. Only works for non sudo commands.\n     * @param terminalFailure Whether to throw up an error when executing under sudo or suppress it and return stderr\n     * @param options the dictionary of options to forward to the child_process. Set dotnetInstallToolCacheTtlMs=number to cache the result with a ttl and also use cached results.\n     * @returns the result(s) of each command. Can throw generically if the command fails.\n     */\n    execute(command_1) {\n        return __awaiter(this, arguments, void 0, function* (command, options = null, terminalFailure = true) {\n            var _a, _b, _c, _d, _e, _f, _g;\n            const fullCommandString = `${command.commandRoot} ${command.commandParts.join(' ')}`;\n            let useCache = false;\n            // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            if (options) {\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                (_a = options.cwd) !== null && _a !== void 0 ? _a : (options.cwd = path.resolve(__dirname));\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                (_b = options.shell) !== null && _b !== void 0 ? _b : (options.shell = true);\n            }\n            else {\n                options = { cwd: path.resolve(__dirname), shell: true };\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            if (options === null || options === void 0 ? void 0 : options.dotnetInstallToolCacheTtlMs) {\n                useCache = true;\n                const cachedResult = LocalMemoryCacheSingleton_1.LocalMemoryCacheSingleton.getInstance().getCommand({ command, options }, this.context);\n                if (cachedResult !== undefined) {\n                    return cachedResult;\n                }\n            }\n            if (command.runUnderSudo && os.platform() === 'linux') {\n                const sudoResult = yield this.ExecSudoAsync(command, terminalFailure);\n                if (useCache) {\n                    LocalMemoryCacheSingleton_1.LocalMemoryCacheSingleton.getInstance().putCommand({ command, options }, sudoResult, this.context);\n                }\n                return sudoResult;\n            }\n            else {\n                (_c = this.context) === null || _c === void 0 ? void 0 : _c.eventStream.post(new EventStreamEvents_1.CommandExecutionEvent(`Executing command ${fullCommandString}\r\nwith options ${JSON.stringify(options)}.`));\n                if (command.runUnderSudo) {\n                    // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                    options.name = this.getSanitizedCallerName();\n                    return new Promise((resolve, reject) => {\n                        (0, sudo_prompt_1.exec)(fullCommandString, options, (error, execStdout, execStderr) => {\n                            var _a, _b;\n                            if (error && terminalFailure && !((_a = error === null || error === void 0 ? void 0 : error.message) === null || _a === void 0 ? void 0 : _a.includes('screen size is bogus'))) {\n                                return reject(this.parseVSCodeSudoExecError(error, fullCommandString));\n                            }\n                            else if (error) {\n                                (_b = this.context) === null || _b === void 0 ? void 0 : _b.eventStream.post(new EventStreamEvents_1.CommandExecutionStdError(`The command ${fullCommandString} encountered ERROR: ${JSON.stringify(error)}`));\n                            }\n                            const result = { status: error ? error.message : '0', stderr: execStderr, stdout: execStdout };\n                            if (useCache) {\n                                LocalMemoryCacheSingleton_1.LocalMemoryCacheSingleton.getInstance().putCommand({ command, options }, result, this.context);\n                            }\n                            return resolve(result);\n                        });\n                    });\n                }\n                const commandResult = proc.spawnSync(command.commandRoot, command.commandParts, options);\n                this.logCommandResult(commandResult, fullCommandString);\n                const statusCode = (() => {\n                    var _a, _b, _c;\n                    if (commandResult.status !== null) {\n                        return (_a = commandResult.status.toString()) !== null && _a !== void 0 ? _a : '';\n                    }\n                    else {\n                        // A signal is generally given if a status is not given, and they are 'equivalent' enough\n                        if (commandResult.signal !== null) {\n                            return (_b = commandResult.signal.toString()) !== null && _b !== void 0 ? _b : '';\n                        }\n                        else {\n                            (_c = this.context) === null || _c === void 0 ? void 0 : _c.eventStream.post(new EventStreamEvents_1.CommandExecutionNoStatusCodeWarning(`The command ${fullCommandString} with\r\nresult: ${JSON.stringify(commandResult)} had no status or signal.`));\n                            return '000751'; // Error code 000751 : The command did not report an exit code upon completion. This is never expected\n                        }\n                    }\n                })();\n                const standardResult = { status: statusCode, stderr: (_e = (_d = commandResult.stderr) === null || _d === void 0 ? void 0 : _d.toString()) !== null && _e !== void 0 ? _e : '', stdout: (_g = (_f = commandResult.stdout) === null || _f === void 0 ? void 0 : _f.toString()) !== null && _g !== void 0 ? _g : '' };\n                if (useCache) {\n                    LocalMemoryCacheSingleton_1.LocalMemoryCacheSingleton.getInstance().putCommand({ command, options }, standardResult, this.context);\n                }\n                return standardResult;\n            }\n        });\n    }\n    logCommandResult(commandResult, fullCommandStringForTelemetryOnly) {\n        var _a, _b, _c, _d, _e, _f;\n        (_a = this.context) === null || _a === void 0 ? void 0 : _a.eventStream.post(new EventStreamEvents_1.CommandExecutionStatusEvent(`The command ${fullCommandStringForTelemetryOnly} exited\r\n        with status: ${(_b = commandResult.status) === null || _b === void 0 ? void 0 : _b.toString()}.`));\n        (_c = this.context) === null || _c === void 0 ? void 0 : _c.eventStream.post(new EventStreamEvents_1.CommandExecutionSignalSentEvent(`The command ${fullCommandStringForTelemetryOnly} exited\r\nwith signal: ${(_d = commandResult.signal) === null || _d === void 0 ? void 0 : _d.toString()}.`));\n        (_e = this.context) === null || _e === void 0 ? void 0 : _e.eventStream.post(new EventStreamEvents_1.CommandExecutionStdOut(`The command ${fullCommandStringForTelemetryOnly} encountered stdout:\r\n${commandResult.stdout}`));\n        (_f = this.context) === null || _f === void 0 ? void 0 : _f.eventStream.post(new EventStreamEvents_1.CommandExecutionStdError(`The command ${fullCommandStringForTelemetryOnly} encountered stderr:\r\n${commandResult.stderr}`));\n    }\n    parseVSCodeSudoExecError(error, fullCommandString) {\n        // 'permission' comes from an unlocalized string: https://github.com/bpasero/sudo-prompt/blob/21d9308edcf970f0a9ee0580c539b1457b3dc45b/index.js#L678\n        // if you reject on the password prompt on windows before SDK window pops up, no code will be set, so we need to check for this string.\n        var _a, _b, _c;\n        // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        if ((error === null || error === void 0 ? void 0 : error.code) === 126 || ((_a = error === null || error === void 0 ? void 0 : error.message) === null || _a === void 0 ? void 0 : _a.includes('permission'))) {\n            const cancelledErr = new EventStreamEvents_1.CommandExecutionUserRejectedPasswordRequest(new EventStreamEvents_1.EventCancellationError('CommandExecutionUserRejectedPasswordRequest', `Cancelling .NET Install, as command ${fullCommandString} failed.\r\nThe user refused the password prompt.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n            (_b = this.context) === null || _b === void 0 ? void 0 : _b.eventStream.post(cancelledErr);\n            return cancelledErr.error;\n        }\n        // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        else if ((error === null || error === void 0 ? void 0 : error.code) === 111777) {\n            const securityErr = new EventStreamEvents_1.CommandExecutionUnknownCommandExecutionAttempt(new EventStreamEvents_1.EventCancellationError('CommandExecutionUnknownCommandExecutionAttempt', `Cancelling .NET Install, as command ${fullCommandString} is UNKNOWN.\r\nPlease report this at https://github.com/dotnet/vscode-dotnet-runtime/issues.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n            (_c = this.context) === null || _c === void 0 ? void 0 : _c.eventStream.post(securityErr);\n            return securityErr.error;\n        }\n        else {\n            return error;\n        }\n    }\n    /**\n     *\n     * @param commandRoots The first word of each command to try\n     * @param matchingCommandParts Any follow up words in that command to execute, matching in the same order as commandRoots\n     * @returns the index of the working command you provided, if no command works, -1.\n     */\n    tryFindWorkingCommand(commands, options) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b, _c;\n            let workingCommand = null;\n            for (const command of commands) {\n                try {\n                    const cmdFoundOutput = (yield this.execute(command, options)).status;\n                    if (cmdFoundOutput === '0') {\n                        workingCommand = command;\n                        (_a = this.context) === null || _a === void 0 ? void 0 : _a.eventStream.post(new EventStreamEvents_1.DotnetAlternativeCommandFoundEvent(`The command ${command.commandRoot} was found.`));\n                        break;\n                    }\n                    else {\n                        (_b = this.context) === null || _b === void 0 ? void 0 : _b.eventStream.post(new EventStreamEvents_1.DotnetCommandNotFoundEvent(`The command ${command.commandRoot} was NOT found, no error was thrown.`));\n                    }\n                }\n                catch (err) {\n                    // Do nothing. The error should be raised higher up.\n                    (_c = this.context) === null || _c === void 0 ? void 0 : _c.eventStream.post(new EventStreamEvents_1.DotnetCommandNotFoundEvent(`The command ${command.commandRoot} was NOT found, and we caught any errors.`));\n                }\n            }\n            return workingCommand;\n        });\n    }\n    setEnvironmentVariable(variable, value, vscodeContext, failureWarningMessage, nonWinFailureMessage) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let environmentEditExitCode = 0;\n            process.env[variable] = value;\n            vscodeContext.setVSCodeEnvironmentVariable(variable, value);\n            if (os.platform() === 'win32') {\n                const setShellVariable = CommandExecutor.makeCommand(`set`, [`${variable}=${value}`]);\n                const setSystemVariable = CommandExecutor.makeCommand(`setx`, [`${variable}`, `\"${value}\"`]);\n                try {\n                    const shellEditResponse = (yield this.execute(setShellVariable)).status;\n                    environmentEditExitCode += Number(shellEditResponse[0]);\n                    const systemEditResponse = (yield this.execute(setSystemVariable)).status;\n                    environmentEditExitCode += Number(systemEditResponse[0]);\n                }\n                catch (error) {\n                    environmentEditExitCode = 1;\n                }\n            }\n            else {\n                // export var=value does not do anything, because on osx and linux processes cannot edit above proc variables.\n                // We could try to edit etc/environment on ubuntu, then .profile/.bash_rc/.zsh etc on osx, but we'd like to avoid being intrusive.\n                failureWarningMessage = nonWinFailureMessage ? failureWarningMessage : nonWinFailureMessage;\n                environmentEditExitCode = 1;\n            }\n            if (environmentEditExitCode !== 0 && failureWarningMessage) {\n                this.utilityContext.ui.showWarningMessage(failureWarningMessage, () => { });\n            }\n        });\n    }\n    setPathEnvVar(pathAddition, troubleshootingUrl, displayWorker, vscodeContext, isGlobal) {\n        if (!isGlobal || os.platform() === 'linux') {\n            // Set user PATH variable. The .NET SDK Installer does this for us on Win/Mac.\n            let pathCommand;\n            if (os.platform() === 'win32') {\n                pathCommand = this.getWindowsPathCommand(pathAddition);\n            }\n            else {\n                pathCommand = this.getLinuxPathCommand(pathAddition);\n            }\n            if (pathCommand !== undefined) {\n                this.runPathCommand(pathCommand, troubleshootingUrl, displayWorker);\n            }\n        }\n        // Set PATH for VSCode terminal instances\n        if (!process.env.PATH.includes(pathAddition)) {\n            vscodeContext.appendToEnvironmentVariable('PATH', path.delimiter + pathAddition);\n            process.env.PATH += path.delimiter + pathAddition;\n        }\n    }\n    getSanitizedCallerName() {\n        var _a, _b, _c;\n        // The '.' character is not allowed for sudo-prompt so we use 'NET'\n        let sanitizedCallerName = (_c = (_b = (_a = this.context) === null || _a === void 0 ? void 0 : _a.acquisitionContext) === null || _b === void 0 ? void 0 : _b.requestingExtensionId) === null || _c === void 0 ? void 0 : _c.replace(/[^0-9a-z]/gi, ''); // Remove non-alphanumerics per OS requirements\n        sanitizedCallerName = sanitizedCallerName === null || sanitizedCallerName === void 0 ? void 0 : sanitizedCallerName.substring(0, 69); // 70 Characters is the maximum limit we can use for the prompt.\n        return sanitizedCallerName !== null && sanitizedCallerName !== void 0 ? sanitizedCallerName : 'NET Install Tool';\n    }\n    getLinuxPathCommand(pathAddition) {\n        const profileFile = os.platform() === 'darwin' ? path.join(os.homedir(), '.zshrc') : path.join(os.homedir(), '.profile');\n        if (fs.existsSync(profileFile) && fs.readFileSync(profileFile).toString().includes(pathAddition)) {\n            // No need to add to PATH again\n            return undefined;\n        }\n        return `echo 'export PATH=\"${pathAddition}:$PATH\"' >> ${profileFile}`;\n    }\n    getWindowsPathCommand(pathAddition) {\n        if (process.env.PATH && process.env.PATH.includes(pathAddition)) {\n            // No need to add to PATH again\n            return undefined;\n        }\n        return `for /F \"skip=2 tokens=1,2*\" %A in ('%SystemRoot%\\\\System32\\\\reg.exe query \"HKCU\\\\Environment\" /v \"Path\" 2^>nul') do ` +\n            `(%SystemRoot%\\\\System32\\\\reg.exe ADD \"HKCU\\\\Environment\" /v Path /t REG_SZ /f /d \"${pathAddition};%C\")`;\n    }\n    runPathCommand(pathCommand, troubleshootingUrl, displayWorker) {\n        try {\n            proc.execSync(pathCommand);\n        }\n        catch (error) {\n            displayWorker.showWarningMessage(`Unable to add SDK to the PATH: ${JSON.stringify(error)}`, (response) => {\n                if (response === this.pathTroubleshootingOption) {\n                    open(`${troubleshootingUrl}#unable-to-add-to-path`).catch(() => { });\n                }\n            }, this.pathTroubleshootingOption);\n        }\n    }\n}\nexports.CommandExecutor = CommandExecutor;\n//# sourceMappingURL=CommandExecutor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sanitize = sanitize;\nexports.sanitizeProperties = sanitizeProperties;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nfunction sanitize(content) {\n    const user = process.env.USERNAME === undefined ? process.env.USER : process.env.USERNAME;\n    if (user === undefined) {\n        // Couldn't determine user, therefore can't truly sanitize the content.\n        return content;\n    }\n    const replacer = new RegExp(user, 'g');\n    const sanitizedContent = content.replace(replacer, 'anonymous');\n    return sanitizedContent;\n}\nfunction sanitizeProperties(properties) {\n    if (properties === undefined) {\n        return properties;\n    }\n    const sanitizedProperties = {};\n    for (const property of Object.keys(properties)) {\n        sanitizedProperties[property] = sanitize(properties[property]);\n    }\n    return sanitizedProperties;\n}\n//# sourceMappingURL=ContentSantizer.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Debugging = void 0;\nconst path = require(\"path\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst fs = require(\"fs\");\n/**\n * A simple wrapper around console logging that can disable / enable all debugging or logging messages.\n * Use EventStreamEvents for user facing debugging logs.\n */\nclass Debugging {\n    static log(message, eventStream = null) {\n        if (Debugging.debugOn) {\n            if (Debugging.logToTerminal) {\n                eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetDebuggingMessage(message));\n            }\n            console.log(message);\n            if (Debugging.logFile) {\n                console.log(`Writing to ${Debugging.logFile}`);\n                if (Debugging.logToTerminal) {\n                    eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetDebuggingMessage(`Writing to ${Debugging.logFile}`));\n                }\n                const file = fs.createWriteStream(Debugging.logFile, { flags: 'a+' });\n                file.write(message);\n            }\n        }\n    }\n}\nexports.Debugging = Debugging;\nDebugging.logFile = path.join(__dirname, 'VsDotnetDebuggingLog.txt');\nDebugging.debugOn = false;\nDebugging.logToTerminal = true;\nDebugging.logToFile = true;\n;\n//# sourceMappingURL=Debugging.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.timeoutConstants = exports.errorConstants = exports.EnsureDependenciesErrorConfiguration = exports.UninstallErrorConfiguration = exports.AcquireErrorConfiguration = void 0;\nexports.callWithErrorHandling = callWithErrorHandling;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst fs = require(\"fs\");\nconst open = require(\"open\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst InstallIdUtilities_1 = require(\"./InstallIdUtilities\");\nconst IssueReporter_1 = require(\"./IssueReporter\");\nconst DotnetInstall_1 = require(\"../Acquisition/DotnetInstall\");\nconst DotnetCoreAcquisitionWorker_1 = require(\"../Acquisition/DotnetCoreAcquisitionWorker\");\nvar AcquireErrorConfiguration;\n(function (AcquireErrorConfiguration) {\n    AcquireErrorConfiguration[AcquireErrorConfiguration[\"DisplayAllErrorPopups\"] = 0] = \"DisplayAllErrorPopups\";\n    AcquireErrorConfiguration[AcquireErrorConfiguration[\"DisableErrorPopups\"] = 1] = \"DisableErrorPopups\";\n})(AcquireErrorConfiguration || (exports.AcquireErrorConfiguration = AcquireErrorConfiguration = {}));\nvar UninstallErrorConfiguration;\n(function (UninstallErrorConfiguration) {\n    UninstallErrorConfiguration[UninstallErrorConfiguration[\"DisplayAllErrorPopups\"] = 0] = \"DisplayAllErrorPopups\";\n    UninstallErrorConfiguration[UninstallErrorConfiguration[\"DisableErrorPopups\"] = 1] = \"DisableErrorPopups\";\n})(UninstallErrorConfiguration || (exports.UninstallErrorConfiguration = UninstallErrorConfiguration = {}));\nvar EnsureDependenciesErrorConfiguration;\n(function (EnsureDependenciesErrorConfiguration) {\n    EnsureDependenciesErrorConfiguration[EnsureDependenciesErrorConfiguration[\"DisplayAllErrorPopups\"] = 0] = \"DisplayAllErrorPopups\";\n    EnsureDependenciesErrorConfiguration[EnsureDependenciesErrorConfiguration[\"DisableErrorPopups\"] = 1] = \"DisableErrorPopups\";\n})(EnsureDependenciesErrorConfiguration || (exports.EnsureDependenciesErrorConfiguration = EnsureDependenciesErrorConfiguration = {}));\nvar errorConstants;\n(function (errorConstants) {\n    errorConstants.errorMessage = 'An error occurred while installing .NET';\n    errorConstants.reportOption = 'Report an issue';\n    errorConstants.hideOption = 'Don\\'t show again';\n    errorConstants.moreInfoOption = 'More information';\n    errorConstants.configureManuallyOption = 'Configure manually';\n})(errorConstants || (exports.errorConstants = errorConstants = {}));\nvar timeoutConstants;\n(function (timeoutConstants) {\n    timeoutConstants.timeoutMessage = `.NET install timed out.\r\nYou should change the timeout if you have a slow connection. See: https://github.com/dotnet/vscode-dotnet-runtime/blob/main/Documentation/troubleshooting-runtime.md#install-script-timeouts.\r\nOur CDN may be blocked in China or experience significant slowdown, in which case you should install .NET manually.`;\n    timeoutConstants.moreInfoOption = 'Change Timeout Value';\n})(timeoutConstants || (exports.timeoutConstants = timeoutConstants = {}));\nlet showMessage = true;\nfunction callWithErrorHandling(callback, context, requestingExtensionId, acquireContext) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b, _c;\n        const isAcquisitionError = acquireContext ? true : false;\n        try {\n            /* eslint-disable @typescript-eslint/await-thenable */\n            const result = yield callback();\n            context.eventStream.post(new EventStreamEvents_1.DotnetCommandSucceeded(context.commandName));\n            return result;\n        }\n        catch (caughtError) {\n            const error = caughtError;\n            if (!isCancellationStyleError(error)) {\n                context.eventStream.post(isAcquisitionError ?\n                    new EventStreamEvents_1.DotnetCommandFailed(error, context.commandName, (0, InstallIdUtilities_1.getInstallFromContext)(acquireContext)) :\n                    // The output observer will keep track of installs and we don't want a non-install failure to make it think it should -=1 from the no. of installs\n                    new EventStreamEvents_1.DotnetNotInstallRelatedCommandFailed(error, context.commandName));\n            }\n            if (acquireContext) {\n                // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                context.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionFinalError(error, (_a = (caughtError === null || caughtError === void 0 ? void 0 : caughtError.eventType)) !== null && _a !== void 0 ? _a : 'Unknown', (0, DotnetInstall_1.GetDotnetInstallInfo)(acquireContext.acquisitionContext.version, acquireContext.acquisitionContext.mode, (_b = acquireContext.acquisitionContext.installType) !== null && _b !== void 0 ? _b : 'local', (_c = acquireContext.acquisitionContext.architecture) !== null && _c !== void 0 ? _c : DotnetCoreAcquisitionWorker_1.DotnetCoreAcquisitionWorker.defaultArchitecture())));\n            }\n            if (context.errorConfiguration === AcquireErrorConfiguration.DisplayAllErrorPopups) {\n                if (error.message.includes(timeoutConstants.timeoutMessage)) {\n                    context.displayWorker.showErrorMessage(`${errorConstants.errorMessage}${context.version ? ` (${context.version})` : ''}: ${error.message}`, (response) => {\n                        if (response === timeoutConstants.moreInfoOption) {\n                            open(context.timeoutInfoUrl).catch(() => { });\n                        }\n                    }, timeoutConstants.moreInfoOption);\n                }\n                else if (showMessage) {\n                    let errorOptions = [errorConstants.reportOption, errorConstants.hideOption, errorConstants.moreInfoOption];\n                    if (requestingExtensionId) {\n                        errorOptions = errorOptions.concat(errorConstants.configureManuallyOption);\n                    }\n                    context.displayWorker.showErrorMessage(`${errorConstants.errorMessage}${context.version ? ` (${context.version})` : ''}: ${error.message}`, (response) => __awaiter(this, void 0, void 0, function* () {\n                        if (response === errorConstants.moreInfoOption) {\n                            open(context.moreInfoUrl).catch(() => { });\n                        }\n                        else if (response === errorConstants.hideOption) {\n                            showMessage = false;\n                        }\n                        else if (response === errorConstants.reportOption) {\n                            const [url, issueBody] = (0, IssueReporter_1.formatIssueUrl)(error, context);\n                            context.displayWorker.copyToUserClipboard(issueBody).catch(() => { });\n                            open(url).catch(() => { });\n                        }\n                        else if (response === errorConstants.configureManuallyOption && requestingExtensionId) {\n                            yield configureManualInstall(context, requestingExtensionId);\n                        }\n                    }), ...errorOptions);\n                }\n            }\n            return undefined;\n        }\n        finally {\n            context.logger.dispose();\n        }\n    });\n}\nfunction configureManualInstall(context, requestingExtensionId) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const manualPath = yield context.displayWorker.displayPathConfigPopUp();\n        if (manualPath && fs.existsSync(manualPath)) {\n            try {\n                yield context.extensionConfigWorker.setSharedPathConfigurationValue(manualPath);\n                context.displayWorker.showInformationMessage(`Set .NET path to ${manualPath}. Please reload VSCode to apply settings.`, () => { });\n            }\n            catch (e) {\n                context.displayWorker.showWarningMessage(`Failed to configure the path: ${e.toString()}`, () => { });\n            }\n        }\n        else {\n            context.displayWorker.showWarningMessage('Manually configured path was not valid.', () => { });\n        }\n    });\n}\nfunction isCancellationStyleError(error) {\n    // Handle both when the event.error or event itself is posted.\n    return error && error.constructor && (error.constructor.name === 'UserCancelledError' || error.constructor.name === 'EventCancellationError') ||\n        error instanceof EventStreamEvents_1.DotnetInstallExpectedAbort || error instanceof EventStreamEvents_1.EventCancellationError;\n}\n//# sourceMappingURL=ErrorHandler.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExtensionConfigurationWorker = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nclass ExtensionConfigurationWorker {\n    constructor(extensionConfiguration, pathConfigValueName, sharedExistingDotnetPath, unsupportedMessage = 'The shared existing path configuration is not supported.') {\n        this.extensionConfiguration = extensionConfiguration;\n        this.pathConfigValueName = pathConfigValueName;\n        this.sharedExistingDotnetPath = sharedExistingDotnetPath;\n        this.unsupportedMessage = unsupportedMessage;\n    }\n    getAllPathConfigurationValues() {\n        return {\n            individualizedExtensionPaths: this.pathConfigValueName ? this.extensionConfiguration.get(this.pathConfigValueName) : undefined,\n            sharedExistingPath: this.sharedExistingDotnetPath ? this.extensionConfiguration.get(this.sharedExistingDotnetPath) : undefined\n        };\n    }\n    getSharedPathConfigurationValue() {\n        if (!this.sharedExistingDotnetPath) {\n            throw new EventStreamEvents_1.EventBasedError('unsupportedSharedPathConfiguration', this.unsupportedMessage);\n        }\n        return this.pathConfigValueName ? this.extensionConfiguration.get(this.sharedExistingDotnetPath) : undefined;\n    }\n    setSharedPathConfigurationValue(configValue) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.sharedExistingDotnetPath) {\n                throw new EventStreamEvents_1.EventBasedError('unsupportedSharedExistingPathConfiguration', this.unsupportedMessage);\n            }\n            yield this.extensionConfiguration.update(this.sharedExistingDotnetPath, configValue, true);\n        });\n    }\n}\nexports.ExtensionConfigurationWorker = ExtensionConfigurationWorker;\n//# sourceMappingURL=ExtensionConfigurationWorker.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileUtilities = void 0;\n/* --------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n* Licensed under the MIT License. See License.txt in the project root for license information.\n* ------------------------------------------------------------------------------------------ */\nconst eol = require(\"eol\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto = require(\"crypto\");\nconst IFileUtilities_1 = require(\"./IFileUtilities\");\nconst lockfile = require(\"proper-lockfile\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst CommandExecutor_1 = require(\"./CommandExecutor\");\nconst CacheTimeConstants_1 = require(\"../Acquisition/CacheTimeConstants\");\nclass FileUtilities extends IFileUtilities_1.IFileUtilities {\n    writeFileOntoDisk(scriptContent_1, filePath_1) {\n        return __awaiter(this, arguments, void 0, function* (scriptContent, filePath, alreadyHoldingLock = false, eventStream) {\n            eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetFileWriteRequestEvent(`Request to write`, new Date().toISOString(), filePath));\n            if (!fs.existsSync(path.dirname(filePath))) {\n                fs.mkdirSync(path.dirname(filePath), { recursive: true });\n            }\n            // Prepare to lock directory so we can check file exists atomically\n            const directoryLock = 'dir.lock';\n            const directoryLockPath = path.join(path.dirname(filePath), directoryLock);\n            // Begin Critical Section\n            // This check is part of a RACE CONDITION, it is technically part of the critical section as you will fail if the file DNE,\n            //  but you cant lock the file until it exists. Since there is no context in which files written by this are deleted while this can run,\n            //  theoretically, this ok. The library SHOULD provide a RAII based system for locks, but it does not.\n            if (!fs.existsSync(filePath)) {\n                // Create an empty file, as proper-lockfile fails to lock a file if file dne\n                eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetFileWriteRequestEvent(`File did not exist upon write request.`, new Date().toISOString(), filePath));\n                fs.writeFileSync(filePath, '');\n            }\n            if (!alreadyHoldingLock) {\n                eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetLockAttemptingAcquireEvent(`Lock Acquisition request to begin.`, new Date().toISOString(), directoryLockPath, filePath));\n                yield lockfile.lock(filePath, { lockfilePath: directoryLockPath, retries: { retries: 10, minTimeout: 5, maxTimeout: 10000 } })\n                    .then((release) => __awaiter(this, void 0, void 0, function* () {\n                    eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetLockAcquiredEvent(`Lock Acquired.`, new Date().toISOString(), directoryLockPath, filePath));\n                    // We would like to unlock the directory, but we can't grab a lock on the file if the directory is locked.\n                    // Theoretically you could: add a new file-writer lock as a 3rd party lock ...\n                    // Then, lock the file-writer, unlock the directory, then lock the file, then unlock file-writer, ...\n                    // operate, then unlock file once the operation is done.\n                    // For now, keep the entire directory locked.\n                    this.innerWriteFile(scriptContent, filePath, eventStream);\n                    eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetLockReleasedEvent(`Lock about to be released.`, new Date().toISOString(), directoryLockPath, filePath));\n                    return release();\n                }))\n                    .catch((e) => {\n                    // Either the lock could not be acquired or releasing it failed\n                    eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetLockErrorEvent(e, e.message, new Date().toISOString(), directoryLockPath, filePath));\n                });\n            }\n            else {\n                this.innerWriteFile(scriptContent, filePath, eventStream);\n            }\n            // End Critical Section\n        });\n    }\n    innerWriteFile(scriptContent, filePath, eventStream) {\n        scriptContent = eol.auto(scriptContent);\n        const existingScriptContent = fs.readFileSync(filePath).toString();\n        // fs.writeFile will replace the file if it exists.\n        // https://nodejs.org/api/fs.html#fswritefilefile-data-options-callback\n        if (scriptContent !== existingScriptContent) {\n            fs.writeFileSync(filePath, scriptContent);\n            eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetFileWriteRequestEvent(`File content needed to be updated.`, new Date().toISOString(), filePath));\n        }\n        else {\n            eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetFileWriteRequestEvent(`File content is an exact match, not writing file.`, new Date().toISOString(), filePath));\n        }\n        fs.chmodSync(filePath, 0o744);\n    }\n    /**\n     * @param directoryToWipe the directory to delete all of the files in if privilege to do so exists.\n     * @param fileExtensionsToDelete - if undefined, delete all files. if not, delete only files with extensions in this array in lower case.\n     */\n    wipeDirectory(directoryToWipe, eventStream, fileExtensionsToDelete) {\n        if (!fs.existsSync(directoryToWipe)) {\n            eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.EmptyDirectoryToWipe(`The directory ${directoryToWipe} did not exist, so it was not wiped.`));\n            return;\n        }\n        // Use rimraf to delete all of the items in a directory without the directory itself.\n        fs.readdirSync(directoryToWipe).forEach(f => {\n            try {\n                eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.FileToWipe(`The file ${f} may be deleted.`));\n                if (!fileExtensionsToDelete || path.extname(f).toLocaleLowerCase() in fileExtensionsToDelete) {\n                    eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.FileToWipe(`The file ${f} is being deleted -- if no error is reported, it should be wiped.`));\n                    fs.rmSync(path.join(directoryToWipe, f));\n                }\n            }\n            catch (error) {\n                eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.SuppressedAcquisitionError(error, `Failed to delete ${f} when marked for deletion.`));\n            }\n        });\n    }\n    readSync(filePath) {\n        return fs.readFileSync(filePath).toString();\n    }\n    existsSync(filePath) {\n        return fs.existsSync(filePath);\n    }\n    /**\n     *\n     * @param nodeArchitecture the architecture in node style string of what to install\n     * @returns the architecture in the style that .net / the .net install scripts expect\n     *\n     * Node - amd64 is documented as an option for install scripts but its no longer used.\n     * s390x is also no longer used.\n     * ppc64le is supported but this version of node has no distinction of the endianness of the process.\n     * It has no mapping to mips or other node architectures.\n     *\n     * @remarks Falls back to string 'auto' if a mapping does not exist which is not a valid architecture.\n     */\n    nodeArchToDotnetArch(nodeArchitecture, eventStream) {\n        switch (nodeArchitecture) {\n            case 'x64': {\n                return nodeArchitecture;\n            }\n            case 'ia32': {\n                return 'x86';\n            }\n            case 'x86': {\n                // In case the function is called twice\n                return 'x86';\n            }\n            case 'arm': {\n                return nodeArchitecture;\n            }\n            case 'arm64': {\n                return nodeArchitecture;\n            }\n            case 's390x': {\n                return 's390x';\n            }\n            default: {\n                eventStream.post(new EventStreamEvents_1.DotnetCommandFallbackArchitectureEvent(`The architecture ${os.arch()} of the platform is unexpected, falling back to auto-arch.`));\n                return 'auto';\n            }\n        }\n    }\n    /**\n     *\n     * @param nodeArchitecture the architecture output of dotnet --info from the runtime\n     * @returns the architecture in the style that node expects\n     *\n     * @remarks Falls back to string 'auto' if a mapping does not exist which is not a valid architecture.\n     * So far, the outputs are actually all identical so this is not really 'needed' but good to have in the future :)\n     */\n    static dotnetInfoArchToNodeArch(dotnetInfoArch, eventStream) {\n        switch (dotnetInfoArch) {\n            case 'x64': {\n                return dotnetInfoArch;\n            }\n            case 'x86': {\n                // In case the function is called twice\n                return dotnetInfoArch;\n            }\n            case 'arm': { // This shouldn't be an output yet, but its possible in the future\n                return dotnetInfoArch;\n            }\n            case 'arm64': {\n                return dotnetInfoArch;\n            }\n            default: {\n                eventStream.post(new EventStreamEvents_1.DotnetCommandFallbackArchitectureEvent(`The architecture ${dotnetInfoArch} of the platform is unexpected, falling back to auto-arch.`));\n                return 'auto';\n            }\n        }\n    }\n    /**\n     *\n     * @param nodeOS the OS in node style string of what to install\n     * @returns the OS in the style that .net / the .net install scripts expect\n     *\n     */\n    nodeOSToDotnetOS(nodeOS, eventStream) {\n        switch (nodeOS) {\n            case 'win32': {\n                return 'win';\n            }\n            case 'darwin': {\n                return 'osx';\n            }\n            case 'linux': {\n                return nodeOS;\n            }\n            default: {\n                eventStream.post(new EventStreamEvents_1.DotnetCommandFallbackOSEvent(`The OS ${os.platform()} of the platform is unexpected, falling back to auto-os.`));\n                return 'auto';\n            }\n        }\n    }\n    /**\n     *\n     * @returns true if the process is running with admin privileges\n     */\n    isElevated(context, utilContext) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            const executor = new CommandExecutor_1.CommandExecutor(context, utilContext);\n            if (os.platform() !== 'win32') {\n                try {\n                    const commandResult = yield executor.execute(CommandExecutor_1.CommandExecutor.makeCommand('id', ['-u']), { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.SYSTEM_INFORMATION_CACHE_DURATION_MS });\n                    return commandResult.status === '0';\n                }\n                catch (error) {\n                    (_a = context.eventStream) === null || _a === void 0 ? void 0 : _a.post(new EventStreamEvents_1.SuppressedAcquisitionError(error, `Failed to run 'id' to check for privilege, running without privilege.`));\n                    return false;\n                }\n            }\n            try {\n                // If we can execute this command on Windows then we have admin rights.\n                const _ = yield executor.execute(CommandExecutor_1.CommandExecutor.makeCommand('net', ['session']), { 'stdio': 'ignore', dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.SYSTEM_INFORMATION_CACHE_DURATION_MS });\n                return true;\n            }\n            catch (error) {\n                (_b = context.eventStream) === null || _b === void 0 ? void 0 : _b.post(new EventStreamEvents_1.SuppressedAcquisitionError(error, `Failed to run 'net' to check for privilege, running without privilege.`));\n                return false;\n            }\n        });\n    }\n    sha512Hasher(filePath) {\n        return new Promise((resolve, reject) => {\n            const hash = crypto.createHash('sha512');\n            const fileStream = fs.createReadStream(filePath);\n            fileStream.on('error', err => reject(err));\n            fileStream.on('data', chunk => hash.update(chunk));\n            fileStream.on('end', () => resolve(hash.digest('hex')));\n        });\n    }\n    ;\n    getFileHash(filePath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const res = yield this.sha512Hasher(filePath);\n            return res;\n        });\n    }\n}\nexports.FileUtilities = FileUtilities;\n//# sourceMappingURL=FileUtilities.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n *  Licensed to the .NET Foundation under one or more agreements.\n *  The .NET Foundation licenses this file to you under the MIT license.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ICommandExecutor = void 0;\nclass ICommandExecutor {\n    constructor(context, utilContext) {\n        this.context = context;\n        this.utilityContext = utilContext;\n    }\n    static makeCommand(command, args, isSudo = false) {\n        return {\n            commandRoot: command,\n            commandParts: args,\n            runUnderSudo: isSudo\n        };\n    }\n    static prettifyCommandExecutorCommand(command, includeSudo = true) {\n        return `${command.runUnderSudo && includeSudo ? `sudo ` : ``}${command.commandRoot} ${command.commandParts.join(' ')}`;\n    }\n    static replaceSubstringsInCommand(command, substring, replacement) {\n        const newCommandRoot = command.commandRoot.replace(substring, replacement);\n        const newCommandParts = [];\n        for (const commandPart of command.commandParts) {\n            newCommandParts.push(commandPart.replace(substring, replacement));\n        }\n        return {\n            commandRoot: newCommandRoot,\n            commandParts: newCommandParts,\n            runUnderSudo: command.runUnderSudo\n        };\n    }\n    static replaceSubstringsInCommands(commands, substring, replacement) {\n        const newCommands = [];\n        for (const command of commands) {\n            newCommands.push(this.replaceSubstringsInCommand(command, substring, replacement));\n        }\n        return newCommands;\n    }\n}\nexports.ICommandExecutor = ICommandExecutor;\n;\n//# sourceMappingURL=ICommandExecutor.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IFileUtilities = void 0;\nclass IFileUtilities {\n}\nexports.IFileUtilities = IFileUtilities;\n;\n//# sourceMappingURL=IFileUtilities.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IIssueContext.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//# sourceMappingURL=IUtilityContext.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IVSCodeEnvironment = void 0;\nclass IVSCodeEnvironment {\n}\nexports.IVSCodeEnvironment = IVSCodeEnvironment;\n//# sourceMappingURL=IVSCodeEnvironment.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getInstallIdCustomArchitecture = getInstallIdCustomArchitecture;\nexports.getInstallFromContext = getInstallFromContext;\nexports.isRuntimeInstallId = isRuntimeInstallId;\nexports.isGlobalLegacyInstallId = isGlobalLegacyInstallId;\nexports.getArchFromLegacyInstallId = getArchFromLegacyInstallId;\nexports.getVersionFromLegacyInstallId = getVersionFromLegacyInstallId;\nexports.getAssumedInstallInfo = getAssumedInstallInfo;\nconst DotnetCoreAcquisitionWorker_1 = require(\"../Acquisition/DotnetCoreAcquisitionWorker\");\nconst DotnetInstall_1 = require(\"../Acquisition/DotnetInstall\");\nconst DotnetInstallMode_1 = require(\"../Acquisition/DotnetInstallMode\");\nfunction getInstallIdCustomArchitecture(version, architecture, mode, installType = 'local') {\n    if (architecture === null || architecture === 'null') {\n        // Use the legacy method (no architecture) of installs\n        return installType === 'global' ? `${version}-global` : version;\n    }\n    else if (architecture === undefined) {\n        architecture = DotnetCoreAcquisitionWorker_1.DotnetCoreAcquisitionWorker.defaultArchitecture();\n    }\n    return installType === 'global' ? `${version}-global~${architecture}${mode === 'aspnetcore' ? '~aspnetcore' : ''}` :\n        `${version}~${architecture}${mode === 'aspnetcore' ? '~aspnetcore' : ''}`;\n}\nfunction getInstallFromContext(ctx) {\n    const acquireContext = ctx.acquisitionContext;\n    return {\n        installId: getInstallIdCustomArchitecture(acquireContext.version, acquireContext.architecture, ctx.acquisitionContext.mode, acquireContext.installType),\n        version: acquireContext.version,\n        architecture: acquireContext.architecture,\n        isGlobal: acquireContext.installType ? acquireContext.installType === 'global' : false,\n        installMode: ctx.acquisitionContext.mode\n    };\n}\nfunction isRuntimeInstallId(installId) {\n    const installIdVersion = getVersionFromLegacyInstallId(installId);\n    return !(DotnetInstallMode_1.DOTNET_INSTALL_MODE_LIST.filter((x) => x !== 'runtime')).some((mode) => installId.includes(mode))\n        && (0, DotnetInstall_1.looksLikeRuntimeVersion)(installIdVersion);\n}\nfunction isGlobalLegacyInstallId(installId) {\n    return installId.toLowerCase().includes('global');\n}\nfunction getArchFromLegacyInstallId(installId) {\n    const splitId = installId.split('~');\n    if (splitId.length >= 2) {\n        return splitId[1];\n    }\n    return undefined;\n}\nfunction getVersionFromLegacyInstallId(installId) {\n    if (isGlobalLegacyInstallId(installId)) {\n        const splitId = installId.split('-');\n        return splitId[0];\n    }\n    else if (installId.includes('~')) {\n        const splitId = installId.split('~');\n        return splitId[0];\n    }\n    else // legacy, legacy install id (before it included the arch)\n     {\n        return installId;\n    }\n}\n/**\n * @deprecated This function is for legacy install ids only. Do not use for new code.\n */\nfunction getAssumedInstallInfo(id, mode) {\n    var _a;\n    return {\n        installId: id,\n        version: getVersionFromLegacyInstallId(id),\n        architecture: (_a = getArchFromLegacyInstallId(id)) !== null && _a !== void 0 ? _a : DotnetCoreAcquisitionWorker_1.DotnetCoreAcquisitionWorker.defaultArchitecture(),\n        isGlobal: isGlobalLegacyInstallId(id),\n        // This code is for legacy install strings where the info was not recorded.\n        // At the time only runtime or sdk was permitted and there were no outlier edge case versions that would be wrong.\n        // So this assumption can hold true below. Do not utilize this going forward for new code.\n        installMode: (mode !== null && mode !== void 0 ? mode : isRuntimeInstallId(id)) ? 'runtime' : 'sdk'\n    };\n}\n//# sourceMappingURL=InstallIdUtilities.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatIssueUrl = formatIssueUrl;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst ContentSantizer_1 = require(\"./ContentSantizer\");\n// Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n/* eslint-disable @typescript-eslint/no-unsafe-member-access */\nconst packageJson = require('../../package.json');\nconst issuesUrl = `https://github.com/dotnet/vscode-dotnet-runtime/issues/new/choose`;\nfunction formatIssueUrl(error, context) {\n    context.logger.dispose(); // Ensure log file is up to date\n    const errorMessage = !error ? '' : `**Error Message:** ${(0, ContentSantizer_1.sanitize)(error.message)}\r\n**Error Stack:** ${error.stack === undefined ? '' : (0, ContentSantizer_1.sanitize)(error.stack)}`;\n    const issueBody = `<!-- IMPORTANT: Please be sure to remove any private information before submitting. -->\r\n\r\nPlease attach the log file located at ${context.logger.getFileLocation()}. Note that this file may contain personal data.\r\n\r\n**Extension Version:** ${packageJson === null || packageJson === void 0 ? void 0 : packageJson.version}\r\n${errorMessage}`;\n    return [issuesUrl, issueBody];\n}\n//# sourceMappingURL=IssueReporter.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loopWithTimeoutOnCond = loopWithTimeoutOnCond;\nexports.isRunningUnderWSL = isRunningUnderWSL;\nexports.getOSArch = getOSArch;\nexports.getDotnetExecutable = getDotnetExecutable;\nexports.EnvironmentVariableIsDefined = EnvironmentVariableIsDefined;\nexports.getPathSeparator = getPathSeparator;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst proc = require(\"child_process\");\nconst os = require(\"os\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst CommandExecutor_1 = require(\"./CommandExecutor\");\nconst CacheTimeConstants_1 = require(\"../Acquisition/CacheTimeConstants\");\nfunction loopWithTimeoutOnCond(sampleRatePerMs, durationToWaitBeforeTimeoutMs, conditionToStop, doAfterStop, eventStream, waitEvent) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n            for (let i = 0; i < (durationToWaitBeforeTimeoutMs / sampleRatePerMs); i++) {\n                if (conditionToStop()) {\n                    doAfterStop();\n                    return resolve('The promise succeeded.');\n                }\n                eventStream.post(waitEvent);\n                yield new Promise(waitAndResolve => setTimeout(waitAndResolve, sampleRatePerMs));\n            }\n            return reject('The promise timed out.');\n        }));\n    });\n}\n/**\n * Returns true if the linux agent is running under WSL, else false.\n */\nfunction isRunningUnderWSL(eventStream) {\n    // See https://github.com/microsoft/WSL/issues/4071 for evidence that we can rely on this behavior.\n    var _a, _b, _c;\n    eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetWSLCheckEvent(`Checking if system is WSL. OS: ${os.platform()}`));\n    if (os.platform() !== 'linux') {\n        return false;\n    }\n    const command = 'grep';\n    const args = ['-i', 'Microsoft', '/proc/version'];\n    const commandResult = proc.spawnSync(command, args);\n    eventStream === null || eventStream === void 0 ? void 0 : eventStream.post(new EventStreamEvents_1.DotnetWSLOperationOutputEvent(`The output of the WSL check:\r\nstdout: ${(_a = commandResult.stdout) === null || _a === void 0 ? void 0 : _a.toString()}\r\nstderr: ${(_b = commandResult.stderr) === null || _b === void 0 ? void 0 : _b.toString()}\r\nstatus: ${(_c = commandResult.status) === null || _c === void 0 ? void 0 : _c.toString()}`));\n    if (!commandResult || !commandResult.stdout) {\n        return false;\n    }\n    return commandResult.stdout.toString() !== '';\n}\nfunction getOSArch(executor) {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (os.platform() === 'darwin') {\n            const findTrueArchCommand = CommandExecutor_1.CommandExecutor.makeCommand(`uname`, [`-p`]);\n            return (yield executor.execute(findTrueArchCommand, { dotnetInstallToolCacheTtlMs: CacheTimeConstants_1.SYSTEM_INFORMATION_CACHE_DURATION_MS }, false)).stdout.toLowerCase().trim();\n        }\n        return os.arch();\n    });\n}\nfunction getDotnetExecutable() {\n    return os.platform() === 'win32' ? 'dotnet.exe' : 'dotnet';\n}\nfunction EnvironmentVariableIsDefined(variable) {\n    // Most of the time this will be 'undefined', so this is the fastest check.\n    return variable !== 'undefined' && variable !== null && variable !== '' && variable !== undefined;\n}\nfunction getPathSeparator() {\n    return os.platform() === 'win32' ? ';' : ':';\n}\n//# sourceMappingURL=TypescriptUtilities.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VSCodeEnvironment = void 0;\nconst IVSCodeEnvironment_1 = require(\"./IVSCodeEnvironment\");\nconst vscode = require(\"vscode\");\nclass VSCodeEnvironment extends IVSCodeEnvironment_1.IVSCodeEnvironment {\n    constructor() {\n        super();\n    }\n    isTelemetryEnabled() {\n        return vscode.env.isTelemetryEnabled;\n    }\n}\nexports.VSCodeEnvironment = VSCodeEnvironment;\n//# sourceMappingURL=VSCodeEnvironment.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebRequestWorker = void 0;\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nconst axios_1 = require(\"axios\");\nconst https_proxy_agent_1 = require(\"https-proxy-agent\");\nprocess.env.VSCODE_DOTNET_INSTALL_TOOL_ORIGINAL_HOME = process.env.HOME;\n// IMPORTING THIS LIBRARY SETS 'HOME' VARIABLE\n// Causing Git to BREAK!\nconst get_proxy_settings_1 = require(\"get-proxy-settings\");\n// NODE JS CASTS UNDEFINED ENV VAR TO STRING 'undefined'\nif (process.env.VSCODE_DOTNET_INSTALL_TOOL_ORIGINAL_HOME === 'undefined') {\n    delete process.env.HOME;\n}\nelse {\n    process.env.HOME = process.env.VSCODE_DOTNET_INSTALL_TOOL_ORIGINAL_HOME;\n}\nconst axios_cache_interceptor_1 = require(\"axios-cache-interceptor\");\nconst dns = require(\"dns\");\nconst fs = require(\"fs\");\nconst axiosRetry = require(\"axios-retry\");\nconst util_1 = require(\"util\");\nconst stream = require(\"stream\");\nconst EventStreamEvents_1 = require(\"../EventStream/EventStreamEvents\");\nconst InstallIdUtilities_1 = require(\"./InstallIdUtilities\");\nclass WebRequestWorker {\n    constructor(context, url, cacheTimeToLive = -1) {\n        this.context = context;\n        this.url = url;\n        this.cacheTimeToLive = cacheTimeToLive;\n        this.proxyAgent = null;\n        this.websiteTimeoutMs = this.context.timeoutSeconds * 1000;\n        this.proxy = this.context.proxyUrl;\n        this.cacheTimeToLive = this.cacheTimeToLive === -1 ? this.websiteTimeoutMs * 100 : this.cacheTimeToLive; // make things live 100x the default time, which is ~16 hrs\n        const uncachedAxiosClient = axios_1.default.create({});\n        // Wrap the client with a retry interceptor. We don't need to return a new client, it should be applied automatically.\n        axiosRetry(uncachedAxiosClient, {\n            // Inject a custom retry delay to exponentially increase the time until we retry.\n            retryDelay(retryCount) {\n                return Math.pow(2, retryCount); // Takes in the int as (ms) to delay.\n            }\n        });\n        // Record when the web requests begin:\n        // Register this so it happens before the cache https://axios-cache-interceptor.js.org/guide/interceptors#explanation\n        uncachedAxiosClient.interceptors.request.use(config => {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            config.startTime = process.hrtime.bigint();\n            return config;\n        });\n        // Record when the server responds:\n        // Register this so it happens after the cache -- this means we need to check if the result is cached before reporting perf data!\n        // ^ the request should not be processed if it is in the cache, it seems nonsensical to check this before the cache is hit even though this is possible\n        uncachedAxiosClient.interceptors.response.use(res => {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            res.startTime = res.config.startTime;\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            res.finalTime = process.hrtime.bigint();\n            return res;\n        }, res => // triggered when status code is not 2XX\n         {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            res.startTime = res.config.startTime;\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            res.finalTime = process.hrtime.bigint();\n            return res;\n        });\n        this.client = (0, axios_cache_interceptor_1.setupCache)(uncachedAxiosClient, {\n            storage: (0, axios_cache_interceptor_1.buildMemoryStorage)(),\n            ttl: this.cacheTimeToLive\n        });\n    }\n    /**\n     *\n     * @param url The URL of the website to send a get request to.\n     * @param options The AXIOS flavor options dictionary which will be forwarded to an axios call.\n     * @returns The response from AXIOS. The response may be in ANY type, string by default, but maybe even JSON ...\n     * depending on whatever the request return content can be casted to.\n     * @remarks This function is used as a custom axios.get with a timeout because axios does not correctly handle CONNECTION-based timeouts:\n     * https://github.com/axios/axios/issues/647 (e.g. bad URL/site down).\n     */\n    axiosGet(url_1) {\n        return __awaiter(this, arguments, void 0, function* (url, options = {}) {\n            if (url === '' || !url) {\n                throw new EventStreamEvents_1.EventBasedError('AxiosGetFailedWithInvalidURL', `Request to the url ${this.url} failed, as the URL is invalid.`);\n            }\n            const timeoutCancelTokenHook = new AbortController();\n            const timeout = setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n                timeoutCancelTokenHook.abort();\n                this.context.eventStream.post(new EventStreamEvents_1.WebRequestTime(`Timer for request:`, String(this.websiteTimeoutMs), 'false', url, '777')); // 777 for custom abort status. arbitrary\n                if (!(yield WebRequestWorker.isOnline(this.websiteTimeoutMs / 1000, this.context.eventStream))) {\n                    const offlineError = new EventStreamEvents_1.EventBasedError('DotnetOfflineFailure', 'No internet connection detected: Cannot install .NET');\n                    this.context.eventStream.post(new EventStreamEvents_1.DotnetOfflineFailure(offlineError, null));\n                    throw offlineError;\n                }\n                const formattedError = new Error(`TIMEOUT: The request to ${this.url} timed out at ${this.websiteTimeoutMs} ms. This only occurs if your internet\r\n or the url are experiencing connection difficulties; not if the server is being slow to respond. Check your connection, the url, and or increase the timeout value here: https://github.com/dotnet/vscode-dotnet-runtime/blob/main/Documentation/troubleshooting-runtime.md#install-script-timeouts`);\n                this.context.eventStream.post(new EventStreamEvents_1.WebRequestError(new EventStreamEvents_1.EventBasedError('WebRequestError', formattedError.message, formattedError.stack), null));\n                throw formattedError;\n            }), this.websiteTimeoutMs);\n            // Make the web request\n            const response = yield this.client.get(url, Object.assign({ signal: timeoutCancelTokenHook.signal }, options));\n            // Timeout for Web Request -> Not Timer. (Don't want to introduce more CPU time into timer)\n            clearTimeout(timeout);\n            // CDN Timer\n            // Standard timeout time in NS : 60,000,000,000 is < than std max_safe_int_size: 9,007,199,254,740,991\n            const timerPrecision = 2; // decimal places for timer result\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            const startTimeNs = response === null || response === void 0 ? void 0 : response.startTime;\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            const finalTimeNs = response === null || response === void 0 ? void 0 : response.finalTime;\n            let durationMs = '-1';\n            if (startTimeNs && finalTimeNs && finalTimeNs - startTimeNs < Number.MAX_SAFE_INTEGER) {\n                durationMs = (Number(finalTimeNs - startTimeNs) / 1000000).toFixed(timerPrecision);\n            }\n            else {\n                this.context.eventStream.post(new EventStreamEvents_1.WebRequestTimeUnknown(`Timer for request failed. Start time: ${startTimeNs}, end time: ${finalTimeNs}`, durationMs, 'true', url, String(response.status)));\n            }\n            if (!response.cached) {\n                this.context.eventStream.post(new EventStreamEvents_1.WebRequestTime(`Timer for request:`, durationMs, 'true', url, String(response.status)));\n            }\n            else {\n                this.context.eventStream.post(new EventStreamEvents_1.WebRequestCachedTime(`Cached Timer for request:`, durationMs, 'true', url, String(response.status)));\n            }\n            // Response\n            return response;\n        });\n    }\n    /**\n     * @returns The data from a web request that was hopefully cached. Even if it wasn't cached, we will make an attempt to get the data.\n     * @remarks This function is no longer needed as the data is cached either way if you call makeWebRequest, but it was kept to prevent breaking APIs.\n     */\n    getCachedData() {\n        return __awaiter(this, arguments, void 0, function* (retriesCount = 2) {\n            return this.makeWebRequest(true, retriesCount);\n        });\n    }\n    static isOnline(timeoutSec, eventStream) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const microsoftServer = 'www.microsoft.com';\n            const expectedDNSResolutionTimeMs = Math.max(timeoutSec * 10, 100); // Assumption: DNS resolution should take less than 1/100 of the time it'd take to download .NET.\n            // ... 100 ms is there as a default to prevent the dns resolver from throwing a runtime error if the user sets timeoutSeconds to 0.\n            const dnsResolver = new dns.promises.Resolver({ timeout: expectedDNSResolutionTimeMs });\n            const couldConnect = yield dnsResolver.resolve(microsoftServer).then(() => {\n                return true;\n            }).catch((error) => {\n                eventStream.post(new EventStreamEvents_1.OfflineDetectionLogicTriggered(error, `DNS resolution failed at microsoft.com, ${JSON.stringify(error)}.`));\n                return false;\n            });\n            return couldConnect;\n        });\n    }\n    /**\n     *\n     * @param urlInQuestion\n     * @returns true if the url was in the cache before this function executes, false else.\n     *\n     * @remarks Calling this WILL put the url data in the cache as we need to poke the cache to properly get the information.\n     * (Checking the storage cache state results in invalid results.)\n     * Returns false if the url is unavailable.\n     */\n    isUrlCached() {\n        return __awaiter(this, arguments, void 0, function* (urlInQuestion = this.url) {\n            if (urlInQuestion === '' || !urlInQuestion) {\n                return false;\n            }\n            try {\n                const requestFunction = this.axiosGet(urlInQuestion, yield this.getAxiosOptions(3));\n                const requestResult = yield Promise.resolve(requestFunction);\n                const cachedState = requestResult.cached;\n                return cachedState;\n            }\n            catch (error) // The url was unavailable.\n             {\n                return false;\n            }\n        });\n    }\n    ActivateProxyAgentIfFound() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.proxyEnabled()) {\n                try {\n                    const autoDetectProxies = yield (0, get_proxy_settings_1.getProxySettings)();\n                    if (autoDetectProxies === null || autoDetectProxies === void 0 ? void 0 : autoDetectProxies.https) {\n                        this.proxy = autoDetectProxies.https.toString();\n                    }\n                    else if (autoDetectProxies === null || autoDetectProxies === void 0 ? void 0 : autoDetectProxies.http) {\n                        this.proxy = autoDetectProxies.http.toString();\n                    }\n                }\n                catch (error) {\n                    this.context.eventStream.post(new EventStreamEvents_1.SuppressedAcquisitionError(error, `The proxy lookup failed, most likely due to limited registry access. Skipping automatic proxy lookup.`));\n                }\n            }\n            if (this.proxyEnabled() && this.proxy) {\n                this.proxyAgent = new https_proxy_agent_1.HttpsProxyAgent(this.proxy);\n            }\n        });\n    }\n    /**\n     * @returns an empty promise. It will download the file from the url. The url is expected to be a file server that responds with the file directly.\n     * We cannot use a simpler download pattern because we need to download the byte stream 1-1.\n     */\n    downloadFile(url, dest) {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a;\n            if (fs.existsSync(dest)) {\n                return;\n            }\n            const finished = (0, util_1.promisify)(stream.finished);\n            const file = fs.createWriteStream(dest, { flags: 'wx' });\n            const options = yield this.getAxiosOptions(3, { responseType: 'stream', transformResponse: (x) => x }, false);\n            try {\n                yield this.axiosGet(url, options)\n                    .then(response => {\n                    var _a;\n                    // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                    (_a = response === null || response === void 0 ? void 0 : response.data) === null || _a === void 0 ? void 0 : _a.pipe(file);\n                    return finished(file);\n                });\n            }\n            catch (error) {\n                // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                if ((error === null || error === void 0 ? void 0 : error.message) && ((_a = error === null || error === void 0 ? void 0 : error.message) === null || _a === void 0 ? void 0 : _a.includes('ENOSPC'))) {\n                    const err = new EventStreamEvents_1.DiskIsFullError(new EventStreamEvents_1.EventBasedError('DiskIsFullError', `You don't have enough space left on your disk to install the .NET SDK. Please clean up some space.`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                    this.context.eventStream.post(err);\n                    throw err.error;\n                }\n                else {\n                    const err = new EventStreamEvents_1.DotnetDownloadFailure(new EventStreamEvents_1.EventBasedError('DotnetDownloadFailure', \n                    // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                    `We failed to download the .NET Installer. Please try to install the .NET SDK manually. Error: ${error === null || error === void 0 ? void 0 : error.message}`), (0, InstallIdUtilities_1.getInstallFromContext)(this.context));\n                    this.context.eventStream.post(err);\n                    throw err.error;\n                }\n            }\n        });\n    }\n    getAxiosOptions(numRetries_1, furtherOptions_1) {\n        return __awaiter(this, arguments, void 0, function* (numRetries, furtherOptions, keepAlive = true) {\n            yield this.ActivateProxyAgentIfFound();\n            const options = Object.assign(Object.assign(Object.assign(Object.assign({ timeout: this.websiteTimeoutMs, 'axios-retry': { retries: numRetries } }, (keepAlive && { headers: { 'Connection': 'keep-alive' } })), (this.proxyEnabled() && { proxy: false })), (this.proxyEnabled() && { httpsAgent: this.proxyAgent })), furtherOptions);\n            return options;\n        });\n    }\n    /**\n     *\n     * @param throwOnError Should we throw if the connection fails, there's a bad URL passed in, or something else goes wrong?\n     * @param numRetries The number of retry attempts if the url is not giving a good response.\n     * @returns The data returned from a get request to the url. It may be of string type, but it may also be of another type if the return result is convert-able (e.g. JSON.)\n     * @remarks protected for ease of testing.\n     */\n    makeWebRequest(throwOnError, numRetries) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const options = yield this.getAxiosOptions(numRetries);\n            try {\n                this.context.eventStream.post(new EventStreamEvents_1.WebRequestSent(this.url));\n                const response = yield this.axiosGet(this.url, Object.assign({ transformResponse: (x) => x }, options));\n                if (response !== null && (response === null || response === void 0 ? void 0 : response.headers['content-type']) === 'application/json') {\n                    try {\n                        // Try to copy logic from https://github.com/axios/axios/blob/2e58825bc7773247ca5d8c2cae2ee041d38a0bb5/lib/defaults/index.js#L100\n                        const jsonData = JSON.parse(response.data);\n                        return jsonData;\n                    }\n                    catch (error) {\n                    }\n                }\n                return response.data;\n            }\n            catch (error) {\n                if (throwOnError) {\n                    if ((0, axios_1.isAxiosError)(error)) {\n                        const axiosBasedError = error;\n                        // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                        const summarizedError = new EventStreamEvents_1.EventBasedError('WebRequestFailedFromAxios', `Request to ${this.url} Failed: ${axiosBasedError === null || axiosBasedError === void 0 ? void 0 : axiosBasedError.message}. Aborting.\r\n${axiosBasedError.cause ? `Error Cause: ${axiosBasedError.cause.message}` : ``}\r\nPlease ensure that you are online.\r\n\r\nIf you're on a proxy and disable registry access, you must set the proxy in our extension settings. See https://github.com/dotnet/vscode-dotnet-runtime/blob/main/Documentation/troubleshooting-runtime.md.`);\n                        this.context.eventStream.post(new EventStreamEvents_1.WebRequestError(summarizedError, (0, InstallIdUtilities_1.getInstallFromContext)(this.context)));\n                        throw summarizedError;\n                    }\n                    else {\n                        // Remove this when https://github.com/typescript-eslint/typescript-eslint/issues/2728 is done\n                        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n                        const genericError = new EventStreamEvents_1.EventBasedError('WebRequestFailedGenerically', `Web Request to ${this.url} Failed: ${error === null || error === void 0 ? void 0 : error.message}. Aborting. Stack: ${'stack' in error ? error === null || error === void 0 ? void 0 : error.stack : 'unavailable.'}`);\n                        this.context.eventStream.post(new EventStreamEvents_1.WebRequestError(genericError, (0, InstallIdUtilities_1.getInstallFromContext)(this.context)));\n                        throw genericError;\n                    }\n                }\n                return undefined;\n            }\n        });\n    }\n    proxyEnabled() {\n        return this.proxy !== '';\n    }\n}\nexports.WebRequestWorker = WebRequestWorker;\n//# sourceMappingURL=WebRequestWorker.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VSCodeExtensionContext = void 0;\nconst IVSCodeExtensionContext_1 = require(\"./IVSCodeExtensionContext\");\nconst vscode = require(\"vscode\");\nclass VSCodeExtensionContext extends IVSCodeExtensionContext_1.IVSCodeExtensionContext {\n    constructor(trueContext) {\n        super();\n        this.context = trueContext;\n    }\n    setVSCodeEnvironmentVariable(variable, value) {\n        const environment = this.context.environmentVariableCollection;\n        environment.replace(variable, value);\n    }\n    appendToEnvironmentVariable(variable, appendingValue) {\n        const environment = this.context.environmentVariableCollection;\n        environment === null || environment === void 0 ? void 0 : environment.append(variable, appendingValue);\n    }\n    registerOnExtensionChange(f, ...args) {\n        vscode.extensions.onDidChange(() => {\n            f(...(args));\n        });\n    }\n    getExtensions() {\n        return vscode.extensions.all;\n    }\n    executeCommand(command, ...args) {\n        return vscode.commands.executeCommand(command, ...args);\n    }\n}\nexports.VSCodeExtensionContext = VSCodeExtensionContext;\n//# sourceMappingURL=VSCodeExtensionContext.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./IExtensionContext\"), exports);\n__exportStar(require(\"./IDotnetAcquireContext\"), exports);\n__exportStar(require(\"./IDotnetListVersionsContext\"), exports);\n__exportStar(require(\"./IDotnetUninstallContext\"), exports);\n__exportStar(require(\"./DotnetVersionSpecRequirement\"), exports);\n__exportStar(require(\"./IDotnetFindPathContext\"), exports);\n__exportStar(require(\"./IDotnetAcquireResult\"), exports);\n__exportStar(require(\"./IDotnetEnsureDependenciesContext\"), exports);\n__exportStar(require(\"./IExtensionContext\"), exports);\n__exportStar(require(\"./IExtensionState\"), exports);\n__exportStar(require(\"./IVSCodeExtensionContext\"), exports);\n__exportStar(require(\"./LocalMemoryCacheSingleton\"), exports);\n__exportStar(require(\"./VSCodeExtensionContext\"), exports);\n__exportStar(require(\"./EventStream/EventStream\"), exports);\n__exportStar(require(\"./EventStream/EventStreamRegistration\"), exports);\n__exportStar(require(\"./EventStream/IWindowDisplayWorker\"), exports);\n__exportStar(require(\"./EventStream/WindowDisplayWorker\"), exports);\n__exportStar(require(\"./EventStream/EventStreamEvents\"), exports);\n__exportStar(require(\"./Utils/CommandExecutor\"), exports);\n__exportStar(require(\"./Utils/Debugging\"), exports);\n__exportStar(require(\"./Utils/ErrorHandler\"), exports);\n__exportStar(require(\"./Utils/ExtensionConfigurationWorker\"), exports);\n__exportStar(require(\"./Utils/FileUtilities\"), exports);\n__exportStar(require(\"./Utils/TypescriptUtilities\"), exports);\n__exportStar(require(\"./Utils/ICommandExecutor\"), exports);\n__exportStar(require(\"./Utils/IFileUtilities\"), exports);\n__exportStar(require(\"./Utils/InstallIdUtilities\"), exports);\n__exportStar(require(\"./Utils/IIssueContext\"), exports);\n__exportStar(require(\"./Utils/IssueReporter\"), exports);\n__exportStar(require(\"./Utils/IVSCodeEnvironment\"), exports);\n__exportStar(require(\"./Utils/VSCodeEnvironment\"), exports);\n__exportStar(require(\"./Utils/IUtilityContext\"), exports);\n__exportStar(require(\"./Utils/WebRequestWorker\"), exports);\n__exportStar(require(\"./Acquisition/DotnetCoreAcquisitionWorker\"), exports);\n__exportStar(require(\"./Acquisition/DotnetConditionValidator\"), exports);\n__exportStar(require(\"./Acquisition/IDotnetPathFinder\"), exports);\n__exportStar(require(\"./Acquisition/DotnetPathFinder\"), exports);\n__exportStar(require(\"./Acquisition/IJsonInstaller\"), exports);\n__exportStar(require(\"./Acquisition/JsonInstaller\"), exports);\n__exportStar(require(\"./Acquisition/IDotnetConditionValidator\"), exports);\n__exportStar(require(\"./Acquisition/IDotnetListInfo\"), exports);\n__exportStar(require(\"./Acquisition/DotnetInstall\"), exports);\n__exportStar(require(\"./Acquisition/IAcquisitionWorkerContext\"), exports);\n__exportStar(require(\"./Acquisition/DirectoryProviderFactory\"), exports);\n__exportStar(require(\"./Acquisition/InstallRecord\"), exports);\n__exportStar(require(\"./Acquisition/AcquisitionInvoker\"), exports);\n__exportStar(require(\"./Acquisition/DotnetCoreDependencyInstaller\"), exports);\n__exportStar(require(\"./Acquisition/LinuxVersionResolver\"), exports);\n__exportStar(require(\"./Acquisition/DotnetInstallMode\"), exports);\n__exportStar(require(\"./Acquisition/GenericDistroSDKProvider\"), exports);\n__exportStar(require(\"./Acquisition/GlobalInstallerResolver\"), exports);\n__exportStar(require(\"./Acquisition/InstallationValidator\"), exports);\n__exportStar(require(\"./Acquisition/IVersionResolver\"), exports);\n__exportStar(require(\"./Acquisition/LinuxGlobalInstaller\"), exports);\n__exportStar(require(\"./Acquisition/VersionResolver\"), exports);\n__exportStar(require(\"./Acquisition/VersionUtilities\"), exports);\n__exportStar(require(\"./Acquisition/WinMacGlobalInstaller\"), exports);\n__exportStar(require(\"./Acquisition/ExistingPathResolver\"), exports);\n__exportStar(require(\"./Acquisition/IInstallationDirectoryProvider\"), exports);\n__exportStar(require(\"./Acquisition/SdkInstallationDirectoryProvider\"), exports);\n__exportStar(require(\"./Acquisition/RuntimeInstallationDirectoryProvider\"), exports);\n__exportStar(require(\"./test/mocks/MockObjects\"), exports);\n__exportStar(require(\"./test/mocks/MockWindowDisplayWorker\"), exports);\n__exportStar(require(\"./test/mocks/MockEnvironmentVariableCollection\"), exports);\n__exportStar(require(\"./test/unit/TestUtility\"), exports);\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MockEnvironmentVariableCollection = void 0;\nclass MockEnvironmentVariableCollection {\n    constructor() {\n        this.persistent = true;\n        this.variables = {};\n    }\n    append(variable, value) {\n        const envVar = this.variables[variable];\n        if (envVar === undefined) {\n            this.variables[variable] = value;\n        }\n        else {\n            this.variables[variable] = this.variables[variable] + value;\n        }\n    }\n    get(variable) {\n        throw new Error('Method not implemented.');\n    }\n    replace(variable, value) {\n        this.variables[variable] = value;\n    }\n    prepend(variable, value) {\n        throw new Error('Method not implemented.');\n    }\n    forEach(callback, thisArg) {\n        throw new Error('Method not implemented.');\n    }\n    delete(variable) {\n        throw new Error('Method not implemented.');\n    }\n    clear() {\n        throw new Error('Method not implemented.');\n    }\n    [Symbol.iterator]() {\n        throw new Error('Method not implemented.');\n    }\n}\nexports.MockEnvironmentVariableCollection = MockEnvironmentVariableCollection;\n//# sourceMappingURL=MockEnvironmentVariableCollection.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n*  Licensed to the .NET Foundation under one or more agreements.\n*  The .NET Foundation licenses this file to you under the MIT license.\n*--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MockInstallTracker = exports.MockExtensionConfiguration = exports.MockLoggingObserver = exports.MockInstallationValidator = exports.MockTelemetryReporter = exports.FailingInstallScriptWorker = exports.MockDistroProvider = exports.MockFileUtilities = exports.MockCommandExecutor = exports.MockAcquisitionInvoker = exports.MockApostropheScriptAcquisitionWorker = exports.MockInstallScriptWorker = exports.MockVersionResolver = exports.MockVSCodeEnvironment = exports.MockVSCodeExtensionContext = exports.MockIndexWebRequestWorker = exports.MockWebRequestWorker = exports.MockTrackingWebRequestWorker = exports.FailingWebRequestWorker = exports.FileWebRequestWorker = exports.versionPairs = exports.ErrorAcquisitionInvoker = exports.RejectingAcquisitionInvoker = exports.MockDotnetCoreAcquisitionWorker = exports.NoInstallAcquisitionInvoker = exports.MockEventStream = exports.MockExtensionContext = void 0;\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst InstallScriptAcquisitionWorker_1 = require(\"../../Acquisition/InstallScriptAcquisitionWorker\");\nconst VersionResolver_1 = require(\"../../Acquisition/VersionResolver\");\nconst DotnetCoreAcquisitionWorker_1 = require(\"../../Acquisition/DotnetCoreAcquisitionWorker\");\nconst EventStreamEvents_1 = require(\"../../EventStream/EventStreamEvents\");\nconst FileUtilities_1 = require(\"../../Utils/FileUtilities\");\nconst WebRequestWorker_1 = require(\"../../Utils/WebRequestWorker\");\nconst CommandExecutor_1 = require(\"../../Utils/CommandExecutor\");\nconst AcquisitionInvoker_1 = require(\"../../Acquisition/AcquisitionInvoker\");\nconst GenericDistroSDKProvider_1 = require(\"../../Acquisition/GenericDistroSDKProvider\");\nconst TestUtility_1 = require(\"../unit/TestUtility\");\nconst IAcquisitionInvoker_1 = require(\"../../Acquisition/IAcquisitionInvoker\");\nconst ICommandExecutor_1 = require(\"../../Utils/ICommandExecutor\");\nconst IInstallationValidator_1 = require(\"../../Acquisition/IInstallationValidator\");\nconst IDistroDotnetSDKProvider_1 = require(\"../../Acquisition/IDistroDotnetSDKProvider\");\nconst IFileUtilities_1 = require(\"../../Utils/IFileUtilities\");\nconst IVSCodeExtensionContext_1 = require(\"../../IVSCodeExtensionContext\");\nconst IVSCodeEnvironment_1 = require(\"../../Utils/IVSCodeEnvironment\");\nconst DotnetInstall_1 = require(\"../../Acquisition/DotnetInstall\");\nconst InstallTrackerSingleton_1 = require(\"../../Acquisition/InstallTrackerSingleton\");\nconst InstallationGraveyard_1 = require(\"../../Acquisition/InstallationGraveyard\");\nconst testDefaultTimeoutTimeMs = 60000;\nclass MockExtensionContext {\n    constructor() {\n        this.values = {};\n    }\n    get(key, defaultValue) {\n        let value = this.values[key];\n        if (typeof value === 'undefined') {\n            value = defaultValue;\n        }\n        return value;\n    }\n    update(key, value) {\n        return this.values[key] = value;\n    }\n    clear() {\n        this.values = {};\n    }\n    keys() {\n        return Object.keys(this.values);\n    }\n}\nexports.MockExtensionContext = MockExtensionContext;\nclass MockEventStream {\n    constructor() {\n        this.events = [];\n    }\n    post(event) {\n        this.events = this.events.concat(event);\n    }\n}\nexports.MockEventStream = MockEventStream;\nclass NoInstallAcquisitionInvoker extends IAcquisitionInvoker_1.IAcquisitionInvoker {\n    installDotnet(installContext) {\n        return new Promise((resolve, reject) => {\n            this.eventStream.post(new EventStreamEvents_1.TestAcquireCalled(installContext));\n            const install = (0, DotnetInstall_1.GetDotnetInstallInfo)(installContext.version, installContext.installMode, 'local', installContext.architecture);\n            this.eventStream.post(new EventStreamEvents_1.DotnetAcquisitionCompleted(install, installContext.dotnetPath, installContext.version));\n            resolve();\n        });\n    }\n    constructor(eventStream, worker) {\n        super(eventStream);\n        worker.enableNoInstallInvoker();\n    }\n}\nexports.NoInstallAcquisitionInvoker = NoInstallAcquisitionInvoker;\nclass MockDotnetCoreAcquisitionWorker extends DotnetCoreAcquisitionWorker_1.DotnetCoreAcquisitionWorker {\n    constructor(utilityContext, extensionContext) {\n        super(utilityContext, extensionContext);\n    }\n    AddToGraveyard(context, install, installPath) {\n        new InstallationGraveyard_1.InstallationGraveyard(context).add(install, installPath);\n    }\n    enableNoInstallInvoker() {\n        this.usingNoInstallInvoker = true;\n    }\n}\nexports.MockDotnetCoreAcquisitionWorker = MockDotnetCoreAcquisitionWorker;\nclass RejectingAcquisitionInvoker extends IAcquisitionInvoker_1.IAcquisitionInvoker {\n    installDotnet(installContext) {\n        return new Promise((resolve, reject) => {\n            reject('Rejecting message');\n        });\n    }\n}\nexports.RejectingAcquisitionInvoker = RejectingAcquisitionInvoker;\nclass ErrorAcquisitionInvoker extends IAcquisitionInvoker_1.IAcquisitionInvoker {\n    installDotnet(installContext) {\n        throw new EventStreamEvents_1.EventBasedError('MockErrorAcquisitionInvokerFailure', 'Command Failed');\n    }\n}\nexports.ErrorAcquisitionInvoker = ErrorAcquisitionInvoker;\n// Major.Minor-> Major.Minor.Patch from mock releases.json\nexports.versionPairs = [['1.0', '1.0.16'], ['1.1', '1.1.13'], ['2.0', '2.0.9'], ['2.1', '2.1.14'], ['2.2', '2.2.8']];\nclass FileWebRequestWorker extends WebRequestWorker_1.WebRequestWorker {\n    constructor(ctx, uri, mockFilePath) {\n        super(ctx, uri);\n        this.mockFilePath = mockFilePath;\n    }\n    makeWebRequest() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = JSON.parse(fs.readFileSync(this.mockFilePath, 'utf8'));\n            return result;\n        });\n    }\n}\nexports.FileWebRequestWorker = FileWebRequestWorker;\nclass FailingWebRequestWorker extends WebRequestWorker_1.WebRequestWorker {\n    constructor(ctx, uri) {\n        super(ctx, '', testDefaultTimeoutTimeMs); // Empty string as uri to cause failure. Uri is required to match the interface even though it's unused.\n    }\n    getCachedData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new Error('Fail!');\n        });\n    }\n}\nexports.FailingWebRequestWorker = FailingWebRequestWorker;\nclass MockTrackingWebRequestWorker extends WebRequestWorker_1.WebRequestWorker {\n    constructor(ctx, url, succeed = true, webTimeToLive = testDefaultTimeoutTimeMs, cacheTimeToLive = testDefaultTimeoutTimeMs) {\n        super(ctx, url, cacheTimeToLive);\n        this.succeed = succeed;\n        this.requestCount = 0;\n        this.response = 'Mock Web Request Result';\n    }\n    getRequestCount() {\n        return this.requestCount;\n    }\n    incrementRequestCount() {\n        this.requestCount++;\n    }\n    makeWebRequest() {\n        const _super = Object.create(null, {\n            makeWebRequest: { get: () => super.makeWebRequest }\n        });\n        return __awaiter(this, arguments, void 0, function* (shouldThrow = false, retries = 2) {\n            if (!(yield this.isUrlCached())) {\n                this.incrementRequestCount();\n            }\n            return _super.makeWebRequest.call(this, shouldThrow, retries);\n        });\n    }\n}\nexports.MockTrackingWebRequestWorker = MockTrackingWebRequestWorker;\nclass MockWebRequestWorker extends MockTrackingWebRequestWorker {\n    constructor(ctx, url) {\n        super(ctx, url);\n        this.errorMessage = 'Web Request Failed';\n        this.response = 'Mock Web Request Result';\n    }\n    makeWebRequest() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.incrementRequestCount();\n            if (this.succeed) {\n                try // axios will return a json object instead of a string if the object is json. mimic this.\n                 {\n                    JSON.parse(this.response);\n                }\n                catch (e) {\n                    return this.response;\n                }\n            }\n            else {\n                throw new Error(this.errorMessage);\n            }\n        });\n    }\n}\nexports.MockWebRequestWorker = MockWebRequestWorker;\nclass MockIndexWebRequestWorker extends WebRequestWorker_1.WebRequestWorker {\n    constructor(ctx, url, succeed = true, webTimeToLive = testDefaultTimeoutTimeMs, cacheTimeToLive = testDefaultTimeoutTimeMs) {\n        super(ctx, url, cacheTimeToLive);\n        this.succeed = succeed;\n        this.knownUrls = ['Mock Web Request Result'];\n        this.matchingUrlResponses = [\n            ``\n        ];\n    }\n    getCachedData() {\n        return __awaiter(this, arguments, void 0, function* (retriesCount = 2) {\n            const urlResponseIndex = this.knownUrls.indexOf(this.url);\n            if (urlResponseIndex === -1) {\n                throw Error(`The requested URL ${this.url} was not expected as the mock object did not have a set response for it.`);\n            }\n            return JSON.parse(this.matchingUrlResponses[urlResponseIndex]);\n        });\n    }\n}\nexports.MockIndexWebRequestWorker = MockIndexWebRequestWorker;\nclass MockVSCodeExtensionContext extends IVSCodeExtensionContext_1.IVSCodeExtensionContext {\n    registerOnExtensionChange(f, ...args) {\n        f(...args);\n    }\n    getExtensions() {\n        return [{ extensionId: 'test' }];\n    }\n    executeCommand(command, ...args) {\n        return Promise.resolve({});\n    }\n    appendToEnvironmentVariable(variable, pathAdditionWithDelimiter) {\n        // Do nothing.\n    }\n    setVSCodeEnvironmentVariable(variable, value) {\n        // Do nothing.\n    }\n}\nexports.MockVSCodeExtensionContext = MockVSCodeExtensionContext;\nclass MockVSCodeEnvironment extends IVSCodeEnvironment_1.IVSCodeEnvironment {\n    isTelemetryEnabled() {\n        return true;\n    }\n}\nexports.MockVSCodeEnvironment = MockVSCodeEnvironment;\nclass MockVersionResolver extends VersionResolver_1.VersionResolver {\n    constructor(ctx) {\n        super(ctx);\n        this.filePath = path.join(__dirname, '../../..', 'src', 'test', 'mocks', 'mock-releases.json');\n        this.webWorker = new FileWebRequestWorker(ctx, 'releases', this.filePath);\n    }\n}\nexports.MockVersionResolver = MockVersionResolver;\nclass MockInstallScriptWorker extends InstallScriptAcquisitionWorker_1.InstallScriptAcquisitionWorker {\n    constructor(ctx, failing, fallback = false) {\n        super(ctx);\n        this.fallback = fallback;\n        this.webWorker = failing ?\n            new FailingWebRequestWorker(ctx, '') :\n            new MockWebRequestWorker(ctx, '');\n    }\n    getFallbackScriptPath() {\n        if (this.fallback) {\n            return path.join(__dirname, '..');\n        }\n        else {\n            return super.getFallbackScriptPath();\n        }\n    }\n}\nexports.MockInstallScriptWorker = MockInstallScriptWorker;\nclass MockApostropheScriptAcquisitionWorker extends MockInstallScriptWorker {\n    constructor(ctx, installFolder) {\n        super(ctx, false);\n        const scriptFileEnding = 'win32';\n        const scriptFileName = 'dotnet-install';\n        this.scriptFilePath = path.join(installFolder, 'install scripts', `${scriptFileName}.${scriptFileEnding}`);\n    }\n}\nexports.MockApostropheScriptAcquisitionWorker = MockApostropheScriptAcquisitionWorker;\nclass MockAcquisitionInvoker extends AcquisitionInvoker_1.AcquisitionInvoker {\n    constructor(ctx, installFolder) {\n        super(ctx, (0, TestUtility_1.getMockUtilityContext)());\n        this.scriptWorker = new MockApostropheScriptAcquisitionWorker(ctx, installFolder);\n    }\n}\nexports.MockAcquisitionInvoker = MockAcquisitionInvoker;\n/**\n * @remarks does NOT run the commands (if they have sudo), but records them to verify the correct command should've been run.\n */\nclass MockCommandExecutor extends ICommandExecutor_1.ICommandExecutor {\n    constructor(acquisitionContext, utilContext) {\n        super(acquisitionContext, utilContext);\n        this.fakeReturnValue = { status: '', stderr: '', stdout: '' };\n        this.attemptedCommand = '';\n        // If you expect several commands to be run and want to specify unique outputs for each, describe them in the same order using the below two arrays.\n        // We will check for an includes match and not an exact match!\n        this.otherCommandPatternsToMock = [];\n        this.otherCommandsReturnValues = [];\n        this.trueExecutor = new CommandExecutor_1.CommandExecutor(acquisitionContext, utilContext);\n    }\n    execute(command_1) {\n        return __awaiter(this, arguments, void 0, function* (command, options = null, terminalFailure) {\n            this.attemptedCommand = CommandExecutor_1.CommandExecutor.prettifyCommandExecutorCommand(command);\n            if (this.shouldActuallyExecuteCommand(command)) {\n                return this.trueExecutor.execute(command, options);\n            }\n            for (let i = 0; i < this.otherCommandPatternsToMock.length; ++i) {\n                const commandPatternToLookFor = this.otherCommandPatternsToMock[i];\n                if (command.commandRoot.includes(commandPatternToLookFor) ||\n                    command.commandParts.some((arg) => arg.includes(commandPatternToLookFor))) {\n                    return this.otherCommandsReturnValues[i];\n                }\n            }\n            return this.fakeReturnValue;\n        });\n    }\n    executeMultipleCommands(commands, options, terminalFailure) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = [];\n            for (const command of commands) {\n                result.push(yield this.execute(command, options, terminalFailure));\n            }\n            return result;\n        });\n    }\n    tryFindWorkingCommand(commands) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return commands[0];\n        });\n    }\n    /**\n     * @remarks For commands which do not edit the global system state or we don't need to mock their data, we can just execute them\n     * with a real command executor to provide better code coverage.\n     */\n    shouldActuallyExecuteCommand(command) {\n        return !command.runUnderSudo && this.fakeReturnValue.status === '' && this.fakeReturnValue.stderr === '' && this.fakeReturnValue.stdout === '';\n    }\n    resetReturnValues() {\n        this.fakeReturnValue = { status: '', stderr: '', stdout: '' };\n        this.attemptedCommand = '';\n        this.otherCommandPatternsToMock = [];\n        this.otherCommandsReturnValues = [];\n    }\n    setEnvironmentVariable(variable, value, vscodeContext, failureWarningMessage, nonWinFailureMessage) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.trueExecutor.setEnvironmentVariable(variable, value, vscodeContext, failureWarningMessage, nonWinFailureMessage);\n        });\n    }\n}\nexports.MockCommandExecutor = MockCommandExecutor;\nclass MockFileUtilities extends IFileUtilities_1.IFileUtilities {\n    constructor() {\n        super(...arguments);\n        this.trueUtilities = new FileUtilities_1.FileUtilities();\n        this.filePathsAndExistValues = {};\n        this.filePathsAndReadValues = {};\n    }\n    writeFileOntoDisk(content, filePath, alreadyHoldingLock = false) {\n        return this.trueUtilities.writeFileOntoDisk(content, filePath, alreadyHoldingLock, new MockEventStream());\n    }\n    wipeDirectory(directoryToWipe, eventSteam, fileExtensionsToDelete) {\n        return this.trueUtilities.wipeDirectory(directoryToWipe, eventSteam, fileExtensionsToDelete);\n    }\n    isElevated(context, utilContext) {\n        return this.trueUtilities.isElevated(context, utilContext);\n    }\n    getFileHash(filePath) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return '';\n        });\n    }\n    existsSync(filePath) {\n        return this.filePathsAndExistValues[filePath] || false;\n    }\n    readSync(filePath) {\n        return this.filePathsAndReadValues[filePath] || '';\n    }\n}\nexports.MockFileUtilities = MockFileUtilities;\n/**\n * @remarks does NOT run the commands (if they have sudo), but records them to verify the correct command should've been run.\n */\nclass MockDistroProvider extends IDistroDotnetSDKProvider_1.IDistroDotnetSDKProvider {\n    constructor(version, context, utilContext, commandRunner) {\n        super(version, context, utilContext, commandRunner);\n        this.installReturnValue = '';\n        this.installedSDKsReturnValue = [];\n        this.installedRuntimesReturnValue = [];\n        this.globalPathReturnValue = '';\n        this.globalVersionReturnValue = '';\n        this.distroFeedReturnValue = '';\n        this.microsoftFeedReturnValue = '';\n        this.packageExistsReturnValue = false;\n        this.supportStatusReturnValue = \"DISTRO\" /* DotnetDistroSupportStatus.Distro */;\n        this.recommendedVersionReturnValue = '';\n        this.upgradeReturnValue = '';\n        this.uninstallReturnValue = '';\n        this.versionPackagesReturnValue = [];\n        this.context = context;\n    }\n    installDotnet(fullySpecifiedVersion) {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand('install', [`dotnet`]));\n        return Promise.resolve(this.installReturnValue);\n    }\n    getInstalledDotnetSDKVersions() {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`get`, [`sdk`, `versions`]));\n        return Promise.resolve(this.installedSDKsReturnValue);\n    }\n    getInstalledDotnetRuntimeVersions() {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`get`, [`runtime`, `versions`]));\n        return Promise.resolve(this.installedRuntimesReturnValue);\n    }\n    getInstalledGlobalDotnetPathIfExists() {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`global`, [`path`]));\n        return Promise.resolve(this.globalPathReturnValue);\n    }\n    getInstalledGlobalDotnetVersionIfExists() {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`global`, [`version`]));\n        return Promise.resolve(this.globalVersionReturnValue);\n    }\n    getExpectedDotnetDistroFeedInstallationDirectory() {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`distro`, [`feed`, `dir`]));\n        return this.distroFeedReturnValue;\n    }\n    getExpectedDotnetMicrosoftFeedInstallationDirectory() {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`microsoft`, [`feed`, `dir`]));\n        return this.microsoftFeedReturnValue;\n    }\n    dotnetPackageExistsOnSystem(fullySpecifiedVersion) {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`package`, [`check`]));\n        return Promise.resolve(this.packageExistsReturnValue);\n    }\n    getDotnetVersionSupportStatus(fullySpecifiedVersion) {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`support`, [`status`]));\n        return Promise.resolve(this.supportStatusReturnValue);\n    }\n    getRecommendedDotnetVersion(installType) {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`recommended`, [`version`]));\n        return Promise.resolve(this.recommendedVersionReturnValue);\n    }\n    upgradeDotnet(versionToUpgrade) {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`upgrade`, [`update`, `dotnet`]));\n        return Promise.resolve(this.upgradeReturnValue);\n    }\n    uninstallDotnet(versionToUninstall) {\n        this.commandRunner.execute(CommandExecutor_1.CommandExecutor.makeCommand(`uninstall`, [`dotnet`]));\n        return Promise.resolve(this.uninstallReturnValue);\n    }\n    JsonDotnetVersion(fullySpecifiedDotnetVersion) {\n        return new GenericDistroSDKProvider_1.GenericDistroSDKProvider(this.distroVersion, this.context, (0, TestUtility_1.getMockUtilityContext)()).JsonDotnetVersion(fullySpecifiedDotnetVersion);\n    }\n    isPackageFoundInSearch(resultOfSearchCommand, searchCommandExitCode) {\n        return true;\n    }\n}\nexports.MockDistroProvider = MockDistroProvider;\nclass FailingInstallScriptWorker extends InstallScriptAcquisitionWorker_1.InstallScriptAcquisitionWorker {\n    constructor(ctx) {\n        super(ctx);\n        this.webWorker = new MockWebRequestWorker(ctx, '');\n    }\n    getDotnetInstallScriptPath() {\n        throw new Error('Failed to write file');\n    }\n}\nexports.FailingInstallScriptWorker = FailingInstallScriptWorker;\nclass MockTelemetryReporter {\n    dispose() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Nothing to dispose\n        });\n    }\n    sendTelemetryEvent(eventName, properties, measures) {\n        MockTelemetryReporter.telemetryEvents = MockTelemetryReporter.telemetryEvents.concat({ eventName, properties, measures });\n    }\n    sendTelemetryErrorEvent(eventName, properties, measures, errorProps) {\n        eventName = `[ERROR]:${eventName}`;\n        MockTelemetryReporter.telemetryEvents = MockTelemetryReporter.telemetryEvents.concat({ eventName, properties, measures });\n    }\n}\nexports.MockTelemetryReporter = MockTelemetryReporter;\nMockTelemetryReporter.telemetryEvents = [];\nclass MockInstallationValidator extends IInstallationValidator_1.IInstallationValidator {\n    validateDotnetInstall(version, dotnetPath) {\n        // Always validate\n    }\n}\nexports.MockInstallationValidator = MockInstallationValidator;\nclass MockLoggingObserver {\n    post(event) {\n        // Nothing to post\n    }\n    dispose() {\n        // Nothing to dispose\n    }\n    getFileLocation() {\n        return 'Mock file location';\n    }\n}\nexports.MockLoggingObserver = MockLoggingObserver;\nclass MockExtensionConfiguration {\n    constructor(existingPaths, enableTelemetry, existingSharedPath, allowInvalidPaths = false) {\n        this.existingPaths = existingPaths;\n        this.enableTelemetry = enableTelemetry;\n        this.existingSharedPath = existingSharedPath;\n        this.allowInvalidPaths = allowInvalidPaths;\n    }\n    update(section, value) {\n        // Not used, stubbed to implement interface\n        return new Promise((resolve) => resolve());\n    }\n    get(name) {\n        if (name === 'existingDotnetPath') {\n            return this.existingPaths;\n        }\n        else if (name === 'sharedExistingDotnetPath') {\n            return this.existingSharedPath;\n        }\n        else if (name === 'enableTelemetry') {\n            return this.enableTelemetry;\n        }\n        else if (name === 'allowInvalidPaths') {\n            return this.allowInvalidPaths;\n        }\n        else {\n            return undefined;\n        }\n    }\n}\nexports.MockExtensionConfiguration = MockExtensionConfiguration;\nclass MockInstallTracker extends InstallTrackerSingleton_1.InstallTrackerSingleton {\n    constructor(eventStream, extensionState) {\n        super(eventStream, extensionState);\n        // Cause an instance to exist so that we can override the members.\n        const _ = InstallTrackerSingleton_1.InstallTrackerSingleton.getInstance(eventStream, extensionState);\n        this.overrideMembers(eventStream, extensionState);\n    }\n    getExtensionState() {\n        return this.extensionState;\n    }\n    setExtensionState(extensionState) {\n        this.extensionState = extensionState;\n    }\n}\nexports.MockInstallTracker = MockInstallTracker;\n//# sourceMappingURL=MockObjects.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MockWindowDisplayWorker = void 0;\nclass MockWindowDisplayWorker {\n    constructor(mockPath = 'MockPath') {\n        this.mockPath = mockPath;\n        this.errorMessage = '';\n        this.warningMessage = '';\n        this.infoMessage = '';\n        this.clipboardText = '';\n        this.options = [];\n        this.callback = undefined;\n    }\n    showErrorMessage(message, callback, ...items) {\n        this.errorMessage = message;\n        this.options = items;\n        this.callback = callback;\n    }\n    showWarningMessage(message, callback, ...items) {\n        this.warningMessage = message;\n        this.options = items;\n        this.callback = callback;\n    }\n    showInformationMessage(message, callback, ...items) {\n        this.infoMessage = message;\n        this.callback = callback;\n    }\n    copyToUserClipboard(text) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.clipboardText = text;\n        });\n    }\n    getModalWarningResponse(message, no, yes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return true;\n        });\n    }\n    displayPathConfigPopUp() {\n        return new Promise((resolve) => { resolve(this.mockPath); });\n    }\n}\nexports.MockWindowDisplayWorker = MockWindowDisplayWorker;\n//# sourceMappingURL=MockWindowDisplayWorker.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getMockAcquisitionContext = getMockAcquisitionContext;\nexports.getMockAcquisitionWorkerContext = getMockAcquisitionWorkerContext;\nexports.getMockAcquisitionWorker = getMockAcquisitionWorker;\nexports.getMockUtilityContext = getMockUtilityContext;\nexports.getMockAcquireContext = getMockAcquireContext;\nconst MockWindowDisplayWorker_1 = require(\"../mocks/MockWindowDisplayWorker\");\nconst MockObjects_1 = require(\"../mocks/MockObjects\");\nconst DirectoryProviderFactory_1 = require(\"../../Acquisition/DirectoryProviderFactory\");\nconst standardTimeoutTime = 100000;\nfunction getMockAcquisitionContext(mode, version, timeoutTime = standardTimeoutTime, customEventStream, customContext, arch, directory) {\n    var _a;\n    const extensionContext = customContext !== null && customContext !== void 0 ? customContext : new MockObjects_1.MockExtensionContext();\n    const myEventStream = customEventStream !== null && customEventStream !== void 0 ? customEventStream : new MockObjects_1.MockEventStream();\n    const workerContext = {\n        storagePath: '',\n        extensionState: extensionContext,\n        eventStream: myEventStream,\n        acquisitionContext: getMockAcquireContext(version, arch, mode),\n        installationValidator: new MockObjects_1.MockInstallationValidator(myEventStream),\n        timeoutSeconds: timeoutTime,\n        proxyUrl: undefined,\n        installDirectoryProvider: directory ? directory : (0, DirectoryProviderFactory_1.directoryProviderFactory)(mode, ''),\n        isExtensionTelemetryInitiallyEnabled: true,\n        allowInvalidPathSetting: (_a = customContext === null || customContext === void 0 ? void 0 : customContext.get('dotnetAcquisitionExtension.allowInvalidPaths')) !== null && _a !== void 0 ? _a : false\n    };\n    return workerContext;\n}\nfunction getMockAcquisitionWorkerContext(acquireContext) {\n    const extensionContext = new MockObjects_1.MockExtensionContext();\n    const myEventStream = new MockObjects_1.MockEventStream();\n    const workerContext = {\n        storagePath: '',\n        extensionState: extensionContext,\n        eventStream: myEventStream,\n        acquisitionContext: acquireContext,\n        installationValidator: new MockObjects_1.MockInstallationValidator(myEventStream),\n        timeoutSeconds: standardTimeoutTime,\n        proxyUrl: undefined,\n        installDirectoryProvider: (0, DirectoryProviderFactory_1.directoryProviderFactory)(acquireContext.mode, ''),\n        isExtensionTelemetryInitiallyEnabled: true,\n        allowInvalidPathSetting: false\n    };\n    return workerContext;\n}\nfunction getMockAcquisitionWorker(mockContext) {\n    const acquisitionWorker = new MockObjects_1.MockDotnetCoreAcquisitionWorker(getMockUtilityContext(), new MockObjects_1.MockVSCodeExtensionContext());\n    return acquisitionWorker;\n}\nfunction getMockUtilityContext() {\n    const utilityContext = {\n        ui: new MockWindowDisplayWorker_1.MockWindowDisplayWorker(),\n        vsCodeEnv: new MockObjects_1.MockVSCodeEnvironment()\n    };\n    return utilityContext;\n}\nfunction getMockAcquireContext(nextAcquiringVersion, arch, installMode) {\n    const acquireContext = {\n        version: nextAcquiringVersion,\n        architecture: arch,\n        requestingExtensionId: 'test',\n        mode: installMode\n    };\n    return acquireContext;\n}\n//# sourceMappingURL=TestUtility.js.map","/*\n * 1DS JS SDK Core, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\n/**\r\n* AppInsightsCore.ts\r\n* @author Abhilash Panwar (abpanwar) Hector Hernandez (hectorh)\r\n* @copyright Microsoft 2018\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { AppInsightsCore as InternalCore, _throwInternal, createDynamicConfig, doPerf, dumpObj, throwError } from \"@microsoft/applicationinsights-core-js\";\r\nimport { objDeepFreeze } from \"@nevware21/ts-utils\";\r\nimport { STR_DEFAULT_ENDPOINT_URL, STR_EMPTY, STR_PROPERTIES, STR_VERSION } from \"./InternalConstants\";\r\nimport { FullVersionString, getTime, isLatency } from \"./Utils\";\r\nimport { _DYN_INDEX_OF, _DYN_INITIALIZE, _DYN_LOGGER, _DYN_POLL_INTERNAL_LOGS, _DYN_TIMINGS } from \"./__DynamicConstants\";\r\n/**\r\n * The default settings for the config.\r\n * WE MUST include all defaults here to ensure that the config is created with all of the properties\r\n * defined as dynamic.\r\n */\r\nvar defaultConfig = objDeepFreeze({\r\n    endpointUrl: STR_DEFAULT_ENDPOINT_URL,\r\n    propertyStorageOverride: { isVal: _chkPropOverride }\r\n});\r\nfunction _chkPropOverride(propertyStorageOverride) {\r\n    // Validate property storage override\r\n    if (propertyStorageOverride && (!propertyStorageOverride.getProperty || !propertyStorageOverride.setProperty)) {\r\n        throwError(\"Invalid property storage override passed.\");\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * @group Classes\r\n * @group Entrypoint\r\n */\r\nvar AppInsightsCore = /** @class */ (function (_super) {\r\n    __extends(AppInsightsCore, _super);\r\n    function AppInsightsCore() {\r\n        var _this = _super.call(this) || this;\r\n        dynamicProto(AppInsightsCore, _this, function (_self, _base) {\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (config, extensions, logger, notificationManager) {\r\n                doPerf(_self, function () { return \"AppInsightsCore.initialize\"; }, function () {\r\n                    try {\r\n                        _base[_DYN_INITIALIZE /* @min:%2einitialize */](createDynamicConfig(config, defaultConfig, logger || _self[_DYN_LOGGER /* @min:%2elogger */], false).cfg, extensions, logger, notificationManager);\r\n                    }\r\n                    catch (e) {\r\n                        var logger_1 = _self[_DYN_LOGGER /* @min:%2elogger */];\r\n                        var message = dumpObj(e);\r\n                        if (message[_DYN_INDEX_OF /* @min:%2eindexOf */](\"channels\") !== -1) {\r\n                            // Add some additional context to the underlying reported error\r\n                            message += \"\\n - Channels must be provided through config.channels only!\";\r\n                        }\r\n                        _throwInternal(logger_1, 1 /* eLoggingSeverity.CRITICAL */, 514 /* _eExtendedInternalMessageId.FailedToInitializeSDK */, \"SDK Initialization Failed - no telemetry will be sent: \" + message);\r\n                    }\r\n                }, function () { return ({ config: config, extensions: extensions, logger: logger, notificationManager: notificationManager }); });\r\n            };\r\n            _self.track = function (item) {\r\n                doPerf(_self, function () { return \"AppInsightsCore.track\"; }, function () {\r\n                    var telemetryItem = item;\r\n                    if (telemetryItem) {\r\n                        telemetryItem[_DYN_TIMINGS /* @min:%2etimings */] = telemetryItem[_DYN_TIMINGS /* @min:%2etimings */] || {};\r\n                        telemetryItem[_DYN_TIMINGS /* @min:%2etimings */].trackStart = getTime();\r\n                        if (!isLatency(telemetryItem.latency)) {\r\n                            telemetryItem.latency = 1 /* EventLatencyValue.Normal */;\r\n                        }\r\n                        var itemExt = telemetryItem.ext = telemetryItem.ext || {};\r\n                        itemExt.sdk = itemExt.sdk || {};\r\n                        itemExt.sdk.ver = FullVersionString;\r\n                        var baseData = telemetryItem.baseData = telemetryItem.baseData || {};\r\n                        baseData[STR_PROPERTIES /* @min:%2eproperties */] = baseData[STR_PROPERTIES /* @min:%2eproperties */] || {};\r\n                        var itemProperties = baseData[STR_PROPERTIES /* @min:%2eproperties */];\r\n                        itemProperties[STR_VERSION] = itemProperties[STR_VERSION] || _self.pluginVersionString || STR_EMPTY;\r\n                    }\r\n                    _base.track(telemetryItem);\r\n                }, function () { return ({ item: item }); }, !(item.sync));\r\n            };\r\n            _self[_DYN_POLL_INTERNAL_LOGS /* @min:%2epollInternalLogs */] = function (eventName) {\r\n                return _base[_DYN_POLL_INTERNAL_LOGS /* @min:%2epollInternalLogs */](eventName || \"InternalLog\");\r\n            };\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for AppInsightsCore.prototype.initialize.\r\n// Removed Stub for AppInsightsCore.prototype.track.\r\n// Removed Stub for AppInsightsCore.prototype.pollInternalLogs.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    AppInsightsCore.__ieDyn=1;\n\n    return AppInsightsCore;\r\n}(InternalCore));\r\nexport { AppInsightsCore };\r\n//# sourceMappingURL=AppInsightsCore.js.map","/*\n * 1DS JS SDK Core, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* Enums.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n* File containing the enums as constants.\r\n*/\r\nimport { createEnumStyle } from \"@microsoft/applicationinsights-core-js\";\r\n/**\r\n * The ValueKind contains a set of values that specify value kind of the property.\r\n * Either PII (Personal Identifiable Information) or customer content.\r\n */\r\nexport var ValueKind = createEnumStyle({\r\n    NotSet: 0 /* eValueKind.NotSet */,\r\n    Pii_DistinguishedName: 1 /* eValueKind.Pii_DistinguishedName */,\r\n    Pii_GenericData: 2 /* eValueKind.Pii_GenericData */,\r\n    Pii_IPV4Address: 3 /* eValueKind.Pii_IPV4Address */,\r\n    Pii_IPv6Address: 4 /* eValueKind.Pii_IPv6Address */,\r\n    Pii_MailSubject: 5 /* eValueKind.Pii_MailSubject */,\r\n    Pii_PhoneNumber: 6 /* eValueKind.Pii_PhoneNumber */,\r\n    Pii_QueryString: 7 /* eValueKind.Pii_QueryString */,\r\n    Pii_SipAddress: 8 /* eValueKind.Pii_SipAddress */,\r\n    Pii_SmtpAddress: 9 /* eValueKind.Pii_SmtpAddress */,\r\n    Pii_Identity: 10 /* eValueKind.Pii_Identity */,\r\n    Pii_Uri: 11 /* eValueKind.Pii_Uri */,\r\n    Pii_Fqdn: 12 /* eValueKind.Pii_Fqdn */,\r\n    Pii_IPV4AddressLegacy: 13 /* eValueKind.Pii_IPV4AddressLegacy */,\r\n    Pii_IPv6ScrubLastHextets: 14 /* eValueKind.Pii_IPv6ScrubLastHextets */,\r\n    Pii_DropValue: 15 /* eValueKind.Pii_DropValue */,\r\n    CustomerContent_GenericContent: 32 /* eValueKind.CustomerContent_GenericContent */\r\n});\r\n/**\r\n * The EventLatency contains a set of values that specify the latency with which an event is sent.\r\n */\r\nexport var EventLatency = createEnumStyle({\r\n    /**\r\n     * Normal latency.\r\n     */\r\n    Normal: 1 /* EventLatencyValue.Normal */,\r\n    /**\r\n     * Cost deferred latency. At the moment this latency is treated as Normal latency.\r\n     */\r\n    CostDeferred: 2 /* EventLatencyValue.CostDeferred */,\r\n    /**\r\n     * Real time latency.\r\n     */\r\n    RealTime: 3 /* EventLatencyValue.RealTime */,\r\n    /**\r\n     * Bypass normal batching/timing and send as soon as possible, this will still send asynchronously.\r\n     * Added in v3.1.1\r\n     */\r\n    Immediate: 4 /* EventLatencyValue.Immediate */\r\n});\r\n/**\r\n * Enum for property types.\r\n */\r\nexport var EventPropertyType = createEnumStyle({\r\n    Unspecified: 0 /* eEventPropertyType.Unspecified */,\r\n    String: 1 /* eEventPropertyType.String */,\r\n    Int32: 2 /* eEventPropertyType.Int32 */,\r\n    UInt32: 3 /* eEventPropertyType.UInt32 */,\r\n    Int64: 4 /* eEventPropertyType.Int64 */,\r\n    UInt64: 5 /* eEventPropertyType.UInt64 */,\r\n    Double: 6 /* eEventPropertyType.Double */,\r\n    Bool: 7 /* eEventPropertyType.Bool */,\r\n    Guid: 8 /* eEventPropertyType.Guid */,\r\n    DateTime: 9 /* eEventPropertyType.DateTime */\r\n});\r\n/**\r\n * The EventPersistence contains a set of values that specify the event's persistence.\r\n */\r\nexport var EventPersistence = createEnumStyle({\r\n    /**\r\n     * Normal persistence.\r\n     */\r\n    Normal: 1 /* EventPersistenceValue.Normal */,\r\n    /**\r\n     * Critical persistence.\r\n     */\r\n    Critical: 2 /* EventPersistenceValue.Critical */\r\n});\r\nexport var TraceLevel = createEnumStyle({\r\n    NONE: 0 /* eTraceLevel.NONE */,\r\n    ERROR: 1 /* eTraceLevel.ERROR */,\r\n    WARNING: 2 /* eTraceLevel.WARNING */,\r\n    INFORMATION: 3 /* eTraceLevel.INFORMATION */\r\n});\r\n//# sourceMappingURL=Enums.js.map","/*\n * 1DS JS SDK Core, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nimport { isNullOrUndefined, isString, objForEachKey } from \"@microsoft/applicationinsights-core-js\";\r\nimport { arrForEach, arrIncludes, arrIndexOf, getLength } from \"@nevware21/ts-utils\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { getFieldValueType, isValueAssigned, isValueKind } from \"./Utils\";\r\nimport { _DYN_CAN_HANDLE, _DYN_HANDLE_FIELD, _DYN_KIND, _DYN_LENGTH, _DYN_RM_FIELD_SANITIZER, _DYN_RM_SANITIZER, _DYN_VALUE } from \"./__DynamicConstants\";\r\nvar ValueSanitizer = /** @class */ (function () {\r\n    function ValueSanitizer(fieldSanitizerProvider) {\r\n        var _self = this;\r\n        // To aid with performance this is a lookup map to check if the field value sanitizer supports this field\r\n        var _sanitizerMap = {};\r\n        var _sanitizers = [];\r\n        var _fieldSanitizers = [];\r\n        if (fieldSanitizerProvider) {\r\n            _fieldSanitizers.push(fieldSanitizerProvider);\r\n        }\r\n        function _getFieldSanitizer(path, name) {\r\n            var result;\r\n            var fieldLookup = _sanitizerMap[path];\r\n            if (fieldLookup) {\r\n                result = fieldLookup[name];\r\n            }\r\n            if (!result && result !== null) {\r\n                // Null is a valid result indicating that the value sanitizer does not support this field\r\n                if (isString(path) && isString(name)) {\r\n                    if (_fieldSanitizers[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                        for (var lp = 0; lp < _fieldSanitizers[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n                            if (_fieldSanitizers[lp][_DYN_HANDLE_FIELD /* @min:%2ehandleField */](path, name)) {\r\n                                result = {\r\n                                    canHandle: true,\r\n                                    fieldHandler: _fieldSanitizers[lp]\r\n                                };\r\n                                break;\r\n                            }\r\n                        }\r\n                    }\r\n                    else if (_sanitizers[_DYN_LENGTH /* @min:%2elength */] === 0) {\r\n                        // Special use-case where there is no sanitizer to pass on to, so just resolving the field\r\n                        // and returning the resulting value (same as sanitizeProperty())\r\n                        result = {\r\n                            canHandle: true\r\n                        };\r\n                    }\r\n                }\r\n                // We still don't have a handler so lets lookup the providers\r\n                if (!result && result !== null) {\r\n                    // Setting the result to null -- which means we and any contained sanitizers can't handle this field\r\n                    result = null;\r\n                    for (var lp = 0; lp < _sanitizers[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n                        if (_sanitizers[lp][_DYN_HANDLE_FIELD /* @min:%2ehandleField */](path, name)) {\r\n                            result = {\r\n                                canHandle: true,\r\n                                handler: _sanitizers[lp],\r\n                                fieldHandler: null\r\n                            };\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                if (!fieldLookup) {\r\n                    fieldLookup = _sanitizerMap[path] = {};\r\n                }\r\n                fieldLookup[name] = result;\r\n            }\r\n            return result;\r\n        }\r\n        _self.clearCache = function () {\r\n            _sanitizerMap = {};\r\n        };\r\n        _self.addSanitizer = function (newSanitizer) {\r\n            if (newSanitizer) {\r\n                if (!arrIncludes(_sanitizers, newSanitizer)) {\r\n                    _sanitizers.push(newSanitizer);\r\n                }\r\n                // Invalidate any previously mapped fields\r\n                _sanitizerMap = {};\r\n            }\r\n        };\r\n        _self.addFieldSanitizer = function (fieldSanitizer) {\r\n            if (fieldSanitizer) {\r\n                if (!arrIncludes(_fieldSanitizers, fieldSanitizer)) {\r\n                    _fieldSanitizers.push(fieldSanitizer);\r\n                }\r\n                // Invalidate any previously mapped fields\r\n                _sanitizerMap = {};\r\n            }\r\n        };\r\n        _self[_DYN_RM_SANITIZER /* @min:%2ermSanitizer */] = function (theSanitizer) {\r\n            if (theSanitizer) {\r\n                var idx = arrIndexOf(_sanitizers, theSanitizer);\r\n                if (idx !== -1) {\r\n                    _sanitizers.splice(idx, 1);\r\n                    // Invalidate any previously mapped fields\r\n                    _sanitizerMap = {};\r\n                }\r\n                // Try and remove the sanitizer from any chained sanitizer as well\r\n                arrForEach(_sanitizers, function (sanitizer) {\r\n                    sanitizer && sanitizer[_DYN_RM_SANITIZER /* @min:%2ermSanitizer */] && sanitizer[_DYN_RM_SANITIZER /* @min:%2ermSanitizer */](theSanitizer);\r\n                });\r\n            }\r\n        };\r\n        _self[_DYN_RM_FIELD_SANITIZER /* @min:%2ermFieldSanitizer */] = function (theFieldSanitizer) {\r\n            if (theFieldSanitizer) {\r\n                var idx = arrIndexOf(_fieldSanitizers, theFieldSanitizer);\r\n                if (idx !== -1) {\r\n                    _fieldSanitizers.splice(idx, 1);\r\n                    // Invalidate any previously mapped fields\r\n                    _sanitizerMap = {};\r\n                }\r\n                // Try and remove the field sanitizer from any chained sanitizer as well\r\n                arrForEach(_sanitizers, function (sanitizer) {\r\n                    sanitizer && sanitizer[_DYN_RM_FIELD_SANITIZER /* @min:%2ermFieldSanitizer */] && sanitizer[_DYN_RM_FIELD_SANITIZER /* @min:%2ermFieldSanitizer */](theFieldSanitizer);\r\n                });\r\n            }\r\n        };\r\n        _self.isEmpty = function () {\r\n            return (getLength(_sanitizers) + getLength(_fieldSanitizers)) === 0;\r\n        };\r\n        _self[_DYN_HANDLE_FIELD /* @min:%2ehandleField */] = function (path, name) {\r\n            var mapValue = _getFieldSanitizer(path, name);\r\n            return mapValue ? mapValue[_DYN_CAN_HANDLE /* @min:%2ecanHandle */] : false;\r\n        };\r\n        _self[_DYN_VALUE /* @min:%2evalue */] = function (path, name, value, stringifyObjects) {\r\n            var mapValue = _getFieldSanitizer(path, name);\r\n            if (mapValue && mapValue[_DYN_CAN_HANDLE /* @min:%2ecanHandle */]) {\r\n                if (!mapValue || !mapValue[_DYN_CAN_HANDLE /* @min:%2ecanHandle */]) {\r\n                    return null;\r\n                }\r\n                if (mapValue.handler) {\r\n                    // This value sanitizer can't handle this field so pass it only the next one\r\n                    return mapValue.handler[_DYN_VALUE /* @min:%2evalue */](path, name, value, stringifyObjects);\r\n                }\r\n                // Check that property is valid\r\n                if (!isString(name) || isNullOrUndefined(value) || value === STR_EMPTY) {\r\n                    return null;\r\n                }\r\n                var property = null;\r\n                var fieldType = getFieldValueType(value);\r\n                if ((fieldType & 8192 /* FieldValueSanitizerType.EventProperty */) === 8192 /* FieldValueSanitizerType.EventProperty */) {\r\n                    var subType = fieldType & ~8192 /* FieldValueSanitizerType.EventProperty */;\r\n                    property = value;\r\n                    if (!isValueAssigned(property[_DYN_VALUE /* @min:%2evalue */]) ||\r\n                        (subType !== 1 /* FieldValueSanitizerType.String */ &&\r\n                            subType !== 2 /* FieldValueSanitizerType.Number */ &&\r\n                            subType !== 3 /* FieldValueSanitizerType.Boolean */ &&\r\n                            (subType & 4096 /* FieldValueSanitizerType.Array */) !== 4096 /* FieldValueSanitizerType.Array */)) {\r\n                        // Not a supported IEventProperty type to be able to sanitize\r\n                        return null;\r\n                    }\r\n                }\r\n                else if (fieldType === 1 /* FieldValueSanitizerType.String */ ||\r\n                    fieldType === 2 /* FieldValueSanitizerType.Number */ ||\r\n                    fieldType === 3 /* FieldValueSanitizerType.Boolean */ ||\r\n                    (fieldType & 4096 /* FieldValueSanitizerType.Array */) === 4096 /* FieldValueSanitizerType.Array */) {\r\n                    // If the property isn't IEventProperty (and is either string, number, boolean or array), convert it into one.\r\n                    property = _convertToProperty(path, name, value);\r\n                }\r\n                else if (fieldType === 4 /* FieldValueSanitizerType.Object */) {\r\n                    property = _convertToProperty(path, name, !!stringifyObjects ? JSON.stringify(value) : value);\r\n                }\r\n                if (property) {\r\n                    return _handleProperty(mapValue, path, name, fieldType, property, stringifyObjects);\r\n                }\r\n            }\r\n            return null;\r\n        };\r\n        _self.property = function (path, name, property, stringifyObjects) {\r\n            var mapValue = _getFieldSanitizer(path, name);\r\n            if (!mapValue || !mapValue[_DYN_CAN_HANDLE /* @min:%2ecanHandle */]) {\r\n                return null;\r\n            }\r\n            // Check that property is valid\r\n            if (!isString(name) || isNullOrUndefined(property) || !isValueAssigned(property[_DYN_VALUE /* @min:%2evalue */])) {\r\n                return null;\r\n            }\r\n            var fieldType = getFieldValueType(property[_DYN_VALUE /* @min:%2evalue */]);\r\n            if (fieldType === 0 /* FieldValueSanitizerType.NotSet */) {\r\n                // Not a supported field that we can sanitize or serialize\r\n                return null;\r\n            }\r\n            return _handleProperty(mapValue, path, name, fieldType, property, stringifyObjects);\r\n        };\r\n        function _handleProperty(mapValue, path, name, fieldType, property, stringifyObjects) {\r\n            if (mapValue.handler) {\r\n                // This value sanitizer can't handle this field so pass it only the next one\r\n                return mapValue.handler.property(path, name, property, stringifyObjects);\r\n            }\r\n            // If either pii or cc is set convert value to string (since only string pii/cc is allowed).\r\n            // If the value is a complex type like an array that can't be converted to string we will drop\r\n            // the property.\r\n            if (!isNullOrUndefined(property[_DYN_KIND /* @min:%2ekind */])) {\r\n                if ((fieldType & 4096 /* FieldValueSanitizerType.Array */) === 4096 /* FieldValueSanitizerType.Array */ || !isValueKind(property[_DYN_KIND /* @min:%2ekind */])) {\r\n                    return null;\r\n                }\r\n                // Convert the value to a string and assign back to the original value\r\n                property[_DYN_VALUE /* @min:%2evalue */] = property[_DYN_VALUE /* @min:%2evalue */].toString();\r\n            }\r\n            return _callFieldSanitizer(mapValue.fieldHandler, path, name, fieldType, property);\r\n        }\r\n        function _convertToProperty(path, name, value) {\r\n            if (isValueAssigned(value)) {\r\n                return { value: value };\r\n            }\r\n            return null;\r\n        }\r\n        function _callFieldSanitizer(fieldProvider, path, name, theType, property) {\r\n            if (property && fieldProvider) {\r\n                var sanitizer = fieldProvider.getSanitizer(path, name, theType, property[_DYN_KIND /* @min:%2ekind */], property.propertyType);\r\n                if (sanitizer) {\r\n                    // This is where we the field will call the handler to \"scrub\" the value. This the primary hook for the ClientHashing Plugin to\r\n                    // be able to apply the hashFunc() / Sha256 conversion of the properties value\r\n                    if (theType === 4 /* FieldValueSanitizerType.Object */) {\r\n                        // Special case of an embedded object (ext.metadata, data.properties)\r\n                        var newValue_1 = {};\r\n                        var propValue = property[_DYN_VALUE /* @min:%2evalue */];\r\n                        objForEachKey(propValue, function (propKey, theValue) {\r\n                            var newPath = path + \".\" + name;\r\n                            if (isValueAssigned(theValue)) {\r\n                                var newProp = _convertToProperty(newPath, propKey, theValue);\r\n                                newProp = _callFieldSanitizer(fieldProvider, newPath, propKey, getFieldValueType(theValue), newProp);\r\n                                if (newProp) {\r\n                                    newValue_1[propKey] = newProp[_DYN_VALUE /* @min:%2evalue */];\r\n                                }\r\n                            }\r\n                        });\r\n                        property[_DYN_VALUE /* @min:%2evalue */] = newValue_1;\r\n                    }\r\n                    else {\r\n                        var details = {\r\n                            path: path,\r\n                            name: name,\r\n                            type: theType,\r\n                            prop: property,\r\n                            sanitizer: _self\r\n                        };\r\n                        property = sanitizer.call(_self, details);\r\n                    }\r\n                }\r\n            }\r\n            return property;\r\n        }\r\n    }\r\n    ValueSanitizer.getFieldType = getFieldValueType;\r\n    return ValueSanitizer;\r\n}());\r\nexport { ValueSanitizer };\r\n//# sourceMappingURL=ValueSanitizer.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\"use strict\";\r\nexport var MinChannelPriorty = 100;\r\n//# sourceMappingURL=IChannelControls.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n//  @skip-file-minify\r\nimport { createEnumStyle } from \"../JavaScriptSDK.Enums/EnumHelperFuncs\";\r\nexport var LoggingSeverity = createEnumStyle({\r\n    DISABLED: 0 /* eLoggingSeverity.DISABLED */,\r\n    CRITICAL: 1 /* eLoggingSeverity.CRITICAL */,\r\n    WARNING: 2 /* eLoggingSeverity.WARNING */,\r\n    DEBUG: 3 /* eLoggingSeverity.DEBUG */\r\n});\r\n//# sourceMappingURL=LoggingEnums.js.map","/*\n * 1DS JS SDK Core, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n\r\n// Licensed under the MIT License.\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Generally you should only put values that are used more than 2 times and then only if not already exposed as a constant (such as SdkCoreNames)\r\n// as when using \"short\" named values from here they will be will be minified smaller than the SdkCoreNames[eSdkCoreNames.xxxx] value.\r\nexport var STR_EMPTY = \"\";\r\nexport var STR_DEFAULT_ENDPOINT_URL = \"https://browser.events.data.microsoft.com/OneCollector/1.0/\";\r\nexport var STR_VERSION = \"version\";\r\nexport var STR_PROPERTIES = \"properties\";\r\n//# sourceMappingURL=InternalConstants.js.map","/*\n * 1DS JS SDK Core, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nvar _a;\r\n/**\r\n* Utils.ts\r\n* @author  Abhilash Panwar (abpanwar) Hector Hernandez (hectorh)\r\n* @copyright Microsoft 2018\r\n* File containing utility functions.\r\n*/\r\nimport { arrForEach, getGlobalInst, getNavigator, hasDocument, hasWindow, isArray, isBoolean, isNullOrUndefined, isNumber, isObject, isReactNative, isString, isUndefined, newGuid, objForEachKey, perfNow } from \"@microsoft/applicationinsights-core-js\";\r\nimport { ObjProto, strShimObject } from \"@microsoft/applicationinsights-shims\";\r\nimport { strIndexOf, strLeft } from \"@nevware21/ts-utils\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { _DYN_INDEX_OF, _DYN_KIND, _DYN_LENGTH, _DYN_PROCESS_TELEMETRY_ST0, _DYN_TIMINGS, _DYN_VALUE } from \"./__DynamicConstants\";\r\nexport var Version = '4.3.4';\r\nexport var FullVersionString = \"1DS-Web-JS-\" + Version;\r\nvar ObjHasOwnProperty = ObjProto.hasOwnProperty;\r\n// Defining here so we don't need to take (import) the ApplicationInsights Common module\r\nvar strDisabledPropertyName = \"Microsoft_ApplicationInsights_BypassAjaxInstrumentation\";\r\nvar strWithCredentials = \"withCredentials\";\r\nvar strTimeout = \"timeout\";\r\n// If value is array just get the type for the first element\r\nvar _fieldTypeEventPropMap = (_a = {},\r\n    _a[0 /* FieldValueSanitizerType.NotSet */] = 0 /* eEventPropertyType.Unspecified */,\r\n    _a[2 /* FieldValueSanitizerType.Number */] = 6 /* eEventPropertyType.Double */,\r\n    _a[1 /* FieldValueSanitizerType.String */] = 1 /* eEventPropertyType.String */,\r\n    _a[3 /* FieldValueSanitizerType.Boolean */] = 7 /* eEventPropertyType.Bool */,\r\n    _a[4096 /* FieldValueSanitizerType.Array */ | 2 /* FieldValueSanitizerType.Number */] = 6 /* eEventPropertyType.Double */,\r\n    _a[4096 /* FieldValueSanitizerType.Array */ | 1 /* FieldValueSanitizerType.String */] = 1 /* eEventPropertyType.String */,\r\n    _a[4096 /* FieldValueSanitizerType.Array */ | 3 /* FieldValueSanitizerType.Boolean */] = 7 /* eEventPropertyType.Bool */,\r\n    _a);\r\n/**\r\n * @ignore\r\n */\r\n// let _uaDisallowsSameSiteNone = null;\r\nvar uInt8ArraySupported = null;\r\n// var _areCookiesAvailable: boolean | undefined;\r\n/**\r\n * Checks if document object is available\r\n */\r\nexport var isDocumentObjectAvailable = hasDocument();\r\n/**\r\n * Checks if window object is available\r\n */\r\nexport var isWindowObjectAvailable = hasWindow();\r\n/**\r\n * Checks if value is assigned to the given param.\r\n * @param value - The token from which the tenant id is to be extracted.\r\n * @returns True/false denoting if value is assigned to the param.\r\n */\r\nexport function isValueAssigned(value) {\r\n    /// <summary> takes a value and checks for undefined, null and empty string </summary>\r\n    /// <param type=\"any\"> value to be tested </param>\r\n    /// <returns> true if value is null undefined or emptyString </returns>\r\n    return !(value === STR_EMPTY || isNullOrUndefined(value));\r\n}\r\n/**\r\n * Gets the tenant id from the tenant token.\r\n * @param apiKey - The token from which the tenant id is to be extracted.\r\n * @returns The tenant id.\r\n */\r\nexport function getTenantId(apiKey) {\r\n    if (apiKey) {\r\n        var indexTenantId = strIndexOf(apiKey, \"-\");\r\n        if (indexTenantId > -1) {\r\n            return strLeft(apiKey, indexTenantId);\r\n        }\r\n    }\r\n    return STR_EMPTY;\r\n}\r\n/**\r\n * Checks if Uint8Array are available in the current environment. Safari and Firefox along with\r\n * ReactNative are known to not support Uint8Array properly.\r\n * @returns True if available, false otherwise.\r\n */\r\nexport function isUint8ArrayAvailable() {\r\n    if (uInt8ArraySupported === null) {\r\n        uInt8ArraySupported = !isUndefined(Uint8Array) && !isSafariOrFirefox() && !isReactNative();\r\n    }\r\n    return uInt8ArraySupported;\r\n}\r\n/**\r\n * Checks if the value is a valid EventLatency.\r\n * @param value - The value that needs to be checked.\r\n * @returns True if the value is in AWTEventLatency, false otherwise.\r\n */\r\nexport function isLatency(value) {\r\n    if (value && isNumber(value) && value >= 1 /* EventLatencyValue.Normal */ && value <= 4 /* EventLatencyValue.Immediate */) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Sanitizes the Property. It checks the that the property name and value are valid. It also\r\n * checks/populates the correct type and pii of the property value.\r\n * @param name - property name                          - The property name.\r\n * @param property - The property value or an IEventProperty containing value,\r\n * type ,pii and customer content.\r\n * @returns IEventProperty containing valid name, value, pii and type or null if invalid.\r\n */\r\nexport function sanitizeProperty(name, property, stringifyObjects) {\r\n    // Check that property is valid\r\n    if ((!property && !isValueAssigned(property)) || typeof name !== \"string\") {\r\n        return null;\r\n    }\r\n    // Perf optimization -- only need to get the type once not multiple times\r\n    var propType = typeof property;\r\n    // If the property isn't IEventProperty (and is either string, number, boolean or array), convert it into one.\r\n    if (propType === \"string\" || propType === \"number\" || propType === \"boolean\" || isArray(property)) {\r\n        property = { value: property };\r\n    }\r\n    else if (propType === \"object\" && !ObjHasOwnProperty.call(property, \"value\")) {\r\n        property = { value: stringifyObjects ? JSON.stringify(property) : property };\r\n    }\r\n    else if (isNullOrUndefined(property[_DYN_VALUE /* @min:%2evalue */])\r\n        || property[_DYN_VALUE /* @min:%2evalue */] === STR_EMPTY || (!isString(property[_DYN_VALUE /* @min:%2evalue */])\r\n        && !isNumber(property[_DYN_VALUE /* @min:%2evalue */]) && !isBoolean(property[_DYN_VALUE /* @min:%2evalue */])\r\n        && !isArray(property[_DYN_VALUE /* @min:%2evalue */]))) {\r\n        // Since property is IEventProperty, we need to validate its value\r\n        return null;\r\n    }\r\n    // We need to check that if the property value is an array, it is valid\r\n    if (isArray(property[_DYN_VALUE /* @min:%2evalue */]) &&\r\n        !isArrayValid(property[_DYN_VALUE /* @min:%2evalue */])) {\r\n        return null;\r\n    }\r\n    // If either pii or cc is set convert value to string (since only string pii/cc is allowed).\r\n    // If the value is a complex type like an array that can't be converted to string we will drop\r\n    // the property.\r\n    if (!isNullOrUndefined(property[_DYN_KIND /* @min:%2ekind */])) {\r\n        if (isArray(property[_DYN_VALUE /* @min:%2evalue */]) || !isValueKind(property[_DYN_KIND /* @min:%2ekind */])) {\r\n            return null;\r\n        }\r\n        property[_DYN_VALUE /* @min:%2evalue */] = property[_DYN_VALUE /* @min:%2evalue */].toString();\r\n    }\r\n    return property;\r\n}\r\nexport function getCommonSchemaMetaData(value, kind, type) {\r\n    var encodedTypeValue = -1;\r\n    if (!isUndefined(value)) {\r\n        if (kind > 0) {\r\n            if (kind === 32 /* eValueKind.CustomerContent_GenericContent */) {\r\n                // encode customer content. Value can only be string. bit 13-16 are for cc\r\n                encodedTypeValue = (1 << 13);\r\n            }\r\n            else if (kind <= 13) {\r\n                // encode PII. Value can only be string. bits 5-12 are for Pii\r\n                encodedTypeValue = (kind << 5);\r\n            }\r\n        }\r\n        // isDataType checks that the \"type\" is a number so we don't need to check for undefined\r\n        if (isDataType(type)) {\r\n            // Data Type is provided and valid, so use that\r\n            if (encodedTypeValue === -1) {\r\n                // Don't return -1\r\n                encodedTypeValue = 0;\r\n            }\r\n            encodedTypeValue |= type;\r\n        }\r\n        else {\r\n            var propType = _fieldTypeEventPropMap[getFieldValueType(value)] || -1;\r\n            if (encodedTypeValue !== -1 && propType !== -1) {\r\n                // pii exists so we must return correct type\r\n                encodedTypeValue |= propType;\r\n            }\r\n            else if (propType === 6 /* eEventPropertyType.Double */) {\r\n                encodedTypeValue = propType;\r\n            }\r\n        }\r\n    }\r\n    return encodedTypeValue;\r\n}\r\n/**\r\n * Helper to get and decode the cookie value using decodeURIComponent, this is for historical\r\n * backward compatibility where the document.cookie value was decoded before parsing.\r\n * @param cookieMgr - The cookie manager to use\r\n * @param name - The name of the cookie to get\r\n * @param decode - A flag to indicate whether the cookie value should be decoded\r\n * @returns The decoded cookie value (if available) otherwise an empty string.\r\n */\r\nexport function getCookieValue(cookieMgr, name, decode) {\r\n    if (decode === void 0) { decode = true; }\r\n    var cookieValue;\r\n    if (cookieMgr) {\r\n        cookieValue = cookieMgr.get(name);\r\n        if (decode && cookieValue && decodeURIComponent) {\r\n            cookieValue = decodeURIComponent(cookieValue);\r\n        }\r\n    }\r\n    return cookieValue || STR_EMPTY;\r\n}\r\n/**\r\n * Create a new guid.\r\n * @param style - The style of guid to generated, defaults to Digits\r\n * Digits (Default) : 32 digits separated by hyphens: 00000000-0000-0000-0000-000000000000\r\n * Braces - 32 digits separated by hyphens, enclosed in braces: {00000000-0000-0000-0000-000000000000}\r\n * Parentheses - 32 digits separated by hyphens, enclosed in parentheses: (00000000-0000-0000-0000-000000000000)\r\n * Numeric - 32 digits: 00000000000000000000000000000000\r\n * @returns The formatted guid.\r\n */\r\nexport function createGuid(style) {\r\n    if (style === void 0) { style = \"D\" /* GuidStyle.Digits */; }\r\n    var theGuid = newGuid();\r\n    if (style === \"B\" /* GuidStyle.Braces */) {\r\n        theGuid = \"{\" + theGuid + \"}\";\r\n    }\r\n    else if (style === \"P\" /* GuidStyle.Parentheses */) {\r\n        theGuid = \"(\" + theGuid + \")\";\r\n    }\r\n    else if (style === \"N\" /* GuidStyle.Numeric */) {\r\n        theGuid = theGuid.replace(/-/g, STR_EMPTY);\r\n    }\r\n    return theGuid;\r\n}\r\n/**\r\n * Pass in the objects to merge as arguments.\r\n * @param obj1 - object to merge.  Set this argument to 'true' for a deep extend.\r\n * @param obj2 - object to merge.\r\n * @param obj3 - object to merge.\r\n * @param obj4 - object to merge.\r\n * @param obj5 - object to merge.\r\n * @returns The extended object.\r\n */\r\nexport function extend(obj, obj2, obj3, obj4, obj5) {\r\n    // Variables\r\n    var extended = {};\r\n    var deep = false;\r\n    var i = 0;\r\n    var length = arguments[_DYN_LENGTH /* @min:%2elength */];\r\n    var theArgs = arguments;\r\n    // Check if a deep merge\r\n    if (isBoolean(theArgs[0])) {\r\n        deep = theArgs[0];\r\n        i++;\r\n    }\r\n    // Loop through each object and conduct a merge\r\n    for (; i < length; i++) {\r\n        var obj = theArgs[i];\r\n        objForEachKey(obj, function (prop, value) {\r\n            // If deep merge and property is an object, merge properties\r\n            if (deep && value && isObject(value)) {\r\n                if (isArray(value)) {\r\n                    extended[prop] = extended[prop] || [];\r\n                    arrForEach(value, function (arrayValue, arrayIndex) {\r\n                        if (arrayValue && isObject(arrayValue)) {\r\n                            extended[prop][arrayIndex] = extend(true, extended[prop][arrayIndex], arrayValue);\r\n                        }\r\n                        else {\r\n                            extended[prop][arrayIndex] = arrayValue;\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    extended[prop] = extend(true, extended[prop], value);\r\n                }\r\n            }\r\n            else {\r\n                extended[prop] = value;\r\n            }\r\n        });\r\n    }\r\n    return extended;\r\n}\r\nexport var getTime = perfNow;\r\nexport function isValueKind(value) {\r\n    // Always assume that it's a number (no type checking) for performance as this is used during the JSON serialization\r\n    if (value === 0 /* eValueKind.NotSet */ || ((value > 0 /* eValueKind.NotSet */ && value <= 13 /* eValueKind.Pii_IPV4AddressLegacy */) || value === 32 /* eValueKind.CustomerContent_GenericContent */)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isDataType(value) {\r\n    // Remark: 0 returns false, but it doesn't affect encoding anyways\r\n    // Always assume that it's a number (no type checking) for performance as this is used during the JSON serialization\r\n    if (value >= 0 && value <= 9) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nfunction isSafariOrFirefox() {\r\n    var nav = getNavigator();\r\n    // If non-browser navigator will be undefined\r\n    if (!isUndefined(nav) && nav.userAgent) {\r\n        var ua = nav.userAgent.toLowerCase();\r\n        if ((ua[_DYN_INDEX_OF /* @min:%2eindexOf */](\"safari\") >= 0 || ua[_DYN_INDEX_OF /* @min:%2eindexOf */](\"firefox\") >= 0) && ua[_DYN_INDEX_OF /* @min:%2eindexOf */](\"chrome\") < 0) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexport function isArrayValid(value) {\r\n    return value[_DYN_LENGTH /* @min:%2elength */] > 0;\r\n}\r\nexport function setProcessTelemetryTimings(event, identifier) {\r\n    var evt = event;\r\n    evt[_DYN_TIMINGS /* @min:%2etimings */] = evt[_DYN_TIMINGS /* @min:%2etimings */] || {};\r\n    evt[_DYN_TIMINGS /* @min:%2etimings */][_DYN_PROCESS_TELEMETRY_ST0 /* @min:%2eprocessTelemetryStart */] = evt[_DYN_TIMINGS /* @min:%2etimings */][_DYN_PROCESS_TELEMETRY_ST0 /* @min:%2eprocessTelemetryStart */] || {};\r\n    evt[_DYN_TIMINGS /* @min:%2etimings */][_DYN_PROCESS_TELEMETRY_ST0 /* @min:%2eprocessTelemetryStart */][identifier] = getTime();\r\n}\r\n/**\r\n * Returns a bitwise value for the FieldValueSanitizerType enum representing the decoded type of the passed value\r\n * @param value The value to determine the type\r\n */\r\nexport function getFieldValueType(value) {\r\n    var theType = 0 /* FieldValueSanitizerType.NotSet */;\r\n    if (value !== null && value !== undefined) {\r\n        var objType = typeof value;\r\n        if (objType === \"string\") {\r\n            theType = 1 /* FieldValueSanitizerType.String */;\r\n        }\r\n        else if (objType === \"number\") {\r\n            theType = 2 /* FieldValueSanitizerType.Number */;\r\n        }\r\n        else if (objType === \"boolean\") {\r\n            theType = 3 /* FieldValueSanitizerType.Boolean */;\r\n        }\r\n        else if (objType === strShimObject) {\r\n            theType = 4 /* FieldValueSanitizerType.Object */;\r\n            if (isArray(value)) {\r\n                theType = 4096 /* FieldValueSanitizerType.Array */;\r\n                if (value[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    // Empty arrays are not supported and are considered to be the same as null\r\n                    theType |= getFieldValueType(value[0]);\r\n                }\r\n            }\r\n            else if (ObjHasOwnProperty.call(value, \"value\")) {\r\n                // Looks like an IEventProperty\r\n                theType = 8192 /* FieldValueSanitizerType.EventProperty */ | getFieldValueType(value[_DYN_VALUE /* @min:%2evalue */]);\r\n            }\r\n        }\r\n    }\r\n    return theType;\r\n}\r\n/**\r\n * Helper to identify whether we are running in a chromium based browser environment\r\n */\r\nexport function isChromium() {\r\n    return !!getGlobalInst(\"chrome\");\r\n}\r\n/**\r\n * Create and open an XMLHttpRequest object\r\n * @param method - The request method\r\n * @param urlString - The url\r\n * @param withCredentials - Option flag indicating that credentials should be sent\r\n * @param disabled - Optional flag indicating that the XHR object should be marked as disabled and not tracked (default is false)\r\n * @param isSync - Optional flag indicating if the instance should be a synchronous request (defaults to false)\r\n * @param timeout - Optional value identifying the timeout value that should be assigned to the XHR request\r\n * @returns A new opened XHR request\r\n */\r\nexport function openXhr(method, urlString, withCredentials, disabled, isSync, timeout) {\r\n    if (disabled === void 0) { disabled = false; }\r\n    if (isSync === void 0) { isSync = false; }\r\n    function _wrapSetXhrProp(xhr, prop, value) {\r\n        try {\r\n            xhr[prop] = value;\r\n        }\r\n        catch (e) {\r\n            // - Wrapping as depending on the environment setting the property may fail (non-terminally)\r\n        }\r\n    }\r\n    var xhr = new XMLHttpRequest();\r\n    if (disabled) {\r\n        // Tag the instance so it's not tracked (trackDependency)\r\n        // If the environment has locked down the XMLHttpRequest (preventExtensions and/or freeze), this would\r\n        // cause the request to fail and we no telemetry would be sent\r\n        _wrapSetXhrProp(xhr, strDisabledPropertyName, disabled);\r\n    }\r\n    if (withCredentials) {\r\n        // Some libraries require that the withCredentials flag is set \"before\" open and\r\n        // - Wrapping as IE 10 has started throwing when setting before open\r\n        _wrapSetXhrProp(xhr, strWithCredentials, withCredentials);\r\n    }\r\n    xhr.open(method, urlString, !isSync);\r\n    if (withCredentials) {\r\n        // withCredentials should be set AFTER open (https://xhr.spec.whatwg.org/#the-withcredentials-attribute)\r\n        // And older firefox instances from 11+ will throw for sync events (current versions don't) which happens during unload processing\r\n        _wrapSetXhrProp(xhr, strWithCredentials, withCredentials);\r\n    }\r\n    // Only set the timeout for asynchronous requests as\r\n    // \"Timeout shouldn't be used for synchronous XMLHttpRequests requests used in a document environment or it will throw an InvalidAccessError exception.\"\"\r\n    // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/timeout\r\n    if (!isSync && timeout) {\r\n        _wrapSetXhrProp(xhr, strTimeout, timeout);\r\n    }\r\n    return xhr;\r\n}\r\n/**\r\n * Check to see if the value is > 0\r\n * @param value - The value to check\r\n * @returns true if > 0 otherwise false\r\n */\r\nexport function isGreaterThanZero(value) {\r\n    return value > 0;\r\n}\r\n//# sourceMappingURL=Utils.js.map","/*\n * 1DS JS SDK Core, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n\r\n// Licensed under the MIT License.\r\n// @skip-file-minify\r\n// ##############################################################\r\n// AUTO GENERATED FILE: This file is Auto Generated during build.\r\n// ##############################################################\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\nexport var _DYN_INITIALIZE = \"initialize\"; // Count: 4\r\nexport var _DYN_LOGGER = \"logger\"; // Count: 4\r\nexport var _DYN_INDEX_OF = \"indexOf\"; // Count: 4\r\nexport var _DYN_TIMINGS = \"timings\"; // Count: 4\r\nexport var _DYN_POLL_INTERNAL_LOGS = \"pollInternalLogs\"; // Count: 4\r\nexport var _DYN_VALUE = \"value\"; // Count: 20\r\nexport var _DYN_KIND = \"kind\"; // Count: 5\r\nexport var _DYN_LENGTH = \"length\"; // Count: 7\r\nexport var _DYN_PROCESS_TELEMETRY_ST0 = \"processTelemetryStart\"; // Count: 3\r\nexport var _DYN_HANDLE_FIELD = \"handleField\"; // Count: 3\r\nexport var _DYN_RM_SANITIZER = \"rmSanitizer\"; // Count: 3\r\nexport var _DYN_RM_FIELD_SANITIZER = \"rmFieldSanitizer\"; // Count: 3\r\nexport var _DYN_CAN_HANDLE = \"canHandle\"; // Count: 7\r\n//# sourceMappingURL=__DynamicConstants.js.map","/*\n * 1DS JS SDK POST plugin, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n * Real Time profile (default profile). RealTime Latency events are sent every 1 sec and\r\n * Normal Latency events are sent every 2 sec.\r\n */\r\nexport var RT_PROFILE = \"REAL_TIME\";\r\n/**\r\n * Near Real Time profile. RealTime Latency events are sent every 3 sec and\r\n * Normal Latency events are sent every 6 sec.\r\n */\r\nexport var NRT_PROFILE = \"NEAR_REAL_TIME\";\r\n/**\r\n * Best Effort. RealTime Latency events are sent every 9 sec and\r\n * Normal Latency events are sent every 18 sec.\r\n */\r\nexport var BE_PROFILE = \"BEST_EFFORT\";\r\n//# sourceMappingURL=DataModels.js.map","/*\n * 1DS JS SDK POST plugin, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n\r\n// Licensed under the MIT License.\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Generally you should only put values that are used more than 2 times and then only if not already exposed as a constant (such as SdkCoreNames)\r\n// as when using \"short\" named values from here they will be will be minified smaller than the SdkCoreNames[eSdkCoreNames.xxxx] value.\r\nexport var STR_EMPTY = \"\";\r\nexport var STR_POST_METHOD = \"POST\";\r\nexport var STR_DISABLED_PROPERTY_NAME = \"Microsoft_ApplicationInsights_BypassAjaxInstrumentation\";\r\nexport var STR_DROPPED = \"drop\";\r\nexport var STR_SENDING = \"send\";\r\nexport var STR_REQUEUE = \"requeue\";\r\nexport var STR_RESPONSE_FAIL = \"rspFail\";\r\nexport var STR_OTHER = \"oth\";\r\nexport var DEFAULT_CACHE_CONTROL = \"no-cache, no-store\";\r\nexport var DEFAULT_CONTENT_TYPE = \"application/x-json-stream\";\r\nexport var STR_CACHE_CONTROL = \"cache-control\";\r\nexport var STR_CONTENT_TYPE_HEADER = \"content-type\";\r\nexport var STR_KILL_TOKENS_HEADER = \"kill-tokens\";\r\nexport var STR_KILL_DURATION_HEADER = \"kill-duration\";\r\nexport var STR_KILL_DURATION_SECONDS_HEADER = \"kill-duration-seconds\";\r\nexport var STR_TIME_DELTA_HEADER = \"time-delta-millis\";\r\nexport var STR_CLIENT_VERSION = \"client-version\";\r\nexport var STR_CLIENT_ID = \"client-id\";\r\nexport var STR_TIME_DELTA_TO_APPLY = \"time-delta-to-apply-millis\";\r\nexport var STR_UPLOAD_TIME = \"upload-time\";\r\nexport var STR_API_KEY = \"apikey\";\r\nexport var STR_MSA_DEVICE_TICKET = \"AuthMsaDeviceTicket\";\r\nexport var STR_AUTH_WEB_TOKEN = \"WebAuthToken\";\r\nexport var STR_AUTH_XTOKEN = \"AuthXToken\";\r\nexport var STR_SDK_VERSION = \"sdk-version\";\r\nexport var STR_NO_RESPONSE_BODY = \"NoResponseBody\";\r\nexport var STR_MSFPC = \"msfpc\";\r\nexport var STR_TRACE = \"trace\";\r\nexport var STR_USER = \"user\";\r\n//# sourceMappingURL=InternalConstants.js.map","/*\n * 1DS JS SDK POST plugin, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n\r\n// Licensed under the MIT License.\r\n// @skip-file-minify\r\n// ##############################################################\r\n// AUTO GENERATED FILE: This file is Auto Generated during build.\r\n// ##############################################################\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\nexport var _DYN_ALLOW_REQUEST_SENDIN0 = \"allowRequestSending\"; // Count: 3\r\nexport var _DYN_FIRST_REQUEST_SENT = \"firstRequestSent\"; // Count: 2\r\nexport var _DYN_SHOULD_ADD_CLOCK_SKE1 = \"shouldAddClockSkewHeaders\"; // Count: 2\r\nexport var _DYN_GET_CLOCK_SKEW_HEADE2 = \"getClockSkewHeaderValue\"; // Count: 2\r\nexport var _DYN_SET_CLOCK_SKEW = \"setClockSkew\"; // Count: 3\r\nexport var _DYN_LENGTH = \"length\"; // Count: 38\r\nexport var _DYN_CONCAT = \"concat\"; // Count: 7\r\nexport var _DYN_I_KEY = \"iKey\"; // Count: 11\r\nexport var _DYN_COUNT = \"count\"; // Count: 19\r\nexport var _DYN_EVENTS = \"events\"; // Count: 8\r\nexport var _DYN_PUSH = \"push\"; // Count: 15\r\nexport var _DYN_SPLIT = \"split\"; // Count: 6\r\nexport var _DYN_SPLICE = \"splice\"; // Count: 4\r\nexport var _DYN_TO_LOWER_CASE = \"toLowerCase\"; // Count: 3\r\nexport var _DYN_HDRS = \"hdrs\"; // Count: 7\r\nexport var _DYN_USE_HDRS = \"useHdrs\"; // Count: 5\r\nexport var _DYN_INITIALIZE = \"initialize\"; // Count: 5\r\nexport var _DYN_SET_TIMEOUT_OVERRIDE = \"setTimeoutOverride\"; // Count: 3\r\nexport var _DYN_CLEAR_TIMEOUT_OVERRI3 = \"clearTimeoutOverride\"; // Count: 3\r\nexport var _DYN_PAYLOAD_PREPROCESSOR = \"payloadPreprocessor\"; // Count: 2\r\nexport var _DYN_OVERRIDE_ENDPOINT_UR4 = \"overrideEndpointUrl\"; // Count: 3\r\nexport var _DYN_AVOID_OPTIONS = \"avoidOptions\"; // Count: 3\r\nexport var _DYN_DISABLE_EVENT_TIMING5 = \"disableEventTimings\"; // Count: 2\r\nexport var _DYN_STRINGIFY_OBJECTS = \"stringifyObjects\"; // Count: 2\r\nexport var _DYN_ENABLE_COMPOUND_KEY = \"enableCompoundKey\"; // Count: 4\r\nexport var _DYN_DISABLE_XHR_SYNC = \"disableXhrSync\"; // Count: 6\r\nexport var _DYN_DISABLE_FETCH_KEEP_A6 = \"disableFetchKeepAlive\"; // Count: 7\r\nexport var _DYN_ADD_NO_RESPONSE = \"addNoResponse\"; // Count: 3\r\nexport var _DYN_EXCLUDE_CS_META_DATA = \"excludeCsMetaData\"; // Count: 2\r\nexport var _DYN_USE_SEND_BEACON = \"useSendBeacon\"; // Count: 3\r\nexport var _DYN_FETCH_CREDENTIALS = \"fetchCredentials\"; // Count: 4\r\nexport var _DYN_ALWAYS_USE_XHR_OVERR7 = \"alwaysUseXhrOverride\"; // Count: 3\r\nexport var _DYN_UNLOAD_TRANSPORTS = \"unloadTransports\"; // Count: 2\r\nexport var _DYN_SERIALIZE_OFFLINE_EV8 = \"serializeOfflineEvt\"; // Count: 2\r\nexport var _DYN_GET_OFFLINE_REQUEST_9 = \"getOfflineRequestDetails\"; // Count: 2\r\nexport var _DYN_CREATE_PAYLOAD = \"createPayload\"; // Count: 4\r\nexport var _DYN_CREATE_ONE_DSPAYLOAD = \"createOneDSPayload\"; // Count: 4\r\nexport var _DYN_PAYLOAD_BLOB = \"payloadBlob\"; // Count: 3\r\nexport var _DYN_HEADERS = \"headers\"; // Count: 12\r\nexport var _DYN__THE_PAYLOAD = \"_thePayload\"; // Count: 6\r\nexport var _DYN_URL_STRING = \"urlString\"; // Count: 5\r\nexport var _DYN_BATCHES = \"batches\"; // Count: 15\r\nexport var _DYN_SEND_TYPE = \"sendType\"; // Count: 13\r\nexport var _DYN_ADD_HEADER = \"addHeader\"; // Count: 3\r\nexport var _DYN_CAN_SEND_REQUEST = \"canSendRequest\"; // Count: 3\r\nexport var _DYN_SEND_QUEUED_REQUESTS = \"sendQueuedRequests\"; // Count: 5\r\nexport var _DYN_IS_COMPLETELY_IDLE = \"isCompletelyIdle\"; // Count: 2\r\nexport var _DYN_SET_UNLOADING = \"setUnloading\"; // Count: 3\r\nexport var _DYN_IS_TENANT_KILLED = \"isTenantKilled\"; // Count: 3\r\nexport var _DYN_RESUME = \"resume\"; // Count: 4\r\nexport var _DYN_SEND_SYNCHRONOUS_BAT10 = \"sendSynchronousBatch\"; // Count: 2\r\nexport var _DYN__TRANSPORT = \"_transport\"; // Count: 3\r\nexport var _DYN_GET_WPARAM = \"getWParam\"; // Count: 4\r\nexport var _DYN_IS_BEACON = \"isBeacon\"; // Count: 4\r\nexport var _DYN_TIMINGS = \"timings\"; // Count: 4\r\nexport var _DYN_IS_TEARDOWN = \"isTeardown\"; // Count: 3\r\nexport var _DYN_IS_SYNC = \"isSync\"; // Count: 4\r\nexport var _DYN_DATA = \"data\"; // Count: 7\r\nexport var _DYN_TIMEOUT = \"timeout\"; // Count: 4\r\nexport var _DYN__SEND_REASON = \"_sendReason\"; // Count: 4\r\nexport var _DYN_SET_KILL_SWITCH_TENA11 = \"setKillSwitchTenants\"; // Count: 2\r\nexport var _DYN__BACK_OFF_TRANSMISSI12 = \"_backOffTransmission\"; // Count: 2\r\nexport var _DYN_IDENTIFIER = \"identifier\"; // Count: 4\r\nexport var _DYN_DISABLE_OPTIMIZE_OBJ = \"disableOptimizeObj\"; // Count: 2\r\nexport var _DYN_IGNORE_MC1_MS0_COOKI13 = \"ignoreMc1Ms0CookieProcessing\"; // Count: 2\r\nexport var _DYN_EVENTS_LIMIT_IN_MEM = \"eventsLimitInMem\"; // Count: 2\r\nexport var _DYN_AUTO_FLUSH_EVENTS_LI14 = \"autoFlushEventsLimit\"; // Count: 2\r\nexport var _DYN_DISABLE_AUTO_BATCH_F15 = \"disableAutoBatchFlushLimit\"; // Count: 2\r\nexport var _DYN_OVERRIDE_INSTRUMENTA16 = \"overrideInstrumentationKey\"; // Count: 2\r\nexport var _DYN_DISABLE_TELEMETRY = \"disableTelemetry\"; // Count: 2\r\nexport var _DYN_BASE_DATA = \"baseData\"; // Count: 3\r\nexport var _DYN_SEND_ATTEMPT = \"sendAttempt\"; // Count: 4\r\nexport var _DYN_LATENCY = \"latency\"; // Count: 7\r\nexport var _DYN_SYNC = \"sync\"; // Count: 7\r\n//# sourceMappingURL=__DynamicConstants.js.map","/*\n * 1DS JS SDK POST plugin, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* EventBatch.ts\r\n* @author Nev Wylie (newylie)\r\n* @copyright Microsoft 2020\r\n*/\r\nimport { isNullOrUndefined, isValueAssigned } from \"@microsoft/1ds-core-js\";\r\nimport { STR_EMPTY, STR_MSFPC } from \"./InternalConstants\";\r\nimport { _DYN_CONCAT, _DYN_COUNT, _DYN_EVENTS, _DYN_I_KEY, _DYN_LENGTH, _DYN_PUSH, _DYN_SPLICE, _DYN_SPLIT } from \"./__DynamicConstants\";\r\nfunction _getEventMsfpc(theEvent) {\r\n    var intWeb = ((theEvent.ext || {})[\"intweb\"]);\r\n    if (intWeb && isValueAssigned(intWeb[STR_MSFPC])) {\r\n        return intWeb[STR_MSFPC];\r\n    }\r\n    return null;\r\n}\r\nfunction _getMsfpc(theEvents) {\r\n    var msfpc = null;\r\n    for (var lp = 0; msfpc === null && lp < theEvents[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n        msfpc = _getEventMsfpc(theEvents[lp]);\r\n    }\r\n    return msfpc;\r\n}\r\n/**\r\n* This class defines a \"batch\" events related to a specific iKey, it is used by the PostChannel and HttpManager\r\n* to collect and transfer ownership of events without duplicating them in-memory. This reduces the previous\r\n* array duplication and shared ownership issues that occurred due to race conditions caused by the async nature\r\n* of sending requests.\r\n*/\r\nvar EventBatch = /** @class */ (function () {\r\n    /**\r\n     * Private constructor so that caller is forced to use the static create method.\r\n     * @param iKey - The iKey to associate with the events (not validated)\r\n     * @param addEvents - The optional collection of events to assign to this batch - defaults to an empty array.\r\n     */\r\n    function EventBatch(iKey, addEvents) {\r\n        var events = addEvents ? [][_DYN_CONCAT /* @min:%2econcat */](addEvents) : [];\r\n        var _self = this;\r\n        var _msfpc = _getMsfpc(events);\r\n        _self[_DYN_I_KEY /* @min:%2eiKey */] = function () {\r\n            return iKey;\r\n        };\r\n        _self.Msfpc = function () {\r\n            // return the cached value unless it's undefined -- used to avoid cpu\r\n            return _msfpc || STR_EMPTY;\r\n        };\r\n        _self[_DYN_COUNT /* @min:%2ecount */] = function () {\r\n            return events[_DYN_LENGTH /* @min:%2elength */];\r\n        };\r\n        _self[_DYN_EVENTS /* @min:%2eevents */] = function () {\r\n            return events;\r\n        };\r\n        _self.addEvent = function (theEvent) {\r\n            if (theEvent) {\r\n                events[_DYN_PUSH /* @min:%2epush */](theEvent);\r\n                if (!_msfpc) {\r\n                    // Not found so try and find one\r\n                    _msfpc = _getEventMsfpc(theEvent);\r\n                }\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        _self[_DYN_SPLIT /* @min:%2esplit */] = function (fromEvent, numEvents) {\r\n            // Create a new batch with the same iKey\r\n            var theEvents;\r\n            if (fromEvent < events[_DYN_LENGTH /* @min:%2elength */]) {\r\n                var cnt = events[_DYN_LENGTH /* @min:%2elength */] - fromEvent;\r\n                if (!isNullOrUndefined(numEvents)) {\r\n                    cnt = numEvents < cnt ? numEvents : cnt;\r\n                }\r\n                theEvents = events[_DYN_SPLICE /* @min:%2esplice */](fromEvent, cnt);\r\n                // reset the fetched msfpc value\r\n                _msfpc = _getMsfpc(events);\r\n            }\r\n            return new EventBatch(iKey, theEvents);\r\n        };\r\n    }\r\n    /**\r\n     * Creates a new Event Batch object\r\n     * @param iKey The iKey associated with this batch of events\r\n     */\r\n    EventBatch.create = function (iKey, theEvents) {\r\n        return new EventBatch(iKey, theEvents);\r\n    };\r\n    return EventBatch;\r\n}());\r\nexport { EventBatch };\r\n//# sourceMappingURL=EventBatch.js.map","/*\n * 1DS JS SDK POST plugin, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* ClockSkewManager.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _DYN_ALLOW_REQUEST_SENDIN0, _DYN_FIRST_REQUEST_SENT, _DYN_GET_CLOCK_SKEW_HEADE2, _DYN_SET_CLOCK_SKEW, _DYN_SHOULD_ADD_CLOCK_SKE1 } from \"./__DynamicConstants\";\r\n/**\r\n* Class to manage clock skew correction.\r\n*/\r\nvar ClockSkewManager = /** @class */ (function () {\r\n    function ClockSkewManager() {\r\n        var _allowRequestSending = true;\r\n        var _shouldAddClockSkewHeaders = true;\r\n        var _isFirstRequest = true;\r\n        var _clockSkewHeaderValue = \"use-collector-delta\";\r\n        var _clockSkewSet = false;\r\n        dynamicProto(ClockSkewManager, this, function (_self) {\r\n            /**\r\n             * Determine if requests can be sent.\r\n             * @returns True if requests can be sent, false otherwise.\r\n             */\r\n            _self[_DYN_ALLOW_REQUEST_SENDIN0 /* @min:%2eallowRequestSending */] = function () {\r\n                return _allowRequestSending;\r\n            };\r\n            /**\r\n             * Tells the ClockSkewManager that it should assume that the first request has now been sent,\r\n             * If this method had not yet been called AND the clock Skew had not been set this will set\r\n             * allowRequestSending to false until setClockSet() is called.\r\n             */\r\n            _self[_DYN_FIRST_REQUEST_SENT /* @min:%2efirstRequestSent */] = function () {\r\n                if (_isFirstRequest) {\r\n                    _isFirstRequest = false;\r\n                    if (!_clockSkewSet) {\r\n                        // Block sending until we get the first clock Skew\r\n                        _allowRequestSending = false;\r\n                    }\r\n                }\r\n            };\r\n            /**\r\n             * Determine if clock skew headers should be added to the request.\r\n             * @returns True if clock skew headers should be added, false otherwise.\r\n             */\r\n            _self[_DYN_SHOULD_ADD_CLOCK_SKE1 /* @min:%2eshouldAddClockSkewHeaders */] = function () {\r\n                return _shouldAddClockSkewHeaders;\r\n            };\r\n            /**\r\n             * Gets the clock skew header value.\r\n             * @returns The clock skew header value.\r\n             */\r\n            _self[_DYN_GET_CLOCK_SKEW_HEADE2 /* @min:%2egetClockSkewHeaderValue */] = function () {\r\n                return _clockSkewHeaderValue;\r\n            };\r\n            /**\r\n             * Sets the clock skew header value. Once clock skew is set this method\r\n             * is no-op.\r\n             * @param timeDeltaInMillis - Time delta to be saved as the clock skew header value.\r\n             */\r\n            _self[_DYN_SET_CLOCK_SKEW /* @min:%2esetClockSkew */] = function (timeDeltaInMillis) {\r\n                if (!_clockSkewSet) {\r\n                    if (timeDeltaInMillis) {\r\n                        _clockSkewHeaderValue = timeDeltaInMillis;\r\n                        _shouldAddClockSkewHeaders = true;\r\n                        _clockSkewSet = true;\r\n                    }\r\n                    else {\r\n                        _shouldAddClockSkewHeaders = false;\r\n                    }\r\n                    // Unblock sending\r\n                    _allowRequestSending = true;\r\n                }\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for ClockSkewManager.prototype.allowRequestSending.\r\n// Removed Stub for ClockSkewManager.prototype.firstRequestSent.\r\n// Removed Stub for ClockSkewManager.prototype.shouldAddClockSkewHeaders.\r\n// Removed Stub for ClockSkewManager.prototype.getClockSkewHeaderValue.\r\n// Removed Stub for ClockSkewManager.prototype.setClockSkew.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    ClockSkewManager.__ieDyn=1;\n\n    return ClockSkewManager;\r\n}());\r\nexport { ClockSkewManager };\r\n//# sourceMappingURL=ClockSkewManager.js.map","/*\n * 1DS JS SDK POST plugin, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* KillSwitch.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { arrForEach, dateNow, strTrim } from \"@microsoft/1ds-core-js\";\r\nimport { _DYN_IS_TENANT_KILLED, _DYN_LENGTH, _DYN_PUSH, _DYN_SET_KILL_SWITCH_TENA11, _DYN_SPLIT } from \"./__DynamicConstants\";\r\nvar SecToMsMultiplier = 1000;\r\n/**\r\n* Class to stop certain tenants sending events.\r\n*/\r\nvar KillSwitch = /** @class */ (function () {\r\n    function KillSwitch() {\r\n        var _killedTokenDictionary = {};\r\n        function _normalizeTenants(values) {\r\n            var result = [];\r\n            if (values) {\r\n                arrForEach(values, function (value) {\r\n                    result[_DYN_PUSH /* @min:%2epush */](strTrim(value));\r\n                });\r\n            }\r\n            return result;\r\n        }\r\n        dynamicProto(KillSwitch, this, function (_self) {\r\n            _self[_DYN_SET_KILL_SWITCH_TENA11 /* @min:%2esetKillSwitchTenants */] = function (killTokens, killDuration) {\r\n                if (killTokens && killDuration) {\r\n                    try {\r\n                        var killedTokens = _normalizeTenants(killTokens[_DYN_SPLIT /* @min:%2esplit */](\",\"));\r\n                        if (killDuration === \"this-request-only\") {\r\n                            return killedTokens;\r\n                        }\r\n                        var durationMs = parseInt(killDuration, 10) * SecToMsMultiplier;\r\n                        for (var i = 0; i < killedTokens[_DYN_LENGTH /* @min:%2elength */]; ++i) {\r\n                            _killedTokenDictionary[killedTokens[i]] = dateNow() + durationMs;\r\n                        }\r\n                    }\r\n                    catch (ex) {\r\n                        return [];\r\n                    }\r\n                }\r\n                return [];\r\n            };\r\n            _self[_DYN_IS_TENANT_KILLED /* @min:%2eisTenantKilled */] = function (tenantToken) {\r\n                var killDictionary = _killedTokenDictionary;\r\n                var name = strTrim(tenantToken);\r\n                if (killDictionary[name] !== undefined && killDictionary[name] > dateNow()) {\r\n                    return true;\r\n                }\r\n                delete killDictionary[name];\r\n                return false;\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for KillSwitch.prototype.setKillSwitchTenants.\r\n// Removed Stub for KillSwitch.prototype.isTenantKilled.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    KillSwitch.__ieDyn=1;\n\n    return KillSwitch;\r\n}());\r\nexport { KillSwitch };\r\n//# sourceMappingURL=KillSwitch.js.map","/*\n * 1DS JS SDK POST plugin, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* RetryPolicy.ts\r\n* @author Abhilash Panwar (abpanwar)\r\n* @copyright Microsoft 2018\r\n*/\r\nvar RandomizationLowerThreshold = 0.8;\r\nvar RandomizationUpperThreshold = 1.2;\r\nvar BaseBackoff = 3000;\r\nvar MaxBackoff = 600000;\r\n/**\r\n * Determine if the request should be retried for the given status code.\r\n * The below expression reads that we should only retry for:\r\n *      - HttpStatusCodes that are smaller than 300.\r\n *      - HttpStatusCodes greater or equal to 500 (except for 501-NotImplement\r\n *        and 505-HttpVersionNotSupport).\r\n *      - HttpStatusCode 408-RequestTimeout.\r\n *      - HttpStatusCode 429.\r\n * This is based on Microsoft.WindowsAzure.Storage.RetryPolicies.ExponentialRetry class\r\n * @param httpStatusCode - The status code returned for the request.\r\n * @returns True if request should be retried, false otherwise.\r\n */\r\nexport function retryPolicyShouldRetryForStatus(httpStatusCode) {\r\n    /* tslint:disable:triple-equals */\r\n    // Disabling triple-equals rule to avoid httpOverrides from failing because they are returning a string value\r\n    return !((httpStatusCode >= 300 && httpStatusCode < 500 && httpStatusCode != 429)\r\n        || (httpStatusCode == 501)\r\n        || (httpStatusCode == 505));\r\n    /* tslint:enable:triple-equals */\r\n}\r\n/**\r\n * Gets the number of milliseconds to back off before retrying the request. The\r\n * back off duration is exponentially scaled based on the number of retries already\r\n * done for the request.\r\n * @param retriesSoFar - The number of times the request has already been retried.\r\n * @returns The back off duration for the request before it can be retried.\r\n */\r\nexport function retryPolicyGetMillisToBackoffForRetry(retriesSoFar) {\r\n    var waitDuration = 0;\r\n    var minBackoff = BaseBackoff * RandomizationLowerThreshold;\r\n    var maxBackoff = BaseBackoff * RandomizationUpperThreshold;\r\n    var randomBackoff = Math.floor(Math.random() * (maxBackoff - minBackoff)) + minBackoff;\r\n    waitDuration = Math.pow(2, retriesSoFar) * randomBackoff;\r\n    return Math.min(waitDuration, MaxBackoff);\r\n}\r\n//# sourceMappingURL=RetryPolicy.js.map","/*\n * 1DS JS SDK POST plugin, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* Serializer.ts\r\n* @author Abhilash Panwar (abpanwar); Hector Hernandez (hectorh); Nev Wylie (newylie)\r\n* @copyright Microsoft 2018-2020\r\n*/\r\n// @skip-file-minify\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { arrIndexOf, doPerf, getCommonSchemaMetaData, getTenantId, isArray, isValueAssigned, objForEachKey, sanitizeProperty, strStartsWith } from \"@microsoft/1ds-core-js\";\r\nimport { EventBatch } from \"./EventBatch\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { strSubstr } from \"@nevware21/ts-utils\";\r\n/**\r\n * Note: This is an optimization for V8-based browsers. When V8 concatenates a string,\r\n * the strings are only joined logically using a \"cons string\" or \"constructed/concatenated\r\n * string\". These containers keep references to one another and can result in very large\r\n * memory usage. For example, if a 2MB string is constructed by concatenating 4 bytes\r\n * together at a time, the memory usage will be ~44MB; so ~22x increase. The strings are\r\n * only joined together when an operation requiring their joining takes place, such as\r\n * substr(). This function is called when adding data to this buffer to ensure these\r\n * types of strings are periodically joined to reduce the memory footprint.\r\n * Setting to every 20 events as the JSON.stringify() may have joined many strings\r\n * and calling this too much causes a minor delay while processing.\r\n */\r\nvar _MAX_STRING_JOINS = 20;\r\nvar RequestSizeLimitBytes = 3984588; // approx 3.8 Mb\r\nvar BeaconRequestSizeLimitBytes = 65000; // approx 64kb (the current Edge, Firefox and Chrome max limit)\r\nvar MaxRecordSize = 2000000; // approx 2 Mb\r\nvar MaxBeaconRecordSize = Math.min(MaxRecordSize, BeaconRequestSizeLimitBytes);\r\nvar metadata = \"metadata\";\r\nvar f = \"f\";\r\nvar rCheckDot = /\\./;\r\n/**\r\n* Class to handle serialization of event and request.\r\n* Currently uses Bond for serialization. Please note that this may be subject to change.\r\n*/\r\nvar Serializer = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of the Serializer class\r\n     * @param perfManager - The performance manager to use for tracking performance\r\n     * @param valueSanitizer - The value sanitizer to use for sanitizing field values\r\n     * @param stringifyObjects - Should objects be stringified before being sent\r\n     * @param enableCompoundKey - Should compound keys be enabled (defaults to false)\r\n     * @param getEncodedTypeOverride - The callback to get the encoded type for a property defaults to ({@link getCommonSchemaMetaData }(...))\r\n     * @param excludeCsMetaData - (!DANGER!) Should metadata be populated when encoding the event blob (defaults to false) - PII data will NOT be tagged as PII for backend processing\r\n     */\r\n    function Serializer(perfManager, valueSanitizer, stringifyObjects, enableCompoundKey, getEncodedTypeOverride, excludeCsMetaData) {\r\n        var strData = \"data\";\r\n        var strBaseData = \"baseData\";\r\n        var strExt = \"ext\";\r\n        var _checkForCompoundkey = !!enableCompoundKey;\r\n        var _processSubKeys = true;\r\n        var _theSanitizer = valueSanitizer;\r\n        var _isReservedCache = {};\r\n        var _excludeCsMetaData = !!excludeCsMetaData;\r\n        var _getEncodedType = getEncodedTypeOverride || getCommonSchemaMetaData;\r\n        dynamicProto(Serializer, this, function (_self) {\r\n            _self.createPayload = function (retryCnt, isTeardown, isSync, isReducedPayload, sendReason, sendType) {\r\n                return {\r\n                    apiKeys: [],\r\n                    payloadBlob: STR_EMPTY,\r\n                    overflow: null,\r\n                    sizeExceed: [],\r\n                    failedEvts: [],\r\n                    batches: [],\r\n                    numEvents: 0,\r\n                    retryCnt: retryCnt,\r\n                    isTeardown: isTeardown,\r\n                    isSync: isSync,\r\n                    isBeacon: isReducedPayload,\r\n                    sendType: sendType,\r\n                    sendReason: sendReason\r\n                };\r\n            };\r\n            _self.appendPayload = function (payload, theBatch, maxEventsPerBatch) {\r\n                var canAddEvents = payload && theBatch && !payload.overflow;\r\n                if (canAddEvents) {\r\n                    doPerf(perfManager, function () { return \"Serializer:appendPayload\"; }, function () {\r\n                        var theEvents = theBatch.events();\r\n                        var payloadBlob = payload.payloadBlob;\r\n                        var payloadEvents = payload.numEvents;\r\n                        var eventsAdded = false;\r\n                        var sizeExceeded = [];\r\n                        var failedEvts = [];\r\n                        var isBeaconPayload = payload.isBeacon;\r\n                        var requestMaxSize = isBeaconPayload ? BeaconRequestSizeLimitBytes : RequestSizeLimitBytes;\r\n                        var recordMaxSize = isBeaconPayload ? MaxBeaconRecordSize : MaxRecordSize;\r\n                        var lp = 0;\r\n                        var joinCount = 0;\r\n                        while (lp < theEvents.length) {\r\n                            var theEvent = theEvents[lp];\r\n                            if (theEvent) {\r\n                                if (payloadEvents >= maxEventsPerBatch) {\r\n                                    // Maximum events per payload reached, so don't add any more\r\n                                    payload.overflow = theBatch.split(lp);\r\n                                    break;\r\n                                }\r\n                                var eventBlob = _self.getEventBlob(theEvent);\r\n                                if (eventBlob && eventBlob.length <= recordMaxSize) {\r\n                                    // This event will fit into the payload\r\n                                    var blobLength = eventBlob.length;\r\n                                    var currentSize = payloadBlob.length;\r\n                                    if (currentSize + blobLength > requestMaxSize) {\r\n                                        // Request or batch size exceeded, so don't add any more to the payload\r\n                                        payload.overflow = theBatch.split(lp);\r\n                                        break;\r\n                                    }\r\n                                    if (payloadBlob) {\r\n                                        payloadBlob += \"\\n\";\r\n                                    }\r\n                                    payloadBlob += eventBlob;\r\n                                    joinCount++;\r\n                                    // v8 memory optimization only\r\n                                    if (joinCount > _MAX_STRING_JOINS) {\r\n                                        // this substr() should cause the constructed string to join\r\n                                        strSubstr(payloadBlob, 0, 1);\r\n                                        joinCount = 0;\r\n                                    }\r\n                                    eventsAdded = true;\r\n                                    payloadEvents++;\r\n                                }\r\n                                else {\r\n                                    if (eventBlob) {\r\n                                        // Single event size exceeded so remove from the batch\r\n                                        sizeExceeded.push(theEvent);\r\n                                    }\r\n                                    else {\r\n                                        failedEvts.push(theEvent);\r\n                                    }\r\n                                    // We also need to remove this event from the existing array, otherwise a notification will be sent\r\n                                    // indicating that it was successfully sent\r\n                                    theEvents.splice(lp, 1);\r\n                                    lp--;\r\n                                }\r\n                            }\r\n                            lp++;\r\n                        }\r\n                        if (sizeExceeded.length > 0) {\r\n                            payload.sizeExceed.push(EventBatch.create(theBatch.iKey(), sizeExceeded));\r\n                            // Remove the exceeded events from the batch\r\n                        }\r\n                        if (failedEvts.length > 0) {\r\n                            payload.failedEvts.push(EventBatch.create(theBatch.iKey(), failedEvts));\r\n                            // Remove the failed events from the batch\r\n                        }\r\n                        if (eventsAdded) {\r\n                            payload.batches.push(theBatch);\r\n                            payload.payloadBlob = payloadBlob;\r\n                            payload.numEvents = payloadEvents;\r\n                            var apiKey = theBatch.iKey();\r\n                            if (arrIndexOf(payload.apiKeys, apiKey) === -1) {\r\n                                payload.apiKeys.push(apiKey);\r\n                            }\r\n                        }\r\n                    }, function () { return ({ payload: payload, theBatch: { iKey: theBatch.iKey(), evts: theBatch.events() }, max: maxEventsPerBatch }); });\r\n                }\r\n                return canAddEvents;\r\n            };\r\n            _self.getEventBlob = function (eventData) {\r\n                try {\r\n                    return doPerf(perfManager, function () { return \"Serializer.getEventBlob\"; }, function () {\r\n                        var serializedEvent = {};\r\n                        // Adding as dynamic keys for v8 performance\r\n                        serializedEvent.name = eventData.name;\r\n                        serializedEvent.time = eventData.time;\r\n                        serializedEvent.ver = eventData.ver;\r\n                        serializedEvent.iKey = \"o:\" + getTenantId(eventData.iKey);\r\n                        // Assigning local var so usage in part b/c don't throw if there is no ext\r\n                        var serializedExt = {};\r\n                        var _addMetadataCallback;\r\n                        if (!_excludeCsMetaData) {\r\n                            _addMetadataCallback = function (pathKeys, key, value) {\r\n                                _addJSONPropertyMetaData(_getEncodedType, serializedExt, pathKeys, key, value);\r\n                            };\r\n                        }\r\n                        // Part A\r\n                        var eventExt = eventData[strExt];\r\n                        if (eventExt) {\r\n                            // Only assign ext if the event had one (There are tests covering this use case)\r\n                            serializedEvent[strExt] = serializedExt;\r\n                            objForEachKey(eventExt, function (key, value) {\r\n                                var data = serializedExt[key] = {};\r\n                                // Don't include a metadata callback as we don't currently set metadata Part A fields\r\n                                _processPathKeys(value, data, \"ext.\" + key, true, null, null, true);\r\n                            });\r\n                        }\r\n                        var serializedData = serializedEvent[strData] = {};\r\n                        serializedData.baseType = eventData.baseType;\r\n                        var serializedBaseData = serializedData[strBaseData] = {};\r\n                        // Part B\r\n                        _processPathKeys(eventData.baseData, serializedBaseData, strBaseData, false, [strBaseData], _addMetadataCallback, _processSubKeys);\r\n                        // Part C\r\n                        _processPathKeys(eventData.data, serializedData, strData, false, [], _addMetadataCallback, _processSubKeys);\r\n                        return JSON.stringify(serializedEvent);\r\n                    }, function () { return ({ item: eventData }); });\r\n                }\r\n                catch (e) {\r\n                    return null;\r\n                }\r\n            };\r\n            function _isReservedField(path, name) {\r\n                var result = _isReservedCache[path];\r\n                if (result === undefined) {\r\n                    if (path.length >= 7) {\r\n                        // Do not allow the changing of fields located in the ext.metadata or ext.web extension\r\n                        result = strStartsWith(path, \"ext.metadata\") || strStartsWith(path, \"ext.web\");\r\n                    }\r\n                    _isReservedCache[path] = result;\r\n                }\r\n                return result;\r\n            }\r\n            function _processPathKeys(srcObj, target, thePath, checkReserved, metadataPathKeys, metadataCallback, processSubKeys) {\r\n                objForEachKey(srcObj, function (key, srcValue) {\r\n                    var prop = null;\r\n                    if (srcValue || isValueAssigned(srcValue)) {\r\n                        var path = thePath;\r\n                        var name_1 = key;\r\n                        var theMetaPathKeys = metadataPathKeys;\r\n                        var destObj = target;\r\n                        // Handle keys with embedded '.', like \"TestObject.testProperty\"\r\n                        if (_checkForCompoundkey && !checkReserved && rCheckDot.test(key)) {\r\n                            var subKeys = key.split(\".\");\r\n                            var keyLen = subKeys.length;\r\n                            if (keyLen > 1) {\r\n                                if (theMetaPathKeys) {\r\n                                    // Create a copy of the meta path keys so we can add the extra ones\r\n                                    theMetaPathKeys = theMetaPathKeys.slice();\r\n                                }\r\n                                for (var lp = 0; lp < keyLen - 1; lp++) {\r\n                                    var subKey = subKeys[lp];\r\n                                    // Add/reuse the sub key object\r\n                                    destObj = destObj[subKey] = destObj[subKey] || {};\r\n                                    path += \".\" + subKey;\r\n                                    if (theMetaPathKeys) {\r\n                                        theMetaPathKeys.push(subKey);\r\n                                    }\r\n                                }\r\n                                name_1 = subKeys[keyLen - 1];\r\n                            }\r\n                        }\r\n                        var isReserved = checkReserved && _isReservedField(path, name_1);\r\n                        if (!isReserved && _theSanitizer && _theSanitizer.handleField(path, name_1)) {\r\n                            prop = _theSanitizer.value(path, name_1, srcValue, stringifyObjects);\r\n                        }\r\n                        else {\r\n                            prop = sanitizeProperty(name_1, srcValue, stringifyObjects);\r\n                        }\r\n                        if (prop) {\r\n                            // Set the value\r\n                            var newValue = prop.value;\r\n                            destObj[name_1] = newValue;\r\n                            if (metadataCallback) {\r\n                                metadataCallback(theMetaPathKeys, name_1, prop);\r\n                            }\r\n                            if (processSubKeys && typeof newValue === \"object\" && !isArray(newValue)) {\r\n                                var newPath = theMetaPathKeys;\r\n                                if (newPath) {\r\n                                    newPath = newPath.slice();\r\n                                    newPath.push(name_1);\r\n                                }\r\n                                // Make sure we process sub objects as well (for value sanitization and metadata)\r\n                                _processPathKeys(srcValue, newValue, path + \".\" + name_1, checkReserved, newPath, metadataCallback, processSubKeys);\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for Serializer.prototype.createPayload.\r\n// Removed Stub for Serializer.prototype.appendPayload.\r\n// Removed Stub for Serializer.prototype.getEventBlob.\r\n// Removed Stub for Serializer.prototype.handleField.\r\n// Removed Stub for Serializer.prototype.getSanitizer.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    Serializer.__ieDyn=1;\n\n    return Serializer;\r\n}());\r\nexport { Serializer };\r\n/**\r\n * @ignore\r\n * @param getEncodedType - The function to get the encoded type for the property\r\n * @param json - The json object to add the metadata to\r\n * @param propKeys - The property keys to add to the metadata\r\n * @param name - The name of the property\r\n * @param propertyValue - The property value\r\n */\r\nfunction _addJSONPropertyMetaData(getEncodedType, json, propKeys, name, propertyValue) {\r\n    if (propertyValue && json) {\r\n        var encodedTypeValue = getEncodedType(propertyValue.value, propertyValue.kind, propertyValue.propertyType);\r\n        if (encodedTypeValue > -1) {\r\n            // Add the root metadata\r\n            var metaData = json[metadata];\r\n            if (!metaData) {\r\n                // Sets the root 'f'\r\n                metaData = json[metadata] = { f: {} };\r\n            }\r\n            var metaTarget = metaData[f];\r\n            if (!metaTarget) {\r\n                // This can occur if someone has manually added an ext.metadata object\r\n                // Such as ext.metadata.privLevel and ext.metadata.privTags\r\n                metaTarget = metaData[f] = {};\r\n            }\r\n            // Traverse the metadata path and build each object (contains an 'f' key) -- if required\r\n            if (propKeys) {\r\n                for (var lp = 0; lp < propKeys.length; lp++) {\r\n                    var key = propKeys[lp];\r\n                    if (!metaTarget[key]) {\r\n                        metaTarget[key] = { f: {} };\r\n                    }\r\n                    var newTarget = metaTarget[key][f];\r\n                    if (!newTarget) {\r\n                        // Not expected, but can occur if the metadata context was pre-created as part of the event\r\n                        newTarget = metaTarget[key][f] = {};\r\n                    }\r\n                    metaTarget = newTarget;\r\n                }\r\n            }\r\n            metaTarget = metaTarget[name] = {};\r\n            if (isArray(propertyValue.value)) {\r\n                metaTarget[\"a\"] = {\r\n                    t: encodedTypeValue\r\n                };\r\n            }\r\n            else {\r\n                metaTarget[\"t\"] = encodedTypeValue;\r\n            }\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=Serializer.js.map","/*\n * 1DS JS SDK POST plugin, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nvar _a;\r\n/**\r\n* HttpManager.ts\r\n* @author Abhilash Panwar (abpanwar); Hector Hernandez (hectorh); Nev Wylie (newylie)\r\n* @copyright Microsoft 2018-2020\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { FullVersionString, SenderPostManager, _getAllResponseHeaders, _throwInternal, _warnToConsole, arrForEach, dateNow, doPerf, dumpObj, extend, getCommonSchemaMetaData, getNavigator, getResponseText, getTime, hasOwnProperty, isBeaconsSupported, isFetchSupported, isNullOrUndefined, isReactNative, isUndefined, isValueAssigned, objForEachKey, objKeys, onConfigChange, optimizeObject, prependTransports, strUndefined } from \"@microsoft/1ds-core-js\";\r\nimport { arrAppend } from \"@nevware21/ts-utils\";\r\nimport { ClockSkewManager } from \"./ClockSkewManager\";\r\nimport { EventBatch } from \"./EventBatch\";\r\nimport { DEFAULT_CACHE_CONTROL, DEFAULT_CONTENT_TYPE, STR_API_KEY, STR_AUTH_XTOKEN, STR_CACHE_CONTROL, STR_CLIENT_ID, STR_CLIENT_VERSION, STR_CONTENT_TYPE_HEADER, STR_DROPPED, STR_EMPTY, STR_KILL_DURATION_HEADER, STR_KILL_TOKENS_HEADER, STR_MSA_DEVICE_TICKET, STR_MSFPC, STR_NO_RESPONSE_BODY, STR_OTHER, STR_REQUEUE, STR_RESPONSE_FAIL, STR_SENDING, STR_TIME_DELTA_HEADER, STR_TIME_DELTA_TO_APPLY, STR_UPLOAD_TIME } from \"./InternalConstants\";\r\nimport { KillSwitch } from \"./KillSwitch\";\r\nimport { retryPolicyGetMillisToBackoffForRetry, retryPolicyShouldRetryForStatus } from \"./RetryPolicy\";\r\nimport { Serializer } from \"./Serializer\";\r\nimport { createTimeoutWrapper } from \"./TimeoutOverrideWrapper\";\r\nimport { _DYN_ADD_HEADER, _DYN_ADD_NO_RESPONSE, _DYN_ALLOW_REQUEST_SENDIN0, _DYN_ALWAYS_USE_XHR_OVERR7, _DYN_AVOID_OPTIONS, _DYN_BATCHES, _DYN_CAN_SEND_REQUEST, _DYN_CLEAR_TIMEOUT_OVERRI3, _DYN_CONCAT, _DYN_COUNT, _DYN_CREATE_ONE_DSPAYLOAD, _DYN_CREATE_PAYLOAD, _DYN_DATA, _DYN_DISABLE_EVENT_TIMING5, _DYN_DISABLE_FETCH_KEEP_A6, _DYN_DISABLE_XHR_SYNC, _DYN_ENABLE_COMPOUND_KEY, _DYN_EVENTS, _DYN_EXCLUDE_CS_META_DATA, _DYN_FETCH_CREDENTIALS, _DYN_FIRST_REQUEST_SENT, _DYN_GET_CLOCK_SKEW_HEADE2, _DYN_GET_OFFLINE_REQUEST_9, _DYN_GET_WPARAM, _DYN_HDRS, _DYN_HEADERS, _DYN_INITIALIZE, _DYN_IS_BEACON, _DYN_IS_COMPLETELY_IDLE, _DYN_IS_SYNC, _DYN_IS_TEARDOWN, _DYN_I_KEY, _DYN_LENGTH, _DYN_OVERRIDE_ENDPOINT_UR4, _DYN_PAYLOAD_BLOB, _DYN_PAYLOAD_PREPROCESSOR, _DYN_PUSH, _DYN_RESUME, _DYN_SEND_QUEUED_REQUESTS, _DYN_SEND_SYNCHRONOUS_BAT10, _DYN_SEND_TYPE, _DYN_SERIALIZE_OFFLINE_EV8, _DYN_SET_CLOCK_SKEW, _DYN_SET_KILL_SWITCH_TENA11, _DYN_SET_TIMEOUT_OVERRIDE, _DYN_SET_UNLOADING, _DYN_SHOULD_ADD_CLOCK_SKE1, _DYN_SPLICE, _DYN_SPLIT, _DYN_STRINGIFY_OBJECTS, _DYN_TIMEOUT, _DYN_TIMINGS, _DYN_TO_LOWER_CASE, _DYN_UNLOAD_TRANSPORTS, _DYN_URL_STRING, _DYN_USE_HDRS, _DYN_USE_SEND_BEACON, _DYN__BACK_OFF_TRANSMISSI12, _DYN__SEND_REASON, _DYN__THE_PAYLOAD, _DYN__TRANSPORT } from \"./__DynamicConstants\";\r\nvar strSendAttempt = \"sendAttempt\";\r\nvar _noResponseQs = \"&\" + STR_NO_RESPONSE_BODY + \"=true\";\r\nvar UrlQueryString = \"?cors=true&\" + STR_CONTENT_TYPE_HEADER[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]() + \"=\" + DEFAULT_CONTENT_TYPE;\r\n/**\r\n * Identifies the default notification reason to the action names\r\n */\r\nvar _eventActionMap = (_a = {},\r\n    _a[1 /* EventBatchNotificationReason.Paused */] = STR_REQUEUE,\r\n    _a[100 /* EventBatchNotificationReason.RequeueEvents */] = STR_REQUEUE,\r\n    _a[200 /* EventBatchNotificationReason.Complete */] = \"sent\",\r\n    _a[8004 /* EventBatchNotificationReason.KillSwitch */] = STR_DROPPED,\r\n    _a[8003 /* EventBatchNotificationReason.SizeLimitExceeded */] = STR_DROPPED,\r\n    _a);\r\nvar _collectorQsHeaders = {};\r\nvar _collectorHeaderToQs = {};\r\nfunction _addCollectorHeaderQsMapping(qsName, headerName, allowQs) {\r\n    _collectorQsHeaders[qsName] = headerName;\r\n    if (allowQs !== false) {\r\n        _collectorHeaderToQs[headerName] = qsName;\r\n    }\r\n}\r\n_addCollectorHeaderQsMapping(STR_MSA_DEVICE_TICKET, STR_MSA_DEVICE_TICKET, false);\r\n_addCollectorHeaderQsMapping(STR_CLIENT_VERSION, STR_CLIENT_VERSION);\r\n_addCollectorHeaderQsMapping(STR_CLIENT_ID, \"Client-Id\");\r\n_addCollectorHeaderQsMapping(STR_API_KEY, STR_API_KEY);\r\n_addCollectorHeaderQsMapping(STR_TIME_DELTA_TO_APPLY, STR_TIME_DELTA_TO_APPLY);\r\n_addCollectorHeaderQsMapping(STR_UPLOAD_TIME, STR_UPLOAD_TIME);\r\n_addCollectorHeaderQsMapping(STR_AUTH_XTOKEN, STR_AUTH_XTOKEN);\r\nfunction _hasHeader(headers, header) {\r\n    var hasHeader = false;\r\n    if (headers && header) {\r\n        var keys = objKeys(headers);\r\n        if (keys && keys[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n            var lowerHeader = header[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n            for (var lp = 0; lp < keys[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n                var value = keys[lp];\r\n                if (value && hasOwnProperty(header, value) &&\r\n                    value[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]() === lowerHeader) {\r\n                    hasHeader = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return hasHeader;\r\n}\r\nfunction _addRequestDetails(details, name, value, useHeaders) {\r\n    if (name && value && value[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        if (useHeaders && _collectorQsHeaders[name]) {\r\n            details[_DYN_HDRS /* @min:%2ehdrs */][_collectorQsHeaders[name]] = value;\r\n            details[_DYN_USE_HDRS /* @min:%2euseHdrs */] = true;\r\n        }\r\n        else {\r\n            details.url += \"&\" + name + \"=\" + value;\r\n        }\r\n    }\r\n}\r\nfunction _addQueryStringParameter(qsParams, name, value) {\r\n    for (var i = 0; i < qsParams[_DYN_LENGTH /* @min:%2elength */]; i++) {\r\n        if (qsParams[i].name === name) {\r\n            qsParams[i].value = value;\r\n            return;\r\n        }\r\n    }\r\n    qsParams[_DYN_PUSH /* @min:%2epush */]({ name: name, value: value });\r\n}\r\nfunction _removeQueryStringParameter(qsParams, name) {\r\n    for (var i = 0; i < qsParams[_DYN_LENGTH /* @min:%2elength */]; i++) {\r\n        if (qsParams[i].name === name) {\r\n            qsParams[_DYN_SPLICE /* @min:%2esplice */](i, 1);\r\n            return;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Class managing the sending of requests.\r\n */\r\nvar HttpManager = /** @class */ (function () {\r\n    /**\r\n     * @constructor\r\n     * @param requestQueue   - The queue that contains the requests to be sent.\r\n     */\r\n    function HttpManager(maxEventsPerBatch, maxConnections, maxRequestRetriesBeforeBackoff, actions) {\r\n        // ------------------------------------------------------------------------------------------------------------------------\r\n        // Only set \"Default\" values in the _initDefaults() method, unless value are not \"reset\" during unloading\r\n        // ------------------------------------------------------------------------------------------------------------------------\r\n        var _urlString;\r\n        var _killSwitch;\r\n        var _paused;\r\n        var _clockSkewManager;\r\n        var _useBeacons = false;\r\n        var _outstandingRequests; // Holds the number of outstanding async requests that have not returned a response yet\r\n        var _postManager;\r\n        var _logger;\r\n        var _sendInterfaces;\r\n        var _core;\r\n        var _customHttpInterface;\r\n        var _queryStringParameters;\r\n        var _headers;\r\n        var _batchQueue;\r\n        var _serializer;\r\n        var _enableEventTimings;\r\n        var _cookieMgr;\r\n        var _isUnloading;\r\n        var _useHeaders;\r\n        var _xhrTimeout;\r\n        var _disableXhrSync;\r\n        var _disableFetchKeepAlive;\r\n        var _canHaveReducedPayload;\r\n        var _addNoResponse;\r\n        var _unloadHooks;\r\n        var _sendHook;\r\n        var _sendListener;\r\n        var _responseHandlers;\r\n        var _isInitialized;\r\n        var _timeoutWrapper;\r\n        var _excludeCsMetaData;\r\n        var _sendPostMgr;\r\n        var _fetchCredentials;\r\n        dynamicProto(HttpManager, this, function (_self) {\r\n            _initDefaults();\r\n            var _sendCredentials = true;\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (theConfig, core, postChannel) {\r\n                if (!_isInitialized) {\r\n                    _core = core;\r\n                    _cookieMgr = core.getCookieMgr();\r\n                    _postManager = postChannel;\r\n                    _logger = _postManager.diagLog();\r\n                    arrAppend(_unloadHooks, onConfigChange(theConfig, function (details) {\r\n                        var _a;\r\n                        var coreConfig = details.cfg;\r\n                        var channelConfig = details.cfg.extensionConfig[postChannel.identifier];\r\n                        _timeoutWrapper = createTimeoutWrapper(channelConfig[_DYN_SET_TIMEOUT_OVERRIDE /* @min:%2esetTimeoutOverride */], channelConfig[_DYN_CLEAR_TIMEOUT_OVERRI3 /* @min:%2eclearTimeoutOverride */]);\r\n                        if (isValueAssigned(coreConfig.anonCookieName)) {\r\n                            _addQueryStringParameter(_queryStringParameters, \"anoncknm\", coreConfig.anonCookieName);\r\n                        }\r\n                        else {\r\n                            _removeQueryStringParameter(_queryStringParameters, \"anoncknm\");\r\n                        }\r\n                        _sendHook = channelConfig[_DYN_PAYLOAD_PREPROCESSOR /* @min:%2epayloadPreprocessor */];\r\n                        _sendListener = channelConfig.payloadListener;\r\n                        var httpInterface = channelConfig.httpXHROverride;\r\n                        // Override endpointUrl if provided in Post config\r\n                        var endpointUrl = channelConfig[_DYN_OVERRIDE_ENDPOINT_UR4 /* @min:%2eoverrideEndpointUrl */] ? channelConfig[_DYN_OVERRIDE_ENDPOINT_UR4 /* @min:%2eoverrideEndpointUrl */] : coreConfig.endpointUrl;\r\n                        _urlString = endpointUrl + UrlQueryString;\r\n                        _useHeaders = !isUndefined(channelConfig[_DYN_AVOID_OPTIONS /* @min:%2eavoidOptions */]) ? !channelConfig[_DYN_AVOID_OPTIONS /* @min:%2eavoidOptions */] : true;\r\n                        _enableEventTimings = !channelConfig[_DYN_DISABLE_EVENT_TIMING5 /* @min:%2edisableEventTimings */];\r\n                        var valueSanitizer = channelConfig.valueSanitizer;\r\n                        var stringifyObjects = channelConfig[_DYN_STRINGIFY_OBJECTS /* @min:%2estringifyObjects */];\r\n                        var enableCompoundKey = !!coreConfig[_DYN_ENABLE_COMPOUND_KEY /* @min:%2eenableCompoundKey */];\r\n                        if (!isUndefined(channelConfig[_DYN_ENABLE_COMPOUND_KEY /* @min:%2eenableCompoundKey */])) {\r\n                            enableCompoundKey = !!channelConfig[_DYN_ENABLE_COMPOUND_KEY /* @min:%2eenableCompoundKey */];\r\n                        }\r\n                        _xhrTimeout = channelConfig.xhrTimeout;\r\n                        _disableXhrSync = !!channelConfig[_DYN_DISABLE_XHR_SYNC /* @min:%2edisableXhrSync */];\r\n                        _disableFetchKeepAlive = !!channelConfig[_DYN_DISABLE_FETCH_KEEP_A6 /* @min:%2edisableFetchKeepAlive */];\r\n                        _addNoResponse = channelConfig[_DYN_ADD_NO_RESPONSE /* @min:%2eaddNoResponse */] !== false;\r\n                        _excludeCsMetaData = !!channelConfig[_DYN_EXCLUDE_CS_META_DATA /* @min:%2eexcludeCsMetaData */];\r\n                        if (!!core.getPlugin(\"LocalStorage\")) {\r\n                            // Always disable fetch keep alive when persisten storage is available\r\n                            _disableFetchKeepAlive = true;\r\n                        }\r\n                        _useBeacons = !isReactNative(); // Only use beacons if not running in React Native\r\n                        _serializer = new Serializer(_core, valueSanitizer, stringifyObjects, enableCompoundKey, getCommonSchemaMetaData, _excludeCsMetaData);\r\n                        if (!isNullOrUndefined(channelConfig[_DYN_USE_SEND_BEACON /* @min:%2euseSendBeacon */])) {\r\n                            _useBeacons = !!channelConfig[_DYN_USE_SEND_BEACON /* @min:%2euseSendBeacon */];\r\n                        }\r\n                        if (channelConfig[_DYN_FETCH_CREDENTIALS /* @min:%2efetchCredentials */]) {\r\n                            _fetchCredentials = channelConfig[_DYN_FETCH_CREDENTIALS /* @min:%2efetchCredentials */];\r\n                        }\r\n                        var sendPostConfig = _getSendPostMgrConfig();\r\n                        // only init it once\r\n                        if (!_sendPostMgr) {\r\n                            _sendPostMgr = new SenderPostManager();\r\n                            _sendPostMgr[_DYN_INITIALIZE /* @min:%2einitialize */](sendPostConfig, _logger);\r\n                        }\r\n                        else {\r\n                            _sendPostMgr.SetConfig(sendPostConfig);\r\n                        }\r\n                        var syncHttpInterface = httpInterface;\r\n                        var beaconHttpInterface = channelConfig[_DYN_ALWAYS_USE_XHR_OVERR7 /* @min:%2ealwaysUseXhrOverride */] ? httpInterface : null;\r\n                        var fetchSyncHttpInterface = channelConfig[_DYN_ALWAYS_USE_XHR_OVERR7 /* @min:%2ealwaysUseXhrOverride */] ? httpInterface : null;\r\n                        var beaconUnloadTransports = [3 /* TransportType.Beacon */, 2 /* TransportType.Fetch */];\r\n                        if (!httpInterface) {\r\n                            _customHttpInterface = false;\r\n                            // this is handled in SendPostManager now\r\n                            // let location = getLocation();\r\n                            // if (location && location.protocol && location.protocol.toLowerCase() === \"file:\") {\r\n                            //     // Special case where a local html file fails with a CORS error on Chromium browsers\r\n                            //     _sendCredentials = false;\r\n                            // }\r\n                            var theTransports = [];\r\n                            if (isReactNative()) {\r\n                                // Use Fetch or XDR/XHR\r\n                                theTransports = [2 /* TransportType.Fetch */, 1 /* TransportType.Xhr */];\r\n                                beaconUnloadTransports = [2 /* TransportType.Fetch */, 1 /* TransportType.Xhr */, 3 /* TransportType.Beacon */];\r\n                            }\r\n                            else {\r\n                                // Use XDR/XHR, Fetch or beacons\r\n                                theTransports = [1 /* TransportType.Xhr */, 2 /* TransportType.Fetch */, 3 /* TransportType.Beacon */];\r\n                            }\r\n                            // Prefix any user requested transport(s) values\r\n                            theTransports = prependTransports(theTransports, channelConfig.transports);\r\n                            httpInterface = _getSenderInterface(theTransports, false);\r\n                            if (!httpInterface) {\r\n                                _warnToConsole(_logger, \"No available transport to send events\");\r\n                            }\r\n                            syncHttpInterface = _getSenderInterface(theTransports, true);\r\n                        }\r\n                        if (!beaconHttpInterface) {\r\n                            // Allow overriding the usage of sendBeacon\r\n                            beaconUnloadTransports = prependTransports(beaconUnloadTransports, channelConfig[_DYN_UNLOAD_TRANSPORTS /* @min:%2eunloadTransports */]);\r\n                            beaconHttpInterface = _getSenderInterface(beaconUnloadTransports, true);\r\n                        }\r\n                        _canHaveReducedPayload = !_customHttpInterface && ((_useBeacons && isBeaconsSupported()) || (!_disableFetchKeepAlive && isFetchSupported(true)));\r\n                        _sendInterfaces = (_a = {},\r\n                            _a[0 /* EventSendType.Batched */] = httpInterface,\r\n                            _a[1 /* EventSendType.Synchronous */] = syncHttpInterface || _getSenderInterface([1 /* TransportType.Xhr */, 2 /* TransportType.Fetch */, 3 /* TransportType.Beacon */], true),\r\n                            _a[2 /* EventSendType.SendBeacon */] = beaconHttpInterface || syncHttpInterface || _getSenderInterface([1 /* TransportType.Xhr */], true),\r\n                            _a[3 /* EventSendType.SyncFetch */] = fetchSyncHttpInterface || _getSenderInterface([2 /* TransportType.Fetch */, 3 /* TransportType.Beacon */], true) || syncHttpInterface || _getSenderInterface([1 /* TransportType.Xhr */], true),\r\n                            _a);\r\n                    }));\r\n                    _isInitialized = true;\r\n                }\r\n            };\r\n            _self.addResponseHandler = function (responseHandler) {\r\n                _responseHandlers[_DYN_PUSH /* @min:%2epush */](responseHandler);\r\n                return {\r\n                    rm: function () {\r\n                        var index = _responseHandlers.indexOf(responseHandler);\r\n                        if (index >= 0) {\r\n                            _responseHandlers[_DYN_SPLICE /* @min:%2esplice */](index, 1);\r\n                        }\r\n                    }\r\n                };\r\n            };\r\n            _self[_DYN_SERIALIZE_OFFLINE_EV8 /* @min:%2eserializeOfflineEvt */] = function (evt) {\r\n                try {\r\n                    if (_serializer) {\r\n                        return _serializer.getEventBlob(evt);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return STR_EMPTY;\r\n            };\r\n            _self[_DYN_GET_OFFLINE_REQUEST_9 /* @min:%2egetOfflineRequestDetails */] = function () {\r\n                try {\r\n                    // get current url without paramter\r\n                    var payload = _serializer && _serializer[_DYN_CREATE_PAYLOAD /* @min:%2ecreatePayload */](0, false, false, false, 1 /* SendRequestReason.NormalSchedule */, 0 /* EventSendType.Batched */);\r\n                    return _buildRequestDetails(payload, _useHeaders);\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return null;\r\n            };\r\n            _self[_DYN_CREATE_ONE_DSPAYLOAD /* @min:%2ecreateOneDSPayload */] = function (evts, optimize) {\r\n                try {\r\n                    // TODO: optimize\r\n                    var theBatches_1 = [];\r\n                    // create a eventBatch for each event\r\n                    arrForEach(evts, function (evt) {\r\n                        if (optimize) {\r\n                            evt = optimizeObject(evt);\r\n                        }\r\n                        var batch = EventBatch.create(evt[_DYN_I_KEY /* @min:%2eiKey */], [evt]);\r\n                        theBatches_1[_DYN_PUSH /* @min:%2epush */](batch);\r\n                    });\r\n                    var thePayload = null;\r\n                    while (theBatches_1[_DYN_LENGTH /* @min:%2elength */] > 0 && _serializer) {\r\n                        var theBatch = theBatches_1.shift();\r\n                        if (theBatch && theBatch[_DYN_COUNT /* @min:%2ecount */]() > 0) {\r\n                            thePayload = thePayload || _serializer[_DYN_CREATE_PAYLOAD /* @min:%2ecreatePayload */](0, false, false, false, 1 /* SendRequestReason.NormalSchedule */, 0 /* EventSendType.Batched */);\r\n                            _serializer.appendPayload(thePayload, theBatch, maxEventsPerBatch);\r\n                        }\r\n                    }\r\n                    var requestDetails = _buildRequestDetails(thePayload, _useHeaders);\r\n                    var payloadData = {\r\n                        data: thePayload[_DYN_PAYLOAD_BLOB /* @min:%2epayloadBlob */],\r\n                        urlString: requestDetails.url,\r\n                        headers: requestDetails[_DYN_HDRS /* @min:%2ehdrs */],\r\n                        timeout: _xhrTimeout,\r\n                        disableXhrSync: _disableXhrSync,\r\n                        disableFetchKeepAlive: _disableFetchKeepAlive\r\n                    };\r\n                    // Only automatically add the following headers if already sending headers and we are not attempting to avoid an options call\r\n                    if (_useHeaders) {\r\n                        if (!_hasHeader(payloadData[_DYN_HEADERS /* @min:%2eheaders */], STR_CACHE_CONTROL)) {\r\n                            payloadData[_DYN_HEADERS /* @min:%2eheaders */][STR_CACHE_CONTROL] = DEFAULT_CACHE_CONTROL;\r\n                        }\r\n                        if (!_hasHeader(payloadData[_DYN_HEADERS /* @min:%2eheaders */], STR_CONTENT_TYPE_HEADER)) {\r\n                            payloadData[_DYN_HEADERS /* @min:%2eheaders */][STR_CONTENT_TYPE_HEADER] = DEFAULT_CONTENT_TYPE;\r\n                        }\r\n                    }\r\n                    return payloadData;\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return null;\r\n            };\r\n            // Special internal method to allow the DebugPlugin to hook embedded objects\r\n            function _getSenderInterface(transports, syncSupport) {\r\n                try {\r\n                    return _sendPostMgr && _sendPostMgr.getSenderInst(transports, syncSupport);\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return null;\r\n            }\r\n            _self[\"_getDbgPlgTargets\"] = function () {\r\n                return [_sendInterfaces[0 /* EventSendType.Batched */], _killSwitch, _serializer, _sendInterfaces, _getSendPostMgrConfig(), _urlString];\r\n            };\r\n            function _getSendPostMgrConfig() {\r\n                try {\r\n                    var onCompleteFuncs = {\r\n                        xdrOnComplete: _xdrOncomplete,\r\n                        fetchOnComplete: _fetchOnComplete,\r\n                        xhrOnComplete: _xhrOnComplete,\r\n                        beaconOnRetry: _onBeaconRetry\r\n                    };\r\n                    var config = {\r\n                        enableSendPromise: false,\r\n                        isOneDs: true,\r\n                        disableCredentials: !_sendCredentials,\r\n                        fetchCredentials: _fetchCredentials,\r\n                        disableXhr: false,\r\n                        disableBeacon: !_useBeacons,\r\n                        disableBeaconSync: !_useBeacons,\r\n                        disableFetchKeepAlive: _disableFetchKeepAlive,\r\n                        timeWrapper: _timeoutWrapper,\r\n                        addNoResponse: _addNoResponse,\r\n                        senderOnCompleteCallBack: onCompleteFuncs\r\n                    };\r\n                    return config;\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return null;\r\n            }\r\n            function _xdrOncomplete(xdr, oncomplete, payload) {\r\n                var response = getResponseText(xdr);\r\n                _doOnComplete(oncomplete, 200, {}, response);\r\n                _handleCollectorResponse(response);\r\n            }\r\n            function _initDefaults() {\r\n                var undefValue;\r\n                _urlString = null;\r\n                _killSwitch = new KillSwitch();\r\n                _paused = false;\r\n                _clockSkewManager = new ClockSkewManager();\r\n                _useBeacons = false;\r\n                _outstandingRequests = 0; // Holds the number of outstanding async requests that have not returned a response yet\r\n                _postManager = null;\r\n                _logger = null;\r\n                _sendInterfaces = null;\r\n                _core = null;\r\n                _customHttpInterface = true;\r\n                _queryStringParameters = [];\r\n                _headers = {};\r\n                _batchQueue = [];\r\n                _serializer = null;\r\n                _enableEventTimings = false;\r\n                _cookieMgr = null;\r\n                _isUnloading = false;\r\n                _useHeaders = false;\r\n                _xhrTimeout = undefValue;\r\n                _disableXhrSync = undefValue;\r\n                _disableFetchKeepAlive = undefValue;\r\n                _canHaveReducedPayload = undefValue;\r\n                _addNoResponse = undefValue;\r\n                _unloadHooks = [];\r\n                _sendHook = undefValue;\r\n                _sendListener = undefValue;\r\n                _responseHandlers = [];\r\n                _isInitialized = false;\r\n                _timeoutWrapper = createTimeoutWrapper();\r\n                _excludeCsMetaData = false;\r\n                _sendPostMgr = null;\r\n            }\r\n            function _fetchOnComplete(response, onComplete, resValue, payload) {\r\n                var handleResponse = function (status, headerMap, responseText) {\r\n                    _doOnComplete(onComplete, status, headerMap, responseText);\r\n                    _handleCollectorResponse(responseText);\r\n                };\r\n                var headerMap = {};\r\n                var headers = response[_DYN_HEADERS /* @min:%2eheaders */];\r\n                if (headers) {\r\n                    headers[\"forEach\"](function (value, name) {\r\n                        headerMap[name] = value;\r\n                    });\r\n                }\r\n                handleResponse(response.status, headerMap, resValue || STR_EMPTY);\r\n            }\r\n            function _xhrOnComplete(request, oncomplete, payload) {\r\n                var response = getResponseText(request);\r\n                _doOnComplete(oncomplete, request.status, _getAllResponseHeaders(request, true), response);\r\n                _handleCollectorResponse(response);\r\n            }\r\n            function _doOnComplete(oncomplete, status, headers, response) {\r\n                try {\r\n                    oncomplete(status, headers, response);\r\n                }\r\n                catch (e) {\r\n                    _throwInternal(_logger, 2 /* eLoggingSeverity.WARNING */, 518 /* _eExtendedInternalMessageId.SendPostOnCompleteFailure */, dumpObj(e));\r\n                }\r\n            }\r\n            function _onBeaconRetry(payload, onComplete, canSend) {\r\n                // Custom headers not supported in sendBeacon payload.headers would be ignored\r\n                var internalPayloadData = payload;\r\n                var status = 200;\r\n                var thePayload = internalPayloadData[_DYN__THE_PAYLOAD /* @min:%2e_thePayload */];\r\n                var theUrl = payload[_DYN_URL_STRING /* @min:%2eurlString */] + (_addNoResponse ? _noResponseQs : STR_EMPTY);\r\n                try {\r\n                    var nav_1 = getNavigator();\r\n                    if (thePayload) {\r\n                        var persistStorage = !!_core.getPlugin(\"LocalStorage\");\r\n                        // Failed to send entire payload so try and split data and try to send as much events as possible\r\n                        var droppedBatches_1 = [];\r\n                        var sentBatches_1 = [];\r\n                        arrForEach(thePayload[_DYN_BATCHES /* @min:%2ebatches */], function (theBatch) {\r\n                            if (droppedBatches_1 && theBatch && theBatch[_DYN_COUNT /* @min:%2ecount */]() > 0) {\r\n                                var theEvents = theBatch[_DYN_EVENTS /* @min:%2eevents */]();\r\n                                for (var lp = 0; lp < theEvents[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n                                    if (!nav_1.sendBeacon(theUrl, _serializer.getEventBlob(theEvents[lp]))) {\r\n                                        // Can't send anymore, so split the batch and drop the rest\r\n                                        droppedBatches_1[_DYN_PUSH /* @min:%2epush */](theBatch[_DYN_SPLIT /* @min:%2esplit */](lp));\r\n                                        break;\r\n                                    }\r\n                                    else {\r\n                                        sentBatches_1[_DYN_PUSH /* @min:%2epush */](theBatch[lp]);\r\n                                    }\r\n                                }\r\n                            }\r\n                            else {\r\n                                // Remove all of the events from the existing batch in the payload as the copy includes the original\r\n                                droppedBatches_1[_DYN_PUSH /* @min:%2epush */](theBatch[_DYN_SPLIT /* @min:%2esplit */](0));\r\n                            }\r\n                        });\r\n                        if (sentBatches_1[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                            // Update the payload with the sent batches\r\n                            thePayload.sentEvts = sentBatches_1;\r\n                        }\r\n                        if (!persistStorage) {\r\n                            _sendBatchesNotification(droppedBatches_1, 8003 /* EventBatchNotificationReason.SizeLimitExceeded */, thePayload[_DYN_SEND_TYPE /* @min:%2esendType */], true);\r\n                        }\r\n                    }\r\n                    else {\r\n                        status = 0;\r\n                    }\r\n                }\r\n                catch (ex) {\r\n                    _warnToConsole(_logger, \"Failed to send telemetry using sendBeacon API. Ex:\" + dumpObj(ex));\r\n                    status = 0;\r\n                }\r\n                finally {\r\n                    _doOnComplete(onComplete, status, {}, STR_EMPTY);\r\n                }\r\n            }\r\n            function _isBeaconPayload(sendType) {\r\n                // Sync Fetch has the same payload limitation as sendBeacon -- 64kb limit, so treat both as a beacon send\r\n                return sendType === 2 /* EventSendType.SendBeacon */ || sendType === 3 /* EventSendType.SyncFetch */;\r\n            }\r\n            function _adjustSendType(sendType) {\r\n                if (_isUnloading && _isBeaconPayload(sendType)) {\r\n                    sendType = 2 /* EventSendType.SendBeacon */;\r\n                }\r\n                return sendType;\r\n            }\r\n            _self[_DYN_ADD_HEADER /* @min:%2eaddHeader */] = function (name, value) {\r\n                _headers[name] = value;\r\n            };\r\n            _self.removeHeader = function (name) {\r\n                delete _headers[name];\r\n            };\r\n            _self[_DYN_CAN_SEND_REQUEST /* @min:%2ecanSendRequest */] = function () {\r\n                return _hasIdleConnection() && _clockSkewManager[_DYN_ALLOW_REQUEST_SENDIN0 /* @min:%2eallowRequestSending */]();\r\n            };\r\n            _self[_DYN_SEND_QUEUED_REQUESTS /* @min:%2esendQueuedRequests */] = function (sendType, sendReason) {\r\n                if (isUndefined(sendType)) {\r\n                    sendType = 0 /* EventSendType.Batched */;\r\n                }\r\n                if (_isUnloading) {\r\n                    sendType = _adjustSendType(sendType);\r\n                    sendReason = 2 /* SendRequestReason.Unload */;\r\n                }\r\n                if (_canSendPayload(_batchQueue, sendType, 0)) {\r\n                    _sendBatches(_clearQueue(), 0, false, sendType, sendReason || 0 /* SendRequestReason.Undefined */);\r\n                }\r\n            };\r\n            _self[_DYN_IS_COMPLETELY_IDLE /* @min:%2eisCompletelyIdle */] = function () {\r\n                return !_paused && _outstandingRequests === 0 && _batchQueue[_DYN_LENGTH /* @min:%2elength */] === 0;\r\n            };\r\n            _self[_DYN_SET_UNLOADING /* @min:%2esetUnloading */] = function (value) {\r\n                _isUnloading = value;\r\n            };\r\n            _self.addBatch = function (theBatch) {\r\n                if (theBatch && theBatch[_DYN_COUNT /* @min:%2ecount */]() > 0) {\r\n                    // Try and kill the event faster\r\n                    if (_killSwitch.isTenantKilled(theBatch[_DYN_I_KEY /* @min:%2eiKey */]())) {\r\n                        return false;\r\n                    }\r\n                    _batchQueue[_DYN_PUSH /* @min:%2epush */](theBatch);\r\n                }\r\n                return true;\r\n            };\r\n            /**\r\n             * Queue all the remaining requests to be sent. The requests will be\r\n             * sent using HTML5 Beacons if they are available.\r\n             */\r\n            _self.teardown = function () {\r\n                if (_batchQueue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    _sendBatches(_clearQueue(), 0, true, 2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                }\r\n                arrForEach(_unloadHooks, function (hook) {\r\n                    hook && hook.rm && hook.rm();\r\n                });\r\n                _unloadHooks = [];\r\n            };\r\n            /**\r\n             * Pause the sending of requests. No new requests will be sent.\r\n             */\r\n            _self.pause = function () {\r\n                _paused = true;\r\n            };\r\n            /**\r\n             * Resume the sending of requests.\r\n             */\r\n            _self[_DYN_RESUME /* @min:%2eresume */] = function () {\r\n                _paused = false;\r\n                _self[_DYN_SEND_QUEUED_REQUESTS /* @min:%2esendQueuedRequests */](0 /* EventSendType.Batched */, 4 /* SendRequestReason.Resumed */);\r\n            };\r\n            /**\r\n             * Sends a request synchronously to the Aria collector. This api is used to send\r\n             * a request containing a single immediate event.\r\n             *\r\n             * @param batch - The request to be sent.\r\n             * @param sendReason   - The token used to send the request.\r\n             */\r\n            _self[_DYN_SEND_SYNCHRONOUS_BAT10 /* @min:%2esendSynchronousBatch */] = function (batch, sendType, sendReason) {\r\n                // This will not take into account the max connections restriction. Since this is sync, we can\r\n                // only send one of this request at a time and thus should not worry about multiple connections\r\n                // being used to send synchronous events.\r\n                // Increment active connection since we are still going to use a connection to send the request.\r\n                if (batch && batch[_DYN_COUNT /* @min:%2ecount */]() > 0) {\r\n                    if (isNullOrUndefined(sendType)) {\r\n                        sendType = 1 /* EventSendType.Synchronous */;\r\n                    }\r\n                    if (_isUnloading) {\r\n                        sendType = _adjustSendType(sendType);\r\n                        sendReason = 2 /* SendRequestReason.Unload */;\r\n                    }\r\n                    // For sync requests we will not wait for the clock skew.\r\n                    _sendBatches([batch], 0, false, sendType, sendReason || 0 /* SendRequestReason.Undefined */);\r\n                }\r\n            };\r\n            function _hasIdleConnection() {\r\n                return !_paused && _outstandingRequests < maxConnections;\r\n            }\r\n            function _clearQueue() {\r\n                var theQueue = _batchQueue;\r\n                _batchQueue = [];\r\n                return theQueue;\r\n            }\r\n            function _canSendPayload(theBatches, sendType, retryCnt) {\r\n                var result = false;\r\n                if (theBatches && theBatches[_DYN_LENGTH /* @min:%2elength */] > 0 && !_paused && _sendInterfaces[sendType] && _serializer) {\r\n                    // Always attempt to send synchronous events don't wait for idle or clockSkew\r\n                    // and don't block retry requests if clockSkew is not yet set\r\n                    result = (sendType !== 0 /* EventSendType.Batched */) || (_hasIdleConnection() && (retryCnt > 0 || _clockSkewManager[_DYN_ALLOW_REQUEST_SENDIN0 /* @min:%2eallowRequestSending */]()));\r\n                }\r\n                return result;\r\n            }\r\n            function _createDebugBatches(theBatches) {\r\n                var values = {};\r\n                if (theBatches) {\r\n                    arrForEach(theBatches, function (theBatch, idx) {\r\n                        values[idx] = {\r\n                            iKey: theBatch[_DYN_I_KEY /* @min:%2eiKey */](),\r\n                            evts: theBatch[_DYN_EVENTS /* @min:%2eevents */]()\r\n                        };\r\n                    });\r\n                }\r\n                return values;\r\n            }\r\n            function _sendBatches(theBatches, retryCount, isTeardown, sendType, sendReason) {\r\n                if (!theBatches || theBatches[_DYN_LENGTH /* @min:%2elength */] === 0) {\r\n                    // Nothing to do\r\n                    return;\r\n                }\r\n                if (_paused) {\r\n                    _sendBatchesNotification(theBatches, 1 /* EventBatchNotificationReason.Paused */, sendType);\r\n                    return;\r\n                }\r\n                // Make sure that if we are unloading the sendType is a supported version\r\n                sendType = _adjustSendType(sendType);\r\n                try {\r\n                    var orgBatches_1 = theBatches;\r\n                    var isSynchronous_1 = sendType !== 0 /* EventSendType.Batched */;\r\n                    doPerf(_core, function () { return \"HttpManager:_sendBatches\"; }, function (perfEvt) {\r\n                        if (perfEvt) {\r\n                            // Perf Monitoring is enabled, so create a \"Quick\" copy of the original batches so we still report\r\n                            // the original values as part of the perfEvent. This is because theBatches uses .shift() to remove each\r\n                            // batch as they are processed - removing from the original array, so by the time the _createDebugBatches()\r\n                            // function is called the passed in value has changed and therefore the reported value for the perfEvent is incorrect\r\n                            theBatches = theBatches.slice(0);\r\n                        }\r\n                        var droppedBatches = [];\r\n                        var thePayload = null;\r\n                        var serializationStart = getTime();\r\n                        var sendInterface = _sendInterfaces[sendType] || (isSynchronous_1 ? _sendInterfaces[1 /* EventSendType.Synchronous */] : _sendInterfaces[0 /* EventSendType.Batched */]);\r\n                        var sendTransport = sendInterface && sendInterface[_DYN__TRANSPORT /* @min:%2e_transport */];\r\n                        // Sync Fetch has the same payload limitation as sendBeacon -- 64kb limit\r\n                        var isReducedPayload = _canHaveReducedPayload && (_isUnloading || _isBeaconPayload(sendType) || (sendTransport === 3 /* TransportType.Beacon */ || (sendInterface._isSync && sendTransport === 2 /* TransportType.Fetch */)));\r\n                        while (_canSendPayload(theBatches, sendType, retryCount)) {\r\n                            var theBatch = theBatches.shift();\r\n                            if (theBatch && theBatch[_DYN_COUNT /* @min:%2ecount */]() > 0) {\r\n                                if (!_killSwitch.isTenantKilled(theBatch[_DYN_I_KEY /* @min:%2eiKey */]())) {\r\n                                    // Make sure we have a payload object\r\n                                    thePayload = thePayload || _serializer[_DYN_CREATE_PAYLOAD /* @min:%2ecreatePayload */](retryCount, isTeardown, isSynchronous_1, isReducedPayload, sendReason, sendType);\r\n                                    // Add the batch to the current payload\r\n                                    if (!_serializer.appendPayload(thePayload, theBatch, maxEventsPerBatch)) {\r\n                                        // Entire batch was not added so send the payload and retry adding this batch\r\n                                        _doPayloadSend(thePayload, serializationStart, getTime(), sendReason);\r\n                                        serializationStart = getTime();\r\n                                        theBatches = [theBatch][_DYN_CONCAT /* @min:%2econcat */](theBatches);\r\n                                        thePayload = null;\r\n                                    }\r\n                                    else if (thePayload.overflow !== null) {\r\n                                        // Total Payload size was exceeded so send the payload and add the unsent as the next batch to send\r\n                                        theBatches = [thePayload.overflow][_DYN_CONCAT /* @min:%2econcat */](theBatches);\r\n                                        thePayload.overflow = null;\r\n                                        _doPayloadSend(thePayload, serializationStart, getTime(), sendReason);\r\n                                        serializationStart = getTime();\r\n                                        thePayload = null;\r\n                                    }\r\n                                }\r\n                                else {\r\n                                    droppedBatches[_DYN_PUSH /* @min:%2epush */](theBatch);\r\n                                }\r\n                            }\r\n                        }\r\n                        // Make sure to flush any remaining payload\r\n                        if (thePayload) {\r\n                            _doPayloadSend(thePayload, serializationStart, getTime(), sendReason);\r\n                        }\r\n                        if (theBatches[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                            // Add any unsent batches back to the head of the queue\r\n                            _batchQueue = theBatches[_DYN_CONCAT /* @min:%2econcat */](_batchQueue);\r\n                        }\r\n                        // Now send notification about any dropped events\r\n                        _sendBatchesNotification(droppedBatches, 8004 /* EventBatchNotificationReason.KillSwitch */, sendType);\r\n                    }, function () { return ({ batches: _createDebugBatches(orgBatches_1), retryCount: retryCount, isTeardown: isTeardown, isSynchronous: isSynchronous_1, sendReason: sendReason, useSendBeacon: _isBeaconPayload(sendType), sendType: sendType }); }, !isSynchronous_1);\r\n                }\r\n                catch (ex) {\r\n                    _throwInternal(_logger, 2 /* eLoggingSeverity.WARNING */, 48 /* _eInternalMessageId.CannotSerializeObject */, \"Unexpected Exception sending batch: \" + dumpObj(ex));\r\n                }\r\n            }\r\n            function _buildRequestDetails(thePayload, useHeaders) {\r\n                var requestDetails = {\r\n                    url: _urlString,\r\n                    hdrs: {},\r\n                    useHdrs: false // Assume no headers\r\n                };\r\n                if (!useHeaders) {\r\n                    // Attempt to map headers to a query string if possible\r\n                    objForEachKey(_headers, function (name, value) {\r\n                        if (_collectorHeaderToQs[name]) {\r\n                            _addRequestDetails(requestDetails, _collectorHeaderToQs[name], value, false);\r\n                        }\r\n                        else {\r\n                            // No mapping, so just include in the headers anyway (may not get sent if using sendBeacon())\r\n                            requestDetails[_DYN_HDRS /* @min:%2ehdrs */][name] = value;\r\n                            requestDetails[_DYN_USE_HDRS /* @min:%2euseHdrs */] = true;\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    // Copy the pre-defined headers into the payload headers\r\n                    requestDetails[_DYN_HDRS /* @min:%2ehdrs */] = extend(requestDetails[_DYN_HDRS /* @min:%2ehdrs */], _headers);\r\n                    requestDetails.useHdrs = (objKeys(requestDetails.hdrs)[_DYN_LENGTH /* @min:%2elength */] > 0);\r\n                }\r\n                _addRequestDetails(requestDetails, STR_CLIENT_ID, \"NO_AUTH\", useHeaders);\r\n                _addRequestDetails(requestDetails, STR_CLIENT_VERSION, FullVersionString, useHeaders);\r\n                var apiQsKeys = STR_EMPTY;\r\n                arrForEach(thePayload.apiKeys, function (apiKey) {\r\n                    if (apiQsKeys[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                        apiQsKeys += \",\";\r\n                    }\r\n                    apiQsKeys += apiKey;\r\n                });\r\n                _addRequestDetails(requestDetails, STR_API_KEY, apiQsKeys, useHeaders);\r\n                _addRequestDetails(requestDetails, STR_UPLOAD_TIME, dateNow().toString(), useHeaders);\r\n                var msfpc = _getMsfpc(thePayload);\r\n                if (isValueAssigned(msfpc)) {\r\n                    requestDetails.url += \"&ext.intweb.msfpc=\" + msfpc;\r\n                }\r\n                if (_clockSkewManager[_DYN_SHOULD_ADD_CLOCK_SKE1 /* @min:%2eshouldAddClockSkewHeaders */]()) {\r\n                    _addRequestDetails(requestDetails, STR_TIME_DELTA_TO_APPLY, _clockSkewManager[_DYN_GET_CLOCK_SKEW_HEADE2 /* @min:%2egetClockSkewHeaderValue */](), useHeaders);\r\n                }\r\n                if (_core[_DYN_GET_WPARAM /* @min:%2egetWParam */]) {\r\n                    var wParam = _core[_DYN_GET_WPARAM /* @min:%2egetWParam */]();\r\n                    if (wParam >= 0) {\r\n                        requestDetails.url += \"&w=\" + wParam;\r\n                    }\r\n                }\r\n                for (var i = 0; i < _queryStringParameters[_DYN_LENGTH /* @min:%2elength */]; i++) {\r\n                    requestDetails.url += \"&\" + _queryStringParameters[i].name + \"=\" + _queryStringParameters[i].value;\r\n                }\r\n                return requestDetails;\r\n            }\r\n            function _setTimingValue(timings, name, value) {\r\n                timings[name] = timings[name] || {};\r\n                timings[name][_postManager.identifier] = value;\r\n            }\r\n            function _doPayloadSend(thePayload, serializationStart, serializationCompleted, sendReason) {\r\n                if (thePayload && thePayload.payloadBlob && thePayload.payloadBlob[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var useSendHook_1 = !!_sendHook;\r\n                    var sendInterface_1 = _sendInterfaces[thePayload.sendType];\r\n                    // Send all data using a beacon style transport if closing mode is on or channel was teared down\r\n                    if (!_isBeaconPayload(thePayload[_DYN_SEND_TYPE /* @min:%2esendType */]) && thePayload[_DYN_IS_BEACON /* @min:%2eisBeacon */] && thePayload.sendReason === 2 /* SendRequestReason.Unload */) {\r\n                        sendInterface_1 = _sendInterfaces[2 /* EventSendType.SendBeacon */] || _sendInterfaces[3 /* EventSendType.SyncFetch */] || sendInterface_1;\r\n                    }\r\n                    var useHeaders_1 = _useHeaders;\r\n                    // Disable header usage if we know we are using sendBeacon as additional headers are not supported\r\n                    if (thePayload.isBeacon || sendInterface_1[_DYN__TRANSPORT /* @min:%2e_transport */] === 3 /* TransportType.Beacon */) {\r\n                        useHeaders_1 = false;\r\n                    }\r\n                    var requestDetails_1 = _buildRequestDetails(thePayload, useHeaders_1);\r\n                    useHeaders_1 = useHeaders_1 || requestDetails_1[_DYN_USE_HDRS /* @min:%2euseHdrs */];\r\n                    var sendEventStart_1 = getTime();\r\n                    doPerf(_core, function () { return \"HttpManager:_doPayloadSend\"; }, function () {\r\n                        // Increment the send attempt count and add timings after packaging (So it's not serialized in the 1st attempt)\r\n                        for (var batchLp = 0; batchLp < thePayload.batches[_DYN_LENGTH /* @min:%2elength */]; batchLp++) {\r\n                            var theBatch = thePayload[_DYN_BATCHES /* @min:%2ebatches */][batchLp];\r\n                            var theEvents = theBatch[_DYN_EVENTS /* @min:%2eevents */]();\r\n                            for (var evtLp = 0; evtLp < theEvents[_DYN_LENGTH /* @min:%2elength */]; evtLp++) {\r\n                                var telemetryItem = theEvents[evtLp];\r\n                                if (_enableEventTimings) {\r\n                                    var timings = telemetryItem[_DYN_TIMINGS /* @min:%2etimings */] = telemetryItem[_DYN_TIMINGS /* @min:%2etimings */] || {};\r\n                                    _setTimingValue(timings, \"sendEventStart\", sendEventStart_1);\r\n                                    _setTimingValue(timings, \"serializationStart\", serializationStart);\r\n                                    _setTimingValue(timings, \"serializationCompleted\", serializationCompleted);\r\n                                }\r\n                                telemetryItem[strSendAttempt] > 0 ? telemetryItem[strSendAttempt]++ : telemetryItem[strSendAttempt] = 1;\r\n                            }\r\n                        }\r\n                        // Note: always sending this notification in a synchronous manner.\r\n                        _sendBatchesNotification(thePayload[_DYN_BATCHES /* @min:%2ebatches */], (1000 /* EventBatchNotificationReason.SendingUndefined */ + (sendReason || 0 /* SendRequestReason.Undefined */)), thePayload[_DYN_SEND_TYPE /* @min:%2esendType */], true);\r\n                        // Disabling the use of const because of Issue:\r\n                        // - Task 9227844: [1DS] Some environments and packagers automatically \"freeze\" objects which are defined as const which causes any mutations to throw\r\n                        // eslint-disable-next-line prefer-const\r\n                        var orgPayloadData = {\r\n                            data: thePayload[_DYN_PAYLOAD_BLOB /* @min:%2epayloadBlob */],\r\n                            urlString: requestDetails_1.url,\r\n                            headers: requestDetails_1[_DYN_HDRS /* @min:%2ehdrs */],\r\n                            _thePayload: thePayload,\r\n                            _sendReason: sendReason,\r\n                            timeout: _xhrTimeout,\r\n                            disableXhrSync: _disableXhrSync,\r\n                            disableFetchKeepAlive: _disableFetchKeepAlive\r\n                        };\r\n                        // Only automatically add the following headers if already sending headers and we are not attempting to avoid an options call\r\n                        if (useHeaders_1) {\r\n                            if (!_hasHeader(orgPayloadData[_DYN_HEADERS /* @min:%2eheaders */], STR_CACHE_CONTROL)) {\r\n                                orgPayloadData[_DYN_HEADERS /* @min:%2eheaders */][STR_CACHE_CONTROL] = DEFAULT_CACHE_CONTROL;\r\n                            }\r\n                            if (!_hasHeader(orgPayloadData[_DYN_HEADERS /* @min:%2eheaders */], STR_CONTENT_TYPE_HEADER)) {\r\n                                orgPayloadData[_DYN_HEADERS /* @min:%2eheaders */][STR_CONTENT_TYPE_HEADER] = DEFAULT_CONTENT_TYPE;\r\n                            }\r\n                        }\r\n                        var sender = null;\r\n                        if (sendInterface_1) {\r\n                            // Send sync requests if the request is immediate or we are tearing down telemetry.\r\n                            sender = function (payload) {\r\n                                // Notify the clock skew manager that we are sending the first request (Potentially blocking all further requests)\r\n                                _clockSkewManager[_DYN_FIRST_REQUEST_SENT /* @min:%2efirstRequestSent */]();\r\n                                var onComplete = function (status, headers) {\r\n                                    _retryRequestIfNeeded(status, headers, thePayload, sendReason);\r\n                                };\r\n                                var isSync = thePayload[_DYN_IS_TEARDOWN /* @min:%2eisTeardown */] || thePayload[_DYN_IS_SYNC /* @min:%2eisSync */];\r\n                                try {\r\n                                    sendInterface_1.sendPOST(payload, onComplete, isSync);\r\n                                    if (_sendListener) {\r\n                                        // Send the original payload to the listener\r\n                                        _sendListener(orgPayloadData, payload, isSync, thePayload[_DYN_IS_BEACON /* @min:%2eisBeacon */]);\r\n                                    }\r\n                                }\r\n                                catch (ex) {\r\n                                    _warnToConsole(_logger, \"Unexpected exception sending payload. Ex:\" + dumpObj(ex));\r\n                                    _doOnComplete(onComplete, 0, {});\r\n                                }\r\n                            };\r\n                        }\r\n                        doPerf(_core, function () { return \"HttpManager:_doPayloadSend.sender\"; }, function () {\r\n                            if (sender) {\r\n                                if (thePayload[_DYN_SEND_TYPE /* @min:%2esendType */] === 0 /* EventSendType.Batched */) {\r\n                                    _outstandingRequests++;\r\n                                }\r\n                                // Only call the hook if it's defined and we are not using sendBeacon as additional headers are not supported\r\n                                if (useSendHook_1 && !thePayload.isBeacon && sendInterface_1[_DYN__TRANSPORT /* @min:%2e_transport */] !== 3 /* TransportType.Beacon */) {\r\n                                    // Create a new IPayloadData that is sent into the hook method, so that the hook method\r\n                                    // can't change the object references to the orgPayloadData (it can still change the content -- mainly the headers)\r\n                                    // Disabling the use of const because of Issue:\r\n                                    // - Task 9227844: [1DS] Some environments and packagers automatically \"freeze\" objects which are defined as const which causes any mutations to throw\r\n                                    // eslint-disable-next-line prefer-const\r\n                                    var hookData_1 = {\r\n                                        data: orgPayloadData[_DYN_DATA /* @min:%2edata */],\r\n                                        urlString: orgPayloadData[_DYN_URL_STRING /* @min:%2eurlString */],\r\n                                        headers: extend({}, orgPayloadData[_DYN_HEADERS /* @min:%2eheaders */]),\r\n                                        timeout: orgPayloadData[_DYN_TIMEOUT /* @min:%2etimeout */],\r\n                                        disableXhrSync: orgPayloadData[_DYN_DISABLE_XHR_SYNC /* @min:%2edisableXhrSync */],\r\n                                        disableFetchKeepAlive: orgPayloadData[_DYN_DISABLE_FETCH_KEEP_A6 /* @min:%2edisableFetchKeepAlive */]\r\n                                    };\r\n                                    var senderCalled_1 = false;\r\n                                    doPerf(_core, function () { return \"HttpManager:_doPayloadSend.sendHook\"; }, function () {\r\n                                        try {\r\n                                            _sendHook(hookData_1, function (payload) {\r\n                                                senderCalled_1 = true;\r\n                                                // Add back the internal properties\r\n                                                if (!_customHttpInterface && !payload[_DYN__THE_PAYLOAD /* @min:%2e_thePayload */]) {\r\n                                                    payload[_DYN__THE_PAYLOAD /* @min:%2e_thePayload */] = payload[_DYN__THE_PAYLOAD /* @min:%2e_thePayload */] || orgPayloadData[_DYN__THE_PAYLOAD /* @min:%2e_thePayload */];\r\n                                                    payload[_DYN__SEND_REASON /* @min:%2e_sendReason */] = payload[_DYN__SEND_REASON /* @min:%2e_sendReason */] || orgPayloadData[_DYN__SEND_REASON /* @min:%2e_sendReason */];\r\n                                                }\r\n                                                sender(payload);\r\n                                            }, thePayload.isSync || thePayload[_DYN_IS_TEARDOWN /* @min:%2eisTeardown */]);\r\n                                        }\r\n                                        catch (ex) {\r\n                                            if (!senderCalled_1) {\r\n                                                // The hook never called the sender -- assume that it never will\r\n                                                sender(orgPayloadData);\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                }\r\n                                else {\r\n                                    sender(orgPayloadData);\r\n                                }\r\n                            }\r\n                        });\r\n                    }, function () { return ({ thePayload: thePayload, serializationStart: serializationStart, serializationCompleted: serializationCompleted, sendReason: sendReason }); }, thePayload[_DYN_IS_SYNC /* @min:%2eisSync */]);\r\n                }\r\n                if (thePayload.sizeExceed && thePayload.sizeExceed[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    // Ensure that we send any discard events for oversize events even when there was no payload to send\r\n                    _sendBatchesNotification(thePayload.sizeExceed, 8003 /* EventBatchNotificationReason.SizeLimitExceeded */, thePayload[_DYN_SEND_TYPE /* @min:%2esendType */]);\r\n                }\r\n                if (thePayload.failedEvts && thePayload.failedEvts[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    // Ensure that we send any discard events for events that could not be serialized even when there was no payload to send\r\n                    _sendBatchesNotification(thePayload.failedEvts, 8002 /* EventBatchNotificationReason.InvalidEvent */, thePayload[_DYN_SEND_TYPE /* @min:%2esendType */]);\r\n                }\r\n            }\r\n            function _addEventCompletedTimings(theEvents, sendEventCompleted) {\r\n                if (_enableEventTimings) {\r\n                    arrForEach(theEvents, function (theEvent) {\r\n                        var timings = theEvent[_DYN_TIMINGS /* @min:%2etimings */] = theEvent[_DYN_TIMINGS /* @min:%2etimings */] || {};\r\n                        _setTimingValue(timings, \"sendEventCompleted\", sendEventCompleted);\r\n                    });\r\n                }\r\n            }\r\n            function _retryRequestIfNeeded(status, headers, thePayload, sendReason) {\r\n                var reason = 9000 /* EventBatchNotificationReason.ResponseFailure */;\r\n                var droppedBatches = null;\r\n                var isRetrying = false;\r\n                var backOffTrans = false;\r\n                try {\r\n                    var shouldRetry = true;\r\n                    if (typeof status !== strUndefined) {\r\n                        if (headers) {\r\n                            _clockSkewManager[_DYN_SET_CLOCK_SKEW /* @min:%2esetClockSkew */](headers[STR_TIME_DELTA_HEADER]);\r\n                            var killDuration = headers[STR_KILL_DURATION_HEADER] || headers[\"kill-duration-seconds\"];\r\n                            arrForEach(_killSwitch[_DYN_SET_KILL_SWITCH_TENA11 /* @min:%2esetKillSwitchTenants */](headers[STR_KILL_TOKENS_HEADER], killDuration), function (killToken) {\r\n                                arrForEach(thePayload[_DYN_BATCHES /* @min:%2ebatches */], function (theBatch) {\r\n                                    if (theBatch[_DYN_I_KEY /* @min:%2eiKey */]() === killToken) {\r\n                                        // Make sure we have initialized the array\r\n                                        droppedBatches = droppedBatches || [];\r\n                                        // Create a copy of the batch with all of the events (and more importantly the action functions)\r\n                                        var removedEvents = theBatch[_DYN_SPLIT /* @min:%2esplit */](0);\r\n                                        // And then remove the events for the payload batch and reduce the actual number of processed\r\n                                        thePayload.numEvents -= removedEvents[_DYN_COUNT /* @min:%2ecount */]();\r\n                                        droppedBatches[_DYN_PUSH /* @min:%2epush */](removedEvents);\r\n                                    }\r\n                                });\r\n                            });\r\n                        }\r\n                        // Disabling triple-equals rule to avoid httpOverrides from failing because they are returning a string value\r\n                        // tslint:disable-next-line:triple-equals\r\n                        if (status == 200 || status == 204) {\r\n                            // Response was successfully sent\r\n                            reason = 200 /* EventBatchNotificationReason.Complete */;\r\n                            return;\r\n                        }\r\n                        if (!retryPolicyShouldRetryForStatus(status) || thePayload.numEvents <= 0) {\r\n                            // Only retry for specific response codes and if there is still events after kill switch processing\r\n                            shouldRetry = false;\r\n                        }\r\n                        // Derive the notification response from the HttpStatus Code\r\n                        reason = 9000 /* EventBatchNotificationReason.ResponseFailure */ + (status % 1000);\r\n                    }\r\n                    if (shouldRetry) {\r\n                        // The events should be retried -- so change notification to requeue them\r\n                        reason = 100 /* EventBatchNotificationReason.RequeueEvents */;\r\n                        var retryCount_1 = thePayload.retryCnt;\r\n                        if (thePayload[_DYN_SEND_TYPE /* @min:%2esendType */] === 0 /* EventSendType.Batched */) {\r\n                            // attempt to resend the entire batch\r\n                            if (retryCount_1 < maxRequestRetriesBeforeBackoff) {\r\n                                isRetrying = true;\r\n                                _doAction(function () {\r\n                                    // try to resend the same batches\r\n                                    if (thePayload[_DYN_SEND_TYPE /* @min:%2esendType */] === 0 /* EventSendType.Batched */) {\r\n                                        // Reduce the outstanding request count (if this was an async request) as we didn't reduce the count\r\n                                        // previously and we are about to reschedule our retry attempt and we want an attempt to send\r\n                                        // to occur, it's also required to ensure that a follow up handleRequestFinished() call occurs\r\n                                        _outstandingRequests--;\r\n                                    }\r\n                                    _sendBatches(thePayload[_DYN_BATCHES /* @min:%2ebatches */], retryCount_1 + 1, thePayload[_DYN_IS_TEARDOWN /* @min:%2eisTeardown */], _isUnloading ? 2 /* EventSendType.SendBeacon */ : thePayload[_DYN_SEND_TYPE /* @min:%2esendType */], 5 /* SendRequestReason.Retry */);\r\n                                }, _isUnloading, retryPolicyGetMillisToBackoffForRetry(retryCount_1));\r\n                            }\r\n                            else {\r\n                                backOffTrans = true;\r\n                                if (_isUnloading) {\r\n                                    // we are unloading so don't try and requeue the events otherwise let the events get requeued and resent during the backoff sending\r\n                                    // This will also cause the events to be purged based on the priority (if necessary)\r\n                                    reason = 8001 /* EventBatchNotificationReason.NonRetryableStatus */;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                finally {\r\n                    if (!isRetrying) {\r\n                        // Make sure the clockSkewManager doesn't blocking further sending of requests once we have a proper response\r\n                        // This won't override any previously sent clock Skew value\r\n                        _clockSkewManager[_DYN_SET_CLOCK_SKEW /* @min:%2esetClockSkew */]();\r\n                        _handleRequestFinished(thePayload, reason, sendReason, backOffTrans);\r\n                    }\r\n                    _sendBatchesNotification(droppedBatches, 8004 /* EventBatchNotificationReason.KillSwitch */, thePayload[_DYN_SEND_TYPE /* @min:%2esendType */]);\r\n                }\r\n            }\r\n            function _handleRequestFinished(thePayload, batchReason, sendReason, backOffTrans) {\r\n                try {\r\n                    if (backOffTrans) {\r\n                        // Slow down the transmission requests\r\n                        _postManager[_DYN__BACK_OFF_TRANSMISSI12 /* @min:%2e_backOffTransmission */]();\r\n                    }\r\n                    var theBatches = thePayload[_DYN_BATCHES /* @min:%2ebatches */];\r\n                    if (batchReason === 200 /* EventBatchNotificationReason.Complete */) {\r\n                        theBatches = thePayload.sentEvts || thePayload[_DYN_BATCHES /* @min:%2ebatches */];\r\n                        if (!backOffTrans && !thePayload[_DYN_IS_SYNC /* @min:%2eisSync */]) {\r\n                            // We have a successful async response, so the lets open the floodgates\r\n                            // The reason for checking isSync is to avoid unblocking if beacon send occurred as it\r\n                            // doesn't wait for a response.\r\n                            _postManager._clearBackOff();\r\n                        }\r\n                        _addCompleteTimings(theBatches);\r\n                    }\r\n                    // Send the notifications synchronously\r\n                    _sendBatchesNotification(theBatches, batchReason, thePayload[_DYN_SEND_TYPE /* @min:%2esendType */], true);\r\n                }\r\n                finally {\r\n                    if (thePayload[_DYN_SEND_TYPE /* @min:%2esendType */] === 0 /* EventSendType.Batched */) {\r\n                        // we always need to decrement this value otherwise the httpmanager locks up and won't send any more events\r\n                        _outstandingRequests--;\r\n                        // Don't try to send additional queued events if this is a retry operation as the retried\r\n                        // response will eventually call _handleRequestFinished for the retried event\r\n                        if (sendReason !== 5 /* SendRequestReason.Retry */) {\r\n                            // Try and send any other queued batched events\r\n                            _self.sendQueuedRequests(thePayload[_DYN_SEND_TYPE /* @min:%2esendType */], sendReason);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            function _addCompleteTimings(theBatches) {\r\n                if (_enableEventTimings) {\r\n                    var sendEventCompleted_1 = getTime();\r\n                    arrForEach(theBatches, function (theBatch) {\r\n                        if (theBatch && theBatch[_DYN_COUNT /* @min:%2ecount */]() > 0) {\r\n                            _addEventCompletedTimings(theBatch[_DYN_EVENTS /* @min:%2eevents */](), sendEventCompleted_1);\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            function _doAction(cb, isSync, interval) {\r\n                if (isSync) {\r\n                    cb();\r\n                }\r\n                else {\r\n                    _timeoutWrapper.set(cb, interval);\r\n                }\r\n            }\r\n            function _getMsfpc(thePayload) {\r\n                for (var lp = 0; lp < thePayload.batches[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n                    var msfpc = thePayload[_DYN_BATCHES /* @min:%2ebatches */][lp].Msfpc();\r\n                    if (msfpc) {\r\n                        return encodeURIComponent(msfpc);\r\n                    }\r\n                }\r\n                return STR_EMPTY;\r\n            }\r\n            function _handleCollectorResponse(responseText) {\r\n                var responseHandlers = _responseHandlers;\r\n                try {\r\n                    for (var i = 0; i < responseHandlers[_DYN_LENGTH /* @min:%2elength */]; i++) {\r\n                        try {\r\n                            responseHandlers[i](responseText);\r\n                        }\r\n                        catch (e) {\r\n                            _throwInternal(_logger, 1 /* eLoggingSeverity.CRITICAL */, 519 /* _eExtendedInternalMessageId.PostResponseHandler */, \"Response handler failed: \" + e);\r\n                        }\r\n                    }\r\n                    if (responseText) {\r\n                        var response = JSON.parse(responseText);\r\n                        if (isValueAssigned(response.webResult) && isValueAssigned(response.webResult[STR_MSFPC])) {\r\n                            // Set cookie\r\n                            _cookieMgr.set(\"MSFPC\", response.webResult[STR_MSFPC], 365 * 86400);\r\n                        }\r\n                    }\r\n                }\r\n                catch (ex) {\r\n                    // Doing nothing\r\n                }\r\n            }\r\n            function _sendBatchesNotification(theBatches, batchReason, sendType, sendSync) {\r\n                if (theBatches && theBatches[_DYN_LENGTH /* @min:%2elength */] > 0 && actions) {\r\n                    var theAction_1 = actions[_getNotificationAction(batchReason)];\r\n                    if (theAction_1) {\r\n                        var isSyncRequest_1 = sendType !== 0 /* EventSendType.Batched */;\r\n                        doPerf(_core, function () { return \"HttpManager:_sendBatchesNotification\"; }, function () {\r\n                            _doAction(function () {\r\n                                try {\r\n                                    theAction_1.call(actions, theBatches, batchReason, isSyncRequest_1, sendType);\r\n                                }\r\n                                catch (e) {\r\n                                    _throwInternal(_logger, 1 /* eLoggingSeverity.CRITICAL */, 74 /* _eInternalMessageId.NotificationException */, \"send request notification failed: \" + e);\r\n                                }\r\n                            }, sendSync || isSyncRequest_1, 0);\r\n                        }, function () { return ({ batches: _createDebugBatches(theBatches), reason: batchReason, isSync: isSyncRequest_1, sendSync: sendSync, sendType: sendType }); }, !isSyncRequest_1);\r\n                    }\r\n                }\r\n            }\r\n            function _getNotificationAction(reason) {\r\n                var action = _eventActionMap[reason];\r\n                if (!isValueAssigned(action)) {\r\n                    action = STR_OTHER;\r\n                    if (reason >= 9000 /* EventBatchNotificationReason.ResponseFailure */ && reason <= 9999 /* EventBatchNotificationReason.ResponseFailureMax */) {\r\n                        action = STR_RESPONSE_FAIL;\r\n                    }\r\n                    else if (reason >= 8000 /* EventBatchNotificationReason.EventsDropped */ && reason <= 8999 /* EventBatchNotificationReason.EventsDroppedMax */) {\r\n                        action = STR_DROPPED;\r\n                    }\r\n                    else if (reason >= 1000 /* EventBatchNotificationReason.SendingUndefined */ && reason <= 1999 /* EventBatchNotificationReason.SendingEventMax */) {\r\n                        action = STR_SENDING;\r\n                    }\r\n                }\r\n                return action;\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for HttpManager.prototype.initialize.\r\n// Removed Stub for HttpManager.prototype.addHeader.\r\n// Removed Stub for HttpManager.prototype.removeHeader.\r\n// Removed Stub for HttpManager.prototype.addResponseHandler.\r\n// Removed Stub for HttpManager.prototype.addBatch.\r\n// Removed Stub for HttpManager.prototype.canSendRequest.\r\n// Removed Stub for HttpManager.prototype.sendQueuedRequests.\r\n// Removed Stub for HttpManager.prototype.isCompletelyIdle.\r\n// Removed Stub for HttpManager.prototype.setUnloading.\r\n// Removed Stub for HttpManager.prototype.teardown.\r\n// Removed Stub for HttpManager.prototype.pause.\r\n// Removed Stub for HttpManager.prototype.resume.\r\n// Removed Stub for HttpManager.prototype.sendSynchronousBatch.\r\n// Removed Stub for HttpManager.prototype.serializeOfflineEvt.\r\n// Removed Stub for HttpManager.prototype.getOfflineRequestDetails.\r\n// Removed Stub for HttpManager.prototype.createOneDSPayload.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    HttpManager.__ieDyn=1;\n\n    return HttpManager;\r\n}());\r\nexport { HttpManager };\r\n//# sourceMappingURL=HttpManager.js.map","/*\n * 1DS JS SDK POST plugin, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\n/**\r\n* TimeoutOverrideWrapper.ts\r\n* @author  Nev Wylie (newylie)\r\n* @copyright Microsoft 2022\r\n* Simple internal timeout wrapper\r\n*/\r\nimport { scheduleTimeoutWith } from \"@nevware21/ts-utils\";\r\nexport function createTimeoutWrapper(argSetTimeout, argClearTimeout) {\r\n    return {\r\n        set: function (callback, ms) {\r\n            var args = [];\r\n            for (var _i = 2; _i < arguments.length; _i++) {\r\n                args[_i - 2] = arguments[_i];\r\n            }\r\n            return scheduleTimeoutWith([argSetTimeout, argClearTimeout], callback, ms, args);\r\n        }\r\n    };\r\n}\r\n//# sourceMappingURL=TimeoutOverrideWrapper.js.map","/*\n * 1DS JS SDK POST plugin, 4.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n * (Microsoft Internal Only)\n */\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\n/**\r\n* PostManager.ts\r\n* @author Abhilash Panwar (abpanwar); Hector Hernandez (hectorh); Nev Wylie (newylie)\r\n* @copyright Microsoft 2018-2020\r\n*/\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { BaseTelemetryPlugin, EventsDiscardedReason, _throwInternal, addPageHideEventListener, addPageShowEventListener, addPageUnloadEventListener, arrForEach, createProcessTelemetryContext, createUniqueNamespace, doPerf, getWindow, isChromium, isGreaterThanZero, isNumber, mergeEvtNamespace, objForEachKey, onConfigChange, optimizeObject, proxyFunctions, removePageHideEventListener, removePageShowEventListener, removePageUnloadEventListener, setProcessTelemetryTimings } from \"@microsoft/1ds-core-js\";\r\nimport { createPromise } from \"@nevware21/ts-async\";\r\nimport { isPromiseLike, objDeepFreeze } from \"@nevware21/ts-utils\";\r\nimport { BE_PROFILE, NRT_PROFILE, RT_PROFILE } from \"./DataModels\";\r\nimport { EventBatch } from \"./EventBatch\";\r\nimport { HttpManager } from \"./HttpManager\";\r\nimport { STR_AUTH_WEB_TOKEN, STR_MSA_DEVICE_TICKET, STR_TRACE, STR_USER } from \"./InternalConstants\";\r\nimport { retryPolicyGetMillisToBackoffForRetry } from \"./RetryPolicy\";\r\nimport { createTimeoutWrapper } from \"./TimeoutOverrideWrapper\";\r\nimport { _DYN_ADD_HEADER, _DYN_AUTO_FLUSH_EVENTS_LI14, _DYN_BASE_DATA, _DYN_BATCHES, _DYN_CAN_SEND_REQUEST, _DYN_CLEAR_TIMEOUT_OVERRI3, _DYN_CONCAT, _DYN_COUNT, _DYN_CREATE_ONE_DSPAYLOAD, _DYN_DATA, _DYN_DISABLE_AUTO_BATCH_F15, _DYN_DISABLE_OPTIMIZE_OBJ, _DYN_DISABLE_TELEMETRY, _DYN_EVENTS, _DYN_EVENTS_LIMIT_IN_MEM, _DYN_GET_OFFLINE_REQUEST_9, _DYN_GET_WPARAM, _DYN_IDENTIFIER, _DYN_IGNORE_MC1_MS0_COOKI13, _DYN_INITIALIZE, _DYN_IS_COMPLETELY_IDLE, _DYN_I_KEY, _DYN_LATENCY, _DYN_LENGTH, _DYN_OVERRIDE_INSTRUMENTA16, _DYN_PUSH, _DYN_RESUME, _DYN_SEND_ATTEMPT, _DYN_SEND_QUEUED_REQUESTS, _DYN_SEND_SYNCHRONOUS_BAT10, _DYN_SERIALIZE_OFFLINE_EV8, _DYN_SET_TIMEOUT_OVERRIDE, _DYN_SET_UNLOADING, _DYN_SPLICE, _DYN_SPLIT, _DYN_SYNC, _DYN__BACK_OFF_TRANSMISSI12 } from \"./__DynamicConstants\";\r\nvar FlushCheckTimer = 0.250; // This needs to be in seconds, so this is 250ms\r\nvar MaxNumberEventPerBatch = 500;\r\nvar EventsDroppedAtOneTime = 20;\r\nvar MaxSendAttempts = 6;\r\nvar MaxSyncUnloadSendAttempts = 2; // Assuming 2 based on beforeunload and unload\r\nvar MaxBackoffCount = 4;\r\nvar MaxConnections = 2;\r\nvar MaxRequestRetriesBeforeBackoff = 1;\r\nvar MaxEventsLimitInMem = 10000;\r\nvar strEventsDiscarded = \"eventsDiscarded\";\r\nvar EMPTY_STR = \"\";\r\nvar undefValue = undefined;\r\n/**\r\n * The default settings for the config.\r\n * WE MUST include all defaults here to ensure that the config is created with all of the properties\r\n * defined as dynamic.\r\n */\r\nvar defaultPostChannelConfig = objDeepFreeze({\r\n    eventsLimitInMem: { isVal: isGreaterThanZero, v: MaxEventsLimitInMem },\r\n    immediateEventLimit: { isVal: isGreaterThanZero, v: 500 },\r\n    autoFlushEventsLimit: { isVal: isGreaterThanZero, v: 0 },\r\n    disableAutoBatchFlushLimit: false,\r\n    httpXHROverride: { isVal: isOverrideFn, v: undefValue },\r\n    overrideInstrumentationKey: undefValue,\r\n    overrideEndpointUrl: undefValue,\r\n    disableTelemetry: false,\r\n    ignoreMc1Ms0CookieProcessing: false,\r\n    setTimeoutOverride: undefValue,\r\n    clearTimeoutOverride: undefValue,\r\n    payloadPreprocessor: undefValue,\r\n    payloadListener: undefValue,\r\n    disableEventTimings: undefValue,\r\n    valueSanitizer: undefValue,\r\n    stringifyObjects: undefValue,\r\n    enableCompoundKey: undefValue,\r\n    disableOptimizeObj: false,\r\n    fetchCredentials: undefValue,\r\n    // disableCacheHeader: undefValue, // See Task #7178858 - Collector requires a change to support this\r\n    transports: undefValue,\r\n    unloadTransports: undefValue,\r\n    useSendBeacon: undefValue,\r\n    disableFetchKeepAlive: undefValue,\r\n    avoidOptions: false,\r\n    xhrTimeout: undefValue,\r\n    disableXhrSync: undefValue,\r\n    alwaysUseXhrOverride: false,\r\n    maxEventRetryAttempts: { isVal: isNumber, v: MaxSendAttempts },\r\n    maxUnloadEventRetryAttempts: { isVal: isNumber, v: MaxSyncUnloadSendAttempts },\r\n    addNoResponse: undefValue,\r\n    excludeCsMetaData: undefValue\r\n});\r\nfunction isOverrideFn(httpXHROverride) {\r\n    return httpXHROverride && httpXHROverride.sendPOST;\r\n}\r\n/**\r\n * Class that manages adding events to inbound queues and batching of events\r\n * into requests.\r\n * @group Classes\r\n * @group Entrypoint\r\n */\r\nvar PostChannel = /** @class */ (function (_super) {\r\n    __extends(PostChannel, _super);\r\n    function PostChannel() {\r\n        var _this = _super.call(this) || this;\r\n        _this.identifier = \"PostChannel\";\r\n        _this.priority = 1011;\r\n        _this.version = '4.3.4';\r\n        var _postConfig;\r\n        var _isTeardownCalled = false;\r\n        var _flushCallbackQueue = [];\r\n        var _flushCallbackTimer;\r\n        var _paused = false;\r\n        var _immediateQueueSize = 0;\r\n        var _immediateQueueSizeLimit;\r\n        var _queueSize = 0;\r\n        var _queueSizeLimit;\r\n        var _profiles = {};\r\n        var _currentProfile = RT_PROFILE;\r\n        var _scheduledTimer;\r\n        var _immediateTimer;\r\n        var _currentBackoffCount;\r\n        var _timerCount;\r\n        var _httpManager;\r\n        var _batchQueues;\r\n        var _autoFlushEventsLimit;\r\n        // either MaxBatchSize * (1+ Max Connections) or _queueLimit / 6 (where 3 latency Queues [normal, realtime, cost deferred] * 2 [allow half full -- allow for retry])\r\n        var _autoFlushBatchLimit;\r\n        var _delayedBatchSendLatency;\r\n        var _delayedBatchReason;\r\n        var _optimizeObject;\r\n        var _isPageUnloadTriggered;\r\n        var _maxEventSendAttempts;\r\n        var _maxUnloadEventSendAttempts;\r\n        var _evtNamespace;\r\n        var _timeoutWrapper;\r\n        var _ignoreMc1Ms0CookieProcessing;\r\n        var _disableAutoBatchFlushLimit;\r\n        var _notificationManager;\r\n        var _unloadHandlersAdded;\r\n        var _overrideInstrumentationKey;\r\n        var _disableTelemetry;\r\n        dynamicProto(PostChannel, _this, function (_self, _base) {\r\n            _initDefaults();\r\n            // Special internal method to allow the DebugPlugin to hook embedded objects\r\n            _self[\"_getDbgPlgTargets\"] = function () {\r\n                return [_httpManager, _postConfig];\r\n            };\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (theConfig, core, extensions) {\r\n                doPerf(core, function () { return \"PostChannel:initialize\"; }, function () {\r\n                    _base[_DYN_INITIALIZE /* @min:%2einitialize */](theConfig, core, extensions);\r\n                    _notificationManager = core.getNotifyMgr();\r\n                    try {\r\n                        _evtNamespace = mergeEvtNamespace(createUniqueNamespace(_self[_DYN_IDENTIFIER /* @min:%2eidentifier */]), core.evtNamespace && core.evtNamespace());\r\n                        _self._addHook(onConfigChange(theConfig, function (details) {\r\n                            var coreConfig = details.cfg;\r\n                            var ctx = createProcessTelemetryContext(null, coreConfig, core);\r\n                            _postConfig = ctx.getExtCfg(_self[_DYN_IDENTIFIER /* @min:%2eidentifier */], defaultPostChannelConfig);\r\n                            _timeoutWrapper = createTimeoutWrapper(_postConfig[_DYN_SET_TIMEOUT_OVERRIDE /* @min:%2esetTimeoutOverride */], _postConfig[_DYN_CLEAR_TIMEOUT_OVERRI3 /* @min:%2eclearTimeoutOverride */]);\r\n                            // Only try and use the optimizeObject() if this appears to be a chromium based browser and it has not been explicitly disabled\r\n                            _optimizeObject = !_postConfig[_DYN_DISABLE_OPTIMIZE_OBJ /* @min:%2edisableOptimizeObj */] && isChromium();\r\n                            _ignoreMc1Ms0CookieProcessing = _postConfig[_DYN_IGNORE_MC1_MS0_COOKI13 /* @min:%2eignoreMc1Ms0CookieProcessing */];\r\n                            _hookWParam(core); // _hookWParam uses _ignoreMc1Ms0CookieProcessing\r\n                            _queueSizeLimit = _postConfig[_DYN_EVENTS_LIMIT_IN_MEM /* @min:%2eeventsLimitInMem */];\r\n                            _immediateQueueSizeLimit = _postConfig.immediateEventLimit;\r\n                            _autoFlushEventsLimit = _postConfig[_DYN_AUTO_FLUSH_EVENTS_LI14 /* @min:%2eautoFlushEventsLimit */];\r\n                            _maxEventSendAttempts = _postConfig.maxEventRetryAttempts;\r\n                            _maxUnloadEventSendAttempts = _postConfig.maxUnloadEventRetryAttempts;\r\n                            _disableAutoBatchFlushLimit = _postConfig[_DYN_DISABLE_AUTO_BATCH_F15 /* @min:%2edisableAutoBatchFlushLimit */];\r\n                            if (isPromiseLike(coreConfig.endpointUrl)) {\r\n                                _self.pause();\r\n                            }\r\n                            else if (!!_paused) {\r\n                                // if previous url is promise, resume\r\n                                _self[_DYN_RESUME /* @min:%2eresume */]();\r\n                            }\r\n                            _setAutoLimits();\r\n                            // Override iKey if provided in Post config if provided for during initialization\r\n                            _overrideInstrumentationKey = _postConfig[_DYN_OVERRIDE_INSTRUMENTA16 /* @min:%2eoverrideInstrumentationKey */];\r\n                            // DisableTelemetry was defined in the config provided during initialization\r\n                            _disableTelemetry = !!_postConfig[_DYN_DISABLE_TELEMETRY /* @min:%2edisableTelemetry */];\r\n                            if (_unloadHandlersAdded) {\r\n                                _removeUnloadHandlers();\r\n                            }\r\n                            var excludePageUnloadEvents = coreConfig.disablePageUnloadEvents || [];\r\n                            // When running in Web browsers try to send all telemetry if page is unloaded\r\n                            _unloadHandlersAdded = addPageUnloadEventListener(_handleUnloadEvents, excludePageUnloadEvents, _evtNamespace);\r\n                            _unloadHandlersAdded = addPageHideEventListener(_handleUnloadEvents, excludePageUnloadEvents, _evtNamespace) || _unloadHandlersAdded;\r\n                            _unloadHandlersAdded = addPageShowEventListener(_handleShowEvents, coreConfig.disablePageShowEvents, _evtNamespace) || _unloadHandlersAdded;\r\n                        }));\r\n                        // only initialize the manager once\r\n                        _httpManager[_DYN_INITIALIZE /* @min:%2einitialize */](theConfig, _self.core, _self);\r\n                    }\r\n                    catch (e) {\r\n                        // resetting the initialized state because of failure\r\n                        _self.setInitialized(false);\r\n                        throw e;\r\n                    }\r\n                }, function () { return ({ theConfig: theConfig, core: core, extensions: extensions }); });\r\n            };\r\n            _self.processTelemetry = function (ev, itemCtx) {\r\n                setProcessTelemetryTimings(ev, _self[_DYN_IDENTIFIER /* @min:%2eidentifier */]);\r\n                itemCtx = itemCtx || _self._getTelCtx(itemCtx);\r\n                var event = ev;\r\n                if (!_disableTelemetry && !_isTeardownCalled) {\r\n                    // Override iKey if provided in Post config if provided for during initialization\r\n                    if (_overrideInstrumentationKey) {\r\n                        event[_DYN_I_KEY /* @min:%2eiKey */] = _overrideInstrumentationKey;\r\n                    }\r\n                    _addEventToQueues(event, true);\r\n                    if (_isPageUnloadTriggered) {\r\n                        // Unload event has been received so we need to try and flush new events\r\n                        _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                    }\r\n                    else {\r\n                        _scheduleTimer();\r\n                    }\r\n                }\r\n                _self.processNext(event, itemCtx);\r\n            };\r\n            _self.getOfflineSupport = function () {\r\n                try {\r\n                    var details_1 = _httpManager && _httpManager[_DYN_GET_OFFLINE_REQUEST_9 /* @min:%2egetOfflineRequestDetails */]();\r\n                    if (_httpManager) {\r\n                        return {\r\n                            getUrl: function () {\r\n                                if (details_1) {\r\n                                    return details_1.url;\r\n                                }\r\n                                return null;\r\n                            },\r\n                            serialize: _serialize,\r\n                            batch: _batch,\r\n                            shouldProcess: function (evt) {\r\n                                return !_disableTelemetry;\r\n                            },\r\n                            createPayload: function (evt) {\r\n                                return null;\r\n                            },\r\n                            createOneDSPayload: function (evts) {\r\n                                if (_httpManager[_DYN_CREATE_ONE_DSPAYLOAD /* @min:%2ecreateOneDSPayload */]) {\r\n                                    return _httpManager[_DYN_CREATE_ONE_DSPAYLOAD /* @min:%2ecreateOneDSPayload */](evts, _optimizeObject);\r\n                                }\r\n                            }\r\n                        };\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return null;\r\n            };\r\n            _self._doTeardown = function (unloadCtx, unloadState) {\r\n                _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                _isTeardownCalled = true;\r\n                _httpManager.teardown();\r\n                _removeUnloadHandlers();\r\n                // Just register to remove all events associated with this namespace\r\n                _initDefaults();\r\n            };\r\n            function _removeUnloadHandlers() {\r\n                removePageUnloadEventListener(null, _evtNamespace);\r\n                removePageHideEventListener(null, _evtNamespace);\r\n                removePageShowEventListener(null, _evtNamespace);\r\n            }\r\n            function _hookWParam(core) {\r\n                var existingGetWParamMethod = core[_DYN_GET_WPARAM /* @min:%2egetWParam */];\r\n                core[_DYN_GET_WPARAM /* @min:%2egetWParam */] = function () {\r\n                    var wparam = 0;\r\n                    if (_ignoreMc1Ms0CookieProcessing) {\r\n                        wparam = wparam | 2;\r\n                    }\r\n                    return wparam | existingGetWParamMethod.call(core);\r\n                };\r\n            }\r\n            function _batch(arr) {\r\n                var rlt = EMPTY_STR;\r\n                if (arr && arr[_DYN_LENGTH /* @min:%2elength */]) {\r\n                    arrForEach(arr, function (item) {\r\n                        if (rlt) {\r\n                            rlt += \"\\n\";\r\n                        }\r\n                        rlt += item;\r\n                    });\r\n                }\r\n                return rlt;\r\n            }\r\n            function _serialize(event) {\r\n                var rlt = EMPTY_STR;\r\n                try {\r\n                    _cleanEvent(event);\r\n                    rlt = _httpManager[_DYN_SERIALIZE_OFFLINE_EV8 /* @min:%2eserializeOfflineEvt */](event);\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return rlt;\r\n            }\r\n            // Moving event handlers out from the initialize closure so that any local variables can be garbage collected\r\n            function _handleUnloadEvents(evt) {\r\n                var theEvt = evt || getWindow().event; // IE 8 does not pass the event\r\n                if (theEvt.type !== \"beforeunload\") {\r\n                    // Only set the unload trigger if not beforeunload event as beforeunload can be cancelled while the other events can't\r\n                    _isPageUnloadTriggered = true;\r\n                    _httpManager[_DYN_SET_UNLOADING /* @min:%2esetUnloading */](_isPageUnloadTriggered);\r\n                }\r\n                _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n            }\r\n            function _handleShowEvents(evt) {\r\n                // Handle the page becoming visible again\r\n                _isPageUnloadTriggered = false;\r\n                _httpManager[_DYN_SET_UNLOADING /* @min:%2esetUnloading */](_isPageUnloadTriggered);\r\n            }\r\n            function _cleanEvent(event) {\r\n                if (event.ext && event.ext[STR_TRACE]) {\r\n                    delete (event.ext[STR_TRACE]);\r\n                }\r\n                if (event.ext && event.ext[STR_USER] && event.ext[STR_USER][\"id\"]) {\r\n                    delete (event.ext[STR_USER][\"id\"]);\r\n                }\r\n                // v8 performance optimization for iterating over the keys\r\n                if (_optimizeObject) {\r\n                    event.ext = optimizeObject(event.ext);\r\n                    if (event[_DYN_BASE_DATA /* @min:%2ebaseData */]) {\r\n                        event[_DYN_BASE_DATA /* @min:%2ebaseData */] = optimizeObject(event[_DYN_BASE_DATA /* @min:%2ebaseData */]);\r\n                    }\r\n                    if (event[_DYN_DATA /* @min:%2edata */]) {\r\n                        event[_DYN_DATA /* @min:%2edata */] = optimizeObject(event[_DYN_DATA /* @min:%2edata */]);\r\n                    }\r\n                }\r\n            }\r\n            function _addEventToQueues(event, append) {\r\n                // If send attempt field is undefined we should set it to 0.\r\n                if (!event[_DYN_SEND_ATTEMPT /* @min:%2esendAttempt */]) {\r\n                    event[_DYN_SEND_ATTEMPT /* @min:%2esendAttempt */] = 0;\r\n                }\r\n                // Add default latency\r\n                if (!event[_DYN_LATENCY /* @min:%2elatency */]) {\r\n                    event[_DYN_LATENCY /* @min:%2elatency */] = 1 /* EventLatencyValue.Normal */;\r\n                }\r\n                _cleanEvent(event);\r\n                if (event[_DYN_SYNC /* @min:%2esync */]) {\r\n                    // If the transmission is backed off then do not send synchronous events.\r\n                    // We will convert these events to Real time latency instead.\r\n                    if (_currentBackoffCount || _paused) {\r\n                        event[_DYN_LATENCY /* @min:%2elatency */] = 3 /* EventLatencyValue.RealTime */;\r\n                        event[_DYN_SYNC /* @min:%2esync */] = false;\r\n                    }\r\n                    else {\r\n                        // Log the event synchronously\r\n                        if (_httpManager) {\r\n                            // v8 performance optimization for iterating over the keys\r\n                            if (_optimizeObject) {\r\n                                event = optimizeObject(event);\r\n                            }\r\n                            _httpManager[_DYN_SEND_SYNCHRONOUS_BAT10 /* @min:%2esendSynchronousBatch */](EventBatch.create(event[_DYN_I_KEY /* @min:%2eiKey */], [event]), event[_DYN_SYNC /* @min:%2esync */] === true ? 1 /* EventSendType.Synchronous */ : event[_DYN_SYNC /* @min:%2esync */], 3 /* SendRequestReason.SyncEvent */);\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n                var evtLatency = event[_DYN_LATENCY /* @min:%2elatency */];\r\n                var queueSize = _queueSize;\r\n                var queueLimit = _queueSizeLimit;\r\n                if (evtLatency === 4 /* EventLatencyValue.Immediate */) {\r\n                    queueSize = _immediateQueueSize;\r\n                    queueLimit = _immediateQueueSizeLimit;\r\n                }\r\n                var eventDropped = false;\r\n                // Only add the event if the queue isn't full or it's a direct event (which don't add to the queue sizes)\r\n                if (queueSize < queueLimit) {\r\n                    eventDropped = !_addEventToProperQueue(event, append);\r\n                }\r\n                else {\r\n                    var dropLatency = 1 /* EventLatencyValue.Normal */;\r\n                    var dropNumber = EventsDroppedAtOneTime;\r\n                    if (evtLatency === 4 /* EventLatencyValue.Immediate */) {\r\n                        // Only drop other immediate events as they are not technically sharing the general queue\r\n                        dropLatency = 4 /* EventLatencyValue.Immediate */;\r\n                        dropNumber = 1;\r\n                    }\r\n                    // Drop old event from lower or equal latency\r\n                    eventDropped = true;\r\n                    if (_dropEventWithLatencyOrLess(event[_DYN_I_KEY /* @min:%2eiKey */], event[_DYN_LATENCY /* @min:%2elatency */], dropLatency, dropNumber)) {\r\n                        eventDropped = !_addEventToProperQueue(event, append);\r\n                    }\r\n                }\r\n                if (eventDropped) {\r\n                    // Can't drop events from current queues because the all the slots are taken by queues that are being flushed.\r\n                    _notifyEvents(strEventsDiscarded, [event], EventsDiscardedReason.QueueFull);\r\n                }\r\n            }\r\n            _self.setEventQueueLimits = function (eventLimit, autoFlushLimit) {\r\n                _postConfig[_DYN_EVENTS_LIMIT_IN_MEM /* @min:%2eeventsLimitInMem */] = _queueSizeLimit = isGreaterThanZero(eventLimit) ? eventLimit : MaxEventsLimitInMem;\r\n                _postConfig[_DYN_AUTO_FLUSH_EVENTS_LI14 /* @min:%2eautoFlushEventsLimit */] = _autoFlushEventsLimit = isGreaterThanZero(autoFlushLimit) ? autoFlushLimit : 0;\r\n                _setAutoLimits();\r\n                // We only do this check here as during normal event addition if the queue is > then events start getting dropped\r\n                var doFlush = _queueSize > eventLimit;\r\n                if (!doFlush && _autoFlushBatchLimit > 0) {\r\n                    // Check the auto flush max batch size\r\n                    for (var latency = 1 /* EventLatencyValue.Normal */; !doFlush && latency <= 3 /* EventLatencyValue.RealTime */; latency++) {\r\n                        var batchQueue = _batchQueues[latency];\r\n                        if (batchQueue && batchQueue[_DYN_BATCHES /* @min:%2ebatches */]) {\r\n                            arrForEach(batchQueue[_DYN_BATCHES /* @min:%2ebatches */], function (theBatch) {\r\n                                if (theBatch && theBatch[_DYN_COUNT /* @min:%2ecount */]() >= _autoFlushBatchLimit) {\r\n                                    // If any 1 batch is > than the limit then trigger an auto flush\r\n                                    doFlush = true;\r\n                                }\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                _performAutoFlush(true, doFlush);\r\n            };\r\n            _self.pause = function () {\r\n                _clearScheduledTimer();\r\n                _paused = true;\r\n                _httpManager && _httpManager.pause();\r\n            };\r\n            _self[_DYN_RESUME /* @min:%2eresume */] = function () {\r\n                _paused = false;\r\n                _httpManager && _httpManager[_DYN_RESUME /* @min:%2eresume */]();\r\n                _scheduleTimer();\r\n            };\r\n            _self._loadTransmitProfiles = function (profiles) {\r\n                _resetTransmitProfiles();\r\n                objForEachKey(profiles, function (profileName, profileValue) {\r\n                    var profLen = profileValue[_DYN_LENGTH /* @min:%2elength */];\r\n                    if (profLen >= 2) {\r\n                        var directValue = (profLen > 2 ? profileValue[2] : 0);\r\n                        profileValue[_DYN_SPLICE /* @min:%2esplice */](0, profLen - 2);\r\n                        // Make sure if a higher latency is set to not send then don't send lower latency\r\n                        if (profileValue[1] < 0) {\r\n                            profileValue[0] = -1;\r\n                        }\r\n                        // Make sure each latency is multiple of the latency higher then it. If not a multiple\r\n                        // we round up so that it becomes a multiple.\r\n                        if (profileValue[1] > 0 && profileValue[0] > 0) {\r\n                            var timerMultiplier = profileValue[0] / profileValue[1];\r\n                            profileValue[0] = Math.ceil(timerMultiplier) * profileValue[1];\r\n                        }\r\n                        // Add back the direct profile timeout\r\n                        if (directValue >= 0 && profileValue[1] >= 0 && directValue > profileValue[1]) {\r\n                            // Make sure if it's not disabled (< 0) then make sure it's not larger than RealTime\r\n                            directValue = profileValue[1];\r\n                        }\r\n                        profileValue[_DYN_PUSH /* @min:%2epush */](directValue);\r\n                        _profiles[profileName] = profileValue;\r\n                    }\r\n                });\r\n            };\r\n            _self.flush = function (async, callback, sendReason) {\r\n                if (async === void 0) { async = true; }\r\n                var result;\r\n                if (!_paused) {\r\n                    sendReason = sendReason || 1 /* SendRequestReason.ManualFlush */;\r\n                    if (async) {\r\n                        if (!callback) {\r\n                            result = createPromise(function (resolve) {\r\n                                // Set the callback to the promise resolve callback\r\n                                callback = resolve;\r\n                            });\r\n                        }\r\n                        if (_flushCallbackTimer == null) {\r\n                            // Clear the normal schedule timer as we are going to try and flush ASAP\r\n                            _clearScheduledTimer();\r\n                            // Move all queued events to the HttpManager so that we don't discard new events (Auto flush scenario)\r\n                            _queueBatches(1 /* EventLatencyValue.Normal */, 0 /* EventSendType.Batched */, sendReason);\r\n                            _flushCallbackTimer = _createTimer(function () {\r\n                                _flushCallbackTimer = null;\r\n                                _flushImpl(callback, sendReason);\r\n                            }, 0);\r\n                        }\r\n                        else {\r\n                            // Even if null (no callback) this will ensure after the flushImpl finishes waiting\r\n                            // for a completely idle connection it will attempt to re-flush any queued events on the next cycle\r\n                            _flushCallbackQueue[_DYN_PUSH /* @min:%2epush */](callback);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Clear the normal schedule timer as we are going to try and flush ASAP\r\n                        var cleared = _clearScheduledTimer();\r\n                        // Now cause all queued events to be sent synchronously\r\n                        _sendEventsForLatencyAndAbove(1 /* EventLatencyValue.Normal */, 1 /* EventSendType.Synchronous */, sendReason);\r\n                        callback && callback();\r\n                        if (cleared) {\r\n                            // restart the normal event timer if it was cleared\r\n                            _scheduleTimer();\r\n                        }\r\n                    }\r\n                }\r\n                return result;\r\n            };\r\n            _self.setMsaAuthTicket = function (ticket) {\r\n                _httpManager[_DYN_ADD_HEADER /* @min:%2eaddHeader */](STR_MSA_DEVICE_TICKET, ticket);\r\n            };\r\n            _self.setAuthPluginHeader = function (token) {\r\n                _httpManager[_DYN_ADD_HEADER /* @min:%2eaddHeader */](STR_AUTH_WEB_TOKEN, token);\r\n            };\r\n            _self.removeAuthPluginHeader = function () {\r\n                _httpManager.removeHeader(STR_AUTH_WEB_TOKEN);\r\n            };\r\n            _self.hasEvents = _hasEvents;\r\n            _self._setTransmitProfile = function (profileName) {\r\n                if (_currentProfile !== profileName && _profiles[profileName] !== undefined) {\r\n                    _clearScheduledTimer();\r\n                    _currentProfile = profileName;\r\n                    _scheduleTimer();\r\n                }\r\n            };\r\n            proxyFunctions(_self, function () { return _httpManager; }, [\"addResponseHandler\"]);\r\n            /**\r\n             * Batch and send events currently in the queue for the given latency.\r\n             * @param latency - Latency for which to send events.\r\n             */\r\n            function _sendEventsForLatencyAndAbove(latency, sendType, sendReason) {\r\n                var queued = _queueBatches(latency, sendType, sendReason);\r\n                // Always trigger the request as while the post channel may not have queued additional events, the httpManager may already have waiting events\r\n                _httpManager[_DYN_SEND_QUEUED_REQUESTS /* @min:%2esendQueuedRequests */](sendType, sendReason);\r\n                return queued;\r\n            }\r\n            function _hasEvents() {\r\n                return _queueSize > 0;\r\n            }\r\n            /**\r\n             * Try to schedule the timer after which events will be sent. If there are\r\n             * no events to be sent, or there is already a timer scheduled, or the\r\n             * http manager doesn't have any idle connections this method is no-op.\r\n             */\r\n            function _scheduleTimer() {\r\n                // If we had previously attempted to send requests, but the http manager didn't have any idle connections then the requests where delayed\r\n                // so try and requeue then again now\r\n                if (_delayedBatchSendLatency >= 0 && _queueBatches(_delayedBatchSendLatency, 0 /* EventSendType.Batched */, _delayedBatchReason)) {\r\n                    _httpManager[_DYN_SEND_QUEUED_REQUESTS /* @min:%2esendQueuedRequests */](0 /* EventSendType.Batched */, _delayedBatchReason);\r\n                }\r\n                if (_immediateQueueSize > 0 && !_immediateTimer && !_paused) {\r\n                    // During initialization _profiles enforce that the direct [2] is less than real time [1] timer value\r\n                    // If the immediateTimeout is disabled the immediate events will be sent with Real Time events\r\n                    var immediateTimeOut = _profiles[_currentProfile][2];\r\n                    if (immediateTimeOut >= 0) {\r\n                        _immediateTimer = _createTimer(function () {\r\n                            _immediateTimer = null;\r\n                            // Only try to send direct events\r\n                            _sendEventsForLatencyAndAbove(4 /* EventLatencyValue.Immediate */, 0 /* EventSendType.Batched */, 1 /* SendRequestReason.NormalSchedule */);\r\n                            _scheduleTimer();\r\n                        }, immediateTimeOut);\r\n                    }\r\n                }\r\n                // During initialization the _profiles enforce that the normal [0] is a multiple of the real time [1] timer value\r\n                var timeOut = _profiles[_currentProfile][1];\r\n                if (!_scheduledTimer && !_flushCallbackTimer && timeOut >= 0 && !_paused) {\r\n                    if (_hasEvents()) {\r\n                        _scheduledTimer = _createTimer(function () {\r\n                            _scheduledTimer = null;\r\n                            _sendEventsForLatencyAndAbove(_timerCount === 0 ? 3 /* EventLatencyValue.RealTime */ : 1 /* EventLatencyValue.Normal */, 0 /* EventSendType.Batched */, 1 /* SendRequestReason.NormalSchedule */);\r\n                            // Increment the count for next cycle\r\n                            _timerCount++;\r\n                            _timerCount %= 2;\r\n                            _scheduleTimer();\r\n                        }, timeOut);\r\n                    }\r\n                    else {\r\n                        _timerCount = 0;\r\n                    }\r\n                }\r\n            }\r\n            _self[_DYN__BACK_OFF_TRANSMISSI12 /* @min:%2e_backOffTransmission */] = function () {\r\n                if (_currentBackoffCount < MaxBackoffCount) {\r\n                    _currentBackoffCount++;\r\n                    _clearScheduledTimer();\r\n                    _scheduleTimer();\r\n                }\r\n            };\r\n            _self._clearBackOff = function () {\r\n                if (_currentBackoffCount) {\r\n                    _currentBackoffCount = 0;\r\n                    _clearScheduledTimer();\r\n                    _scheduleTimer();\r\n                }\r\n            };\r\n            function _initDefaults() {\r\n                _postConfig = null;\r\n                _isTeardownCalled = false;\r\n                _flushCallbackQueue = [];\r\n                _flushCallbackTimer = null;\r\n                _paused = false;\r\n                _immediateQueueSize = 0;\r\n                _immediateQueueSizeLimit = 500;\r\n                _queueSize = 0;\r\n                _queueSizeLimit = MaxEventsLimitInMem;\r\n                _profiles = {};\r\n                _currentProfile = RT_PROFILE;\r\n                _scheduledTimer = null;\r\n                _immediateTimer = null;\r\n                _currentBackoffCount = 0;\r\n                _timerCount = 0;\r\n                _batchQueues = {};\r\n                _autoFlushEventsLimit = 0;\r\n                _unloadHandlersAdded = false;\r\n                // either MaxBatchSize * (1+ Max Connections) or _queueLimit / 6 (where 3 latency Queues [normal, realtime, cost deferred] * 2 [allow half full -- allow for retry])\r\n                _autoFlushBatchLimit = 0;\r\n                _delayedBatchSendLatency = -1;\r\n                _delayedBatchReason = null;\r\n                _optimizeObject = true;\r\n                _isPageUnloadTriggered = false;\r\n                _maxEventSendAttempts = MaxSendAttempts;\r\n                _maxUnloadEventSendAttempts = MaxSyncUnloadSendAttempts;\r\n                _evtNamespace = null;\r\n                _overrideInstrumentationKey = null;\r\n                _disableTelemetry = false;\r\n                _timeoutWrapper = createTimeoutWrapper();\r\n                _httpManager = new HttpManager(MaxNumberEventPerBatch, MaxConnections, MaxRequestRetriesBeforeBackoff, {\r\n                    requeue: _requeueEvents,\r\n                    send: _sendingEvent,\r\n                    sent: _eventsSentEvent,\r\n                    drop: _eventsDropped,\r\n                    rspFail: _eventsResponseFail,\r\n                    oth: _otherEvent\r\n                });\r\n                _initializeProfiles();\r\n                _clearQueues();\r\n                _setAutoLimits();\r\n            }\r\n            function _createTimer(theTimerFunc, timeOut) {\r\n                // If the transmission is backed off make the timer at least 1 sec to allow for back off.\r\n                if (timeOut === 0 && _currentBackoffCount) {\r\n                    timeOut = 1;\r\n                }\r\n                var timerMultiplier = 1000;\r\n                if (_currentBackoffCount) {\r\n                    timerMultiplier = retryPolicyGetMillisToBackoffForRetry(_currentBackoffCount - 1);\r\n                }\r\n                return _timeoutWrapper.set(theTimerFunc, timeOut * timerMultiplier);\r\n            }\r\n            function _clearScheduledTimer() {\r\n                if (_scheduledTimer !== null) {\r\n                    _scheduledTimer.cancel();\r\n                    _scheduledTimer = null;\r\n                    _timerCount = 0;\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            // Try to send all queued events using beacons if available\r\n            function _releaseAllQueues(sendType, sendReason) {\r\n                _clearScheduledTimer();\r\n                // Cancel all flush callbacks\r\n                if (_flushCallbackTimer) {\r\n                    _flushCallbackTimer.cancel();\r\n                    _flushCallbackTimer = null;\r\n                }\r\n                if (!_paused) {\r\n                    // Queue all the remaining requests to be sent. The requests will be sent using HTML5 Beacons if they are available.\r\n                    _sendEventsForLatencyAndAbove(1 /* EventLatencyValue.Normal */, sendType, sendReason);\r\n                }\r\n            }\r\n            /**\r\n             * Add empty queues for all latencies in the inbound queues map. This is called\r\n             * when Transmission Manager is being flushed. This ensures that new events added\r\n             * after flush are stored separately till we flush the current events.\r\n             */\r\n            function _clearQueues() {\r\n                _batchQueues[4 /* EventLatencyValue.Immediate */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n                _batchQueues[3 /* EventLatencyValue.RealTime */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n                _batchQueues[2 /* EventLatencyValue.CostDeferred */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n                _batchQueues[1 /* EventLatencyValue.Normal */] = {\r\n                    batches: [],\r\n                    iKeyMap: {}\r\n                };\r\n            }\r\n            function _getEventBatch(iKey, latency, create) {\r\n                var batchQueue = _batchQueues[latency];\r\n                if (!batchQueue) {\r\n                    latency = 1 /* EventLatencyValue.Normal */;\r\n                    batchQueue = _batchQueues[latency];\r\n                }\r\n                var eventBatch = batchQueue.iKeyMap[iKey];\r\n                if (!eventBatch && create) {\r\n                    eventBatch = EventBatch.create(iKey);\r\n                    batchQueue.batches[_DYN_PUSH /* @min:%2epush */](eventBatch);\r\n                    batchQueue.iKeyMap[iKey] = eventBatch;\r\n                }\r\n                return eventBatch;\r\n            }\r\n            function _performAutoFlush(isAsync, doFlush) {\r\n                // Only perform the auto flush check if the httpManager has an idle connection and we are not in a backoff situation\r\n                if (_httpManager[_DYN_CAN_SEND_REQUEST /* @min:%2ecanSendRequest */]() && !_currentBackoffCount) {\r\n                    if (_autoFlushEventsLimit > 0 && _queueSize > _autoFlushEventsLimit) {\r\n                        // Force flushing\r\n                        doFlush = true;\r\n                    }\r\n                    if (doFlush && _flushCallbackTimer == null) {\r\n                        // Auto flush the queue, adding a callback to avoid the creation of a promise\r\n                        _self.flush(isAsync, function () { }, 20 /* SendRequestReason.MaxQueuedEvents */);\r\n                    }\r\n                }\r\n            }\r\n            function _addEventToProperQueue(event, append) {\r\n                // v8 performance optimization for iterating over the keys\r\n                if (_optimizeObject) {\r\n                    event = optimizeObject(event);\r\n                }\r\n                var latency = event[_DYN_LATENCY /* @min:%2elatency */];\r\n                var eventBatch = _getEventBatch(event[_DYN_I_KEY /* @min:%2eiKey */], latency, true);\r\n                if (eventBatch.addEvent(event)) {\r\n                    if (latency !== 4 /* EventLatencyValue.Immediate */) {\r\n                        _queueSize++;\r\n                        // Check for auto flushing based on total events in the queue, but not for requeued or retry events\r\n                        if (append && event[_DYN_SEND_ATTEMPT /* @min:%2esendAttempt */] === 0) {\r\n                            // Force the flushing of the batch if the batch (specific iKey / latency combination) reaches it's auto flush limit\r\n                            _performAutoFlush(!event.sync, _autoFlushBatchLimit > 0 && eventBatch[_DYN_COUNT /* @min:%2ecount */]() >= _autoFlushBatchLimit);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Direct events don't need auto flushing as they are scheduled (by default) for immediate delivery\r\n                        _immediateQueueSize++;\r\n                    }\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            function _dropEventWithLatencyOrLess(iKey, latency, currentLatency, dropNumber) {\r\n                while (currentLatency <= latency) {\r\n                    var eventBatch = _getEventBatch(iKey, latency, true);\r\n                    if (eventBatch && eventBatch[_DYN_COUNT /* @min:%2ecount */]() > 0) {\r\n                        // Dropped oldest events from lowest possible latency\r\n                        var droppedEvents = eventBatch[_DYN_SPLIT /* @min:%2esplit */](0, dropNumber);\r\n                        var droppedCount = droppedEvents[_DYN_COUNT /* @min:%2ecount */]();\r\n                        if (droppedCount > 0) {\r\n                            if (currentLatency === 4 /* EventLatencyValue.Immediate */) {\r\n                                _immediateQueueSize -= droppedCount;\r\n                            }\r\n                            else {\r\n                                _queueSize -= droppedCount;\r\n                            }\r\n                            _notifyBatchEvents(strEventsDiscarded, [droppedEvents], EventsDiscardedReason.QueueFull);\r\n                            return true;\r\n                        }\r\n                    }\r\n                    currentLatency++;\r\n                }\r\n                // Unable to drop any events -- lets just make sure the queue counts are correct to avoid exhaustion\r\n                _resetQueueCounts();\r\n                return false;\r\n            }\r\n            /**\r\n             * Internal helper to reset the queue counts, used as a backstop to avoid future queue exhaustion errors\r\n             * that might occur because of counting issues.\r\n             */\r\n            function _resetQueueCounts() {\r\n                var immediateQueue = 0;\r\n                var normalQueue = 0;\r\n                var _loop_1 = function (latency) {\r\n                    var batchQueue = _batchQueues[latency];\r\n                    if (batchQueue && batchQueue[_DYN_BATCHES /* @min:%2ebatches */]) {\r\n                        arrForEach(batchQueue[_DYN_BATCHES /* @min:%2ebatches */], function (theBatch) {\r\n                            if (latency === 4 /* EventLatencyValue.Immediate */) {\r\n                                immediateQueue += theBatch[_DYN_COUNT /* @min:%2ecount */]();\r\n                            }\r\n                            else {\r\n                                normalQueue += theBatch[_DYN_COUNT /* @min:%2ecount */]();\r\n                            }\r\n                        });\r\n                    }\r\n                };\r\n                for (var latency = 1 /* EventLatencyValue.Normal */; latency <= 4 /* EventLatencyValue.Immediate */; latency++) {\r\n                    _loop_1(latency);\r\n                }\r\n                _queueSize = normalQueue;\r\n                _immediateQueueSize = immediateQueue;\r\n            }\r\n            function _queueBatches(latency, sendType, sendReason) {\r\n                var eventsQueued = false;\r\n                var isAsync = sendType === 0 /* EventSendType.Batched */;\r\n                // Only queue batches (to the HttpManager) if this is a sync request or the httpManager has an idle connection\r\n                // Thus keeping the events within the PostChannel until the HttpManager has a connection available\r\n                // This is so we can drop \"old\" events if the queue is getting full because we can't successfully send events\r\n                if (!isAsync || _httpManager[_DYN_CAN_SEND_REQUEST /* @min:%2ecanSendRequest */]()) {\r\n                    doPerf(_self.core, function () { return \"PostChannel._queueBatches\"; }, function () {\r\n                        var droppedEvents = [];\r\n                        var latencyToProcess = 4 /* EventLatencyValue.Immediate */;\r\n                        while (latencyToProcess >= latency) {\r\n                            var batchQueue = _batchQueues[latencyToProcess];\r\n                            if (batchQueue && batchQueue.batches && batchQueue.batches[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                                arrForEach(batchQueue[_DYN_BATCHES /* @min:%2ebatches */], function (theBatch) {\r\n                                    // Add the batch to the http manager to send the requests\r\n                                    if (!_httpManager.addBatch(theBatch)) {\r\n                                        // The events from this iKey are being dropped (killed)\r\n                                        droppedEvents = droppedEvents[_DYN_CONCAT /* @min:%2econcat */](theBatch[_DYN_EVENTS /* @min:%2eevents */]());\r\n                                    }\r\n                                    else {\r\n                                        eventsQueued = eventsQueued || (theBatch && theBatch[_DYN_COUNT /* @min:%2ecount */]() > 0);\r\n                                    }\r\n                                    if (latencyToProcess === 4 /* EventLatencyValue.Immediate */) {\r\n                                        _immediateQueueSize -= theBatch[_DYN_COUNT /* @min:%2ecount */]();\r\n                                    }\r\n                                    else {\r\n                                        _queueSize -= theBatch[_DYN_COUNT /* @min:%2ecount */]();\r\n                                    }\r\n                                });\r\n                                // Remove all batches from this Queue\r\n                                batchQueue[_DYN_BATCHES /* @min:%2ebatches */] = [];\r\n                                batchQueue.iKeyMap = {};\r\n                            }\r\n                            latencyToProcess--;\r\n                        }\r\n                        if (droppedEvents[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                            _notifyEvents(strEventsDiscarded, droppedEvents, EventsDiscardedReason.KillSwitch);\r\n                        }\r\n                        if (eventsQueued && _delayedBatchSendLatency >= latency) {\r\n                            // We have queued events at the same level as the delayed values so clear the setting\r\n                            _delayedBatchSendLatency = -1;\r\n                            _delayedBatchReason = 0 /* SendRequestReason.Undefined */;\r\n                        }\r\n                    }, function () { return ({ latency: latency, sendType: sendType, sendReason: sendReason }); }, !isAsync);\r\n                }\r\n                else {\r\n                    // remember the min latency so that we can re-trigger later\r\n                    _delayedBatchSendLatency = _delayedBatchSendLatency >= 0 ? Math.min(_delayedBatchSendLatency, latency) : latency;\r\n                    _delayedBatchReason = Math.max(_delayedBatchReason, sendReason);\r\n                }\r\n                return eventsQueued;\r\n            }\r\n            /**\r\n             * This is the callback method is called as part of the manual flushing process.\r\n             * @param callback\r\n             * @param sendReason\r\n             */\r\n            function _flushImpl(callback, sendReason) {\r\n                // Add any additional queued events and cause all queued events to be sent asynchronously\r\n                _sendEventsForLatencyAndAbove(1 /* EventLatencyValue.Normal */, 0 /* EventSendType.Batched */, sendReason);\r\n                // All events (should) have been queue -- lets just make sure the queue counts are correct to avoid queue exhaustion (previous bug #9685112)\r\n                _resetQueueCounts();\r\n                _waitForIdleManager(function () {\r\n                    // Only called AFTER the httpManager does not have any outstanding requests\r\n                    if (callback) {\r\n                        callback();\r\n                    }\r\n                    if (_flushCallbackQueue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                        _flushCallbackTimer = _createTimer(function () {\r\n                            _flushCallbackTimer = null;\r\n                            _flushImpl(_flushCallbackQueue.shift(), sendReason);\r\n                        }, 0);\r\n                    }\r\n                    else {\r\n                        // No more flush requests\r\n                        _flushCallbackTimer = null;\r\n                        // Restart the normal timer schedule\r\n                        _scheduleTimer();\r\n                    }\r\n                });\r\n            }\r\n            function _waitForIdleManager(callback) {\r\n                if (_httpManager[_DYN_IS_COMPLETELY_IDLE /* @min:%2eisCompletelyIdle */]()) {\r\n                    callback();\r\n                }\r\n                else {\r\n                    _flushCallbackTimer = _createTimer(function () {\r\n                        _flushCallbackTimer = null;\r\n                        _waitForIdleManager(callback);\r\n                    }, FlushCheckTimer);\r\n                }\r\n            }\r\n            /**\r\n             * Resets the transmit profiles to the default profiles of Real Time, Near Real Time\r\n             * and Best Effort. This removes all the custom profiles that were loaded.\r\n             */\r\n            function _resetTransmitProfiles() {\r\n                _clearScheduledTimer();\r\n                _initializeProfiles();\r\n                _currentProfile = RT_PROFILE;\r\n                _scheduleTimer();\r\n            }\r\n            function _initializeProfiles() {\r\n                _profiles = {};\r\n                _profiles[RT_PROFILE] = [2, 1, 0];\r\n                _profiles[NRT_PROFILE] = [6, 3, 0];\r\n                _profiles[BE_PROFILE] = [18, 9, 0];\r\n            }\r\n            /**\r\n             * The notification handler for requeue events\r\n             * @ignore\r\n             */\r\n            function _requeueEvents(batches, reason) {\r\n                var droppedEvents = [];\r\n                var maxSendAttempts = _maxEventSendAttempts;\r\n                if (_isPageUnloadTriggered) {\r\n                    // If a page unlaod has been triggered reduce the number of times we try to \"retry\"\r\n                    maxSendAttempts = _maxUnloadEventSendAttempts;\r\n                }\r\n                arrForEach(batches, function (theBatch) {\r\n                    if (theBatch && theBatch[_DYN_COUNT /* @min:%2ecount */]() > 0) {\r\n                        arrForEach(theBatch[_DYN_EVENTS /* @min:%2eevents */](), function (theEvent) {\r\n                            if (theEvent) {\r\n                                // Check if the request being added back is for a sync event in which case mark it no longer a sync event\r\n                                if (theEvent[_DYN_SYNC /* @min:%2esync */]) {\r\n                                    theEvent[_DYN_LATENCY /* @min:%2elatency */] = 4 /* EventLatencyValue.Immediate */;\r\n                                    theEvent[_DYN_SYNC /* @min:%2esync */] = false;\r\n                                }\r\n                                if (theEvent[_DYN_SEND_ATTEMPT /* @min:%2esendAttempt */] < maxSendAttempts) {\r\n                                    // Reset the event timings\r\n                                    setProcessTelemetryTimings(theEvent, _self[_DYN_IDENTIFIER /* @min:%2eidentifier */]);\r\n                                    _addEventToQueues(theEvent, false);\r\n                                }\r\n                                else {\r\n                                    droppedEvents[_DYN_PUSH /* @min:%2epush */](theEvent);\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n                if (droppedEvents[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    _notifyEvents(strEventsDiscarded, droppedEvents, EventsDiscardedReason.NonRetryableStatus);\r\n                }\r\n                if (_isPageUnloadTriggered) {\r\n                    // Unload event has been received so we need to try and flush new events\r\n                    _releaseAllQueues(2 /* EventSendType.SendBeacon */, 2 /* SendRequestReason.Unload */);\r\n                }\r\n            }\r\n            function _callNotification(evtName, theArgs) {\r\n                var manager = (_notificationManager || {});\r\n                var notifyFunc = manager[evtName];\r\n                if (notifyFunc) {\r\n                    try {\r\n                        notifyFunc.apply(manager, theArgs);\r\n                    }\r\n                    catch (e) {\r\n                        _throwInternal(_self.diagLog(), 1 /* eLoggingSeverity.CRITICAL */, 74 /* _eInternalMessageId.NotificationException */, evtName + \" notification failed: \" + e);\r\n                    }\r\n                }\r\n            }\r\n            function _notifyEvents(evtName, theEvents) {\r\n                var extraArgs = [];\r\n                for (var _i = 2; _i < arguments.length; _i++) {\r\n                    extraArgs[_i - 2] = arguments[_i];\r\n                }\r\n                if (theEvents && theEvents[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    _callNotification(evtName, [theEvents][_DYN_CONCAT /* @min:%2econcat */](extraArgs));\r\n                }\r\n            }\r\n            function _notifyBatchEvents(evtName, batches) {\r\n                var extraArgs = [];\r\n                for (var _i = 2; _i < arguments.length; _i++) {\r\n                    extraArgs[_i - 2] = arguments[_i];\r\n                }\r\n                if (batches && batches[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    arrForEach(batches, function (theBatch) {\r\n                        if (theBatch && theBatch[_DYN_COUNT /* @min:%2ecount */]() > 0) {\r\n                            _callNotification(evtName, [theBatch.events()][_DYN_CONCAT /* @min:%2econcat */](extraArgs));\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            /**\r\n             * The notification handler for when batches are about to be sent\r\n             * @ignore\r\n             */\r\n            function _sendingEvent(batches, reason, isSyncRequest) {\r\n                if (batches && batches[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    _callNotification(\"eventsSendRequest\", [(reason >= 1000 /* EventBatchNotificationReason.SendingUndefined */ && reason <= 1999 /* EventBatchNotificationReason.SendingEventMax */ ?\r\n                            reason - 1000 /* EventBatchNotificationReason.SendingUndefined */ :\r\n                            0 /* SendRequestReason.Undefined */), isSyncRequest !== true]);\r\n                }\r\n            }\r\n            /**\r\n             * This event represents that a batch of events have been successfully sent and a response received\r\n             * @param batches The notification handler for when the batches have been successfully sent\r\n             * @param reason For this event the reason will always be EventBatchNotificationReason.Complete\r\n             */\r\n            function _eventsSentEvent(batches, reason) {\r\n                _notifyBatchEvents(\"eventsSent\", batches, reason);\r\n                // Try and schedule the processing timer if we have events\r\n                _scheduleTimer();\r\n            }\r\n            function _eventsDropped(batches, reason) {\r\n                _notifyBatchEvents(strEventsDiscarded, batches, (reason >= 8000 /* EventBatchNotificationReason.EventsDropped */ && reason <= 8999 /* EventBatchNotificationReason.EventsDroppedMax */ ?\r\n                    reason - 8000 /* EventBatchNotificationReason.EventsDropped */ :\r\n                    EventsDiscardedReason.Unknown));\r\n            }\r\n            function _eventsResponseFail(batches) {\r\n                _notifyBatchEvents(strEventsDiscarded, batches, EventsDiscardedReason.NonRetryableStatus);\r\n                // Try and schedule the processing timer if we have events\r\n                _scheduleTimer();\r\n            }\r\n            function _otherEvent(batches, reason) {\r\n                _notifyBatchEvents(strEventsDiscarded, batches, EventsDiscardedReason.Unknown);\r\n                // Try and schedule the processing timer if we have events\r\n                _scheduleTimer();\r\n            }\r\n            function _setAutoLimits() {\r\n                if (!_disableAutoBatchFlushLimit) {\r\n                    _autoFlushBatchLimit = Math.max(MaxNumberEventPerBatch * (MaxConnections + 1), _queueSizeLimit / 6);\r\n                }\r\n                else {\r\n                    _autoFlushBatchLimit = 0;\r\n                }\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for PostChannel.prototype.initialize.\r\n// Removed Stub for PostChannel.prototype.processTelemetry.\r\n// Removed Stub for PostChannel.prototype.setEventQueueLimits.\r\n// Removed Stub for PostChannel.prototype.pause.\r\n// Removed Stub for PostChannel.prototype.resume.\r\n// Removed Stub for PostChannel.prototype.addResponseHandler.\r\n// Removed Stub for PostChannel.prototype.flush.\r\n// Removed Stub for PostChannel.prototype.setMsaAuthTicket.\r\n// Removed Stub for PostChannel.prototype.setAuthPluginHeader.\r\n// Removed Stub for PostChannel.prototype.removeAuthPluginHeader.\r\n// Removed Stub for PostChannel.prototype.hasEvents.\r\n// Removed Stub for PostChannel.prototype._loadTransmitProfiles.\r\n// Removed Stub for PostChannel.prototype._setTransmitProfile.\r\n// Removed Stub for PostChannel.prototype._backOffTransmission.\r\n// Removed Stub for PostChannel.prototype._clearBackOff.\r\n// Removed Stub for PostChannel.prototype.getOfflineSupport.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    PostChannel.__ieDyn=1;\n\n    return PostChannel;\r\n}(BaseTelemetryPlugin));\r\nexport { PostChannel };\r\n//# sourceMappingURL=PostChannel.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { arrReduce, objKeys, strEndsWith } from \"@microsoft/applicationinsights-core-js\";\r\nimport { DEFAULT_BREEZE_ENDPOINT } from \"./Constants\";\r\nimport { _DYN_INGESTIONENDPOINT, _DYN_LENGTH, _DYN_SPLIT, _DYN_TO_LOWER_CASE } from \"./__DynamicConstants\";\r\nvar _FIELDS_SEPARATOR = \";\";\r\nvar _FIELD_KEY_VALUE_SEPARATOR = \"=\";\r\nexport function parseConnectionString(connectionString) {\r\n    if (!connectionString) {\r\n        return {};\r\n    }\r\n    var kvPairs = connectionString[_DYN_SPLIT /* @min:%2esplit */](_FIELDS_SEPARATOR);\r\n    var result = arrReduce(kvPairs, function (fields, kv) {\r\n        var kvParts = kv[_DYN_SPLIT /* @min:%2esplit */](_FIELD_KEY_VALUE_SEPARATOR);\r\n        if (kvParts[_DYN_LENGTH /* @min:%2elength */] === 2) { // only save fields with valid formats\r\n            var key = kvParts[0][_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n            var value = kvParts[1];\r\n            fields[key] = value;\r\n        }\r\n        return fields;\r\n    }, {});\r\n    if (objKeys(result)[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        // this is a valid connection string, so parse the results\r\n        if (result.endpointsuffix) {\r\n            // apply the default endpoints\r\n            var locationPrefix = result.location ? result.location + \".\" : \"\";\r\n            result[_DYN_INGESTIONENDPOINT /* @min:%2eingestionendpoint */] = result[_DYN_INGESTIONENDPOINT /* @min:%2eingestionendpoint */] || (\"https://\" + locationPrefix + \"dc.\" + result.endpointsuffix);\r\n        }\r\n        // apply user override endpoint or the default endpoints\r\n        result[_DYN_INGESTIONENDPOINT /* @min:%2eingestionendpoint */] = result[_DYN_INGESTIONENDPOINT /* @min:%2eingestionendpoint */] || DEFAULT_BREEZE_ENDPOINT;\r\n        if (strEndsWith(result[_DYN_INGESTIONENDPOINT /* @min:%2eingestionendpoint */], \"/\")) {\r\n            result[_DYN_INGESTIONENDPOINT /* @min:%2eingestionendpoint */] = result[_DYN_INGESTIONENDPOINT /* @min:%2eingestionendpoint */].slice(0, -1);\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexport var ConnectionStringParser = {\r\n    parse: parseConnectionString\r\n};\r\n//# sourceMappingURL=ConnectionStringParser.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n/**\r\n * This is an internal property used to cause internal (reporting) requests to be ignored from reporting\r\n * additional telemetry, to handle polyfil implementations ALL urls used with a disabled request will\r\n * also be ignored for future requests even when this property is not provided.\r\n * Tagging as Ignore as this is an internal value and is not expected to be used outside of the SDK\r\n * @ignore\r\n */\r\nexport var DisabledPropertyName = \"Microsoft_ApplicationInsights_BypassAjaxInstrumentation\";\r\nexport var SampleRate = \"sampleRate\";\r\nexport var ProcessLegacy = \"ProcessLegacy\";\r\nexport var HttpMethod = \"http.method\";\r\nexport var DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\r\nexport var DEFAULT_BREEZE_PATH = \"/v2/track\";\r\nexport var strNotSpecified = \"not_specified\";\r\nexport var strIkey = \"iKey\";\r\n//# sourceMappingURL=Constants.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { createEnumStyle } from \"@microsoft/applicationinsights-core-js\";\r\nexport var StorageType = createEnumStyle({\r\n    LocalStorage: 0 /* eStorageType.LocalStorage */,\r\n    SessionStorage: 1 /* eStorageType.SessionStorage */\r\n});\r\nexport var DistributedTracingModes = createEnumStyle({\r\n    AI: 0 /* eDistributedTracingModes.AI */,\r\n    AI_AND_W3C: 1 /* eDistributedTracingModes.AI_AND_W3C */,\r\n    W3C: 2 /* eDistributedTracingModes.W3C */\r\n});\r\n/**\r\n * The EventPersistence contains a set of values that specify the event's persistence.\r\n */\r\nexport var EventPersistence = createEnumStyle({\r\n    /**\r\n     * Normal persistence.\r\n     */\r\n    Normal: 1 /* EventPersistenceValue.Normal */,\r\n    /**\r\n     * Critical persistence.\r\n     */\r\n    Critical: 2 /* EventPersistenceValue.Critical */\r\n});\r\n//# sourceMappingURL=Enums.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { arrForEach, isString } from \"@microsoft/applicationinsights-core-js\";\r\nimport { _DYN_LENGTH, _DYN_TO_LOWER_CASE } from \"./__DynamicConstants\";\r\nvar strEmpty = \"\";\r\nexport function stringToBoolOrDefault(str, defaultValue) {\r\n    if (defaultValue === void 0) { defaultValue = false; }\r\n    if (str === undefined || str === null) {\r\n        return defaultValue;\r\n    }\r\n    return str.toString()[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]() === \"true\";\r\n}\r\n/**\r\n * Convert ms to c# time span format\r\n */\r\nexport function msToTimeSpan(totalms) {\r\n    if (isNaN(totalms) || totalms < 0) {\r\n        totalms = 0;\r\n    }\r\n    totalms = Math.round(totalms);\r\n    var ms = strEmpty + totalms % 1000;\r\n    var sec = strEmpty + Math.floor(totalms / 1000) % 60;\r\n    var min = strEmpty + Math.floor(totalms / (1000 * 60)) % 60;\r\n    var hour = strEmpty + Math.floor(totalms / (1000 * 60 * 60)) % 24;\r\n    var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\r\n    ms = ms[_DYN_LENGTH /* @min:%2elength */] === 1 ? \"00\" + ms : ms[_DYN_LENGTH /* @min:%2elength */] === 2 ? \"0\" + ms : ms;\r\n    sec = sec[_DYN_LENGTH /* @min:%2elength */] < 2 ? \"0\" + sec : sec;\r\n    min = min[_DYN_LENGTH /* @min:%2elength */] < 2 ? \"0\" + min : min;\r\n    hour = hour[_DYN_LENGTH /* @min:%2elength */] < 2 ? \"0\" + hour : hour;\r\n    return (days > 0 ? days + \".\" : strEmpty) + hour + \":\" + min + \":\" + sec + \".\" + ms;\r\n}\r\nexport function getExtensionByName(extensions, identifier) {\r\n    var extension = null;\r\n    arrForEach(extensions, function (value) {\r\n        if (value.identifier === identifier) {\r\n            extension = value;\r\n            return -1;\r\n        }\r\n    });\r\n    return extension;\r\n}\r\nexport function isCrossOriginError(message, url, lineNumber, columnNumber, error) {\r\n    return !error && isString(message) && (message === \"Script error.\" || message === \"Script error\");\r\n}\r\n//# sourceMappingURL=HelperFuncs.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\nimport { createClassFromInterface } from \"@microsoft/applicationinsights-core-js\";\r\nfunction _aiNameFunc(baseName) {\r\n    var aiName = \"ai.\" + baseName + \".\";\r\n    return function (name) {\r\n        return aiName + name;\r\n    };\r\n}\r\nvar _aiApplication = _aiNameFunc(\"application\");\r\nvar _aiDevice = _aiNameFunc(\"device\");\r\nvar _aiLocation = _aiNameFunc(\"location\");\r\nvar _aiOperation = _aiNameFunc(\"operation\");\r\nvar _aiSession = _aiNameFunc(\"session\");\r\nvar _aiUser = _aiNameFunc(\"user\");\r\nvar _aiCloud = _aiNameFunc(\"cloud\");\r\nvar _aiInternal = _aiNameFunc(\"internal\");\r\nvar ContextTagKeys = /** @class */ (function (_super) {\r\n    __extends(ContextTagKeys, _super);\r\n    function ContextTagKeys() {\r\n        return _super.call(this) || this;\r\n    }\r\n    return ContextTagKeys;\r\n}(createClassFromInterface({\r\n    applicationVersion: _aiApplication(\"ver\"),\r\n    applicationBuild: _aiApplication(\"build\"),\r\n    applicationTypeId: _aiApplication(\"typeId\"),\r\n    applicationId: _aiApplication(\"applicationId\"),\r\n    applicationLayer: _aiApplication(\"layer\"),\r\n    deviceId: _aiDevice(\"id\"),\r\n    deviceIp: _aiDevice(\"ip\"),\r\n    deviceLanguage: _aiDevice(\"language\"),\r\n    deviceLocale: _aiDevice(\"locale\"),\r\n    deviceModel: _aiDevice(\"model\"),\r\n    deviceFriendlyName: _aiDevice(\"friendlyName\"),\r\n    deviceNetwork: _aiDevice(\"network\"),\r\n    deviceNetworkName: _aiDevice(\"networkName\"),\r\n    deviceOEMName: _aiDevice(\"oemName\"),\r\n    deviceOS: _aiDevice(\"os\"),\r\n    deviceOSVersion: _aiDevice(\"osVersion\"),\r\n    deviceRoleInstance: _aiDevice(\"roleInstance\"),\r\n    deviceRoleName: _aiDevice(\"roleName\"),\r\n    deviceScreenResolution: _aiDevice(\"screenResolution\"),\r\n    deviceType: _aiDevice(\"type\"),\r\n    deviceMachineName: _aiDevice(\"machineName\"),\r\n    deviceVMName: _aiDevice(\"vmName\"),\r\n    deviceBrowser: _aiDevice(\"browser\"),\r\n    deviceBrowserVersion: _aiDevice(\"browserVersion\"),\r\n    locationIp: _aiLocation(\"ip\"),\r\n    locationCountry: _aiLocation(\"country\"),\r\n    locationProvince: _aiLocation(\"province\"),\r\n    locationCity: _aiLocation(\"city\"),\r\n    operationId: _aiOperation(\"id\"),\r\n    operationName: _aiOperation(\"name\"),\r\n    operationParentId: _aiOperation(\"parentId\"),\r\n    operationRootId: _aiOperation(\"rootId\"),\r\n    operationSyntheticSource: _aiOperation(\"syntheticSource\"),\r\n    operationCorrelationVector: _aiOperation(\"correlationVector\"),\r\n    sessionId: _aiSession(\"id\"),\r\n    sessionIsFirst: _aiSession(\"isFirst\"),\r\n    sessionIsNew: _aiSession(\"isNew\"),\r\n    userAccountAcquisitionDate: _aiUser(\"accountAcquisitionDate\"),\r\n    userAccountId: _aiUser(\"accountId\"),\r\n    userAgent: _aiUser(\"userAgent\"),\r\n    userId: _aiUser(\"id\"),\r\n    userStoreRegion: _aiUser(\"storeRegion\"),\r\n    userAuthUserId: _aiUser(\"authUserId\"),\r\n    userAnonymousUserAcquisitionDate: _aiUser(\"anonUserAcquisitionDate\"),\r\n    userAuthenticatedUserAcquisitionDate: _aiUser(\"authUserAcquisitionDate\"),\r\n    cloudName: _aiCloud(\"name\"),\r\n    cloudRole: _aiCloud(\"role\"),\r\n    cloudRoleVer: _aiCloud(\"roleVer\"),\r\n    cloudRoleInstance: _aiCloud(\"roleInstance\"),\r\n    cloudEnvironment: _aiCloud(\"environment\"),\r\n    cloudLocation: _aiCloud(\"location\"),\r\n    cloudDeploymentUnit: _aiCloud(\"deploymentUnit\"),\r\n    internalNodeName: _aiInternal(\"nodeName\"),\r\n    internalSdkVersion: _aiInternal(\"sdkVersion\"),\r\n    internalAgentVersion: _aiInternal(\"agentVersion\"),\r\n    internalSnippet: _aiInternal(\"snippet\"),\r\n    internalSdkSrc: _aiInternal(\"sdkSrc\")\r\n})));\r\nexport { ContextTagKeys };\r\n//# sourceMappingURL=ContextTagKeys.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { createEnumStyle } from \"@microsoft/applicationinsights-core-js\";\r\n/**\r\n * Defines the level of severity for the event.\r\n */\r\nexport var SeverityLevel = createEnumStyle({\r\n    Verbose: 0 /* eSeverityLevel.Verbose */,\r\n    Information: 1 /* eSeverityLevel.Information */,\r\n    Warning: 2 /* eSeverityLevel.Warning */,\r\n    Error: 3 /* eSeverityLevel.Error */,\r\n    Critical: 4 /* eSeverityLevel.Critical */\r\n});\r\n//# sourceMappingURL=SeverityLevel.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { ContextTagKeys } from \"./Contracts/ContextTagKeys\";\r\nexport var Extensions = {\r\n    UserExt: \"user\",\r\n    DeviceExt: \"device\",\r\n    TraceExt: \"trace\",\r\n    WebExt: \"web\",\r\n    AppExt: \"app\",\r\n    OSExt: \"os\",\r\n    SessionExt: \"ses\",\r\n    SDKExt: \"sdk\"\r\n};\r\nexport var CtxTagKeys = new ContextTagKeys();\r\n//# sourceMappingURL=PartAExtensions.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { arrForEach, createUniqueNamespace, eventOff, eventOn, getDocument, getNavigator, getWindow, isNullOrUndefined, isUndefined, mergeEvtNamespace } from \"@microsoft/applicationinsights-core-js\";\r\nimport { _DYN_PUSH } from \"./__DynamicConstants\";\r\nfunction _disableEvents(target, evtNamespace) {\r\n    eventOff(target, null, null, evtNamespace);\r\n}\r\n/**\r\n * Create a new OfflineListener instance to monitor browser online / offline events\r\n * @param parentEvtNamespace - The parent event namespace to append to any specific events for this instance\r\n */\r\nexport function createOfflineListener(parentEvtNamespace) {\r\n    var _document = getDocument();\r\n    var _navigator = getNavigator(); // Gets the window.navigator or workerNavigator depending on the global\r\n    var _isListening = false;\r\n    var listenerList = [];\r\n    // Set the initial state\r\n    // rState is changed by the browser, both via events and when we check the navigator.onLine property\r\n    var rState = 1 /* eOfflineValue.Online */;\r\n    if (_navigator && !isNullOrUndefined(_navigator.onLine) && !_navigator.onLine) { // navigator.onLine is undefined in react-native\r\n        rState = 2 /* eOfflineValue.Offline */;\r\n    }\r\n    // ustate is changed by the user calling setOnlineState\r\n    var uState = 0 /* eOfflineValue.Unknown */;\r\n    // current state would be updated each time rState or uState is changed\r\n    // it is a resolved value of rState and uState\r\n    var _currentState = calCurrentState();\r\n    var _evtNamespace = mergeEvtNamespace(createUniqueNamespace(\"OfflineListener\"), parentEvtNamespace);\r\n    try {\r\n        if (_enableEvents(getWindow())) {\r\n            _isListening = true;\r\n        }\r\n        if (_document) {\r\n            // Also attach to the document.body or document\r\n            var target = _document.body || _document;\r\n            if (target.ononline) {\r\n                if (_enableEvents(target)) {\r\n                    _isListening = true;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        // this makes react-native less angry\r\n        _isListening = false;\r\n    }\r\n    function _enableEvents(target) {\r\n        var enabled = false;\r\n        if (target) {\r\n            enabled = eventOn(target, \"online\", _setOnline, _evtNamespace);\r\n            if (enabled) {\r\n                eventOn(target, \"offline\", _setOffline, _evtNamespace);\r\n            }\r\n        }\r\n        return enabled;\r\n    }\r\n    function _isOnline() {\r\n        return _currentState;\r\n    }\r\n    function calCurrentState() {\r\n        if (uState === 2 /* eOfflineValue.Offline */ || rState === 2 /* eOfflineValue.Offline */) {\r\n            return false;\r\n        }\r\n        return true; // if both unknown, then we assume the network is good\r\n    }\r\n    function listnerNoticeCheck() {\r\n        // we were offline and are now online or we were online and now offline\r\n        var newState = calCurrentState();\r\n        if (_currentState !== newState) {\r\n            _currentState = newState; // use the resolved state to update\r\n            // send all the callbacks with the current state\r\n            arrForEach(listenerList, function (callback) {\r\n                var offlineState = {\r\n                    isOnline: _currentState,\r\n                    rState: rState,\r\n                    uState: uState\r\n                };\r\n                try {\r\n                    callback(offlineState);\r\n                }\r\n                catch (e) {\r\n                    // Do nothing, just making sure we run all of the callbacks\r\n                }\r\n            });\r\n        }\r\n    }\r\n    function setOnlineState(newState) {\r\n        uState = newState;\r\n        listnerNoticeCheck();\r\n    }\r\n    function _setOnline() {\r\n        rState = 1 /* eOfflineValue.Online */;\r\n        listnerNoticeCheck();\r\n    }\r\n    function _setOffline() {\r\n        rState = 2 /* eOfflineValue.Offline */;\r\n        listnerNoticeCheck();\r\n    }\r\n    function _unload() {\r\n        var win = getWindow();\r\n        if (win && _isListening) {\r\n            _disableEvents(win, _evtNamespace);\r\n            if (_document) {\r\n                // Also attach to the document.body or document\r\n                var target = _document.body || _document;\r\n                if (!isUndefined(target.ononline)) {\r\n                    _disableEvents(target, _evtNamespace);\r\n                }\r\n            }\r\n            _isListening = false;\r\n        }\r\n    }\r\n    function addListener(callback) {\r\n        listenerList[_DYN_PUSH /* @min:%2epush */](callback);\r\n        // Define rm as an instance of IUnloadHook\r\n        return {\r\n            rm: function () {\r\n                var index = listenerList.indexOf(callback);\r\n                if (index > -1) {\r\n                    return listenerList.splice(index, 1);\r\n                }\r\n                else {\r\n                    return;\r\n                }\r\n            }\r\n        };\r\n    }\r\n    return {\r\n        isOnline: _isOnline,\r\n        isListening: function () { return _isListening; },\r\n        unload: _unload,\r\n        addListener: addListener,\r\n        setOnlineState: setOnlineState\r\n    };\r\n}\r\n//# sourceMappingURL=Offline.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { createValueMap } from \"@microsoft/applicationinsights-core-js\";\r\nexport var RequestHeaders = createValueMap({\r\n    requestContextHeader: [0 /* eRequestHeaders.requestContextHeader */, \"Request-Context\"],\r\n    requestContextTargetKey: [1 /* eRequestHeaders.requestContextTargetKey */, \"appId\"],\r\n    requestContextAppIdFormat: [2 /* eRequestHeaders.requestContextAppIdFormat */, \"appId=cid-v1:\"],\r\n    requestIdHeader: [3 /* eRequestHeaders.requestIdHeader */, \"Request-Id\"],\r\n    traceParentHeader: [4 /* eRequestHeaders.traceParentHeader */, \"traceparent\"],\r\n    traceStateHeader: [5 /* eRequestHeaders.traceStateHeader */, \"tracestate\"],\r\n    sdkContextHeader: [6 /* eRequestHeaders.sdkContextHeader */, \"Sdk-Context\"],\r\n    sdkContextHeaderAppIdRequest: [7 /* eRequestHeaders.sdkContextHeaderAppIdRequest */, \"appId\"],\r\n    requestContextHeaderLowerCase: [8 /* eRequestHeaders.requestContextHeaderLowerCase */, \"request-context\"]\r\n});\r\n//# sourceMappingURL=RequestResponseHeaders.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { _throwInternal, dumpObj, getExceptionName, getGlobal, getGlobalInst, isNullOrUndefined, objForEachKey } from \"@microsoft/applicationinsights-core-js\";\r\nimport { StorageType } from \"./Enums\";\r\nimport { _DYN_PUSH, _DYN_REMOVE_ITEM, _DYN_TO_STRING } from \"./__DynamicConstants\";\r\nvar _canUseLocalStorage = undefined;\r\nvar _canUseSessionStorage = undefined;\r\nvar _storagePrefix = \"\";\r\n/**\r\n * Gets the localStorage object if available\r\n * @return {Storage} - Returns the storage object if available else returns null\r\n */\r\nfunction _getLocalStorageObject() {\r\n    if (utlCanUseLocalStorage()) {\r\n        return _getVerifiedStorageObject(StorageType.LocalStorage);\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Tests storage object (localStorage or sessionStorage) to verify that it is usable\r\n * More details here: https://mathiasbynens.be/notes/localstorage-pattern\r\n * @param storageType - Type of storage\r\n * @return {Storage} Returns storage object verified that it is usable\r\n */\r\nfunction _getVerifiedStorageObject(storageType) {\r\n    try {\r\n        if (isNullOrUndefined(getGlobal())) {\r\n            return null;\r\n        }\r\n        var uid = (new Date)[_DYN_TO_STRING /* @min:%2etoString */]();\r\n        var storage = getGlobalInst(storageType === StorageType.LocalStorage ? \"localStorage\" : \"sessionStorage\");\r\n        var name_1 = _storagePrefix + uid;\r\n        storage.setItem(name_1, uid);\r\n        var fail = storage.getItem(name_1) !== uid;\r\n        storage[_DYN_REMOVE_ITEM /* @min:%2eremoveItem */](name_1);\r\n        if (!fail) {\r\n            return storage;\r\n        }\r\n    }\r\n    catch (exception) {\r\n        // eslint-disable-next-line no-empty\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Gets the sessionStorage object if available\r\n * @return {Storage} - Returns the storage object if available else returns null\r\n */\r\nfunction _getSessionStorageObject() {\r\n    if (utlCanUseSessionStorage()) {\r\n        return _getVerifiedStorageObject(StorageType.SessionStorage);\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Disables the global SDK usage of local or session storage if available\r\n */\r\nexport function utlDisableStorage() {\r\n    _canUseLocalStorage = false;\r\n    _canUseSessionStorage = false;\r\n}\r\nexport function utlSetStoragePrefix(storagePrefix) {\r\n    _storagePrefix = storagePrefix || \"\";\r\n}\r\n/**\r\n * Re-enables the global SDK usage of local or session storage if available\r\n */\r\nexport function utlEnableStorage() {\r\n    _canUseLocalStorage = utlCanUseLocalStorage(true);\r\n    _canUseSessionStorage = utlCanUseSessionStorage(true);\r\n}\r\n/**\r\n * Returns whether LocalStorage can be used, if the reset parameter is passed a true this will override\r\n * any previous disable calls.\r\n * @param reset - Should the usage be reset and determined only based on whether LocalStorage is available\r\n */\r\nexport function utlCanUseLocalStorage(reset) {\r\n    if (reset || _canUseLocalStorage === undefined) {\r\n        _canUseLocalStorage = !!_getVerifiedStorageObject(StorageType.LocalStorage);\r\n    }\r\n    return _canUseLocalStorage;\r\n}\r\nexport function utlGetLocalStorage(logger, name) {\r\n    var storage = _getLocalStorageObject();\r\n    if (storage !== null) {\r\n        try {\r\n            return storage.getItem(name);\r\n        }\r\n        catch (e) {\r\n            _canUseLocalStorage = false;\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 1 /* _eInternalMessageId.BrowserCannotReadLocalStorage */, \"Browser failed read of local storage. \" + getExceptionName(e), { exception: dumpObj(e) });\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexport function utlSetLocalStorage(logger, name, data) {\r\n    var storage = _getLocalStorageObject();\r\n    if (storage !== null) {\r\n        try {\r\n            storage.setItem(name, data);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            _canUseLocalStorage = false;\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 3 /* _eInternalMessageId.BrowserCannotWriteLocalStorage */, \"Browser failed write to local storage. \" + getExceptionName(e), { exception: dumpObj(e) });\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexport function utlRemoveStorage(logger, name) {\r\n    var storage = _getLocalStorageObject();\r\n    if (storage !== null) {\r\n        try {\r\n            storage[_DYN_REMOVE_ITEM /* @min:%2eremoveItem */](name);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            _canUseLocalStorage = false;\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 5 /* _eInternalMessageId.BrowserFailedRemovalFromLocalStorage */, \"Browser failed removal of local storage item. \" + getExceptionName(e), { exception: dumpObj(e) });\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexport function utlCanUseSessionStorage(reset) {\r\n    if (reset || _canUseSessionStorage === undefined) {\r\n        _canUseSessionStorage = !!_getVerifiedStorageObject(StorageType.SessionStorage);\r\n    }\r\n    return _canUseSessionStorage;\r\n}\r\nexport function utlGetSessionStorageKeys() {\r\n    var keys = [];\r\n    if (utlCanUseSessionStorage()) {\r\n        objForEachKey(getGlobalInst(\"sessionStorage\"), function (key) {\r\n            keys[_DYN_PUSH /* @min:%2epush */](key);\r\n        });\r\n    }\r\n    return keys;\r\n}\r\nexport function utlGetSessionStorage(logger, name) {\r\n    var storage = _getSessionStorageObject();\r\n    if (storage !== null) {\r\n        try {\r\n            return storage.getItem(name);\r\n        }\r\n        catch (e) {\r\n            _canUseSessionStorage = false;\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 2 /* _eInternalMessageId.BrowserCannotReadSessionStorage */, \"Browser failed read of session storage. \" + getExceptionName(e), { exception: dumpObj(e) });\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexport function utlSetSessionStorage(logger, name, data) {\r\n    var storage = _getSessionStorageObject();\r\n    if (storage !== null) {\r\n        try {\r\n            storage.setItem(name, data);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            _canUseSessionStorage = false;\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 4 /* _eInternalMessageId.BrowserCannotWriteSessionStorage */, \"Browser failed write to session storage. \" + getExceptionName(e), { exception: dumpObj(e) });\r\n        }\r\n    }\r\n    return false;\r\n}\r\nexport function utlRemoveSessionStorage(logger, name) {\r\n    var storage = _getSessionStorageObject();\r\n    if (storage !== null) {\r\n        try {\r\n            storage[_DYN_REMOVE_ITEM /* @min:%2eremoveItem */](name);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            _canUseSessionStorage = false;\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 6 /* _eInternalMessageId.BrowserFailedRemovalFromSessionStorage */, \"Browser failed removal of session storage item. \" + getExceptionName(e), { exception: dumpObj(e) });\r\n        }\r\n    }\r\n    return false;\r\n}\r\n//# sourceMappingURL=StorageHelperFuncs.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nvar Data = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of telemetry data.\r\n     */\r\n    function Data(baseType, data) {\r\n        /**\r\n         * The data contract for serializing this object.\r\n         */\r\n        this.aiDataContract = {\r\n            baseType: 1 /* FieldType.Required */,\r\n            baseData: 1 /* FieldType.Required */\r\n        };\r\n        this.baseType = baseType;\r\n        this.baseData = data;\r\n    }\r\n    return Data;\r\n}());\r\nexport { Data };\r\n//# sourceMappingURL=Data.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { _throwInternal, getJSON, hasJSON, isObject, objForEachKey, strTrim } from \"@microsoft/applicationinsights-core-js\";\r\nimport { asString, strSubstr, strSubstring } from \"@nevware21/ts-utils\";\r\nimport { _DYN_LENGTH, _DYN_STRINGIFY, _DYN_TO_STRING } from \"../../__DynamicConstants\";\r\nexport function dataSanitizeKeyAndAddUniqueness(logger, key, map) {\r\n    var origLength = key[_DYN_LENGTH /* @min:%2elength */];\r\n    var field = dataSanitizeKey(logger, key);\r\n    // validation truncated the length.  We need to add uniqueness\r\n    if (field[_DYN_LENGTH /* @min:%2elength */] !== origLength) {\r\n        var i = 0;\r\n        var uniqueField = field;\r\n        while (map[uniqueField] !== undefined) {\r\n            i++;\r\n            uniqueField = strSubstring(field, 0, 150 /* DataSanitizerValues.MAX_NAME_LENGTH */ - 3) + dsPadNumber(i);\r\n        }\r\n        field = uniqueField;\r\n    }\r\n    return field;\r\n}\r\nexport function dataSanitizeKey(logger, name) {\r\n    var nameTrunc;\r\n    if (name) {\r\n        // Remove any leading or trailing whitespace\r\n        name = strTrim(asString(name));\r\n        // truncate the string to 150 chars\r\n        if (name[_DYN_LENGTH /* @min:%2elength */] > 150 /* DataSanitizerValues.MAX_NAME_LENGTH */) {\r\n            nameTrunc = strSubstring(name, 0, 150 /* DataSanitizerValues.MAX_NAME_LENGTH */);\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 57 /* _eInternalMessageId.NameTooLong */, \"name is too long.  It has been truncated to \" + 150 /* DataSanitizerValues.MAX_NAME_LENGTH */ + \" characters.\", { name: name }, true);\r\n        }\r\n    }\r\n    return nameTrunc || name;\r\n}\r\nexport function dataSanitizeString(logger, value, maxLength) {\r\n    if (maxLength === void 0) { maxLength = 1024 /* DataSanitizerValues.MAX_STRING_LENGTH */; }\r\n    var valueTrunc;\r\n    if (value) {\r\n        maxLength = maxLength ? maxLength : 1024 /* DataSanitizerValues.MAX_STRING_LENGTH */; // in case default parameters dont work\r\n        value = strTrim(asString(value));\r\n        if (value[_DYN_LENGTH /* @min:%2elength */] > maxLength) {\r\n            valueTrunc = strSubstring(value, 0, maxLength);\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 61 /* _eInternalMessageId.StringValueTooLong */, \"string value is too long. It has been truncated to \" + maxLength + \" characters.\", { value: value }, true);\r\n        }\r\n    }\r\n    return valueTrunc || value;\r\n}\r\nexport function dataSanitizeUrl(logger, url) {\r\n    return dataSanitizeInput(logger, url, 2048 /* DataSanitizerValues.MAX_URL_LENGTH */, 66 /* _eInternalMessageId.UrlTooLong */);\r\n}\r\nexport function dataSanitizeMessage(logger, message) {\r\n    var messageTrunc;\r\n    if (message) {\r\n        if (message[_DYN_LENGTH /* @min:%2elength */] > 32768 /* DataSanitizerValues.MAX_MESSAGE_LENGTH */) {\r\n            messageTrunc = strSubstring(message, 0, 32768 /* DataSanitizerValues.MAX_MESSAGE_LENGTH */);\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 56 /* _eInternalMessageId.MessageTruncated */, \"message is too long, it has been truncated to \" + 32768 /* DataSanitizerValues.MAX_MESSAGE_LENGTH */ + \" characters.\", { message: message }, true);\r\n        }\r\n    }\r\n    return messageTrunc || message;\r\n}\r\nexport function dataSanitizeException(logger, exception) {\r\n    var exceptionTrunc;\r\n    if (exception) {\r\n        // Make surte its a string\r\n        var value = \"\" + exception;\r\n        if (value[_DYN_LENGTH /* @min:%2elength */] > 32768 /* DataSanitizerValues.MAX_EXCEPTION_LENGTH */) {\r\n            exceptionTrunc = strSubstring(value, 0, 32768 /* DataSanitizerValues.MAX_EXCEPTION_LENGTH */);\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 52 /* _eInternalMessageId.ExceptionTruncated */, \"exception is too long, it has been truncated to \" + 32768 /* DataSanitizerValues.MAX_EXCEPTION_LENGTH */ + \" characters.\", { exception: exception }, true);\r\n        }\r\n    }\r\n    return exceptionTrunc || exception;\r\n}\r\nexport function dataSanitizeProperties(logger, properties) {\r\n    if (properties) {\r\n        var tempProps_1 = {};\r\n        objForEachKey(properties, function (prop, value) {\r\n            if (isObject(value) && hasJSON()) {\r\n                // Stringify any part C properties\r\n                try {\r\n                    value = getJSON()[_DYN_STRINGIFY /* @min:%2estringify */](value);\r\n                }\r\n                catch (e) {\r\n                    _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 49 /* _eInternalMessageId.CannotSerializeObjectNonSerializable */, \"custom property is not valid\", { exception: e }, true);\r\n                }\r\n            }\r\n            value = dataSanitizeString(logger, value, 8192 /* DataSanitizerValues.MAX_PROPERTY_LENGTH */);\r\n            prop = dataSanitizeKeyAndAddUniqueness(logger, prop, tempProps_1);\r\n            tempProps_1[prop] = value;\r\n        });\r\n        properties = tempProps_1;\r\n    }\r\n    return properties;\r\n}\r\nexport function dataSanitizeMeasurements(logger, measurements) {\r\n    if (measurements) {\r\n        var tempMeasurements_1 = {};\r\n        objForEachKey(measurements, function (measure, value) {\r\n            measure = dataSanitizeKeyAndAddUniqueness(logger, measure, tempMeasurements_1);\r\n            tempMeasurements_1[measure] = value;\r\n        });\r\n        measurements = tempMeasurements_1;\r\n    }\r\n    return measurements;\r\n}\r\nexport function dataSanitizeId(logger, id) {\r\n    return id ? dataSanitizeInput(logger, id, 128 /* DataSanitizerValues.MAX_ID_LENGTH */, 69 /* _eInternalMessageId.IdTooLong */)[_DYN_TO_STRING /* @min:%2etoString */]() : id;\r\n}\r\nexport function dataSanitizeInput(logger, input, maxLength, _msgId) {\r\n    var inputTrunc;\r\n    if (input) {\r\n        input = strTrim(asString(input));\r\n        if (input[_DYN_LENGTH /* @min:%2elength */] > maxLength) {\r\n            inputTrunc = strSubstring(input, 0, maxLength);\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, _msgId, \"input is too long, it has been truncated to \" + maxLength + \" characters.\", { data: input }, true);\r\n        }\r\n    }\r\n    return inputTrunc || input;\r\n}\r\nexport function dsPadNumber(num) {\r\n    var s = \"00\" + num;\r\n    return strSubstr(s, s[_DYN_LENGTH /* @min:%2elength */] - 3);\r\n}\r\n//# sourceMappingURL=DataSanitizer.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { toISOString } from \"@microsoft/applicationinsights-core-js\";\r\nimport { strNotSpecified } from \"../../Constants\";\r\nimport { _DYN_NAME } from \"../../__DynamicConstants\";\r\nimport { dataSanitizeString } from \"./DataSanitizer\";\r\nvar Envelope = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of telemetry data.\r\n     */\r\n    function Envelope(logger, data, name) {\r\n        var _this = this;\r\n        var _self = this;\r\n        _self.ver = 1;\r\n        _self.sampleRate = 100.0;\r\n        _self.tags = {};\r\n        _self[_DYN_NAME /* @min:%2ename */] = dataSanitizeString(logger, name) || strNotSpecified;\r\n        _self.data = data;\r\n        _self.time = toISOString(new Date());\r\n        _self.aiDataContract = {\r\n            time: 1 /* FieldType.Required */,\r\n            iKey: 1 /* FieldType.Required */,\r\n            name: 1 /* FieldType.Required */,\r\n            sampleRate: function () {\r\n                return (_this.sampleRate === 100) ? 4 /* FieldType.Hidden */ : 1 /* FieldType.Required */;\r\n            },\r\n            tags: 1 /* FieldType.Required */,\r\n            data: 1 /* FieldType.Required */\r\n        };\r\n    }\r\n    return Envelope;\r\n}());\r\nexport { Envelope };\r\n//# sourceMappingURL=Envelope.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { strNotSpecified } from \"../Constants\";\r\nimport { _DYN_MEASUREMENTS, _DYN_NAME, _DYN_PROPERTIES } from \"../__DynamicConstants\";\r\nimport { dataSanitizeMeasurements, dataSanitizeProperties, dataSanitizeString } from \"./Common/DataSanitizer\";\r\nvar Event = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of the EventTelemetry object\r\n     */\r\n    function Event(logger, name, properties, measurements) {\r\n        this.aiDataContract = {\r\n            ver: 1 /* FieldType.Required */,\r\n            name: 1 /* FieldType.Required */,\r\n            properties: 0 /* FieldType.Default */,\r\n            measurements: 0 /* FieldType.Default */\r\n        };\r\n        var _self = this;\r\n        _self.ver = 2;\r\n        _self[_DYN_NAME /* @min:%2ename */] = dataSanitizeString(logger, name) || strNotSpecified;\r\n        _self[_DYN_PROPERTIES /* @min:%2eproperties */] = dataSanitizeProperties(logger, properties);\r\n        _self[_DYN_MEASUREMENTS /* @min:%2emeasurements */] = dataSanitizeMeasurements(logger, measurements);\r\n    }\r\n    Event.envelopeType = \"Microsoft.ApplicationInsights.{0}.Event\";\r\n    Event.dataType = \"EventData\";\r\n    return Event;\r\n}());\r\nexport { Event };\r\n//# sourceMappingURL=Event.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { __assignFn as __assign } from \"@microsoft/applicationinsights-shims\";\r\nimport { arrForEach, arrMap, isArray, isError, isFunction, isNullOrUndefined, isObject, isString, strTrim } from \"@microsoft/applicationinsights-core-js\";\r\nimport { getWindow, strIndexOf } from \"@nevware21/ts-utils\";\r\nimport { strNotSpecified } from \"../Constants\";\r\nimport { _DYN_ASSEMBLY, _DYN_EXCEPTIONS, _DYN_FILE_NAME, _DYN_HAS_FULL_STACK, _DYN_IS_MANUAL, _DYN_LENGTH, _DYN_LEVEL, _DYN_LINE, _DYN_MEASUREMENTS, _DYN_MESSAGE, _DYN_METHOD, _DYN_NAME, _DYN_PARSED_STACK, _DYN_PROBLEM_GROUP, _DYN_PROPERTIES, _DYN_PUSH, _DYN_SEVERITY_LEVEL, _DYN_SIZE_IN_BYTES, _DYN_SPLIT, _DYN_STRINGIFY, _DYN_TO_STRING, _DYN_TYPE_NAME, _DYN__CREATE_FROM_INTERFA1 } from \"../__DynamicConstants\";\r\nimport { dataSanitizeException, dataSanitizeMeasurements, dataSanitizeMessage, dataSanitizeProperties, dataSanitizeString } from \"./Common/DataSanitizer\";\r\nvar NoMethod = \"<no_method>\";\r\nvar strError = \"error\";\r\nvar strStack = \"stack\";\r\nvar strStackDetails = \"stackDetails\";\r\nvar strErrorSrc = \"errorSrc\";\r\nvar strMessage = \"message\";\r\nvar strDescription = \"description\";\r\nfunction _stringify(value, convertToString) {\r\n    var result = value;\r\n    if (result && !isString(result)) {\r\n        if (JSON && JSON[_DYN_STRINGIFY /* @min:%2estringify */]) {\r\n            result = JSON[_DYN_STRINGIFY /* @min:%2estringify */](value);\r\n            if (convertToString && (!result || result === \"{}\")) {\r\n                if (isFunction(value[_DYN_TO_STRING /* @min:%2etoString */])) {\r\n                    result = value[_DYN_TO_STRING /* @min:%2etoString */]();\r\n                }\r\n                else {\r\n                    result = \"\" + value;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            result = \"\" + value + \" - (Missing JSON.stringify)\";\r\n        }\r\n    }\r\n    return result || \"\";\r\n}\r\nfunction _formatMessage(theEvent, errorType) {\r\n    var evtMessage = theEvent;\r\n    if (theEvent) {\r\n        if (evtMessage && !isString(evtMessage)) {\r\n            evtMessage = theEvent[strMessage] || theEvent[strDescription] || evtMessage;\r\n        }\r\n        // Make sure the message is a string\r\n        if (evtMessage && !isString(evtMessage)) {\r\n            // tslint:disable-next-line: prefer-conditional-expression\r\n            evtMessage = _stringify(evtMessage, true);\r\n        }\r\n        if (theEvent[\"filename\"]) {\r\n            // Looks like an event object with filename\r\n            evtMessage = evtMessage + \" @\" + (theEvent[\"filename\"] || \"\") + \":\" + (theEvent[\"lineno\"] || \"?\") + \":\" + (theEvent[\"colno\"] || \"?\");\r\n        }\r\n    }\r\n    // Automatically add the error type to the message if it does already appear to be present\r\n    if (errorType && errorType !== \"String\" && errorType !== \"Object\" && errorType !== \"Error\" && strIndexOf(evtMessage || \"\", errorType) === -1) {\r\n        evtMessage = errorType + \": \" + evtMessage;\r\n    }\r\n    return evtMessage || \"\";\r\n}\r\nfunction _isExceptionDetailsInternal(value) {\r\n    try {\r\n        if (isObject(value)) {\r\n            return \"hasFullStack\" in value && \"typeName\" in value;\r\n        }\r\n    }\r\n    catch (e) {\r\n        // This can happen with some native browser objects, but should not happen for the type we are checking for\r\n    }\r\n    return false;\r\n}\r\nfunction _isExceptionInternal(value) {\r\n    try {\r\n        if (isObject(value)) {\r\n            return (\"ver\" in value && \"exceptions\" in value && \"properties\" in value);\r\n        }\r\n    }\r\n    catch (e) {\r\n        // This can happen with some native browser objects, but should not happen for the type we are checking for\r\n    }\r\n    return false;\r\n}\r\nfunction _isStackDetails(details) {\r\n    return details && details.src && isString(details.src) && details.obj && isArray(details.obj);\r\n}\r\nfunction _convertStackObj(errorStack) {\r\n    var src = errorStack || \"\";\r\n    if (!isString(src)) {\r\n        if (isString(src[strStack])) {\r\n            src = src[strStack];\r\n        }\r\n        else {\r\n            src = \"\" + src;\r\n        }\r\n    }\r\n    var items = src[_DYN_SPLIT /* @min:%2esplit */](\"\\n\");\r\n    return {\r\n        src: src,\r\n        obj: items\r\n    };\r\n}\r\nfunction _getOperaStack(errorMessage) {\r\n    var stack = [];\r\n    var lines = errorMessage[_DYN_SPLIT /* @min:%2esplit */](\"\\n\");\r\n    for (var lp = 0; lp < lines[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n        var entry = lines[lp];\r\n        if (lines[lp + 1]) {\r\n            entry += \"@\" + lines[lp + 1];\r\n            lp++;\r\n        }\r\n        stack[_DYN_PUSH /* @min:%2epush */](entry);\r\n    }\r\n    return {\r\n        src: errorMessage,\r\n        obj: stack\r\n    };\r\n}\r\nfunction _getStackFromErrorObj(errorObj) {\r\n    var details = null;\r\n    if (errorObj) {\r\n        try {\r\n            /* Using bracket notation is support older browsers (IE 7/8 -- dont remember the version) that throw when using dot\r\n            notation for undefined objects and we don't want to loose the error from being reported */\r\n            if (errorObj[strStack]) {\r\n                // Chrome/Firefox\r\n                details = _convertStackObj(errorObj[strStack]);\r\n            }\r\n            else if (errorObj[strError] && errorObj[strError][strStack]) {\r\n                // Edge error event provides the stack and error object\r\n                details = _convertStackObj(errorObj[strError][strStack]);\r\n            }\r\n            else if (errorObj[\"exception\"] && errorObj.exception[strStack]) {\r\n                details = _convertStackObj(errorObj.exception[strStack]);\r\n            }\r\n            else if (_isStackDetails(errorObj)) {\r\n                details = errorObj;\r\n            }\r\n            else if (_isStackDetails(errorObj[strStackDetails])) {\r\n                details = errorObj[strStackDetails];\r\n            }\r\n            else if (getWindow() && getWindow()[\"opera\"] && errorObj[strMessage]) {\r\n                // Opera\r\n                details = _getOperaStack(errorObj[_DYN_MESSAGE /* @min:%2emessage */]);\r\n            }\r\n            else if (errorObj[\"reason\"] && errorObj.reason[strStack]) {\r\n                // UnhandledPromiseRejection\r\n                details = _convertStackObj(errorObj.reason[strStack]);\r\n            }\r\n            else if (isString(errorObj)) {\r\n                details = _convertStackObj(errorObj);\r\n            }\r\n            else {\r\n                var evtMessage = errorObj[strMessage] || errorObj[strDescription] || \"\";\r\n                if (isString(errorObj[strErrorSrc])) {\r\n                    if (evtMessage) {\r\n                        evtMessage += \"\\n\";\r\n                    }\r\n                    evtMessage += \" from \" + errorObj[strErrorSrc];\r\n                }\r\n                if (evtMessage) {\r\n                    details = _convertStackObj(evtMessage);\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // something unexpected happened so to avoid failing to report any error lets swallow the exception\r\n            // and fallback to the callee/caller method\r\n            details = _convertStackObj(e);\r\n        }\r\n    }\r\n    return details || {\r\n        src: \"\",\r\n        obj: null\r\n    };\r\n}\r\nfunction _formatStackTrace(stackDetails) {\r\n    var stack = \"\";\r\n    if (stackDetails) {\r\n        if (stackDetails.obj) {\r\n            arrForEach(stackDetails.obj, function (entry) {\r\n                stack += entry + \"\\n\";\r\n            });\r\n        }\r\n        else {\r\n            stack = stackDetails.src || \"\";\r\n        }\r\n    }\r\n    return stack;\r\n}\r\nfunction _parseStack(stack) {\r\n    var parsedStack;\r\n    var frames = stack.obj;\r\n    if (frames && frames[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        parsedStack = [];\r\n        var level_1 = 0;\r\n        var totalSizeInBytes_1 = 0;\r\n        arrForEach(frames, function (frame) {\r\n            var theFrame = frame[_DYN_TO_STRING /* @min:%2etoString */]();\r\n            if (_StackFrame.regex.test(theFrame)) {\r\n                var parsedFrame = new _StackFrame(theFrame, level_1++);\r\n                totalSizeInBytes_1 += parsedFrame[_DYN_SIZE_IN_BYTES /* @min:%2esizeInBytes */];\r\n                parsedStack[_DYN_PUSH /* @min:%2epush */](parsedFrame);\r\n            }\r\n        });\r\n        // DP Constraint - exception parsed stack must be < 32KB\r\n        // remove frames from the middle to meet the threshold\r\n        var exceptionParsedStackThreshold = 32 * 1024;\r\n        if (totalSizeInBytes_1 > exceptionParsedStackThreshold) {\r\n            var left = 0;\r\n            var right = parsedStack[_DYN_LENGTH /* @min:%2elength */] - 1;\r\n            var size = 0;\r\n            var acceptedLeft = left;\r\n            var acceptedRight = right;\r\n            while (left < right) {\r\n                // check size\r\n                var lSize = parsedStack[left][_DYN_SIZE_IN_BYTES /* @min:%2esizeInBytes */];\r\n                var rSize = parsedStack[right][_DYN_SIZE_IN_BYTES /* @min:%2esizeInBytes */];\r\n                size += lSize + rSize;\r\n                if (size > exceptionParsedStackThreshold) {\r\n                    // remove extra frames from the middle\r\n                    var howMany = acceptedRight - acceptedLeft + 1;\r\n                    parsedStack.splice(acceptedLeft, howMany);\r\n                    break;\r\n                }\r\n                // update pointers\r\n                acceptedLeft = left;\r\n                acceptedRight = right;\r\n                left++;\r\n                right--;\r\n            }\r\n        }\r\n    }\r\n    return parsedStack;\r\n}\r\nfunction _getErrorType(errorType) {\r\n    // Gets the Error Type by passing the constructor (used to get the true type of native error object).\r\n    var typeName = \"\";\r\n    if (errorType) {\r\n        typeName = errorType.typeName || errorType[_DYN_NAME /* @min:%2ename */] || \"\";\r\n        if (!typeName) {\r\n            try {\r\n                var funcNameRegex = /function (.{1,200})\\(/;\r\n                var results = (funcNameRegex).exec((errorType).constructor[_DYN_TO_STRING /* @min:%2etoString */]());\r\n                typeName = (results && results[_DYN_LENGTH /* @min:%2elength */] > 1) ? results[1] : \"\";\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-empty -- Ignoring any failures as nothing we can do\r\n            }\r\n        }\r\n    }\r\n    return typeName;\r\n}\r\n/**\r\n * Formats the provided errorObj for display and reporting, it may be a String, Object, integer or undefined depending on the browser.\r\n * @param errorObj - The supplied errorObj\r\n */\r\nexport function _formatErrorCode(errorObj) {\r\n    if (errorObj) {\r\n        try {\r\n            if (!isString(errorObj)) {\r\n                var errorType = _getErrorType(errorObj);\r\n                var result = _stringify(errorObj, false);\r\n                if (!result || result === \"{}\") {\r\n                    if (errorObj[strError]) {\r\n                        // Looks like an MS Error Event\r\n                        errorObj = errorObj[strError];\r\n                        errorType = _getErrorType(errorObj);\r\n                    }\r\n                    result = _stringify(errorObj, true);\r\n                }\r\n                if (strIndexOf(result, errorType) !== 0 && errorType !== \"String\") {\r\n                    return errorType + \":\" + result;\r\n                }\r\n                return result;\r\n            }\r\n        }\r\n        catch (e) {\r\n            // eslint-disable-next-line no-empty -- Ignoring any failures as nothing we can do\r\n        }\r\n    }\r\n    // Fallback to just letting the object format itself into a string\r\n    return \"\" + (errorObj || \"\");\r\n}\r\nvar Exception = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of the ExceptionTelemetry object\r\n     */\r\n    function Exception(logger, exception, properties, measurements, severityLevel, id) {\r\n        this.aiDataContract = {\r\n            ver: 1 /* FieldType.Required */,\r\n            exceptions: 1 /* FieldType.Required */,\r\n            severityLevel: 0 /* FieldType.Default */,\r\n            properties: 0 /* FieldType.Default */,\r\n            measurements: 0 /* FieldType.Default */\r\n        };\r\n        var _self = this;\r\n        _self.ver = 2; // TODO: handle the CS\"4.0\" ==> breeze 2 conversion in a better way\r\n        if (!_isExceptionInternal(exception)) {\r\n            if (!properties) {\r\n                properties = {};\r\n            }\r\n            if (id) {\r\n                properties.id = id;\r\n            }\r\n            _self[_DYN_EXCEPTIONS /* @min:%2eexceptions */] = [new _ExceptionDetails(logger, exception, properties)];\r\n            _self[_DYN_PROPERTIES /* @min:%2eproperties */] = dataSanitizeProperties(logger, properties);\r\n            _self[_DYN_MEASUREMENTS /* @min:%2emeasurements */] = dataSanitizeMeasurements(logger, measurements);\r\n            if (severityLevel) {\r\n                _self[_DYN_SEVERITY_LEVEL /* @min:%2eseverityLevel */] = severityLevel;\r\n            }\r\n            if (id) {\r\n                _self.id = id;\r\n            }\r\n        }\r\n        else {\r\n            _self[_DYN_EXCEPTIONS /* @min:%2eexceptions */] = exception[_DYN_EXCEPTIONS /* @min:%2eexceptions */] || [];\r\n            _self[_DYN_PROPERTIES /* @min:%2eproperties */] = exception[_DYN_PROPERTIES /* @min:%2eproperties */];\r\n            _self[_DYN_MEASUREMENTS /* @min:%2emeasurements */] = exception[_DYN_MEASUREMENTS /* @min:%2emeasurements */];\r\n            if (exception[_DYN_SEVERITY_LEVEL /* @min:%2eseverityLevel */]) {\r\n                _self[_DYN_SEVERITY_LEVEL /* @min:%2eseverityLevel */] = exception[_DYN_SEVERITY_LEVEL /* @min:%2eseverityLevel */];\r\n            }\r\n            if (exception.id) {\r\n                _self.id = exception.id;\r\n                exception[_DYN_PROPERTIES /* @min:%2eproperties */].id = exception.id;\r\n            }\r\n            if (exception[_DYN_PROBLEM_GROUP /* @min:%2eproblemGroup */]) {\r\n                _self[_DYN_PROBLEM_GROUP /* @min:%2eproblemGroup */] = exception[_DYN_PROBLEM_GROUP /* @min:%2eproblemGroup */];\r\n            }\r\n            // bool/int types, use isNullOrUndefined\r\n            if (!isNullOrUndefined(exception[_DYN_IS_MANUAL /* @min:%2eisManual */])) {\r\n                _self[_DYN_IS_MANUAL /* @min:%2eisManual */] = exception[_DYN_IS_MANUAL /* @min:%2eisManual */];\r\n            }\r\n        }\r\n    }\r\n    Exception.CreateAutoException = function (message, url, lineNumber, columnNumber, error, evt, stack, errorSrc) {\r\n        var _a;\r\n        var errorType = _getErrorType(error || evt || message);\r\n        return _a = {},\r\n            _a[_DYN_MESSAGE /* @min:message */] = _formatMessage(message, errorType),\r\n            _a.url = url,\r\n            _a.lineNumber = lineNumber,\r\n            _a.columnNumber = columnNumber,\r\n            _a.error = _formatErrorCode(error || evt || message),\r\n            _a.evt = _formatErrorCode(evt || message),\r\n            _a[_DYN_TYPE_NAME /* @min:typeName */] = errorType,\r\n            _a.stackDetails = _getStackFromErrorObj(stack || error || evt),\r\n            _a.errorSrc = errorSrc,\r\n            _a;\r\n    };\r\n    Exception.CreateFromInterface = function (logger, exception, properties, measurements) {\r\n        var exceptions = exception[_DYN_EXCEPTIONS /* @min:%2eexceptions */]\r\n            && arrMap(exception[_DYN_EXCEPTIONS /* @min:%2eexceptions */], function (ex) { return _ExceptionDetails[_DYN__CREATE_FROM_INTERFA1 /* @min:%2eCreateFromInterface */](logger, ex); });\r\n        var exceptionData = new Exception(logger, __assign(__assign({}, exception), { exceptions: exceptions }), properties, measurements);\r\n        return exceptionData;\r\n    };\r\n    Exception.prototype.toInterface = function () {\r\n        var _a;\r\n        var _b = this, exceptions = _b.exceptions, properties = _b.properties, measurements = _b.measurements, severityLevel = _b.severityLevel, problemGroup = _b.problemGroup, id = _b.id, isManual = _b.isManual;\r\n        var exceptionDetailsInterface = exceptions instanceof Array\r\n            && arrMap(exceptions, function (exception) { return exception.toInterface(); })\r\n            || undefined;\r\n        return _a = {\r\n                ver: \"4.0\"\r\n            },\r\n            _a[_DYN_EXCEPTIONS /* @min:exceptions */] = exceptionDetailsInterface,\r\n            _a.severityLevel = severityLevel,\r\n            _a.properties = properties,\r\n            _a.measurements = measurements,\r\n            _a.problemGroup = problemGroup,\r\n            _a.id = id,\r\n            _a.isManual = isManual,\r\n            _a;\r\n    };\r\n    /**\r\n     * Creates a simple exception with 1 stack frame. Useful for manual constracting of exception.\r\n     */\r\n    Exception.CreateSimpleException = function (message, typeName, assembly, fileName, details, line) {\r\n        var _a;\r\n        return {\r\n            exceptions: [\r\n                (_a = {},\r\n                    _a[_DYN_HAS_FULL_STACK /* @min:hasFullStack */] = true,\r\n                    _a.message = message,\r\n                    _a.stack = details,\r\n                    _a.typeName = typeName,\r\n                    _a)\r\n            ]\r\n        };\r\n    };\r\n    Exception.envelopeType = \"Microsoft.ApplicationInsights.{0}.Exception\";\r\n    Exception.dataType = \"ExceptionData\";\r\n    Exception.formatError = _formatErrorCode;\r\n    return Exception;\r\n}());\r\nexport { Exception };\r\nvar _ExceptionDetails = /** @class */ (function () {\r\n    function _ExceptionDetails(logger, exception, properties) {\r\n        this.aiDataContract = {\r\n            id: 0 /* FieldType.Default */,\r\n            outerId: 0 /* FieldType.Default */,\r\n            typeName: 1 /* FieldType.Required */,\r\n            message: 1 /* FieldType.Required */,\r\n            hasFullStack: 0 /* FieldType.Default */,\r\n            stack: 0 /* FieldType.Default */,\r\n            parsedStack: 2 /* FieldType.Array */\r\n        };\r\n        var _self = this;\r\n        if (!_isExceptionDetailsInternal(exception)) {\r\n            var error = exception;\r\n            var evt = error && error.evt;\r\n            if (!isError(error)) {\r\n                error = error[strError] || evt || error;\r\n            }\r\n            _self[_DYN_TYPE_NAME /* @min:%2etypeName */] = dataSanitizeString(logger, _getErrorType(error)) || strNotSpecified;\r\n            _self[_DYN_MESSAGE /* @min:%2emessage */] = dataSanitizeMessage(logger, _formatMessage(exception || error, _self[_DYN_TYPE_NAME /* @min:%2etypeName */])) || strNotSpecified;\r\n            var stack = exception[strStackDetails] || _getStackFromErrorObj(exception);\r\n            _self[_DYN_PARSED_STACK /* @min:%2eparsedStack */] = _parseStack(stack);\r\n            // after parsedStack is inited, iterate over each frame object, sanitize its assembly field\r\n            if (isArray(_self[_DYN_PARSED_STACK /* @min:%2eparsedStack */])) {\r\n                arrMap(_self[_DYN_PARSED_STACK /* @min:%2eparsedStack */], function (frame) {\r\n                    frame[_DYN_ASSEMBLY /* @min:%2eassembly */] = dataSanitizeString(logger, frame[_DYN_ASSEMBLY /* @min:%2eassembly */]);\r\n                    frame[_DYN_FILE_NAME /* @min:%2efileName */] = dataSanitizeString(logger, frame[_DYN_FILE_NAME /* @min:%2efileName */]);\r\n                });\r\n            }\r\n            _self[strStack] = dataSanitizeException(logger, _formatStackTrace(stack));\r\n            _self.hasFullStack = isArray(_self.parsedStack) && _self.parsedStack[_DYN_LENGTH /* @min:%2elength */] > 0;\r\n            if (properties) {\r\n                properties[_DYN_TYPE_NAME /* @min:%2etypeName */] = properties[_DYN_TYPE_NAME /* @min:%2etypeName */] || _self[_DYN_TYPE_NAME /* @min:%2etypeName */];\r\n            }\r\n        }\r\n        else {\r\n            _self[_DYN_TYPE_NAME /* @min:%2etypeName */] = exception[_DYN_TYPE_NAME /* @min:%2etypeName */];\r\n            _self[_DYN_MESSAGE /* @min:%2emessage */] = exception[_DYN_MESSAGE /* @min:%2emessage */];\r\n            _self[strStack] = exception[strStack];\r\n            _self[_DYN_PARSED_STACK /* @min:%2eparsedStack */] = exception[_DYN_PARSED_STACK /* @min:%2eparsedStack */] || [];\r\n            _self[_DYN_HAS_FULL_STACK /* @min:%2ehasFullStack */] = exception[_DYN_HAS_FULL_STACK /* @min:%2ehasFullStack */];\r\n        }\r\n    }\r\n    _ExceptionDetails.prototype.toInterface = function () {\r\n        var _a;\r\n        var _self = this;\r\n        var parsedStack = _self[_DYN_PARSED_STACK /* @min:%2eparsedStack */] instanceof Array\r\n            && arrMap(_self[_DYN_PARSED_STACK /* @min:%2eparsedStack */], function (frame) { return frame.toInterface(); });\r\n        var exceptionDetailsInterface = (_a = {\r\n                id: _self.id,\r\n                outerId: _self.outerId,\r\n                typeName: _self[_DYN_TYPE_NAME /* @min:%2etypeName */],\r\n                message: _self[_DYN_MESSAGE /* @min:%2emessage */],\r\n                hasFullStack: _self[_DYN_HAS_FULL_STACK /* @min:%2ehasFullStack */],\r\n                stack: _self[strStack]\r\n            },\r\n            _a[_DYN_PARSED_STACK /* @min:parsedStack */] = parsedStack || undefined,\r\n            _a);\r\n        return exceptionDetailsInterface;\r\n    };\r\n    _ExceptionDetails.CreateFromInterface = function (logger, exception) {\r\n        var parsedStack = (exception[_DYN_PARSED_STACK /* @min:%2eparsedStack */] instanceof Array\r\n            && arrMap(exception[_DYN_PARSED_STACK /* @min:%2eparsedStack */], function (frame) { return _StackFrame[_DYN__CREATE_FROM_INTERFA1 /* @min:%2eCreateFromInterface */](frame); }))\r\n            || exception[_DYN_PARSED_STACK /* @min:%2eparsedStack */];\r\n        var exceptionDetails = new _ExceptionDetails(logger, __assign(__assign({}, exception), { parsedStack: parsedStack }));\r\n        return exceptionDetails;\r\n    };\r\n    return _ExceptionDetails;\r\n}());\r\nexport { _ExceptionDetails };\r\nvar _StackFrame = /** @class */ (function () {\r\n    function _StackFrame(sourceFrame, level) {\r\n        this.aiDataContract = {\r\n            level: 1 /* FieldType.Required */,\r\n            method: 1 /* FieldType.Required */,\r\n            assembly: 0 /* FieldType.Default */,\r\n            fileName: 0 /* FieldType.Default */,\r\n            line: 0 /* FieldType.Default */\r\n        };\r\n        var _self = this;\r\n        _self[_DYN_SIZE_IN_BYTES /* @min:%2esizeInBytes */] = 0;\r\n        // Not converting this to isString() as typescript uses this logic to \"understand\" the different\r\n        // types for the 2 different code paths\r\n        if (typeof sourceFrame === \"string\") {\r\n            var frame = sourceFrame;\r\n            _self[_DYN_LEVEL /* @min:%2elevel */] = level;\r\n            _self[_DYN_METHOD /* @min:%2emethod */] = NoMethod;\r\n            _self[_DYN_ASSEMBLY /* @min:%2eassembly */] = strTrim(frame);\r\n            _self[_DYN_FILE_NAME /* @min:%2efileName */] = \"\";\r\n            _self[_DYN_LINE /* @min:%2eline */] = 0;\r\n            var matches = frame.match(_StackFrame.regex);\r\n            if (matches && matches[_DYN_LENGTH /* @min:%2elength */] >= 5) {\r\n                _self[_DYN_METHOD /* @min:%2emethod */] = strTrim(matches[2]) || _self[_DYN_METHOD /* @min:%2emethod */];\r\n                _self[_DYN_FILE_NAME /* @min:%2efileName */] = strTrim(matches[4]);\r\n                _self[_DYN_LINE /* @min:%2eline */] = parseInt(matches[5]) || 0;\r\n            }\r\n        }\r\n        else {\r\n            _self[_DYN_LEVEL /* @min:%2elevel */] = sourceFrame[_DYN_LEVEL /* @min:%2elevel */];\r\n            _self[_DYN_METHOD /* @min:%2emethod */] = sourceFrame[_DYN_METHOD /* @min:%2emethod */];\r\n            _self[_DYN_ASSEMBLY /* @min:%2eassembly */] = sourceFrame[_DYN_ASSEMBLY /* @min:%2eassembly */];\r\n            _self[_DYN_FILE_NAME /* @min:%2efileName */] = sourceFrame[_DYN_FILE_NAME /* @min:%2efileName */];\r\n            _self[_DYN_LINE /* @min:%2eline */] = sourceFrame[_DYN_LINE /* @min:%2eline */];\r\n            _self[_DYN_SIZE_IN_BYTES /* @min:%2esizeInBytes */] = 0;\r\n        }\r\n        _self.sizeInBytes += _self.method[_DYN_LENGTH /* @min:%2elength */];\r\n        _self.sizeInBytes += _self.fileName[_DYN_LENGTH /* @min:%2elength */];\r\n        _self.sizeInBytes += _self.assembly[_DYN_LENGTH /* @min:%2elength */];\r\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\r\n        _self[_DYN_SIZE_IN_BYTES /* @min:%2esizeInBytes */] += _StackFrame.baseSize;\r\n        _self.sizeInBytes += _self.level.toString()[_DYN_LENGTH /* @min:%2elength */];\r\n        _self.sizeInBytes += _self.line.toString()[_DYN_LENGTH /* @min:%2elength */];\r\n    }\r\n    _StackFrame.CreateFromInterface = function (frame) {\r\n        return new _StackFrame(frame, null /* level is available in frame interface */);\r\n    };\r\n    _StackFrame.prototype.toInterface = function () {\r\n        var _self = this;\r\n        return {\r\n            level: _self[_DYN_LEVEL /* @min:%2elevel */],\r\n            method: _self[_DYN_METHOD /* @min:%2emethod */],\r\n            assembly: _self[_DYN_ASSEMBLY /* @min:%2eassembly */],\r\n            fileName: _self[_DYN_FILE_NAME /* @min:%2efileName */],\r\n            line: _self[_DYN_LINE /* @min:%2eline */]\r\n        };\r\n    };\r\n    // regex to match stack frames from ie/chrome/ff\r\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\r\n    _StackFrame.regex = /^([\\s]+at)?[\\s]{0,50}([^\\@\\()]+?)[\\s]{0,50}(\\@|\\()([^\\(\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\r\n    _StackFrame.baseSize = 58; // '{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\r\n    return _StackFrame;\r\n}());\r\nexport { _StackFrame };\r\n//# sourceMappingURL=Exception.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nvar DataPoint = /** @class */ (function () {\r\n    function DataPoint() {\r\n        /**\r\n         * The data contract for serializing this object.\r\n         */\r\n        this.aiDataContract = {\r\n            name: 1 /* FieldType.Required */,\r\n            kind: 0 /* FieldType.Default */,\r\n            value: 1 /* FieldType.Required */,\r\n            count: 0 /* FieldType.Default */,\r\n            min: 0 /* FieldType.Default */,\r\n            max: 0 /* FieldType.Default */,\r\n            stdDev: 0 /* FieldType.Default */\r\n        };\r\n        /**\r\n         * Metric type. Single measurement or the aggregated value.\r\n         */\r\n        this.kind = 0 /* DataPointType.Measurement */;\r\n    }\r\n    return DataPoint;\r\n}());\r\nexport { DataPoint };\r\n//# sourceMappingURL=DataPoint.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { strNotSpecified } from \"../Constants\";\r\nimport { _DYN_COUNT, _DYN_MEASUREMENTS, _DYN_NAME, _DYN_PROPERTIES } from \"../__DynamicConstants\";\r\nimport { DataPoint } from \"./Common/DataPoint\";\r\nimport { dataSanitizeMeasurements, dataSanitizeProperties, dataSanitizeString } from \"./Common/DataSanitizer\";\r\nvar Metric = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of the MetricTelemetry object\r\n     */\r\n    function Metric(logger, name, value, count, min, max, stdDev, properties, measurements) {\r\n        this.aiDataContract = {\r\n            ver: 1 /* FieldType.Required */,\r\n            metrics: 1 /* FieldType.Required */,\r\n            properties: 0 /* FieldType.Default */\r\n        };\r\n        var _self = this;\r\n        _self.ver = 2;\r\n        var dataPoint = new DataPoint();\r\n        dataPoint[_DYN_COUNT /* @min:%2ecount */] = count > 0 ? count : undefined;\r\n        dataPoint.max = isNaN(max) || max === null ? undefined : max;\r\n        dataPoint.min = isNaN(min) || min === null ? undefined : min;\r\n        dataPoint[_DYN_NAME /* @min:%2ename */] = dataSanitizeString(logger, name) || strNotSpecified;\r\n        dataPoint.value = value;\r\n        dataPoint.stdDev = isNaN(stdDev) || stdDev === null ? undefined : stdDev;\r\n        _self.metrics = [dataPoint];\r\n        _self[_DYN_PROPERTIES /* @min:%2eproperties */] = dataSanitizeProperties(logger, properties);\r\n        _self[_DYN_MEASUREMENTS /* @min:%2emeasurements */] = dataSanitizeMeasurements(logger, measurements);\r\n    }\r\n    Metric.envelopeType = \"Microsoft.ApplicationInsights.{0}.Metric\";\r\n    Metric.dataType = \"MetricData\";\r\n    return Metric;\r\n}());\r\nexport { Metric };\r\n//# sourceMappingURL=Metric.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { strNotSpecified } from \"../Constants\";\r\nimport { msToTimeSpan } from \"../HelperFuncs\";\r\nimport { _DYN_DURATION, _DYN_MEASUREMENTS, _DYN_NAME, _DYN_PROPERTIES } from \"../__DynamicConstants\";\r\nimport { dataSanitizeId, dataSanitizeMeasurements, dataSanitizeProperties, dataSanitizeString, dataSanitizeUrl } from \"./Common/DataSanitizer\";\r\nvar PageView = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of the PageEventTelemetry object\r\n     */\r\n    function PageView(logger, name, url, durationMs, properties, measurements, id) {\r\n        this.aiDataContract = {\r\n            ver: 1 /* FieldType.Required */,\r\n            name: 0 /* FieldType.Default */,\r\n            url: 0 /* FieldType.Default */,\r\n            duration: 0 /* FieldType.Default */,\r\n            properties: 0 /* FieldType.Default */,\r\n            measurements: 0 /* FieldType.Default */,\r\n            id: 0 /* FieldType.Default */\r\n        };\r\n        var _self = this;\r\n        _self.ver = 2;\r\n        _self.id = dataSanitizeId(logger, id);\r\n        _self.url = dataSanitizeUrl(logger, url);\r\n        _self[_DYN_NAME /* @min:%2ename */] = dataSanitizeString(logger, name) || strNotSpecified;\r\n        if (!isNaN(durationMs)) {\r\n            _self[_DYN_DURATION /* @min:%2eduration */] = msToTimeSpan(durationMs);\r\n        }\r\n        _self[_DYN_PROPERTIES /* @min:%2eproperties */] = dataSanitizeProperties(logger, properties);\r\n        _self[_DYN_MEASUREMENTS /* @min:%2emeasurements */] = dataSanitizeMeasurements(logger, measurements);\r\n    }\r\n    PageView.envelopeType = \"Microsoft.ApplicationInsights.{0}.Pageview\";\r\n    PageView.dataType = \"PageviewData\";\r\n    return PageView;\r\n}());\r\nexport { PageView };\r\n//# sourceMappingURL=PageView.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { strNotSpecified } from \"../Constants\";\r\nimport { _DYN_DURATION, _DYN_MEASUREMENTS, _DYN_NAME, _DYN_PROPERTIES, _DYN_RECEIVED_RESPONSE } from \"../__DynamicConstants\";\r\nimport { dataSanitizeMeasurements, dataSanitizeProperties, dataSanitizeString, dataSanitizeUrl } from \"./Common/DataSanitizer\";\r\nvar PageViewPerformance = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of the PageEventTelemetry object\r\n     */\r\n    function PageViewPerformance(logger, name, url, unused, properties, measurements, cs4BaseData) {\r\n        this.aiDataContract = {\r\n            ver: 1 /* FieldType.Required */,\r\n            name: 0 /* FieldType.Default */,\r\n            url: 0 /* FieldType.Default */,\r\n            duration: 0 /* FieldType.Default */,\r\n            perfTotal: 0 /* FieldType.Default */,\r\n            networkConnect: 0 /* FieldType.Default */,\r\n            sentRequest: 0 /* FieldType.Default */,\r\n            receivedResponse: 0 /* FieldType.Default */,\r\n            domProcessing: 0 /* FieldType.Default */,\r\n            properties: 0 /* FieldType.Default */,\r\n            measurements: 0 /* FieldType.Default */\r\n        };\r\n        var _self = this;\r\n        _self.ver = 2;\r\n        _self.url = dataSanitizeUrl(logger, url);\r\n        _self[_DYN_NAME /* @min:%2ename */] = dataSanitizeString(logger, name) || strNotSpecified;\r\n        _self[_DYN_PROPERTIES /* @min:%2eproperties */] = dataSanitizeProperties(logger, properties);\r\n        _self[_DYN_MEASUREMENTS /* @min:%2emeasurements */] = dataSanitizeMeasurements(logger, measurements);\r\n        if (cs4BaseData) {\r\n            _self.domProcessing = cs4BaseData.domProcessing;\r\n            _self[_DYN_DURATION /* @min:%2eduration */] = cs4BaseData[_DYN_DURATION /* @min:%2eduration */];\r\n            _self.networkConnect = cs4BaseData.networkConnect;\r\n            _self.perfTotal = cs4BaseData.perfTotal;\r\n            _self[_DYN_RECEIVED_RESPONSE /* @min:%2ereceivedResponse */] = cs4BaseData[_DYN_RECEIVED_RESPONSE /* @min:%2ereceivedResponse */];\r\n            _self.sentRequest = cs4BaseData.sentRequest;\r\n        }\r\n    }\r\n    PageViewPerformance.envelopeType = \"Microsoft.ApplicationInsights.{0}.PageviewPerformance\";\r\n    PageViewPerformance.dataType = \"PageviewPerformanceData\";\r\n    return PageViewPerformance;\r\n}());\r\nexport { PageViewPerformance };\r\n//# sourceMappingURL=PageViewPerformance.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { msToTimeSpan } from \"../HelperFuncs\";\r\nimport { AjaxHelperParseDependencyPath } from \"../Util\";\r\nimport { _DYN_DURATION, _DYN_MEASUREMENTS, _DYN_NAME, _DYN_PROPERTIES } from \"../__DynamicConstants\";\r\nimport { dataSanitizeMeasurements, dataSanitizeProperties, dataSanitizeString, dataSanitizeUrl } from \"./Common/DataSanitizer\";\r\nvar RemoteDependencyData = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of the RemoteDependencyData object\r\n     */\r\n    function RemoteDependencyData(logger, id, absoluteUrl, commandName, value, success, resultCode, method, requestAPI, correlationContext, properties, measurements) {\r\n        if (requestAPI === void 0) { requestAPI = \"Ajax\"; }\r\n        this.aiDataContract = {\r\n            id: 1 /* FieldType.Required */,\r\n            ver: 1 /* FieldType.Required */,\r\n            name: 0 /* FieldType.Default */,\r\n            resultCode: 0 /* FieldType.Default */,\r\n            duration: 0 /* FieldType.Default */,\r\n            success: 0 /* FieldType.Default */,\r\n            data: 0 /* FieldType.Default */,\r\n            target: 0 /* FieldType.Default */,\r\n            type: 0 /* FieldType.Default */,\r\n            properties: 0 /* FieldType.Default */,\r\n            measurements: 0 /* FieldType.Default */,\r\n            kind: 0 /* FieldType.Default */,\r\n            value: 0 /* FieldType.Default */,\r\n            count: 0 /* FieldType.Default */,\r\n            min: 0 /* FieldType.Default */,\r\n            max: 0 /* FieldType.Default */,\r\n            stdDev: 0 /* FieldType.Default */,\r\n            dependencyKind: 0 /* FieldType.Default */,\r\n            dependencySource: 0 /* FieldType.Default */,\r\n            commandName: 0 /* FieldType.Default */,\r\n            dependencyTypeName: 0 /* FieldType.Default */\r\n        };\r\n        var _self = this;\r\n        _self.ver = 2;\r\n        _self.id = id;\r\n        _self[_DYN_DURATION /* @min:%2eduration */] = msToTimeSpan(value);\r\n        _self.success = success;\r\n        _self.resultCode = resultCode + \"\";\r\n        _self.type = dataSanitizeString(logger, requestAPI);\r\n        var dependencyFields = AjaxHelperParseDependencyPath(logger, absoluteUrl, method, commandName);\r\n        _self.data = dataSanitizeUrl(logger, commandName) || dependencyFields.data; // get a value from hosturl if commandName not available\r\n        _self.target = dataSanitizeString(logger, dependencyFields.target);\r\n        if (correlationContext) {\r\n            _self.target = \"\".concat(_self.target, \" | \").concat(correlationContext);\r\n        }\r\n        _self[_DYN_NAME /* @min:%2ename */] = dataSanitizeString(logger, dependencyFields[_DYN_NAME /* @min:%2ename */]);\r\n        _self[_DYN_PROPERTIES /* @min:%2eproperties */] = dataSanitizeProperties(logger, properties);\r\n        _self[_DYN_MEASUREMENTS /* @min:%2emeasurements */] = dataSanitizeMeasurements(logger, measurements);\r\n    }\r\n    RemoteDependencyData.envelopeType = \"Microsoft.ApplicationInsights.{0}.RemoteDependency\";\r\n    RemoteDependencyData.dataType = \"RemoteDependencyData\";\r\n    return RemoteDependencyData;\r\n}());\r\nexport { RemoteDependencyData };\r\n//# sourceMappingURL=RemoteDependencyData.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { strNotSpecified } from \"../Constants\";\r\nimport { _DYN_MEASUREMENTS, _DYN_MESSAGE, _DYN_PROPERTIES, _DYN_SEVERITY_LEVEL } from \"../__DynamicConstants\";\r\nimport { dataSanitizeMeasurements, dataSanitizeMessage, dataSanitizeProperties } from \"./Common/DataSanitizer\";\r\nvar Trace = /** @class */ (function () {\r\n    /**\r\n     * Constructs a new instance of the TraceTelemetry object\r\n     */\r\n    function Trace(logger, message, severityLevel, properties, measurements) {\r\n        this.aiDataContract = {\r\n            ver: 1 /* FieldType.Required */,\r\n            message: 1 /* FieldType.Required */,\r\n            severityLevel: 0 /* FieldType.Default */,\r\n            properties: 0 /* FieldType.Default */\r\n        };\r\n        var _self = this;\r\n        _self.ver = 2;\r\n        message = message || strNotSpecified;\r\n        _self[_DYN_MESSAGE /* @min:%2emessage */] = dataSanitizeMessage(logger, message);\r\n        _self[_DYN_PROPERTIES /* @min:%2eproperties */] = dataSanitizeProperties(logger, properties);\r\n        _self[_DYN_MEASUREMENTS /* @min:%2emeasurements */] = dataSanitizeMeasurements(logger, measurements);\r\n        if (severityLevel) {\r\n            _self[_DYN_SEVERITY_LEVEL /* @min:%2eseverityLevel */] = severityLevel;\r\n        }\r\n    }\r\n    Trace.envelopeType = \"Microsoft.ApplicationInsights.{0}.Message\";\r\n    Trace.dataType = \"MessageData\";\r\n    return Trace;\r\n}());\r\nexport { Trace };\r\n//# sourceMappingURL=Trace.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { getDocument, isString } from \"@microsoft/applicationinsights-core-js\";\r\nimport { _DYN_LENGTH, _DYN_PATHNAME, _DYN_TO_LOWER_CASE } from \"./__DynamicConstants\";\r\nvar _document = getDocument() || {};\r\nvar _htmlAnchorIdx = 0;\r\n// Use an array of temporary values as it's possible for multiple calls to parseUrl() will be called with different URLs\r\n// Using a cache size of 5 for now as it current depth usage is at least 2, so adding a minor buffer to handle future updates\r\nvar _htmlAnchorElement = [null, null, null, null, null];\r\nexport function urlParseUrl(url) {\r\n    var anchorIdx = _htmlAnchorIdx;\r\n    var anchorCache = _htmlAnchorElement;\r\n    var tempAnchor = anchorCache[anchorIdx];\r\n    if (!_document.createElement) {\r\n        // Always create the temp instance if createElement is not available\r\n        tempAnchor = { host: urlParseHost(url, true) };\r\n    }\r\n    else if (!anchorCache[anchorIdx]) {\r\n        // Create and cache the unattached anchor instance\r\n        tempAnchor = anchorCache[anchorIdx] = _document.createElement(\"a\");\r\n    }\r\n    tempAnchor.href = url;\r\n    // Move the cache index forward\r\n    anchorIdx++;\r\n    if (anchorIdx >= anchorCache[_DYN_LENGTH /* @min:%2elength */]) {\r\n        anchorIdx = 0;\r\n    }\r\n    _htmlAnchorIdx = anchorIdx;\r\n    return tempAnchor;\r\n}\r\nexport function urlGetAbsoluteUrl(url) {\r\n    var result;\r\n    var a = urlParseUrl(url);\r\n    if (a) {\r\n        result = a.href;\r\n    }\r\n    return result;\r\n}\r\nexport function urlGetPathName(url) {\r\n    var result;\r\n    var a = urlParseUrl(url);\r\n    if (a) {\r\n        result = a[_DYN_PATHNAME /* @min:%2epathname */];\r\n    }\r\n    return result;\r\n}\r\nexport function urlGetCompleteUrl(method, absoluteUrl) {\r\n    if (method) {\r\n        return method.toUpperCase() + \" \" + absoluteUrl;\r\n    }\r\n    return absoluteUrl;\r\n}\r\n// Fallback method to grab host from url if document.createElement method is not available\r\nexport function urlParseHost(url, inclPort) {\r\n    var fullHost = urlParseFullHost(url, inclPort) || \"\";\r\n    if (fullHost) {\r\n        var match = fullHost.match(/(www\\d{0,5}\\.)?([^\\/:]{1,256})(:\\d{1,20})?/i);\r\n        if (match != null && match[_DYN_LENGTH /* @min:%2elength */] > 3 && isString(match[2]) && match[2][_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n            return match[2] + (match[3] || \"\");\r\n        }\r\n    }\r\n    return fullHost;\r\n}\r\nexport function urlParseFullHost(url, inclPort) {\r\n    var result = null;\r\n    if (url) {\r\n        var match = url.match(/(\\w{1,150}):\\/\\/([^\\/:]{1,256})(:\\d{1,20})?/i);\r\n        if (match != null && match[_DYN_LENGTH /* @min:%2elength */] > 2 && isString(match[2]) && match[2][_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n            result = match[2] || \"\";\r\n            if (inclPort && match[_DYN_LENGTH /* @min:%2elength */] > 2) {\r\n                var protocol = (match[1] || \"\")[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n                var port = match[3] || \"\";\r\n                // IE includes the standard port so pass it off if it's the same as the protocol\r\n                if (protocol === \"http\" && port === \":80\") {\r\n                    port = \"\";\r\n                }\r\n                else if (protocol === \"https\" && port === \":443\") {\r\n                    port = \"\";\r\n                }\r\n                result += port;\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=UrlHelperFuncs.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { arrForEach, arrIndexOf, dateNow, getPerformance, isNullOrUndefined, isValidSpanId, isValidTraceId } from \"@microsoft/applicationinsights-core-js\";\r\nimport { strIndexOf } from \"@nevware21/ts-utils\";\r\nimport { DEFAULT_BREEZE_ENDPOINT, DEFAULT_BREEZE_PATH } from \"./Constants\";\r\nimport { RequestHeaders } from \"./RequestResponseHeaders\";\r\nimport { dataSanitizeString } from \"./Telemetry/Common/DataSanitizer\";\r\nimport { urlParseFullHost, urlParseUrl } from \"./UrlHelperFuncs\";\r\nimport { _DYN_CORRELATION_HEADER_E0, _DYN_LENGTH, _DYN_NAME, _DYN_PATHNAME, _DYN_SPLIT, _DYN_TO_LOWER_CASE } from \"./__DynamicConstants\";\r\n// listing only non-geo specific locations\r\nvar _internalEndpoints = [\r\n    DEFAULT_BREEZE_ENDPOINT + DEFAULT_BREEZE_PATH,\r\n    \"https://breeze.aimon.applicationinsights.io\" + DEFAULT_BREEZE_PATH,\r\n    \"https://dc-int.services.visualstudio.com\" + DEFAULT_BREEZE_PATH\r\n];\r\nvar _correlationIdPrefix = \"cid-v1:\";\r\nexport function isInternalApplicationInsightsEndpoint(endpointUrl) {\r\n    return arrIndexOf(_internalEndpoints, endpointUrl[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]()) !== -1;\r\n}\r\nexport function correlationIdSetPrefix(prefix) {\r\n    _correlationIdPrefix = prefix;\r\n}\r\nexport function correlationIdGetPrefix() {\r\n    return _correlationIdPrefix;\r\n}\r\n/**\r\n * Checks if a request url is not on a excluded domain list and if it is safe to add correlation headers.\r\n * Headers are always included if the current domain matches the request domain. If they do not match (CORS),\r\n * they are regex-ed across correlationHeaderDomains and correlationHeaderExcludedDomains to determine if headers are included.\r\n * Some environments don't give information on currentHost via window.location.host (e.g. Cordova). In these cases, the user must\r\n * manually supply domains to include correlation headers on. Else, no headers will be included at all.\r\n */\r\nexport function correlationIdCanIncludeCorrelationHeader(config, requestUrl, currentHost) {\r\n    if (!requestUrl || (config && config.disableCorrelationHeaders)) {\r\n        return false;\r\n    }\r\n    if (config && config[_DYN_CORRELATION_HEADER_E0 /* @min:%2ecorrelationHeaderExcludePatterns */]) {\r\n        for (var i = 0; i < config.correlationHeaderExcludePatterns[_DYN_LENGTH /* @min:%2elength */]; i++) {\r\n            if (config[_DYN_CORRELATION_HEADER_E0 /* @min:%2ecorrelationHeaderExcludePatterns */][i].test(requestUrl)) {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n    var requestHost = urlParseUrl(requestUrl).host[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n    if (requestHost && (strIndexOf(requestHost, \":443\") !== -1 || strIndexOf(requestHost, \":80\") !== -1)) {\r\n        // [Bug #1260] IE can include the port even for http and https URLs so if present\r\n        // try and parse it to remove if it matches the default protocol port\r\n        requestHost = (urlParseFullHost(requestUrl, true) || \"\")[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n    }\r\n    if ((!config || !config.enableCorsCorrelation) && (requestHost && requestHost !== currentHost)) {\r\n        return false;\r\n    }\r\n    var includedDomains = config && config.correlationHeaderDomains;\r\n    if (includedDomains) {\r\n        var matchExists_1;\r\n        arrForEach(includedDomains, function (domain) {\r\n            var regex = new RegExp(domain.toLowerCase().replace(/\\\\/g, \"\\\\\\\\\").replace(/\\./g, \"\\\\.\").replace(/\\*/g, \".*\"));\r\n            matchExists_1 = matchExists_1 || regex.test(requestHost);\r\n        });\r\n        if (!matchExists_1) {\r\n            return false;\r\n        }\r\n    }\r\n    var excludedDomains = config && config.correlationHeaderExcludedDomains;\r\n    if (!excludedDomains || excludedDomains[_DYN_LENGTH /* @min:%2elength */] === 0) {\r\n        return true;\r\n    }\r\n    for (var i = 0; i < excludedDomains[_DYN_LENGTH /* @min:%2elength */]; i++) {\r\n        var regex = new RegExp(excludedDomains[i].toLowerCase().replace(/\\\\/g, \"\\\\\\\\\").replace(/\\./g, \"\\\\.\").replace(/\\*/g, \".*\"));\r\n        if (regex.test(requestHost)) {\r\n            return false;\r\n        }\r\n    }\r\n    // if we don't know anything about the requestHost, require the user to use included/excludedDomains.\r\n    // Previously we always returned false for a falsy requestHost\r\n    return requestHost && requestHost[_DYN_LENGTH /* @min:%2elength */] > 0;\r\n}\r\n/**\r\n * Combines target appId and target role name from response header.\r\n */\r\nexport function correlationIdGetCorrelationContext(responseHeader) {\r\n    if (responseHeader) {\r\n        var correlationId = correlationIdGetCorrelationContextValue(responseHeader, RequestHeaders[1 /* eRequestHeaders.requestContextTargetKey */]);\r\n        if (correlationId && correlationId !== _correlationIdPrefix) {\r\n            return correlationId;\r\n        }\r\n    }\r\n}\r\n/**\r\n * Gets key from correlation response header\r\n */\r\nexport function correlationIdGetCorrelationContextValue(responseHeader, key) {\r\n    if (responseHeader) {\r\n        var keyValues = responseHeader[_DYN_SPLIT /* @min:%2esplit */](\",\");\r\n        for (var i = 0; i < keyValues[_DYN_LENGTH /* @min:%2elength */]; ++i) {\r\n            var keyValue = keyValues[i][_DYN_SPLIT /* @min:%2esplit */](\"=\");\r\n            if (keyValue[_DYN_LENGTH /* @min:%2elength */] === 2 && keyValue[0] === key) {\r\n                return keyValue[1];\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function AjaxHelperParseDependencyPath(logger, absoluteUrl, method, commandName) {\r\n    var target, name = commandName, data = commandName;\r\n    if (absoluteUrl && absoluteUrl[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        var parsedUrl = urlParseUrl(absoluteUrl);\r\n        target = parsedUrl.host;\r\n        if (!name) {\r\n            if (parsedUrl[_DYN_PATHNAME /* @min:%2epathname */] != null) {\r\n                var pathName = (parsedUrl.pathname[_DYN_LENGTH /* @min:%2elength */] === 0) ? \"/\" : parsedUrl[_DYN_PATHNAME /* @min:%2epathname */];\r\n                if (pathName.charAt(0) !== \"/\") {\r\n                    pathName = \"/\" + pathName;\r\n                }\r\n                data = parsedUrl[_DYN_PATHNAME /* @min:%2epathname */];\r\n                name = dataSanitizeString(logger, method ? method + \" \" + pathName : pathName);\r\n            }\r\n            else {\r\n                name = dataSanitizeString(logger, absoluteUrl);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        target = commandName;\r\n        name = commandName;\r\n    }\r\n    return {\r\n        target: target,\r\n        name: name,\r\n        data: data\r\n    };\r\n}\r\nexport function dateTimeUtilsNow() {\r\n    // returns the window or webworker performance object\r\n    var perf = getPerformance();\r\n    if (perf && perf.now && perf.timing) {\r\n        var now = perf.now() + perf.timing.navigationStart;\r\n        // Known issue with IE where this calculation can be negative, so if it is then ignore and fallback\r\n        if (now > 0) {\r\n            return now;\r\n        }\r\n    }\r\n    return dateNow();\r\n}\r\nexport function dateTimeUtilsDuration(start, end) {\r\n    var result = null;\r\n    if (start !== 0 && end !== 0 && !isNullOrUndefined(start) && !isNullOrUndefined(end)) {\r\n        result = end - start;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Creates a IDistributedTraceContext from an optional telemetryTrace\r\n * @param telemetryTrace - The telemetryTrace instance that is being wrapped\r\n * @param parentCtx - An optional parent distributed trace instance, almost always undefined as this scenario is only used in the case of multiple property handlers.\r\n * @returns A new IDistributedTraceContext instance that is backed by the telemetryTrace or temporary object\r\n */\r\nexport function createDistributedTraceContextFromTrace(telemetryTrace, parentCtx) {\r\n    var trace = telemetryTrace || {};\r\n    return {\r\n        getName: function () {\r\n            return trace[_DYN_NAME /* @min:%2ename */];\r\n        },\r\n        setName: function (newValue) {\r\n            parentCtx && parentCtx.setName(newValue);\r\n            trace[_DYN_NAME /* @min:%2ename */] = newValue;\r\n        },\r\n        getTraceId: function () {\r\n            return trace.traceID;\r\n        },\r\n        setTraceId: function (newValue) {\r\n            parentCtx && parentCtx.setTraceId(newValue);\r\n            if (isValidTraceId(newValue)) {\r\n                trace.traceID = newValue;\r\n            }\r\n        },\r\n        getSpanId: function () {\r\n            return trace.parentID;\r\n        },\r\n        setSpanId: function (newValue) {\r\n            parentCtx && parentCtx.setSpanId(newValue);\r\n            if (isValidSpanId(newValue)) {\r\n                trace.parentID = newValue;\r\n            }\r\n        },\r\n        getTraceFlags: function () {\r\n            return trace.traceFlags;\r\n        },\r\n        setTraceFlags: function (newTraceFlags) {\r\n            parentCtx && parentCtx.setTraceFlags(newTraceFlags);\r\n            trace.traceFlags = newTraceFlags;\r\n        }\r\n    };\r\n}\r\n//# sourceMappingURL=Util.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n// @skip-file-minify\r\n// ##############################################################\r\n// AUTO GENERATED FILE: This file is Auto Generated during build.\r\n// ##############################################################\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\nexport var _DYN_SPLIT = \"split\"; // Count: 6\r\nexport var _DYN_LENGTH = \"length\"; // Count: 41\r\nexport var _DYN_TO_LOWER_CASE = \"toLowerCase\"; // Count: 6\r\nexport var _DYN_INGESTIONENDPOINT = \"ingestionendpoint\"; // Count: 6\r\nexport var _DYN_TO_STRING = \"toString\"; // Count: 9\r\nexport var _DYN_PUSH = \"push\"; // Count: 5\r\nexport var _DYN_REMOVE_ITEM = \"removeItem\"; // Count: 3\r\nexport var _DYN_NAME = \"name\"; // Count: 11\r\nexport var _DYN_MESSAGE = \"message\"; // Count: 10\r\nexport var _DYN_COUNT = \"count\"; // Count: 8\r\nexport var _DYN_PRE_TRIGGER_DATE = \"preTriggerDate\"; // Count: 4\r\nexport var _DYN_DISABLED = \"disabled\"; // Count: 3\r\nexport var _DYN_INTERVAL = \"interval\"; // Count: 3\r\nexport var _DYN_DAYS_OF_MONTH = \"daysOfMonth\"; // Count: 3\r\nexport var _DYN_DATE = \"date\"; // Count: 5\r\nexport var _DYN_GET_UTCDATE = \"getUTCDate\"; // Count: 3\r\nexport var _DYN_STRINGIFY = \"stringify\"; // Count: 4\r\nexport var _DYN_PATHNAME = \"pathname\"; // Count: 4\r\nexport var _DYN_CORRELATION_HEADER_E0 = \"correlationHeaderExcludePatterns\"; // Count: 2\r\nexport var _DYN_EXTENSION_CONFIG = \"extensionConfig\"; // Count: 4\r\nexport var _DYN_EXCEPTIONS = \"exceptions\"; // Count: 6\r\nexport var _DYN_PARSED_STACK = \"parsedStack\"; // Count: 13\r\nexport var _DYN_PROPERTIES = \"properties\"; // Count: 9\r\nexport var _DYN_MEASUREMENTS = \"measurements\"; // Count: 9\r\nexport var _DYN_SIZE_IN_BYTES = \"sizeInBytes\"; // Count: 11\r\nexport var _DYN_TYPE_NAME = \"typeName\"; // Count: 11\r\nexport var _DYN_SEVERITY_LEVEL = \"severityLevel\"; // Count: 5\r\nexport var _DYN_PROBLEM_GROUP = \"problemGroup\"; // Count: 3\r\nexport var _DYN_IS_MANUAL = \"isManual\"; // Count: 3\r\nexport var _DYN__CREATE_FROM_INTERFA1 = \"CreateFromInterface\"; // Count: 2\r\nexport var _DYN_ASSEMBLY = \"assembly\"; // Count: 7\r\nexport var _DYN_FILE_NAME = \"fileName\"; // Count: 8\r\nexport var _DYN_HAS_FULL_STACK = \"hasFullStack\"; // Count: 6\r\nexport var _DYN_LEVEL = \"level\"; // Count: 5\r\nexport var _DYN_METHOD = \"method\"; // Count: 7\r\nexport var _DYN_LINE = \"line\"; // Count: 6\r\nexport var _DYN_DURATION = \"duration\"; // Count: 4\r\nexport var _DYN_RECEIVED_RESPONSE = \"receivedResponse\"; // Count: 2\r\n//# sourceMappingURL=__DynamicConstants.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { _throwInternal, arrIndexOf, isNotNullOrUndefined, isNullOrUndefined, onConfigChange, randomValue, safeGetLogger, strTrim } from \"@microsoft/applicationinsights-core-js\";\r\nimport { arrForEach, objForEachKey } from \"@nevware21/ts-utils\";\r\nimport { utlCanUseLocalStorage, utlGetLocalStorage, utlSetLocalStorage } from \"./StorageHelperFuncs\";\r\nimport { _DYN_COUNT, _DYN_DATE, _DYN_DAYS_OF_MONTH, _DYN_DISABLED, _DYN_GET_UTCDATE, _DYN_INTERVAL, _DYN_LENGTH, _DYN_MESSAGE, _DYN_PRE_TRIGGER_DATE, _DYN_PUSH, _DYN_STRINGIFY } from \"./__DynamicConstants\";\r\nvar THROTTLE_STORAGE_PREFIX = \"appInsightsThrottle\";\r\nvar ThrottleMgr = /** @class */ (function () {\r\n    function ThrottleMgr(core, namePrefix) {\r\n        var _self = this;\r\n        var _canUseLocalStorage;\r\n        var _logger;\r\n        var _config;\r\n        var _localStorageObj;\r\n        var _isTriggered; //_isTriggered is to make sure that we only trigger throttle once a day\r\n        var _namePrefix;\r\n        var _queue;\r\n        var _isReady = false;\r\n        var _isSpecificDaysGiven = false;\r\n        _initConfig();\r\n        // Special internal method to allow the unit tests and DebugPlugin to hook embedded objects\r\n        _self[\"_getDbgPlgTargets\"] = function () {\r\n            return [_queue];\r\n        };\r\n        _self.getConfig = function () {\r\n            return _config;\r\n        };\r\n        /**\r\n         * Check if it is the correct day to send message.\r\n         * If _isTriggered is true, even if canThrottle returns true, message will not be sent,\r\n         * because we only allow triggering sendMessage() once a day.\r\n         * @returns if the current date is the valid date to send message\r\n         */\r\n        _self.canThrottle = function (msgId) {\r\n            var localObj = _getLocalStorageObjByKey(msgId);\r\n            var cfg = _getCfgByKey(msgId);\r\n            return _canThrottle(cfg, _canUseLocalStorage, localObj);\r\n        };\r\n        /**\r\n         * Check if throttle is triggered on current day(UTC)\r\n         * if canThrottle returns false, isTriggered will return false\r\n         * @returns if throttle is triggered on current day(UTC)\r\n         */\r\n        _self.isTriggered = function (msgId) {\r\n            return _isTrigger(msgId);\r\n        };\r\n        /**\r\n         * Before isReady set to true, all message will be stored in queue.\r\n         * Message will only be sent out after isReady set to true.\r\n         * Initial and default value: false\r\n         * @returns isReady state\r\n         */\r\n        _self.isReady = function () {\r\n            return _isReady;\r\n        };\r\n        /**\r\n         * Flush all message with given message key in queue with isReady state set to true.\r\n         * @returns if message queue is flushed\r\n         */\r\n        _self.flush = function (msgId) {\r\n            try {\r\n                var queue = _getQueueByKey(msgId);\r\n                if (queue && queue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var items = queue.slice(0);\r\n                    _queue[msgId] = [];\r\n                    arrForEach(items, function (item) {\r\n                        _flushMessage(item.msgID, item[_DYN_MESSAGE /* @min:%2emessage */], item.severity, false);\r\n                    });\r\n                    return true;\r\n                }\r\n            }\r\n            catch (err) {\r\n                // eslint-disable-next-line no-empty\r\n            }\r\n            return false;\r\n        };\r\n        /**\r\n         * Flush all message in queue with isReady state set to true.\r\n         * @returns if message queue is flushed\r\n         */\r\n        _self.flushAll = function () {\r\n            try {\r\n                if (_queue) {\r\n                    var result_1 = true;\r\n                    objForEachKey(_queue, function (key) {\r\n                        var isFlushed = _self.flush(parseInt(key));\r\n                        result_1 = result_1 && isFlushed;\r\n                    });\r\n                    return result_1;\r\n                }\r\n            }\r\n            catch (err) {\r\n                // eslint-disable-next-line no-empty\r\n            }\r\n            return false;\r\n        };\r\n        /**\r\n         * Set isReady State\r\n         * if isReady set to true, message queue will be flushed automatically.\r\n         * @param isReady isReady State\r\n         * @pa\r\n         * @returns if message queue is flushed\r\n         */\r\n        _self.onReadyState = function (isReady, flushAll) {\r\n            if (flushAll === void 0) { flushAll = true; }\r\n            _isReady = isNullOrUndefined(isReady) ? true : isReady;\r\n            if (_isReady && flushAll) {\r\n                return _self.flushAll();\r\n            }\r\n            return null;\r\n        };\r\n        _self.sendMessage = function (msgID, message, severity) {\r\n            return _flushMessage(msgID, message, severity, true);\r\n        };\r\n        function _flushMessage(msgID, message, severity, saveUnsentMsg) {\r\n            if (_isReady) {\r\n                var isSampledIn = _canSampledIn(msgID);\r\n                if (!isSampledIn) {\r\n                    return;\r\n                }\r\n                var cfg = _getCfgByKey(msgID);\r\n                var localStorageObj = _getLocalStorageObjByKey(msgID);\r\n                var canThrottle = _canThrottle(cfg, _canUseLocalStorage, localStorageObj);\r\n                var throttled = false;\r\n                var number = 0;\r\n                var isTriggered = _isTrigger(msgID);\r\n                try {\r\n                    if (canThrottle && !isTriggered) {\r\n                        number = Math.min(cfg.limit.maxSendNumber, localStorageObj[_DYN_COUNT /* @min:%2ecount */] + 1);\r\n                        localStorageObj[_DYN_COUNT /* @min:%2ecount */] = 0;\r\n                        throttled = true;\r\n                        _isTriggered[msgID] = true;\r\n                        localStorageObj[_DYN_PRE_TRIGGER_DATE /* @min:%2epreTriggerDate */] = new Date();\r\n                    }\r\n                    else {\r\n                        _isTriggered[msgID] = canThrottle;\r\n                        localStorageObj[_DYN_COUNT /* @min:%2ecount */] += 1;\r\n                    }\r\n                    var localStorageName = _getLocalStorageName(msgID);\r\n                    _resetLocalStorage(_logger, localStorageName, localStorageObj);\r\n                    for (var i = 0; i < number; i++) {\r\n                        _sendMessage(msgID, _logger, message, severity);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return {\r\n                    isThrottled: throttled,\r\n                    throttleNum: number\r\n                };\r\n            }\r\n            else {\r\n                if (!!saveUnsentMsg) {\r\n                    var queue = _getQueueByKey(msgID);\r\n                    queue[_DYN_PUSH /* @min:%2epush */]({\r\n                        msgID: msgID,\r\n                        message: message,\r\n                        severity: severity\r\n                    });\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n        function _initConfig() {\r\n            _logger = safeGetLogger(core);\r\n            _isTriggered = {};\r\n            _localStorageObj = {};\r\n            _queue = {};\r\n            _config = {};\r\n            _setCfgByKey(109 /* _eInternalMessageId.DefaultThrottleMsgKey */);\r\n            _namePrefix = isNotNullOrUndefined(namePrefix) ? namePrefix : \"\";\r\n            core.addUnloadHook(onConfigChange(core.config, function (details) {\r\n                var coreConfig = details.cfg;\r\n                _canUseLocalStorage = utlCanUseLocalStorage();\r\n                var configMgr = coreConfig.throttleMgrCfg || {};\r\n                objForEachKey(configMgr, function (key, cfg) {\r\n                    _setCfgByKey(parseInt(key), cfg);\r\n                });\r\n            }));\r\n        }\r\n        function _getCfgByKey(msgID) {\r\n            return _config[msgID] || _config[109 /* _eInternalMessageId.DefaultThrottleMsgKey */];\r\n        }\r\n        function _setCfgByKey(msgID, config) {\r\n            var _a, _b;\r\n            try {\r\n                var cfg = config || {};\r\n                var curCfg = {};\r\n                curCfg[_DYN_DISABLED /* @min:%2edisabled */] = !!cfg[_DYN_DISABLED /* @min:%2edisabled */];\r\n                var configInterval = cfg[_DYN_INTERVAL /* @min:%2einterval */] || {};\r\n                _isSpecificDaysGiven = (configInterval === null || configInterval === void 0 ? void 0 : configInterval.daysOfMonth) && (configInterval === null || configInterval === void 0 ? void 0 : configInterval.daysOfMonth[_DYN_LENGTH /* @min:%2elength */]) > 0;\r\n                curCfg[_DYN_INTERVAL /* @min:%2einterval */] = _getIntervalConfig(configInterval);\r\n                var limit = {\r\n                    samplingRate: ((_a = cfg.limit) === null || _a === void 0 ? void 0 : _a.samplingRate) || 100,\r\n                    // dafault: every time sent only 1 event\r\n                    maxSendNumber: ((_b = cfg.limit) === null || _b === void 0 ? void 0 : _b.maxSendNumber) || 1\r\n                };\r\n                curCfg.limit = limit;\r\n                _config[msgID] = curCfg;\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-empty\r\n            }\r\n        }\r\n        function _getIntervalConfig(interval) {\r\n            interval = interval || {};\r\n            var monthInterval = interval === null || interval === void 0 ? void 0 : interval.monthInterval;\r\n            var dayInterval = interval === null || interval === void 0 ? void 0 : interval.dayInterval;\r\n            // default: send data every 3 month each year\r\n            if (isNullOrUndefined(monthInterval) && isNullOrUndefined(dayInterval)) {\r\n                interval.monthInterval = 3;\r\n                if (!_isSpecificDaysGiven) {\r\n                    // default: send data on 28th\r\n                    interval[_DYN_DAYS_OF_MONTH /* @min:%2edaysOfMonth */] = [28];\r\n                    _isSpecificDaysGiven = true;\r\n                }\r\n            }\r\n            interval = {\r\n                // dafault: sent every three months\r\n                monthInterval: interval === null || interval === void 0 ? void 0 : interval.monthInterval,\r\n                dayInterval: interval === null || interval === void 0 ? void 0 : interval.dayInterval,\r\n                daysOfMonth: interval === null || interval === void 0 ? void 0 : interval.daysOfMonth\r\n            };\r\n            return interval;\r\n        }\r\n        function _canThrottle(config, canUseLocalStorage, localStorageObj) {\r\n            if (config && !config[_DYN_DISABLED /* @min:%2edisabled */] && canUseLocalStorage && isNotNullOrUndefined(localStorageObj)) {\r\n                var curDate = _getThrottleDate();\r\n                var date = localStorageObj[_DYN_DATE /* @min:%2edate */];\r\n                var interval = config[_DYN_INTERVAL /* @min:%2einterval */];\r\n                var monthCheck = 1;\r\n                if (interval === null || interval === void 0 ? void 0 : interval.monthInterval) {\r\n                    var monthExpand = (curDate.getUTCFullYear() - date.getUTCFullYear()) * 12 + curDate.getUTCMonth() - date.getUTCMonth();\r\n                    monthCheck = _checkInterval(interval.monthInterval, 0, monthExpand);\r\n                }\r\n                var dayCheck = 1;\r\n                if (_isSpecificDaysGiven) {\r\n                    dayCheck = arrIndexOf(interval[_DYN_DAYS_OF_MONTH /* @min:%2edaysOfMonth */], curDate[_DYN_GET_UTCDATE /* @min:%2egetUTCDate */]());\r\n                }\r\n                else if (interval === null || interval === void 0 ? void 0 : interval.dayInterval) {\r\n                    var daySpan = Math.floor((curDate.getTime() - date.getTime()) / 86400000);\r\n                    dayCheck = _checkInterval(interval.dayInterval, 0, daySpan);\r\n                }\r\n                return monthCheck >= 0 && dayCheck >= 0;\r\n            }\r\n            return false;\r\n        }\r\n        function _getLocalStorageName(msgKey, prefix) {\r\n            var fix = isNotNullOrUndefined(prefix) ? prefix : \"\";\r\n            if (msgKey) {\r\n                return THROTTLE_STORAGE_PREFIX + fix + \"-\" + msgKey;\r\n            }\r\n            return null;\r\n        }\r\n        // returns if throttle is triggered on current Date\r\n        function _isTriggeredOnCurDate(preTriggerDate) {\r\n            try {\r\n                if (preTriggerDate) {\r\n                    var curDate = new Date();\r\n                    return preTriggerDate.getUTCFullYear() === curDate.getUTCFullYear() &&\r\n                        preTriggerDate.getUTCMonth() === curDate.getUTCMonth() &&\r\n                        preTriggerDate[_DYN_GET_UTCDATE /* @min:%2egetUTCDate */]() === curDate[_DYN_GET_UTCDATE /* @min:%2egetUTCDate */]();\r\n                }\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-empty\r\n            }\r\n            return false;\r\n        }\r\n        // transfer local storage string value to object that identifies start date, current count and preTriggerDate\r\n        function _getLocalStorageObj(value, logger, storageName) {\r\n            try {\r\n                var storageObj = {\r\n                    date: _getThrottleDate(),\r\n                    count: 0\r\n                };\r\n                if (value) {\r\n                    var obj = JSON.parse(value);\r\n                    var curObj = {\r\n                        date: _getThrottleDate(obj[_DYN_DATE /* @min:%2edate */]) || storageObj[_DYN_DATE /* @min:%2edate */],\r\n                        count: obj[_DYN_COUNT /* @min:%2ecount */] || storageObj[_DYN_COUNT /* @min:%2ecount */],\r\n                        preTriggerDate: obj.preTriggerDate ? _getThrottleDate(obj[_DYN_PRE_TRIGGER_DATE /* @min:%2epreTriggerDate */]) : undefined\r\n                    };\r\n                    return curObj;\r\n                }\r\n                else {\r\n                    _resetLocalStorage(logger, storageName, storageObj);\r\n                    return storageObj;\r\n                }\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-empty\r\n            }\r\n            return null;\r\n        }\r\n        // if datestr is not defined, current date will be returned\r\n        function _getThrottleDate(dateStr) {\r\n            // if new Date() can't be created through the provided dateStr, null will be returned.\r\n            try {\r\n                if (dateStr) {\r\n                    var date = new Date(dateStr);\r\n                    //make sure it is a valid Date Object\r\n                    if (!isNaN(date.getDate())) {\r\n                        return date;\r\n                    }\r\n                }\r\n                else {\r\n                    return new Date();\r\n                }\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-empty\r\n            }\r\n            return null;\r\n        }\r\n        function _resetLocalStorage(logger, storageName, obj) {\r\n            try {\r\n                return utlSetLocalStorage(logger, storageName, strTrim(JSON[_DYN_STRINGIFY /* @min:%2estringify */](obj)));\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-empty\r\n            }\r\n            return false;\r\n        }\r\n        function _checkInterval(interval, start, current) {\r\n            if (interval <= 0) {\r\n                return 1;\r\n            }\r\n            // count from start year\r\n            return (current >= start) && (current - start) % interval == 0 ? Math.floor((current - start) / interval) + 1 : -1;\r\n        }\r\n        function _sendMessage(msgID, logger, message, severity) {\r\n            _throwInternal(logger, severity || 1 /* eLoggingSeverity.CRITICAL */, msgID, message);\r\n        }\r\n        // NOTE: config.limit.samplingRate is set to 4 decimal places,\r\n        // so config.limit.samplingRate = 1 means 0.0001%\r\n        function _canSampledIn(msgID) {\r\n            try {\r\n                var cfg = _getCfgByKey(msgID);\r\n                return randomValue(1000000) <= cfg.limit.samplingRate;\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-empty\r\n            }\r\n            return false;\r\n        }\r\n        function _getLocalStorageObjByKey(key) {\r\n            try {\r\n                var curObj = _localStorageObj[key];\r\n                if (!curObj) {\r\n                    var localStorageName = _getLocalStorageName(key, _namePrefix);\r\n                    curObj = _getLocalStorageObj(utlGetLocalStorage(_logger, localStorageName), _logger, localStorageName);\r\n                    _localStorageObj[key] = curObj;\r\n                }\r\n                return _localStorageObj[key];\r\n            }\r\n            catch (e) {\r\n                // eslint-disable-next-line no-empty\r\n            }\r\n            return null;\r\n        }\r\n        function _isTrigger(key) {\r\n            var isTrigger = _isTriggered[key];\r\n            if (isNullOrUndefined(isTrigger)) {\r\n                isTrigger = false;\r\n                var localStorageObj = _getLocalStorageObjByKey(key);\r\n                if (localStorageObj) {\r\n                    isTrigger = _isTriggeredOnCurDate(localStorageObj[_DYN_PRE_TRIGGER_DATE /* @min:%2epreTriggerDate */]);\r\n                }\r\n                _isTriggered[key] = isTrigger;\r\n            }\r\n            return _isTriggered[key];\r\n        }\r\n        function _getQueueByKey(key) {\r\n            _queue = _queue || {};\r\n            if (isNullOrUndefined(_queue[key])) {\r\n                _queue[key] = [];\r\n            }\r\n            return _queue[key];\r\n        }\r\n    }\r\n    return ThrottleMgr;\r\n}());\r\nexport { ThrottleMgr };\r\n//# sourceMappingURL=ThrottleMgr.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { isNullOrUndefined } from \"@microsoft/applicationinsights-core-js\";\r\nimport { _DYN_EXTENSION_CONFIG } from \"../__DynamicConstants\";\r\nvar ConfigurationManager = /** @class */ (function () {\r\n    function ConfigurationManager() {\r\n    }\r\n    ConfigurationManager.getConfig = function (config, field, identifier, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = false; }\r\n        var configValue;\r\n        if (identifier && config[_DYN_EXTENSION_CONFIG /* @min:%2eextensionConfig */] && config[_DYN_EXTENSION_CONFIG /* @min:%2eextensionConfig */][identifier] && !isNullOrUndefined(config[_DYN_EXTENSION_CONFIG /* @min:%2eextensionConfig */][identifier][field])) {\r\n            configValue = config[_DYN_EXTENSION_CONFIG /* @min:%2eextensionConfig */][identifier][field];\r\n        }\r\n        else {\r\n            configValue = config[field];\r\n        }\r\n        return !isNullOrUndefined(configValue) ? configValue : defaultValue;\r\n    };\r\n    return ConfigurationManager;\r\n}());\r\nexport { ConfigurationManager };\r\n//# sourceMappingURL=IConfig.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { isNullOrUndefined, objForEachKey, throwError, toISOString } from \"@microsoft/applicationinsights-core-js\";\r\nimport { strIkey, strNotSpecified } from \"./Constants\";\r\nimport { dataSanitizeString } from \"./Telemetry/Common/DataSanitizer\";\r\nimport { _DYN_NAME } from \"./__DynamicConstants\";\r\n/**\r\n * Create a telemetry item that the 1DS channel understands\r\n * @param item - domain specific properties; part B\r\n * @param baseType - telemetry item type. ie PageViewData\r\n * @param envelopeName - name of the envelope. ie Microsoft.ApplicationInsights.<instrumentation key>.PageView\r\n * @param customProperties - user defined custom properties; part C\r\n * @param systemProperties - system properties that are added to the context; part A\r\n * @returns ITelemetryItem that is sent to channel\r\n */\r\nexport function createTelemetryItem(item, baseType, envelopeName, logger, customProperties, systemProperties) {\r\n    var _a;\r\n    envelopeName = dataSanitizeString(logger, envelopeName) || strNotSpecified;\r\n    if (isNullOrUndefined(item) ||\r\n        isNullOrUndefined(baseType) ||\r\n        isNullOrUndefined(envelopeName)) {\r\n        throwError(\"Input doesn't contain all required fields\");\r\n    }\r\n    var iKey = \"\";\r\n    if (item[strIkey]) {\r\n        iKey = item[strIkey];\r\n        delete item[strIkey];\r\n    }\r\n    var telemetryItem = (_a = {},\r\n        _a[_DYN_NAME /* @min:name */] = envelopeName,\r\n        _a.time = toISOString(new Date()),\r\n        _a.iKey = iKey,\r\n        _a.ext = systemProperties ? systemProperties : {},\r\n        _a.tags = [],\r\n        _a.data = {},\r\n        _a.baseType = baseType,\r\n        _a.baseData = item // Part B\r\n    ,\r\n        _a);\r\n    // Part C\r\n    if (!isNullOrUndefined(customProperties)) {\r\n        objForEachKey(customProperties, function (prop, value) {\r\n            telemetryItem.data[prop] = value;\r\n        });\r\n    }\r\n    return telemetryItem;\r\n}\r\nvar TelemetryItemCreator = /** @class */ (function () {\r\n    function TelemetryItemCreator() {\r\n    }\r\n    /**\r\n     * Create a telemetry item that the 1DS channel understands\r\n     * @param item - domain specific properties; part B\r\n     * @param baseType - telemetry item type. ie PageViewData\r\n     * @param envelopeName - name of the envelope. ie Microsoft.ApplicationInsights.<instrumentation key>.PageView\r\n     * @param customProperties - user defined custom properties; part C\r\n     * @param systemProperties - system properties that are added to the context; part A\r\n     * @returns ITelemetryItem that is sent to channel\r\n     */\r\n    TelemetryItemCreator.create = createTelemetryItem;\r\n    return TelemetryItemCreator;\r\n}());\r\nexport { TelemetryItemCreator };\r\n//# sourceMappingURL=TelemetryItemCreator.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { getDocument, isFunction } from \"@microsoft/applicationinsights-core-js\";\r\nexport function createDomEvent(eventName) {\r\n    var event = null;\r\n    if (isFunction(Event)) { // Use Event constructor when available\r\n        event = new Event(eventName);\r\n    }\r\n    else { // Event has no constructor in IE\r\n        var doc = getDocument();\r\n        if (doc && doc.createEvent) {\r\n            event = doc.createEvent(\"Event\");\r\n            event.initEvent(eventName, true, true);\r\n        }\r\n    }\r\n    return event;\r\n}\r\n//# sourceMappingURL=DomHelperFuncs.js.map","/*\n * Application Insights JavaScript SDK - Common, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n// Licensed under the\r\nexport { correlationIdSetPrefix, correlationIdGetPrefix, correlationIdCanIncludeCorrelationHeader, correlationIdGetCorrelationContext, correlationIdGetCorrelationContextValue, dateTimeUtilsNow, dateTimeUtilsDuration, isInternalApplicationInsightsEndpoint, createDistributedTraceContextFromTrace } from \"./Util\";\r\nexport { ThrottleMgr } from \"./ThrottleMgr\";\r\nexport { parseConnectionString, ConnectionStringParser } from \"./ConnectionStringParser\";\r\nexport { RequestHeaders } from \"./RequestResponseHeaders\";\r\nexport { DisabledPropertyName, ProcessLegacy, SampleRate, HttpMethod, DEFAULT_BREEZE_ENDPOINT, DEFAULT_BREEZE_PATH, strNotSpecified } from \"./Constants\";\r\nexport { Envelope } from \"./Telemetry/Common/Envelope\";\r\nexport { Event } from \"./Telemetry/Event\";\r\nexport { Exception } from \"./Telemetry/Exception\";\r\nexport { Metric } from \"./Telemetry/Metric\";\r\nexport { PageView } from \"./Telemetry/PageView\";\r\nexport { RemoteDependencyData } from \"./Telemetry/RemoteDependencyData\";\r\nexport { Trace } from \"./Telemetry/Trace\";\r\nexport { PageViewPerformance } from \"./Telemetry/PageViewPerformance\";\r\nexport { Data } from \"./Telemetry/Common/Data\";\r\nexport { SeverityLevel } from \"./Interfaces/Contracts/SeverityLevel\";\r\nexport { ConfigurationManager } from \"./Interfaces/IConfig\";\r\nexport { ContextTagKeys } from \"./Interfaces/Contracts/ContextTagKeys\";\r\nexport { dataSanitizeKeyAndAddUniqueness, dataSanitizeKey, dataSanitizeString, dataSanitizeUrl, dataSanitizeMessage, dataSanitizeException, dataSanitizeProperties, dataSanitizeMeasurements, dataSanitizeId, dataSanitizeInput, dsPadNumber } from \"./Telemetry/Common/DataSanitizer\";\r\nexport { TelemetryItemCreator, createTelemetryItem } from \"./TelemetryItemCreator\";\r\nexport { CtxTagKeys, Extensions } from \"./Interfaces/PartAExtensions\";\r\nexport { DistributedTracingModes, EventPersistence } from \"./Enums\";\r\nexport { stringToBoolOrDefault, msToTimeSpan, getExtensionByName, isCrossOriginError } from \"./HelperFuncs\";\r\nexport { isBeaconsSupported as isBeaconApiSupported, createTraceParent, parseTraceParent, isValidTraceId, isValidSpanId, isValidTraceParent, isSampledFlag, formatTraceParent, findW3cTraceParent, findAllScripts } from \"@microsoft/applicationinsights-core-js\";\r\nexport { createDomEvent } from \"./DomHelperFuncs\";\r\nexport { utlDisableStorage, utlEnableStorage, utlCanUseLocalStorage, utlGetLocalStorage, utlSetLocalStorage, utlRemoveStorage, utlCanUseSessionStorage, utlGetSessionStorageKeys, utlGetSessionStorage, utlSetSessionStorage, utlRemoveSessionStorage, utlSetStoragePrefix } from \"./StorageHelperFuncs\";\r\nexport { urlParseUrl, urlGetAbsoluteUrl, urlGetPathName, urlGetCompleteUrl, urlParseHost, urlParseFullHost } from \"./UrlHelperFuncs\";\r\nexport { createOfflineListener } from \"./Offline\";\r\nexport var PropertiesPluginIdentifier = \"AppInsightsPropertiesPlugin\";\r\nexport var BreezeChannelIdentifier = \"AppInsightsChannelPlugin\";\r\nexport var AnalyticsPluginIdentifier = \"ApplicationInsightsAnalytics\";\r\n//# sourceMappingURL=applicationinsights-common.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { asString, isBoolean, isFunction, isNullOrUndefined, isString } from \"@nevware21/ts-utils\";\r\nimport { STR_EMPTY } from \"../JavaScriptSDK/InternalConstants\";\r\nimport { _DYN_BLK_VAL, _DYN_TO_LOWER_CASE } from \"../__DynamicConstants\";\r\n/**\r\n * @internal\r\n * @ignore\r\n * @param str\r\n * @param defaultValue\r\n * @returns\r\n */\r\nfunction _stringToBoolOrDefault(theValue, defaultValue, theConfig) {\r\n    if (!theValue && isNullOrUndefined(theValue)) {\r\n        return defaultValue;\r\n    }\r\n    if (isBoolean(theValue)) {\r\n        return theValue;\r\n    }\r\n    return asString(theValue)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]() === \"true\";\r\n}\r\n/**\r\n * Helper which returns an IConfigDefaultCheck instance with the field defined as an object\r\n * that should be merged\r\n * @param defaultValue - The default value to apply it not provided or it's not valid\r\n * @returns a new IConfigDefaultCheck structure\r\n */\r\nexport function cfgDfMerge(defaultValue) {\r\n    return {\r\n        mrg: true,\r\n        v: defaultValue\r\n    };\r\n}\r\n/**\r\n * Helper which returns an IConfigDefaultCheck instance with the provided field set function\r\n * @param setter - The IConfigCheckFn function to validate the user provided value\r\n * @param defaultValue - The default value to apply it not provided or it's not valid\r\n * @returns a new IConfigDefaultCheck structure\r\n */\r\nexport function cfgDfSet(setter, defaultValue) {\r\n    return {\r\n        set: setter,\r\n        v: defaultValue\r\n    };\r\n}\r\n/**\r\n * Helper which returns an IConfigDefaultCheck instance with the provided field validator\r\n * @param validator - The IConfigCheckFn function to validate the user provided value\r\n * @param defaultValue - The default value to apply it not provided or it's not valid\r\n * @param fallBackName - The fallback configuration name if the current value is not available\r\n * @returns a new IConfigDefaultCheck structure\r\n */\r\nexport function cfgDfValidate(validator, defaultValue, fallBackName) {\r\n    return {\r\n        fb: fallBackName,\r\n        isVal: validator,\r\n        v: defaultValue\r\n    };\r\n}\r\n/**\r\n * Helper which returns an IConfigDefaultCheck instance that will validate and convert the user\r\n * provided value to a boolean from a string or boolean value\r\n * @param defaultValue - The default value to apply it not provided or it's not valid\r\n * @param fallBackName - The fallback configuration name if the current value is not available\r\n * @returns a new IConfigDefaultCheck structure\r\n */\r\nexport function cfgDfBoolean(defaultValue, fallBackName) {\r\n    return {\r\n        fb: fallBackName,\r\n        set: _stringToBoolOrDefault,\r\n        v: !!defaultValue\r\n    };\r\n}\r\n/**\r\n * Helper which returns an IConfigDefaultCheck instance that will validate that the user\r\n * provided value is a function.\r\n * @param defaultValue - The default value to apply it not provided or it's not valid\r\n * @returns a new IConfigDefaultCheck structure\r\n */\r\nexport function cfgDfFunc(defaultValue) {\r\n    return {\r\n        isVal: isFunction,\r\n        v: defaultValue || null\r\n    };\r\n}\r\n/**\r\n * Helper which returns an IConfigDefaultCheck instance that will validate that the user\r\n * provided value is a function.\r\n * @param defaultValue - The default string value to apply it not provided or it's not valid, defaults to an empty string\r\n * @returns a new IConfigDefaultCheck structure\r\n */\r\nexport function cfgDfString(defaultValue) {\r\n    return {\r\n        isVal: isString,\r\n        v: asString(defaultValue || STR_EMPTY)\r\n    };\r\n}\r\n/**\r\n * Helper which returns an IConfigDefaultCheck instance identifying that value associated with this property\r\n * should not have it's properties converted into a dynamic config properties.\r\n * @param defaultValue - The default value to apply it not provided or it's not valid\r\n * @returns a new IConfigDefaultCheck structure\r\n */\r\nexport function cfgDfBlockPropValue(defaultValue) {\r\n    var _a;\r\n    return _a = {},\r\n        _a[_DYN_BLK_VAL /* @min:blkVal */] = true,\r\n        _a.v = defaultValue,\r\n        _a;\r\n}\r\n//# sourceMappingURL=ConfigDefaultHelpers.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { asString, isArray, isDefined, isNullOrUndefined, isObject, isPlainObject, isUndefined, objForEachKey, objHasOwn } from \"@nevware21/ts-utils\";\r\nimport { _DYN_BLK_VAL, _DYN_LENGTH, _DYN_RD_ONLY } from \"../__DynamicConstants\";\r\nfunction _isConfigDefaults(value) {\r\n    return (value && isObject(value) && (value.isVal || value.fb || objHasOwn(value, \"v\") || objHasOwn(value, \"mrg\") || objHasOwn(value, \"ref\") || value.set));\r\n}\r\nfunction _getDefault(dynamicHandler, theConfig, cfgDefaults) {\r\n    var defValue;\r\n    var isDefaultValid = cfgDefaults.dfVal || isDefined;\r\n    // There is a fallback config key so try and grab that first\r\n    if (theConfig && cfgDefaults.fb) {\r\n        var fallbacks = cfgDefaults.fb;\r\n        if (!isArray(fallbacks)) {\r\n            fallbacks = [fallbacks];\r\n        }\r\n        for (var lp = 0; lp < fallbacks[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n            var fallback = fallbacks[lp];\r\n            var fbValue = theConfig[fallback];\r\n            if (isDefaultValid(fbValue)) {\r\n                defValue = fbValue;\r\n            }\r\n            else if (dynamicHandler) {\r\n                // Needed to ensure that the fallback value (and potentially) new field is also dynamic even if null/undefined\r\n                fbValue = dynamicHandler.cfg[fallback];\r\n                if (isDefaultValid(fbValue)) {\r\n                    defValue = fbValue;\r\n                }\r\n                // Needed to ensure that the fallback value (and potentially) new field is also dynamic even if null/undefined\r\n                dynamicHandler.set(dynamicHandler.cfg, asString(fallback), fbValue);\r\n            }\r\n            if (isDefaultValid(defValue)) {\r\n                // We have a valid default so break out of the look\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    // If the value is still not defined and we have a default value then use that\r\n    if (!isDefaultValid(defValue) && isDefaultValid(cfgDefaults.v)) {\r\n        defValue = cfgDefaults.v;\r\n    }\r\n    return defValue;\r\n}\r\n/**\r\n * Recursively resolve the default value\r\n * @param dynamicHandler\r\n * @param theConfig\r\n * @param cfgDefaults\r\n * @returns\r\n */\r\nfunction _resolveDefaultValue(dynamicHandler, theConfig, cfgDefaults) {\r\n    var theValue = cfgDefaults;\r\n    if (cfgDefaults && _isConfigDefaults(cfgDefaults)) {\r\n        theValue = _getDefault(dynamicHandler, theConfig, cfgDefaults);\r\n    }\r\n    if (theValue) {\r\n        if (_isConfigDefaults(theValue)) {\r\n            theValue = _resolveDefaultValue(dynamicHandler, theConfig, theValue);\r\n        }\r\n        var newValue_1;\r\n        if (isArray(theValue)) {\r\n            newValue_1 = [];\r\n            newValue_1[_DYN_LENGTH /* @min:%2elength */] = theValue[_DYN_LENGTH /* @min:%2elength */];\r\n        }\r\n        else if (isPlainObject(theValue)) {\r\n            newValue_1 = {};\r\n        }\r\n        if (newValue_1) {\r\n            objForEachKey(theValue, function (key, value) {\r\n                if (value && _isConfigDefaults(value)) {\r\n                    value = _resolveDefaultValue(dynamicHandler, theConfig, value);\r\n                }\r\n                newValue_1[key] = value;\r\n            });\r\n            theValue = newValue_1;\r\n        }\r\n    }\r\n    return theValue;\r\n}\r\n/**\r\n * Applies the default value on the config property and makes sure that it's dynamic\r\n * @param theConfig\r\n * @param name\r\n * @param defaultValue\r\n */\r\nexport function _applyDefaultValue(dynamicHandler, theConfig, name, defaultValue) {\r\n    // Resolve the initial config value from the provided value or use the defined default\r\n    var isValid;\r\n    var setFn;\r\n    var defValue;\r\n    var cfgDefaults = defaultValue;\r\n    var mergeDf;\r\n    var reference;\r\n    var readOnly;\r\n    var blkDynamicValue;\r\n    if (_isConfigDefaults(cfgDefaults)) {\r\n        // looks like a IConfigDefault\r\n        isValid = cfgDefaults.isVal;\r\n        setFn = cfgDefaults.set;\r\n        readOnly = cfgDefaults[_DYN_RD_ONLY /* @min:%2erdOnly */];\r\n        blkDynamicValue = cfgDefaults[_DYN_BLK_VAL /* @min:%2eblkVal */];\r\n        mergeDf = cfgDefaults.mrg;\r\n        reference = cfgDefaults.ref;\r\n        if (!reference && isUndefined(reference)) {\r\n            reference = !!mergeDf;\r\n        }\r\n        defValue = _getDefault(dynamicHandler, theConfig, cfgDefaults);\r\n    }\r\n    else {\r\n        defValue = defaultValue;\r\n    }\r\n    if (blkDynamicValue) {\r\n        // Mark the property so that any value assigned will be blocked from conversion, we need to do this\r\n        // before assigning or fetching the value to ensure it's not converted\r\n        dynamicHandler[_DYN_BLK_VAL /* @min:%2eblkVal */](theConfig, name);\r\n    }\r\n    // Set the value to the default value;\r\n    var theValue;\r\n    var usingDefault = true;\r\n    var cfgValue = theConfig[name];\r\n    // try and get and user provided values\r\n    if (cfgValue || !isNullOrUndefined(cfgValue)) {\r\n        // Use the defined theConfig[name] value\r\n        theValue = cfgValue;\r\n        usingDefault = false;\r\n        // The values are different and we have a special default value check, which is used to\r\n        // override config values like empty strings to continue using the default\r\n        if (isValid && theValue !== defValue && !isValid(theValue)) {\r\n            theValue = defValue;\r\n            usingDefault = true;\r\n        }\r\n        if (setFn) {\r\n            theValue = setFn(theValue, defValue, theConfig);\r\n            usingDefault = theValue === defValue;\r\n        }\r\n    }\r\n    if (!usingDefault) {\r\n        if (isPlainObject(theValue) || isArray(defValue)) {\r\n            // we are using the user supplied value and it's an object\r\n            if (mergeDf && defValue && (isPlainObject(defValue) || isArray(defValue))) {\r\n                // Resolve/apply the defaults\r\n                objForEachKey(defValue, function (dfName, dfValue) {\r\n                    // Sets the value and makes it dynamic (if it doesn't already exist)\r\n                    _applyDefaultValue(dynamicHandler, theValue, dfName, dfValue);\r\n                });\r\n            }\r\n        }\r\n    }\r\n    else if (defValue) {\r\n        // Just resolve the default\r\n        theValue = _resolveDefaultValue(dynamicHandler, theConfig, defValue);\r\n    }\r\n    else {\r\n        theValue = defValue;\r\n    }\r\n    // if (theValue && usingDefault && (isPlainObject(theValue) || isArray(theValue))) {\r\n    //     theValue = _cfgDeepCopy(theValue);\r\n    // }\r\n    // Needed to ensure that the (potentially) new field is dynamic even if null/undefined\r\n    dynamicHandler.set(theConfig, name, theValue);\r\n    if (reference) {\r\n        dynamicHandler.ref(theConfig, name);\r\n    }\r\n    if (readOnly) {\r\n        dynamicHandler[_DYN_RD_ONLY /* @min:%2erdOnly */](theConfig, name);\r\n    }\r\n}\r\n//# sourceMappingURL=ConfigDefaults.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { arrForEach, createCustomError, dumpObj } from \"@nevware21/ts-utils\";\r\nimport { _DYN_LENGTH } from \"../__DynamicConstants\";\r\nvar aggregationErrorType;\r\n/**\r\n * Throws an Aggregation Error which includes all of the errors that led to this error occurring\r\n * @param message - The message describing the aggregation error (the sourceError details are added to this)\r\n * @param sourceErrors - An array of the errors that caused this situation\r\n */\r\nexport function throwAggregationError(message, sourceErrors) {\r\n    if (!aggregationErrorType) {\r\n        aggregationErrorType = createCustomError(\"AggregationError\", function (self, args) {\r\n            if (args[_DYN_LENGTH /* @min:%2elength */] > 1) {\r\n                // Save the provided errors\r\n                self.errors = args[1];\r\n            }\r\n        });\r\n    }\r\n    var theMessage = message || \"One or more errors occurred.\";\r\n    arrForEach(sourceErrors, function (srcError, idx) {\r\n        theMessage += \"\\n\".concat(idx, \" > \").concat(dumpObj(srcError));\r\n    });\r\n    throw new aggregationErrorType(theMessage, sourceErrors || []);\r\n}\r\n//# sourceMappingURL=AggregationError.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { arrForEach, arrIndexOf, dumpObj, isArray, objDefine, objDefineProp, objForEachKey, objGetOwnPropertyDescriptor } from \"@nevware21/ts-utils\";\r\nimport { UNDEFINED_VALUE } from \"../JavaScriptSDK/InternalConstants\";\r\nimport { _DYN_APPLY, _DYN_HDLR, _DYN_LOGGER, _DYN_PUSH, _DYN_SPLICE, _DYN_THROW_INTERNAL } from \"../__DynamicConstants\";\r\nimport { CFG_HANDLER_LINK, _canMakeDynamic, blockDynamicConversion, throwInvalidAccess } from \"./DynamicSupport\";\r\nvar arrayMethodsToPatch = [\r\n    \"push\",\r\n    \"pop\",\r\n    \"shift\",\r\n    \"unshift\",\r\n    \"splice\"\r\n];\r\nexport var _throwDynamicError = function (logger, name, desc, e) {\r\n    logger && logger[_DYN_THROW_INTERNAL /* @min:%2ethrowInternal */](3 /* eLoggingSeverity.DEBUG */, 108 /* _eInternalMessageId.DynamicConfigException */, \"\".concat(desc, \" [\").concat(name, \"] failed - \") + dumpObj(e));\r\n};\r\nfunction _patchArray(state, target, name) {\r\n    if (isArray(target)) {\r\n        // Monkey Patch the methods that might change the array\r\n        arrForEach(arrayMethodsToPatch, function (method) {\r\n            var orgMethod = target[method];\r\n            target[method] = function () {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                var result = orgMethod[_DYN_APPLY /* @min:%2eapply */](this, args);\r\n                // items may be added, removed or moved so need to make some new dynamic properties\r\n                _makeDynamicObject(state, target, name, \"Patching\");\r\n                return result;\r\n            };\r\n        });\r\n    }\r\n}\r\nfunction _getOwnPropGetter(target, name) {\r\n    var propDesc = objGetOwnPropertyDescriptor(target, name);\r\n    return propDesc && propDesc.get;\r\n}\r\nfunction _createDynamicProperty(state, theConfig, name, value) {\r\n    // Does not appear to be dynamic so lets make it so\r\n    var detail = {\r\n        n: name,\r\n        h: [],\r\n        trk: function (handler) {\r\n            if (handler && handler.fn) {\r\n                if (arrIndexOf(detail.h, handler) === -1) {\r\n                    // Add this handler to the collection that should be notified when the value changes\r\n                    detail.h[_DYN_PUSH /* @min:%2epush */](handler);\r\n                }\r\n                state.trk(handler, detail);\r\n            }\r\n        },\r\n        clr: function (handler) {\r\n            var idx = arrIndexOf(detail.h, handler);\r\n            if (idx !== -1) {\r\n                detail.h[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n            }\r\n        }\r\n    };\r\n    // Flag to optimize lookup response time by avoiding additional function calls\r\n    var checkDynamic = true;\r\n    var isObjectOrArray = false;\r\n    function _getProperty() {\r\n        if (checkDynamic) {\r\n            isObjectOrArray = isObjectOrArray || _canMakeDynamic(_getProperty, state, value);\r\n            // Make sure that if it's an object that we make it dynamic\r\n            if (value && !value[CFG_HANDLER_LINK] && isObjectOrArray) {\r\n                // It doesn't look like it's already dynamic so lets make sure it's converted the object into a dynamic Config as well\r\n                value = _makeDynamicObject(state, value, name, \"Converting\");\r\n            }\r\n            // If it needed to be converted it now has been\r\n            checkDynamic = false;\r\n        }\r\n        // If there is an active handler then add it to the tracking set of handlers\r\n        var activeHandler = state.act;\r\n        if (activeHandler) {\r\n            detail.trk(activeHandler);\r\n        }\r\n        return value;\r\n    }\r\n    // Tag this getter as our dynamic property and provide shortcut for notifying a change\r\n    _getProperty[state.prop] = {\r\n        chng: function () {\r\n            state.add(detail);\r\n        }\r\n    };\r\n    function _setProperty(newValue) {\r\n        if (value !== newValue) {\r\n            if (!!_getProperty[state.ro] && !state.upd) {\r\n                // field is marked as readonly so return false\r\n                throwInvalidAccess(\"[\" + name + \"] is read-only:\" + dumpObj(theConfig));\r\n            }\r\n            if (checkDynamic) {\r\n                isObjectOrArray = isObjectOrArray || _canMakeDynamic(_getProperty, state, value);\r\n                checkDynamic = false;\r\n            }\r\n            // The value must be a plain object or an array to enforce the reference (in-place updates)\r\n            var isReferenced = isObjectOrArray && _getProperty[state.rf];\r\n            if (isObjectOrArray) {\r\n                // We are about to replace a plain object or an array\r\n                if (isReferenced) {\r\n                    // Reassign the properties from the current value to the same properties from the newValue\r\n                    // This will set properties not in the newValue to undefined\r\n                    objForEachKey(value, function (key) {\r\n                        value[key] = newValue ? newValue[key] : UNDEFINED_VALUE;\r\n                    });\r\n                    // Now assign / re-assign value with all of the keys from newValue\r\n                    try {\r\n                        objForEachKey(newValue, function (key, theValue) {\r\n                            _setDynamicProperty(state, value, key, theValue);\r\n                        });\r\n                        // Now drop newValue so when we assign value later it keeps the existing reference\r\n                        newValue = value;\r\n                    }\r\n                    catch (e) {\r\n                        // Unable to convert to dynamic property so just leave as non-dynamic\r\n                        _throwDynamicError((state.hdlr || {})[_DYN_LOGGER /* @min:%2elogger */], name, \"Assigning\", e);\r\n                        // Mark as not an object or array so we don't try and do this again\r\n                        isObjectOrArray = false;\r\n                    }\r\n                }\r\n                else if (value && value[CFG_HANDLER_LINK]) {\r\n                    // As we are replacing the value, if it's already dynamic then we need to notify the listeners\r\n                    // for every property it has already\r\n                    objForEachKey(value, function (key) {\r\n                        // Check if the value is dynamic\r\n                        var getter = _getOwnPropGetter(value, key);\r\n                        if (getter) {\r\n                            // And if it is tell it's listeners that the value has changed\r\n                            var valueState = getter[state.prop];\r\n                            valueState && valueState.chng();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n            if (newValue !== value) {\r\n                var newIsObjectOrArray = newValue && _canMakeDynamic(_getProperty, state, newValue);\r\n                if (!isReferenced && newIsObjectOrArray) {\r\n                    // As the newValue is an object/array lets preemptively make it dynamic\r\n                    newValue = _makeDynamicObject(state, newValue, name, \"Converting\");\r\n                }\r\n                // Now assign the internal \"value\" to the newValue\r\n                value = newValue;\r\n                isObjectOrArray = newIsObjectOrArray;\r\n            }\r\n            // Cause any listeners to be scheduled for notification\r\n            state.add(detail);\r\n        }\r\n    }\r\n    objDefine(theConfig, detail.n, { g: _getProperty, s: _setProperty });\r\n}\r\nexport function _setDynamicProperty(state, target, name, value) {\r\n    if (target) {\r\n        // To be a dynamic property it needs to have a get function\r\n        var getter = _getOwnPropGetter(target, name);\r\n        var isDynamic = getter && !!getter[state.prop];\r\n        if (!isDynamic) {\r\n            _createDynamicProperty(state, target, name, value);\r\n        }\r\n        else {\r\n            // Looks like it's already dynamic just assign the new value\r\n            target[name] = value;\r\n        }\r\n    }\r\n    return target;\r\n}\r\nexport function _setDynamicPropertyState(state, target, name, flags) {\r\n    if (target) {\r\n        // To be a dynamic property it needs to have a get function\r\n        var getter = _getOwnPropGetter(target, name);\r\n        var isDynamic = getter && !!getter[state.prop];\r\n        var inPlace = flags && flags[0 /* _eSetDynamicPropertyFlags.inPlace */];\r\n        var rdOnly = flags && flags[1 /* _eSetDynamicPropertyFlags.readOnly */];\r\n        var blkProp = flags && flags[2 /* _eSetDynamicPropertyFlags.blockDynamicProperty */];\r\n        if (!isDynamic) {\r\n            if (blkProp) {\r\n                try {\r\n                    // Attempt to mark the target as blocked from conversion\r\n                    blockDynamicConversion(target);\r\n                }\r\n                catch (e) {\r\n                    _throwDynamicError((state.hdlr || {})[_DYN_LOGGER /* @min:%2elogger */], name, \"Blocking\", e);\r\n                }\r\n            }\r\n            try {\r\n                // Make sure it's dynamic so that we can tag the property as per the state\r\n                _setDynamicProperty(state, target, name, target[name]);\r\n                getter = _getOwnPropGetter(target, name);\r\n            }\r\n            catch (e) {\r\n                // Unable to convert to dynamic property so just leave as non-dynamic\r\n                _throwDynamicError((state.hdlr || {})[_DYN_LOGGER /* @min:%2elogger */], name, \"State\", e);\r\n            }\r\n        }\r\n        // Assign the optional flags if true\r\n        if (inPlace) {\r\n            getter[state.rf] = inPlace;\r\n        }\r\n        if (rdOnly) {\r\n            getter[state.ro] = rdOnly;\r\n        }\r\n        if (blkProp) {\r\n            getter[state.blkVal] = true;\r\n        }\r\n    }\r\n    return target;\r\n}\r\nexport function _makeDynamicObject(state, target, name, desc) {\r\n    try {\r\n        // Assign target with new value properties (converting into dynamic properties in the process)\r\n        objForEachKey(target, function (key, value) {\r\n            // Assign and/or make the property dynamic\r\n            _setDynamicProperty(state, target, key, value);\r\n        });\r\n        if (!target[CFG_HANDLER_LINK]) {\r\n            // Link the config back to the dynamic config details\r\n            objDefineProp(target, CFG_HANDLER_LINK, {\r\n                get: function () {\r\n                    return state[_DYN_HDLR /* @min:%2ehdlr */];\r\n                }\r\n            });\r\n            _patchArray(state, target, name);\r\n        }\r\n    }\r\n    catch (e) {\r\n        // Unable to convert to dynamic property so just leave as non-dynamic\r\n        _throwDynamicError((state.hdlr || {})[_DYN_LOGGER /* @min:%2elogger */], name, desc, e);\r\n    }\r\n    return target;\r\n}\r\n//# sourceMappingURL=DynamicProperty.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { arrForEach, arrIndexOf, dumpObj, newSymbol, scheduleTimeout } from \"@nevware21/ts-utils\";\r\nimport { throwAggregationError } from \"../JavaScriptSDK/AggregationError\";\r\nimport { _DYN_BLK_VAL, _DYN_CANCEL, _DYN_HDLR, _DYN_LENGTH, _DYN_LOGGER, _DYN_NOTIFY, _DYN_PUSH, _DYN_RD_ONLY, _DYN_SET_DF, _DYN_THROW_INTERNAL } from \"../__DynamicConstants\";\r\nvar symPrefix = \"[[ai_\";\r\nvar symPostfix = \"]]\";\r\nexport function _createState(cfgHandler) {\r\n    var _a;\r\n    var dynamicPropertySymbol = newSymbol(symPrefix + \"get\" + cfgHandler.uid + symPostfix);\r\n    var dynamicPropertyReadOnly = newSymbol(symPrefix + \"ro\" + cfgHandler.uid + symPostfix);\r\n    var dynamicPropertyReferenced = newSymbol(symPrefix + \"rf\" + cfgHandler.uid + symPostfix);\r\n    var dynamicPropertyBlockValue = newSymbol(symPrefix + \"blkVal\" + cfgHandler.uid + symPostfix);\r\n    var dynamicPropertyDetail = newSymbol(symPrefix + \"dtl\" + cfgHandler.uid + symPostfix);\r\n    var _waitingHandlers = null;\r\n    var _watcherTimer = null;\r\n    var theState;\r\n    function _useHandler(activeHandler, callback) {\r\n        var prevWatcher = theState.act;\r\n        try {\r\n            theState.act = activeHandler;\r\n            if (activeHandler && activeHandler[dynamicPropertyDetail]) {\r\n                // Clear out the previously tracked details for this handler, so that access are re-evaluated\r\n                arrForEach(activeHandler[dynamicPropertyDetail], function (detail) {\r\n                    detail.clr(activeHandler);\r\n                });\r\n                activeHandler[dynamicPropertyDetail] = [];\r\n            }\r\n            callback({\r\n                cfg: cfgHandler.cfg,\r\n                set: cfgHandler.set.bind(cfgHandler),\r\n                setDf: cfgHandler[_DYN_SET_DF /* @min:%2esetDf */].bind(cfgHandler),\r\n                ref: cfgHandler.ref.bind(cfgHandler),\r\n                rdOnly: cfgHandler[_DYN_RD_ONLY /* @min:%2erdOnly */].bind(cfgHandler)\r\n            });\r\n        }\r\n        catch (e) {\r\n            var logger = cfgHandler[_DYN_LOGGER /* @min:%2elogger */];\r\n            if (logger) {\r\n                // Don't let one individual failure break everyone\r\n                logger[_DYN_THROW_INTERNAL /* @min:%2ethrowInternal */](1 /* eLoggingSeverity.CRITICAL */, 107 /* _eInternalMessageId.ConfigWatcherException */, dumpObj(e));\r\n            }\r\n            // Re-throw the exception so that any true \"error\" is reported back to the called\r\n            throw e;\r\n        }\r\n        finally {\r\n            theState.act = prevWatcher || null;\r\n        }\r\n    }\r\n    function _notifyWatchers() {\r\n        if (_waitingHandlers) {\r\n            var notifyHandlers = _waitingHandlers;\r\n            _waitingHandlers = null;\r\n            // Stop any timer as we are running them now anyway\r\n            _watcherTimer && _watcherTimer[_DYN_CANCEL /* @min:%2ecancel */]();\r\n            _watcherTimer = null;\r\n            var watcherFailures_1 = [];\r\n            // Now run the handlers\r\n            arrForEach(notifyHandlers, function (handler) {\r\n                if (handler) {\r\n                    if (handler[dynamicPropertyDetail]) {\r\n                        arrForEach(handler[dynamicPropertyDetail], function (detail) {\r\n                            // Clear out this handler from  previously tracked details, so that access are re-evaluated\r\n                            detail.clr(handler);\r\n                        });\r\n                        handler[dynamicPropertyDetail] = null;\r\n                    }\r\n                    // The handler may have self removed as part of another handler so re-check\r\n                    if (handler.fn) {\r\n                        try {\r\n                            _useHandler(handler, handler.fn);\r\n                        }\r\n                        catch (e) {\r\n                            // Don't let a single failing watcher cause other watches to fail\r\n                            watcherFailures_1[_DYN_PUSH /* @min:%2epush */](e);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            // During notification we may have had additional updates -- so notify those updates as well\r\n            if (_waitingHandlers) {\r\n                try {\r\n                    _notifyWatchers();\r\n                }\r\n                catch (e) {\r\n                    watcherFailures_1[_DYN_PUSH /* @min:%2epush */](e);\r\n                }\r\n            }\r\n            if (watcherFailures_1[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                throwAggregationError(\"Watcher error(s): \", watcherFailures_1);\r\n            }\r\n        }\r\n    }\r\n    function _addWatcher(detail) {\r\n        if (detail && detail.h[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n            if (!_waitingHandlers) {\r\n                _waitingHandlers = [];\r\n            }\r\n            if (!_watcherTimer) {\r\n                _watcherTimer = scheduleTimeout(function () {\r\n                    _watcherTimer = null;\r\n                    _notifyWatchers();\r\n                }, 0);\r\n            }\r\n            // Add all of the handlers for this detail (if not already present) - using normal for-loop for performance\r\n            for (var idx = 0; idx < detail.h[_DYN_LENGTH /* @min:%2elength */]; idx++) {\r\n                var handler = detail.h[idx];\r\n                // Add this handler to the collection of handlers to re-execute\r\n                if (handler && arrIndexOf(_waitingHandlers, handler) === -1) {\r\n                    _waitingHandlers[_DYN_PUSH /* @min:%2epush */](handler);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    function _trackHandler(handler, detail) {\r\n        if (handler) {\r\n            var details = handler[dynamicPropertyDetail] = handler[dynamicPropertyDetail] || [];\r\n            if (arrIndexOf(details, detail) === -1) {\r\n                // If this detail is not already listed as tracked then add it so that we re-evaluate it's usage\r\n                details[_DYN_PUSH /* @min:%2epush */](detail);\r\n            }\r\n        }\r\n    }\r\n    theState = (_a = {\r\n            prop: dynamicPropertySymbol,\r\n            ro: dynamicPropertyReadOnly,\r\n            rf: dynamicPropertyReferenced\r\n        },\r\n        _a[_DYN_BLK_VAL /* @min:blkVal */] = dynamicPropertyBlockValue,\r\n        _a[_DYN_HDLR /* @min:hdlr */] = cfgHandler,\r\n        _a.add = _addWatcher,\r\n        _a[_DYN_NOTIFY /* @min:notify */] = _notifyWatchers,\r\n        _a.use = _useHandler,\r\n        _a.trk = _trackHandler,\r\n        _a);\r\n    return theState;\r\n}\r\n//# sourceMappingURL=DynamicState.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { dumpObj, isUndefined, objDefine, objForEachKey } from \"@nevware21/ts-utils\";\r\nimport { createUniqueNamespace } from \"../JavaScriptSDK/DataCacheHelper\";\r\nimport { STR_NOT_DYNAMIC_ERROR } from \"../JavaScriptSDK/InternalConstants\";\r\nimport { _DYN_BLK_VAL, _DYN_LOGGER, _DYN_NOTIFY, _DYN_RD_ONLY, _DYN_SET_DF, _DYN_THROW_INTERNAL, _DYN_WARN_TO_CONSOLE, _DYN_WATCH } from \"../__DynamicConstants\";\r\nimport { _applyDefaultValue } from \"./ConfigDefaults\";\r\nimport { _makeDynamicObject, _setDynamicProperty, _setDynamicPropertyState, _throwDynamicError } from \"./DynamicProperty\";\r\nimport { _createState } from \"./DynamicState\";\r\nimport { CFG_HANDLER_LINK, _cfgDeepCopy, getDynamicConfigHandler, throwInvalidAccess } from \"./DynamicSupport\";\r\n/**\r\n * Identifies a function which will be re-called whenever any of it's accessed configuration values\r\n * change.\r\n * @param configHandler - The callback that will be called for the initial request and then whenever any\r\n * accessed configuration changes are identified.\r\n */\r\nfunction _createAndUseHandler(state, configHandler) {\r\n    var handler = {\r\n        fn: configHandler,\r\n        rm: function () {\r\n            // Clear all references to the handler so it can be garbage collected\r\n            // This will also cause this handler to never get called and eventually removed\r\n            handler.fn = null;\r\n            state = null;\r\n            configHandler = null;\r\n        }\r\n    };\r\n    objDefine(handler, \"toJSON\", { v: function () { return \"WatcherHandler\" + (handler.fn ? \"\" : \"[X]\"); } });\r\n    state.use(handler, configHandler);\r\n    return handler;\r\n}\r\n/**\r\n * Creates the dynamic config handler and associates with the target config as the root object\r\n * @param target - The config that you want to be root of the dynamic config\r\n * @param inPlace - Should the passed config be converted in-place or a new proxy returned\r\n * @returns The existing dynamic handler or a new instance with the provided config values\r\n */\r\nfunction _createDynamicHandler(logger, target, inPlace) {\r\n    var _a;\r\n    var dynamicHandler = getDynamicConfigHandler(target);\r\n    if (dynamicHandler) {\r\n        // The passed config is already dynamic so return it's tracker\r\n        return dynamicHandler;\r\n    }\r\n    var uid = createUniqueNamespace(\"dyncfg\", true);\r\n    var newTarget = (target && inPlace !== false) ? target : _cfgDeepCopy(target);\r\n    var theState;\r\n    function _notifyWatchers() {\r\n        theState[_DYN_NOTIFY /* @min:%2enotify */]();\r\n    }\r\n    function _setValue(target, name, value) {\r\n        try {\r\n            target = _setDynamicProperty(theState, target, name, value);\r\n        }\r\n        catch (e) {\r\n            // Unable to convert to dynamic property so just leave as non-dynamic\r\n            _throwDynamicError(logger, name, \"Setting value\", e);\r\n        }\r\n        return target[name];\r\n    }\r\n    function _watch(configHandler) {\r\n        return _createAndUseHandler(theState, configHandler);\r\n    }\r\n    function _block(configHandler, allowUpdate) {\r\n        theState.use(null, function (details) {\r\n            var prevUpd = theState.upd;\r\n            try {\r\n                if (!isUndefined(allowUpdate)) {\r\n                    theState.upd = allowUpdate;\r\n                }\r\n                configHandler(details);\r\n            }\r\n            finally {\r\n                theState.upd = prevUpd;\r\n            }\r\n        });\r\n    }\r\n    function _ref(target, name) {\r\n        var _a;\r\n        // Make sure it's dynamic and mark as referenced with it's current value\r\n        return _setDynamicPropertyState(theState, target, name, (_a = {}, _a[0 /* _eSetDynamicPropertyFlags.inPlace */] = true, _a))[name];\r\n    }\r\n    function _rdOnly(target, name) {\r\n        var _a;\r\n        // Make sure it's dynamic and mark as readonly with it's current value\r\n        return _setDynamicPropertyState(theState, target, name, (_a = {}, _a[1 /* _eSetDynamicPropertyFlags.readOnly */] = true, _a))[name];\r\n    }\r\n    function _blkPropValue(target, name) {\r\n        var _a;\r\n        // Make sure it's dynamic and mark as readonly with it's current value\r\n        return _setDynamicPropertyState(theState, target, name, (_a = {}, _a[2 /* _eSetDynamicPropertyFlags.blockDynamicProperty */] = true, _a))[name];\r\n    }\r\n    function _applyDefaults(theConfig, defaultValues) {\r\n        if (defaultValues) {\r\n            // Resolve/apply the defaults\r\n            objForEachKey(defaultValues, function (name, value) {\r\n                // Sets the value and makes it dynamic (if it doesn't already exist)\r\n                _applyDefaultValue(cfgHandler, theConfig, name, value);\r\n            });\r\n        }\r\n        return theConfig;\r\n    }\r\n    var cfgHandler = (_a = {\r\n            uid: null,\r\n            cfg: newTarget\r\n        },\r\n        _a[_DYN_LOGGER /* @min:logger */] = logger,\r\n        _a[_DYN_NOTIFY /* @min:notify */] = _notifyWatchers,\r\n        _a.set = _setValue,\r\n        _a[_DYN_SET_DF /* @min:setDf */] = _applyDefaults,\r\n        _a[_DYN_WATCH /* @min:watch */] = _watch,\r\n        _a.ref = _ref,\r\n        _a[_DYN_RD_ONLY /* @min:rdOnly */] = _rdOnly,\r\n        _a[_DYN_BLK_VAL /* @min:blkVal */] = _blkPropValue,\r\n        _a._block = _block,\r\n        _a);\r\n    objDefine(cfgHandler, \"uid\", {\r\n        c: false,\r\n        e: false,\r\n        w: false,\r\n        v: uid\r\n    });\r\n    theState = _createState(cfgHandler);\r\n    // Setup tracking for all defined default keys\r\n    _makeDynamicObject(theState, newTarget, \"config\", \"Creating\");\r\n    return cfgHandler;\r\n}\r\n/**\r\n * Log an invalid access message to the console\r\n * @param message\r\n */\r\nfunction _logInvalidAccess(logger, message) {\r\n    if (logger) {\r\n        logger[_DYN_WARN_TO_CONSOLE /* @min:%2ewarnToConsole */](message);\r\n        logger[_DYN_THROW_INTERNAL /* @min:%2ethrowInternal */](2 /* eLoggingSeverity.WARNING */, 108 /* _eInternalMessageId.DynamicConfigException */, message);\r\n    }\r\n    else {\r\n        // We don't have a logger so just throw an exception\r\n        throwInvalidAccess(message);\r\n    }\r\n}\r\n/**\r\n * Create or return a dynamic version of the passed config, if it is not already dynamic\r\n * @param config - The config to be converted into a dynamic config\r\n * @param defaultConfig - The default values to apply on the config if the properties don't already exist\r\n * @param inPlace - Should the config be converted in-place into a dynamic config or a new instance returned, defaults to true\r\n * @returns The dynamic config handler for the config (whether new or existing)\r\n */\r\nexport function createDynamicConfig(config, defaultConfig, logger, inPlace) {\r\n    var dynamicHandler = _createDynamicHandler(logger, config || {}, inPlace);\r\n    if (defaultConfig) {\r\n        dynamicHandler[_DYN_SET_DF /* @min:%2esetDf */](dynamicHandler.cfg, defaultConfig);\r\n    }\r\n    return dynamicHandler;\r\n}\r\n/**\r\n * Watch and track changes for accesses to the current config, the provided config MUST already be\r\n * a dynamic config or a child accessed via the dynamic config\r\n * @param config\r\n * @param configHandler\r\n * @param logger - The logger instance to use if there is no existing handler\r\n * @returns A watcher handler instance that can be used to remove itself when being unloaded\r\n * @throws TypeError if the provided config is not a dynamic config instance\r\n */\r\nexport function onConfigChange(config, configHandler, logger) {\r\n    var handler = config[CFG_HANDLER_LINK] || config;\r\n    if (handler.cfg && (handler.cfg === config || handler.cfg[CFG_HANDLER_LINK] === handler)) {\r\n        return handler[_DYN_WATCH /* @min:%2ewatch */](configHandler);\r\n    }\r\n    _logInvalidAccess(logger, STR_NOT_DYNAMIC_ERROR + dumpObj(config));\r\n    return createDynamicConfig(config, null, logger)[_DYN_WATCH /* @min:%2ewatch */](configHandler);\r\n}\r\n//# sourceMappingURL=DynamicConfig.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { isArray, isPlainObject, objForEachKey, symbolFor, throwTypeError } from \"@nevware21/ts-utils\";\r\nimport { _DYN_LENGTH } from \"../__DynamicConstants\";\r\n// Using Symbol.for so that if the same symbol was already created it would be returned\r\n// To handle multiple instances using potentially different versions we are not using\r\n// createUniqueNamespace()\r\nexport var CFG_HANDLER_LINK = symbolFor(\"[[ai_dynCfg_1]]\");\r\n/**\r\n * @internal\r\n * @ignore\r\n * The symbol to tag objects / arrays with if they should not be converted\r\n */\r\nvar BLOCK_DYNAMIC = symbolFor(\"[[ai_blkDynCfg_1]]\");\r\n/**\r\n * @internal\r\n * @ignore\r\n * The symbol to tag objects to indicate that when included into the configuration that\r\n * they should be converted into a trackable dynamic object.\r\n */\r\nvar FORCE_DYNAMIC = symbolFor(\"[[ai_frcDynCfg_1]]\");\r\nexport function _cfgDeepCopy(source) {\r\n    if (source) {\r\n        var target_1;\r\n        if (isArray(source)) {\r\n            target_1 = [];\r\n            target_1[_DYN_LENGTH /* @min:%2elength */] = source[_DYN_LENGTH /* @min:%2elength */];\r\n        }\r\n        else if (isPlainObject(source)) {\r\n            target_1 = {};\r\n        }\r\n        if (target_1) {\r\n            // Copying index values by property name as the extensionConfig can be an array or object\r\n            objForEachKey(source, function (key, value) {\r\n                // Perform a deep copy of the object\r\n                target_1[key] = _cfgDeepCopy(value);\r\n            });\r\n            return target_1;\r\n        }\r\n    }\r\n    return source;\r\n}\r\n/**\r\n * @internal\r\n * Get the dynamic config handler if the value is already dynamic\r\n * @param value\r\n * @returns\r\n */\r\nexport function getDynamicConfigHandler(value) {\r\n    if (value) {\r\n        var handler = value[CFG_HANDLER_LINK] || value;\r\n        if (handler.cfg && (handler.cfg === value || handler.cfg[CFG_HANDLER_LINK] === handler)) {\r\n            return handler;\r\n        }\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Mark the provided value so that if it's included into the configuration it will NOT have\r\n * its properties converted into a dynamic (reactive) object. If the object is not a plain object\r\n * or an array (ie. a class) this function has not affect as only Objects and Arrays are converted\r\n * into dynamic objects in the dynamic configuration.\r\n *\r\n * When you have tagged a value as both {@link forceDynamicConversion} and blocked force will take precedence.\r\n *\r\n * You should only need to use this function, if you are creating dynamic \"classes\" from objects\r\n * which confirm to the require interface. A common case for this is during unit testing where it's\r\n * easier to create mock extensions.\r\n *\r\n * If `value` is falsy (null / undefined / 0 / empty string etc) it will not be tagged and\r\n * if there is an exception adding the property to the value (because its frozen etc) the\r\n * exception will be swallowed\r\n *\r\n * @example\r\n * ```ts\r\n * // This is a valid \"extension\", but it is technically an object\r\n * // So when included in the config.extensions it WILL be cloned and then\r\n * // converted into a dynamic object, where all of its properties will become\r\n * // get/set object properties and will be tracked. While this WILL still\r\n * // function, when attempt to use a mocking framework on top of this the\r\n * // functions are now technically get accessors which return a function\r\n * // and this can cause some mocking frameworks to fail.\r\n * let mockChannel = {\r\n *      pause: () => { },\r\n*      resume: () => { },\r\n*      teardown: () => { },\r\n*      flush: (async: any, callBack: any) => { },\r\n*      processTelemetry: (env: any) => { },\r\n*      setNextPlugin: (next: any) => { },\r\n*      initialize: (config: any, core: any, extensions: any) => { },\r\n*      identifier: \"testChannel\",\r\n*      priority: 1003\r\n* };\r\n * ```\r\n * @param value - The object that you want to block from being converted into a\r\n * trackable dynamic object\r\n * @returns The original value\r\n */\r\nexport function blockDynamicConversion(value) {\r\n    if (value && (isPlainObject(value) || isArray(value))) {\r\n        try {\r\n            value[BLOCK_DYNAMIC] = true;\r\n        }\r\n        catch (e) {\r\n            // Don't throw for this case as it's an ask only\r\n        }\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * This is the reverse case of {@link blockDynamicConversion} in that this will tag an\r\n * object to indicate that it should always be converted into a dynamic trackable object\r\n * even when not an object or array. So all properties of this object will become\r\n * get / set accessor functions.\r\n *\r\n * When you have tagged a value as both {@link forceDynamicConversion} and blocked force will take precedence.\r\n *\r\n * If `value` is falsy (null / undefined / 0 / empty string etc) it will not be tagged and\r\n * if there is an exception adding the property to the value (because its frozen etc) the\r\n * exception will be swallowed.\r\n * @param value - The object that should be tagged and converted if included into a dynamic\r\n * configuration.\r\n * @returns The original value\r\n */\r\nexport function forceDynamicConversion(value) {\r\n    if (value) {\r\n        try {\r\n            value[FORCE_DYNAMIC] = true;\r\n        }\r\n        catch (e) {\r\n            // Don't throw for this case as it's an ask only\r\n        }\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * @internal\r\n * @ignore\r\n * Helper function to check whether an object can or should be converted into a dynamic\r\n * object.\r\n * @param value - The object to check whether it should be converted\r\n * @returns `true` if the value should be converted otherwise `false`.\r\n */\r\nexport function _canMakeDynamic(getFunc, state, value) {\r\n    var result = false;\r\n    // Object must exist and be truthy\r\n    if (value && !getFunc[state.blkVal]) {\r\n        // Tagged as always convert\r\n        result = value[FORCE_DYNAMIC];\r\n        // Check that it's not explicitly tagged as blocked\r\n        if (!result && !value[BLOCK_DYNAMIC]) {\r\n            // Only convert plain objects or arrays by default\r\n            result = isPlainObject(value) || isArray(value);\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Throws an invalid access exception\r\n * @param message - The message to include in the exception\r\n */\r\nexport function throwInvalidAccess(message) {\r\n    throwTypeError(\"InvalidAccess:\" + message);\r\n}\r\n//# sourceMappingURL=DynamicSupport.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { createEnum, createTypeMap } from \"@nevware21/ts-utils\";\r\n/**\r\n * Create an enum style object which has both the key => value and value => key mappings\r\n * @param values - The values to populate on the new object\r\n * @returns\r\n */\r\nexport var createEnumStyle = createEnum;\r\n/**\r\n * Create a 2 index map that maps an enum's key and value to the defined map value, X[\"key\"] => mapValue and X[0] => mapValue.\r\n * Generic values\r\n * - E = the const enum type (typeof eRequestHeaders);\r\n * - V = Identifies the valid values for the keys, this should include both the enum numeric and string key of the type. The\r\n * resulting \"Value\" of each entry identifies the valid values withing the assignments.\r\n * @param values - The values to populate on the new object\r\n * @returns\r\n */\r\nexport var createValueMap = createTypeMap;\r\n//# sourceMappingURL=EnumHelperFuncs.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { createEnumStyle } from \"../JavaScriptSDK.Enums/EnumHelperFuncs\";\r\n/**\r\n * The EventsDiscardedReason enumeration contains a set of values that specify the reason for discarding an event.\r\n */\r\nexport var EventsDiscardedReason = createEnumStyle({\r\n    /**\r\n     * Unknown.\r\n     */\r\n    Unknown: 0 /* eEventsDiscardedReason.Unknown */,\r\n    /**\r\n     * Status set to non-retryable.\r\n     */\r\n    NonRetryableStatus: 1 /* eEventsDiscardedReason.NonRetryableStatus */,\r\n    /**\r\n     * The event is invalid.\r\n     */\r\n    InvalidEvent: 2 /* eEventsDiscardedReason.InvalidEvent */,\r\n    /**\r\n     * The size of the event is too large.\r\n     */\r\n    SizeLimitExceeded: 3 /* eEventsDiscardedReason.SizeLimitExceeded */,\r\n    /**\r\n     * The server is not accepting events from this instrumentation key.\r\n     */\r\n    KillSwitch: 4 /* eEventsDiscardedReason.KillSwitch */,\r\n    /**\r\n     * The event queue is full.\r\n     */\r\n    QueueFull: 5 /* eEventsDiscardedReason.QueueFull */\r\n});\r\n/**\r\n *  The eBatchDiscardedReason enumeration contains a set of values that specify the reason for discarding offline batches.\r\n */\r\nexport var BatchDiscardedReason = createEnumStyle({\r\n    /**\r\n     * Unknown.\r\n     */\r\n    Unknown: 0 /* eBatchDiscardedReason.Unknown */,\r\n    /**\r\n      * Status set to non-retryable after sending\r\n      */\r\n    NonRetryableStatus: 1 /* eBatchDiscardedReason.NonRetryableStatus */,\r\n    /**\r\n     * Batches with lower number of critical events are dropped to free up storage space\r\n     */\r\n    CleanStorage: 2 /* eBatchDiscardedReason.CleanStorage */,\r\n    /**\r\n     * The batches in storage exceed max allowed time\r\n     */\r\n    MaxInStorageTimeExceeded: 3 /* eBatchDiscardedReason.MaxInStorageTimeExceeded */\r\n});\r\n//# sourceMappingURL=EventsDiscardedReason.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { createEnumStyle } from \"./EnumHelperFuncs\";\r\nexport var ActiveStatus = createEnumStyle({\r\n    NONE: 0 /* eActiveStatus.NONE */,\r\n    PENDING: 3 /* eActiveStatus.PENDING */,\r\n    INACTIVE: 1 /* eActiveStatus.INACTIVE */,\r\n    ACTIVE: 2 /* eActiveStatus.ACTIVE */\r\n});\r\n//# sourceMappingURL=InitActiveStatusEnum.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nvar _a;\r\nimport { __spreadArrayFn as __spreadArray } from \"@microsoft/applicationinsights-shims\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { createPromise, createSyncAllSettledPromise, doAwaitResponse } from \"@nevware21/ts-async\";\r\nimport { arrAppend, arrForEach, arrIndexOf, createTimeout, deepExtend, hasDocument, isFunction, isNullOrUndefined, isPlainObject, isPromiseLike, objDeepFreeze, objDefine, objForEachKey, objFreeze, objHasOwn, scheduleTimeout, throwError } from \"@nevware21/ts-utils\";\r\nimport { createDynamicConfig, onConfigChange } from \"../Config/DynamicConfig\";\r\nimport { ActiveStatus } from \"../JavaScriptSDK.Enums/InitActiveStatusEnum\";\r\nimport { _DYN_ADD_NOTIFICATION_LIS1, _DYN_CANCEL, _DYN_CREATE_NEW, _DYN_ENABLED, _DYN_GET_NOTIFY_MGR, _DYN_GET_PLUGIN, _DYN_GET_PROCESS_TEL_CONT2, _DYN_IDENTIFIER, _DYN_INITIALIZE, _DYN_INSTRUMENTATION_KEY, _DYN_IS_ASYNC, _DYN_IS_INITIALIZED, _DYN_I_KEY, _DYN_LENGTH, _DYN_LOGGER, _DYN_LOGGING_LEVEL_CONSOL4, _DYN_MESSAGE, _DYN_MESSAGE_ID, _DYN_NAME, _DYN_NOTIFY, _DYN_ON_COMPLETE, _DYN_POLL_INTERNAL_LOGS, _DYN_PROCESS_NEXT, _DYN_PUSH, _DYN_REMOVE_NOTIFICATION_0, _DYN_SET_DF, _DYN_SPLICE, _DYN_STOP_POLLING_INTERNA3, _DYN_TEARDOWN, _DYN_TIME, _DYN_UNLOAD, _DYN_VALUE, _DYN_VERSION, _DYN_WATCH, _DYN__INACTIVE } from \"../__DynamicConstants\";\r\nimport { doUnloadAll, runTargetUnload } from \"./AsyncUtils\";\r\nimport { ChannelControllerPriority } from \"./Constants\";\r\nimport { createCookieMgr } from \"./CookieMgr\";\r\nimport { createUniqueNamespace } from \"./DataCacheHelper\";\r\nimport { getDebugListener } from \"./DbgExtensionUtils\";\r\nimport { DiagnosticLogger, _InternalLogMessage, _throwInternal, _warnToConsole } from \"./DiagnosticLogger\";\r\nimport { getSetValue, isNotNullOrUndefined, proxyFunctionAs, proxyFunctions, toISOString } from \"./HelperFuncs\";\r\nimport { STR_CHANNELS, STR_CORE, STR_CREATE_PERF_MGR, STR_DISABLED, STR_EMPTY, STR_EVENTS_DISCARDED, STR_EXTENSIONS, STR_EXTENSION_CONFIG, STR_GET_PERF_MGR, STR_PRIORITY, UNDEFINED_VALUE } from \"./InternalConstants\";\r\nimport { NotificationManager } from \"./NotificationManager\";\r\nimport { PerfManager, doPerf, getGblPerfMgr } from \"./PerfManager\";\r\nimport { createProcessTelemetryContext, createProcessTelemetryUnloadContext, createProcessTelemetryUpdateContext, createTelemetryProxyChain } from \"./ProcessTelemetryContext\";\r\nimport { _getPluginState, createDistributedTraceContext, initializePlugins, sortPlugins } from \"./TelemetryHelpers\";\r\nimport { TelemetryInitializerPlugin } from \"./TelemetryInitializerPlugin\";\r\nimport { createUnloadHandlerContainer } from \"./UnloadHandlerContainer\";\r\nimport { createUnloadHookContainer } from \"./UnloadHookContainer\";\r\nvar strValidationError = \"Plugins must provide initialize method\";\r\nvar strNotificationManager = \"_notificationManager\";\r\nvar strSdkUnloadingError = \"SDK is still unloading...\";\r\nvar strSdkNotInitialized = \"SDK is not initialized\";\r\nvar maxInitQueueSize = 100;\r\nvar maxInitTimeout = 50000;\r\n// const strPluginUnloadFailed = \"Failed to unload plugin\";\r\n/**\r\n * The default settings for the config.\r\n * WE MUST include all defaults here to ensure that the config is created with all of the properties\r\n * defined as dynamic.\r\n */\r\nvar defaultConfig = objDeepFreeze((_a = {\r\n        cookieCfg: {}\r\n    },\r\n    _a[STR_EXTENSIONS] = { rdOnly: true, ref: true, v: [] },\r\n    _a[STR_CHANNELS] = { rdOnly: true, ref: true, v: [] },\r\n    _a[STR_EXTENSION_CONFIG] = { ref: true, v: {} },\r\n    _a[STR_CREATE_PERF_MGR] = UNDEFINED_VALUE,\r\n    _a.loggingLevelConsole = 0 /* eLoggingSeverity.DISABLED */,\r\n    _a.diagnosticLogInterval = UNDEFINED_VALUE,\r\n    _a));\r\n/**\r\n * Helper to create the default performance manager\r\n * @param core\r\n * @param notificationMgr\r\n */\r\nfunction _createPerfManager(core, notificationMgr) {\r\n    return new PerfManager(notificationMgr);\r\n}\r\nfunction _validateExtensions(logger, channelPriority, allExtensions) {\r\n    var _a;\r\n    // Concat all available extensions\r\n    var coreExtensions = [];\r\n    var channels = [];\r\n    // Check if any two extensions have the same priority, then warn to console\r\n    // And extract the local extensions from the\r\n    var extPriorities = {};\r\n    // Extension validation\r\n    arrForEach(allExtensions, function (ext) {\r\n        // Check for ext.initialize\r\n        if (isNullOrUndefined(ext) || isNullOrUndefined(ext[_DYN_INITIALIZE /* @min:%2einitialize */])) {\r\n            throwError(strValidationError);\r\n        }\r\n        var extPriority = ext[STR_PRIORITY /* @min:%2epriority */];\r\n        var identifier = ext[_DYN_IDENTIFIER /* @min:%2eidentifier */];\r\n        if (ext && extPriority) {\r\n            if (!isNullOrUndefined(extPriorities[extPriority])) {\r\n                _warnToConsole(logger, \"Two extensions have same priority #\" + extPriority + \" - \" + extPriorities[extPriority] + \", \" + identifier);\r\n            }\r\n            else {\r\n                // set a value\r\n                extPriorities[extPriority] = identifier;\r\n            }\r\n        }\r\n        // Split extensions to core and channels\r\n        if (!extPriority || extPriority < channelPriority) {\r\n            // Add to core extension that will be managed by AppInsightsCore\r\n            coreExtensions[_DYN_PUSH /* @min:%2epush */](ext);\r\n        }\r\n        else {\r\n            channels[_DYN_PUSH /* @min:%2epush */](ext);\r\n        }\r\n    });\r\n    return _a = {},\r\n        _a[STR_CORE /* @min:core */] = coreExtensions,\r\n        _a[STR_CHANNELS /* @min:channels */] = channels,\r\n        _a;\r\n}\r\nfunction _isPluginPresent(thePlugin, plugins) {\r\n    var exists = false;\r\n    arrForEach(plugins, function (plugin) {\r\n        if (plugin === thePlugin) {\r\n            exists = true;\r\n            return -1;\r\n        }\r\n    });\r\n    return exists;\r\n}\r\nfunction _deepMergeConfig(details, target, newValues, merge) {\r\n    // Lets assign the new values to the existing config\r\n    if (newValues) {\r\n        objForEachKey(newValues, function (key, value) {\r\n            if (merge) {\r\n                if (isPlainObject(value) && isPlainObject(target[key])) {\r\n                    // The target is an object and it has a value\r\n                    _deepMergeConfig(details, target[key], value, merge);\r\n                }\r\n            }\r\n            if (merge && isPlainObject(value) && isPlainObject(target[key])) {\r\n                // The target is an object and it has a value\r\n                _deepMergeConfig(details, target[key], value, merge);\r\n            }\r\n            else {\r\n                // Just Assign (replace) and/or make the property dynamic\r\n                details.set(target, key, value);\r\n            }\r\n        });\r\n    }\r\n}\r\nfunction _findWatcher(listeners, newWatcher) {\r\n    var theListener = null;\r\n    var idx = -1;\r\n    arrForEach(listeners, function (listener, lp) {\r\n        if (listener.w === newWatcher) {\r\n            theListener = listener;\r\n            idx = lp;\r\n            return -1;\r\n        }\r\n    });\r\n    return { i: idx, l: theListener };\r\n}\r\nfunction _addDelayedCfgListener(listeners, newWatcher) {\r\n    var theListener = _findWatcher(listeners, newWatcher).l;\r\n    if (!theListener) {\r\n        theListener = {\r\n            w: newWatcher,\r\n            rm: function () {\r\n                var fnd = _findWatcher(listeners, newWatcher);\r\n                if (fnd.i !== -1) {\r\n                    listeners[_DYN_SPLICE /* @min:%2esplice */](fnd.i, 1);\r\n                }\r\n            }\r\n        };\r\n        listeners[_DYN_PUSH /* @min:%2epush */](theListener);\r\n    }\r\n    return theListener;\r\n}\r\nfunction _registerDelayedCfgListener(config, listeners, logger) {\r\n    arrForEach(listeners, function (listener) {\r\n        var unloadHdl = onConfigChange(config, listener.w, logger);\r\n        delete listener.w; // Clear the listener reference so it will get garbage collected.\r\n        // replace the remove function\r\n        listener.rm = function () {\r\n            unloadHdl.rm();\r\n        };\r\n    });\r\n}\r\n// Moved this outside of the closure to reduce the retained memory footprint\r\nfunction _initDebugListener(configHandler, unloadContainer, notificationManager, debugListener) {\r\n    // Will get recalled if any referenced config values are changed\r\n    unloadContainer.add(configHandler[_DYN_WATCH /* @min:%2ewatch */](function (details) {\r\n        var disableDbgExt = details.cfg.disableDbgExt;\r\n        if (disableDbgExt === true && debugListener) {\r\n            // Remove any previously loaded debug listener\r\n            notificationManager[_DYN_REMOVE_NOTIFICATION_0 /* @min:%2eremoveNotificationListener */](debugListener);\r\n            debugListener = null;\r\n        }\r\n        if (notificationManager && !debugListener && disableDbgExt !== true) {\r\n            debugListener = getDebugListener(details.cfg);\r\n            notificationManager[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */](debugListener);\r\n        }\r\n    }));\r\n    return debugListener;\r\n}\r\n// Moved this outside of the closure to reduce the retained memory footprint\r\nfunction _createUnloadHook(unloadHook) {\r\n    return objDefine({\r\n        rm: function () {\r\n            unloadHook.rm();\r\n        }\r\n    }, \"toJSON\", { v: function () { return \"aicore::onCfgChange<\" + JSON.stringify(unloadHook) + \">\"; } });\r\n}\r\n/**\r\n * @group Classes\r\n * @group Entrypoint\r\n */\r\nvar AppInsightsCore = /** @class */ (function () {\r\n    function AppInsightsCore() {\r\n        // NOTE!: DON'T set default values here, instead set them in the _initDefaults() function as it is also called during teardown()\r\n        var _configHandler;\r\n        var _isInitialized;\r\n        var _logger;\r\n        var _eventQueue;\r\n        var _notificationManager;\r\n        var _perfManager;\r\n        var _cfgPerfManager;\r\n        var _cookieManager;\r\n        var _pluginChain;\r\n        var _configExtensions;\r\n        var _channelConfig;\r\n        var _channels;\r\n        var _isUnloading;\r\n        var _telemetryInitializerPlugin;\r\n        var _internalLogsEventName;\r\n        var _evtNamespace;\r\n        var _unloadHandlers;\r\n        var _hookContainer;\r\n        var _debugListener;\r\n        var _traceCtx;\r\n        var _instrumentationKey;\r\n        var _cfgListeners;\r\n        var _extensions;\r\n        var _pluginVersionStringArr;\r\n        var _pluginVersionString;\r\n        var _activeStatus; // to indicate if ikey or endpoint url promised is resolved or not\r\n        var _endpoint;\r\n        var _initInMemoMaxSize; // max event count limit during wait for init promises to be resolved\r\n        var _isStatusSet; // track if active status is set in case of init timeout and init promises setting the status twice\r\n        var _initTimer;\r\n        /**\r\n         * Internal log poller\r\n         */\r\n        var _internalLogPoller;\r\n        var _internalLogPollerListening;\r\n        var _forceStopInternalLogPoller;\r\n        dynamicProto(AppInsightsCore, this, function (_self) {\r\n            // Set the default values (also called during teardown)\r\n            _initDefaults();\r\n            // Special internal method to allow the unit tests and DebugPlugin to hook embedded objects\r\n            _self[\"_getDbgPlgTargets\"] = function () {\r\n                return [_extensions, _eventQueue];\r\n            };\r\n            _self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = function () { return _isInitialized; };\r\n            // since version 3.3.0\r\n            _self.activeStatus = function () { return _activeStatus; };\r\n            // since version 3.3.0\r\n            // internal\r\n            _self._setPendingStatus = function () {\r\n                _activeStatus = 3 /* eActiveStatus.PENDING */;\r\n            };\r\n            // Creating the self.initialize = ()\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (config, extensions, logger, notificationManager) {\r\n                if (_isUnloading) {\r\n                    throwError(strSdkUnloadingError);\r\n                }\r\n                // Make sure core is only initialized once\r\n                if (_self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */]()) {\r\n                    throwError(\"Core cannot be initialized more than once\");\r\n                }\r\n                _configHandler = createDynamicConfig(config, defaultConfig, logger || _self[_DYN_LOGGER /* @min:%2elogger */], false);\r\n                // Re-assigning the local config property so we don't have any references to the passed value and it can be garbage collected\r\n                config = _configHandler.cfg;\r\n                // This will be \"re-run\" if the referenced config properties are changed\r\n                _addUnloadHook(_configHandler[_DYN_WATCH /* @min:%2ewatch */](function (details) {\r\n                    var rootCfg = details.cfg;\r\n                    var isPending = _activeStatus === 3 /* eActiveStatus.PENDING */;\r\n                    if (isPending) {\r\n                        // means waiting for previous promises to be resolved, won't apply new changes\r\n                        return;\r\n                    }\r\n                    _initInMemoMaxSize = rootCfg.initInMemoMaxSize || maxInitQueueSize;\r\n                    // app Insights core only handle ikey and endpointurl, aisku will handle cs\r\n                    var ikey = rootCfg[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */];\r\n                    var endpointUrl = rootCfg.endpointUrl; // do not need to validate endpoint url, if it is null, default one will be set by sender\r\n                    if (isNullOrUndefined(ikey)) {\r\n                        _instrumentationKey = null;\r\n                        // if new ikey is null, set status to be inactive, all new events will be saved in memory or dropped\r\n                        _activeStatus = ActiveStatus[_DYN__INACTIVE /* @min:%2eINACTIVE */];\r\n                        var msg = \"Please provide instrumentation key\";\r\n                        if (!_isInitialized) {\r\n                            // only throw error during initialization\r\n                            throwError(msg);\r\n                        }\r\n                        else {\r\n                            _throwInternal(_logger, 1 /* eLoggingSeverity.CRITICAL */, 100 /* _eInternalMessageId.InvalidInstrumentationKey */, msg);\r\n                            _releaseQueues();\r\n                        }\r\n                        return;\r\n                    }\r\n                    var promises = [];\r\n                    if (isPromiseLike(ikey)) {\r\n                        promises[_DYN_PUSH /* @min:%2epush */](ikey);\r\n                        _instrumentationKey = null; // reset current local ikey variable (otherwise it will always be the previous ikeys if timeout is called before promise cb)\r\n                    }\r\n                    else {\r\n                        // string\r\n                        _instrumentationKey = ikey;\r\n                    }\r\n                    if (isPromiseLike(endpointUrl)) {\r\n                        promises[_DYN_PUSH /* @min:%2epush */](endpointUrl);\r\n                        _endpoint = null; // reset current local endpoint variable (otherwise it will always be the previous urls if timeout is called before promise cb)\r\n                    }\r\n                    else {\r\n                        // string or null\r\n                        _endpoint = endpointUrl;\r\n                    }\r\n                    // at least have one promise\r\n                    if (promises[_DYN_LENGTH /* @min:%2elength */]) {\r\n                        // reset to false for new dynamic changes\r\n                        _isStatusSet = false;\r\n                        _activeStatus = 3 /* eActiveStatus.PENDING */;\r\n                        var initTimeout = isNotNullOrUndefined(rootCfg.initTimeOut) ? rootCfg.initTimeOut : maxInitTimeout; // rootCfg.initTimeOut could be 0\r\n                        var allPromises = createSyncAllSettledPromise(promises);\r\n                        _initTimer = scheduleTimeout(function () {\r\n                            // set _isStatusSet to true\r\n                            // set active status\r\n                            // release queues\r\n                            _initTimer = null;\r\n                            if (!_isStatusSet) {\r\n                                _setStatus();\r\n                            }\r\n                        }, initTimeout);\r\n                        doAwaitResponse(allPromises, function (response) {\r\n                            try {\r\n                                if (_isStatusSet) {\r\n                                    // promises take too long to resolve, ignore them\r\n                                    // active status should be set by timeout already\r\n                                    return;\r\n                                }\r\n                                if (!response.rejected) {\r\n                                    var values = response[_DYN_VALUE /* @min:%2evalue */];\r\n                                    if (values && values[_DYN_LENGTH /* @min:%2elength */]) {\r\n                                        // ikey\r\n                                        var ikeyRes = values[0];\r\n                                        _instrumentationKey = ikeyRes && ikeyRes[_DYN_VALUE /* @min:%2evalue */];\r\n                                        // endpoint\r\n                                        if (values[_DYN_LENGTH /* @min:%2elength */] > 1) {\r\n                                            var endpointRes = values[1];\r\n                                            _endpoint = endpointRes && endpointRes[_DYN_VALUE /* @min:%2evalue */];\r\n                                        }\r\n                                    }\r\n                                    if (_instrumentationKey) {\r\n                                        // if ikey is null, no need to trigger extra dynamic changes for extensions\r\n                                        config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */] = _instrumentationKey; // set config.instrumentationKey for extensions to consume\r\n                                        config.endpointUrl = _endpoint; // set config.endpointUrl for extensions to consume\r\n                                    }\r\n                                }\r\n                                // set _isStatusSet to true\r\n                                // set active status\r\n                                // release queues\r\n                                _setStatus();\r\n                            }\r\n                            catch (e) {\r\n                                if (!_isStatusSet) {\r\n                                    _setStatus();\r\n                                }\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        // means no promises\r\n                        _setStatus();\r\n                    }\r\n                    //_instrumentationKey = details.cfg.instrumentationKey;\r\n                    // Mark the extensionConfig and all first level keys as referenced\r\n                    // This is so that calls to getExtCfg() will always return the same object\r\n                    // Even when a user may \"re-assign\" the plugin properties (or it's unloaded/reloaded)\r\n                    var extCfg = details.ref(details.cfg, STR_EXTENSION_CONFIG);\r\n                    objForEachKey(extCfg, function (key) {\r\n                        details.ref(extCfg, key);\r\n                    });\r\n                }));\r\n                _notificationManager = notificationManager;\r\n                // Initialize the debug listener outside of the closure to reduce the retained memory footprint\r\n                _debugListener = _initDebugListener(_configHandler, _hookContainer, _notificationManager && _self[_DYN_GET_NOTIFY_MGR /* @min:%2egetNotifyMgr */](), _debugListener);\r\n                _initPerfManager();\r\n                _self[_DYN_LOGGER /* @min:%2elogger */] = logger;\r\n                var cfgExtensions = config[STR_EXTENSIONS /* @min:%2eextensions */];\r\n                // Extension validation\r\n                _configExtensions = [];\r\n                _configExtensions[_DYN_PUSH /* @min:%2epush */].apply(_configExtensions, __spreadArray(__spreadArray([], extensions, false), cfgExtensions, false));\r\n                _channelConfig = config[STR_CHANNELS /* @min:%2echannels */];\r\n                _initPluginChain(null);\r\n                if (!_channels || _channels[_DYN_LENGTH /* @min:%2elength */] === 0) {\r\n                    throwError(\"No \" + STR_CHANNELS + \" available\");\r\n                }\r\n                if (_channelConfig && _channelConfig[_DYN_LENGTH /* @min:%2elength */] > 1) {\r\n                    var teeController = _self[_DYN_GET_PLUGIN /* @min:%2egetPlugin */](\"TeeChannelController\");\r\n                    if (!teeController || !teeController.plugin) {\r\n                        _throwInternal(_logger, 1 /* eLoggingSeverity.CRITICAL */, 28 /* _eInternalMessageId.SenderNotInitialized */, \"TeeChannel required\");\r\n                    }\r\n                }\r\n                _registerDelayedCfgListener(config, _cfgListeners, _logger);\r\n                _cfgListeners = null;\r\n                _isInitialized = true;\r\n                if (_activeStatus === ActiveStatus.ACTIVE) {\r\n                    _releaseQueues();\r\n                }\r\n            };\r\n            _self.getChannels = function () {\r\n                var controls = [];\r\n                if (_channels) {\r\n                    arrForEach(_channels, function (channel) {\r\n                        controls[_DYN_PUSH /* @min:%2epush */](channel);\r\n                    });\r\n                }\r\n                return objFreeze(controls);\r\n            };\r\n            _self.track = function (telemetryItem) {\r\n                doPerf(_self[STR_GET_PERF_MGR /* @min:%2egetPerfMgr */](), function () { return \"AppInsightsCore:track\"; }, function () {\r\n                    if (telemetryItem === null) {\r\n                        _notifyInvalidEvent(telemetryItem);\r\n                        // throw error\r\n                        throwError(\"Invalid telemetry item\");\r\n                    }\r\n                    // do basic validation before sending it through the pipeline\r\n                    if (!telemetryItem[_DYN_NAME /* @min:%2ename */] && isNullOrUndefined(telemetryItem[_DYN_NAME /* @min:%2ename */])) {\r\n                        _notifyInvalidEvent(telemetryItem);\r\n                        throwError(\"telemetry name required\");\r\n                    }\r\n                    // setup default iKey if not passed in\r\n                    telemetryItem[_DYN_I_KEY /* @min:%2eiKey */] = telemetryItem[_DYN_I_KEY /* @min:%2eiKey */] || _instrumentationKey;\r\n                    // add default timestamp if not passed in\r\n                    telemetryItem[_DYN_TIME /* @min:%2etime */] = telemetryItem[_DYN_TIME /* @min:%2etime */] || toISOString(new Date());\r\n                    // Common Schema 4.0\r\n                    telemetryItem.ver = telemetryItem.ver || \"4.0\";\r\n                    if (!_isUnloading && _self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */]() && _activeStatus === ActiveStatus.ACTIVE) {\r\n                        // Process the telemetry plugin chain\r\n                        _createTelCtx()[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](telemetryItem);\r\n                    }\r\n                    else if (_activeStatus !== ActiveStatus[_DYN__INACTIVE /* @min:%2eINACTIVE */]) {\r\n                        // Queue events until all extensions are initialized\r\n                        if (_eventQueue[_DYN_LENGTH /* @min:%2elength */] <= _initInMemoMaxSize) {\r\n                            // set limit, if full, stop adding new events\r\n                            _eventQueue[_DYN_PUSH /* @min:%2epush */](telemetryItem);\r\n                        }\r\n                    }\r\n                }, function () { return ({ item: telemetryItem }); }, !(telemetryItem.sync));\r\n            };\r\n            _self[_DYN_GET_PROCESS_TEL_CONT2 /* @min:%2egetProcessTelContext */] = _createTelCtx;\r\n            _self[_DYN_GET_NOTIFY_MGR /* @min:%2egetNotifyMgr */] = function () {\r\n                if (!_notificationManager) {\r\n                    _notificationManager = new NotificationManager(_configHandler.cfg);\r\n                    // For backward compatibility only\r\n                    _self[strNotificationManager] = _notificationManager;\r\n                }\r\n                return _notificationManager;\r\n            };\r\n            /**\r\n             * Adds a notification listener. The SDK calls methods on the listener when an appropriate notification is raised.\r\n             * The added plugins must raise notifications. If the plugins do not implement the notifications, then no methods will be\r\n             * called.\r\n             * @param listener - An INotificationListener object.\r\n             */\r\n            _self[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */] = function (listener) {\r\n                _self.getNotifyMgr()[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */](listener);\r\n            };\r\n            /**\r\n             * Removes all instances of the listener.\r\n             * @param listener - INotificationListener to remove.\r\n             */\r\n            _self[_DYN_REMOVE_NOTIFICATION_0 /* @min:%2eremoveNotificationListener */] = function (listener) {\r\n                if (_notificationManager) {\r\n                    _notificationManager[_DYN_REMOVE_NOTIFICATION_0 /* @min:%2eremoveNotificationListener */](listener);\r\n                }\r\n            };\r\n            _self.getCookieMgr = function () {\r\n                if (!_cookieManager) {\r\n                    _cookieManager = createCookieMgr(_configHandler.cfg, _self[_DYN_LOGGER /* @min:%2elogger */]);\r\n                }\r\n                return _cookieManager;\r\n            };\r\n            _self.setCookieMgr = function (cookieMgr) {\r\n                if (_cookieManager !== cookieMgr) {\r\n                    runTargetUnload(_cookieManager, false);\r\n                    _cookieManager = cookieMgr;\r\n                }\r\n            };\r\n            _self[STR_GET_PERF_MGR /* @min:%2egetPerfMgr */] = function () {\r\n                return _perfManager || _cfgPerfManager || getGblPerfMgr();\r\n            };\r\n            _self.setPerfMgr = function (perfMgr) {\r\n                _perfManager = perfMgr;\r\n            };\r\n            _self.eventCnt = function () {\r\n                return _eventQueue[_DYN_LENGTH /* @min:%2elength */];\r\n            };\r\n            _self.releaseQueue = function () {\r\n                if (_isInitialized && _eventQueue[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var eventQueue = _eventQueue;\r\n                    _eventQueue = [];\r\n                    if (_activeStatus === 2 /* eActiveStatus.ACTIVE */) {\r\n                        arrForEach(eventQueue, function (event) {\r\n                            event[_DYN_I_KEY /* @min:%2eiKey */] = event[_DYN_I_KEY /* @min:%2eiKey */] || _instrumentationKey;\r\n                            _createTelCtx()[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](event);\r\n                        });\r\n                    }\r\n                    else {\r\n                        // new one for msg ikey\r\n                        _throwInternal(_logger, 2 /* eLoggingSeverity.WARNING */, 20 /* _eInternalMessageId.FailedToSendQueuedTelemetry */, \"core init status is not active\");\r\n                    }\r\n                }\r\n            };\r\n            _self[_DYN_POLL_INTERNAL_LOGS /* @min:%2epollInternalLogs */] = function (eventName) {\r\n                _internalLogsEventName = eventName || null;\r\n                _forceStopInternalLogPoller = false;\r\n                _internalLogPoller && _internalLogPoller[_DYN_CANCEL /* @min:%2ecancel */]();\r\n                return _startLogPoller(true);\r\n            };\r\n            function _setStatus() {\r\n                _isStatusSet = true;\r\n                if (isNullOrUndefined(_instrumentationKey)) {\r\n                    _activeStatus = ActiveStatus[_DYN__INACTIVE /* @min:%2eINACTIVE */];\r\n                    _throwInternal(_logger, 1 /* eLoggingSeverity.CRITICAL */, 112 /* _eInternalMessageId.InitPromiseException */, \"ikey can't be resolved from promises\");\r\n                }\r\n                else {\r\n                    _activeStatus = ActiveStatus.ACTIVE;\r\n                }\r\n                _releaseQueues();\r\n            }\r\n            function _releaseQueues() {\r\n                if (_isInitialized) {\r\n                    _self.releaseQueue();\r\n                    _self[_DYN_POLL_INTERNAL_LOGS /* @min:%2epollInternalLogs */]();\r\n                }\r\n            }\r\n            function _startLogPoller(alwaysStart) {\r\n                if ((!_internalLogPoller || !_internalLogPoller[_DYN_ENABLED /* @min:%2eenabled */]) && !_forceStopInternalLogPoller) {\r\n                    var shouldStart = alwaysStart || (_logger && _logger.queue[_DYN_LENGTH /* @min:%2elength */] > 0);\r\n                    if (shouldStart) {\r\n                        if (!_internalLogPollerListening) {\r\n                            _internalLogPollerListening = true;\r\n                            // listen for any configuration changes so that changes to the\r\n                            // interval will cause the timer to be re-initialized\r\n                            _addUnloadHook(_configHandler[_DYN_WATCH /* @min:%2ewatch */](function (details) {\r\n                                var interval = details.cfg.diagnosticLogInterval;\r\n                                if (!interval || !(interval > 0)) {\r\n                                    interval = 10000;\r\n                                }\r\n                                var isRunning = false;\r\n                                if (_internalLogPoller) {\r\n                                    // It was already created so remember it's running and cancel\r\n                                    isRunning = _internalLogPoller[_DYN_ENABLED /* @min:%2eenabled */];\r\n                                    _internalLogPoller[_DYN_CANCEL /* @min:%2ecancel */]();\r\n                                }\r\n                                // Create / reconfigure\r\n                                _internalLogPoller = createTimeout(_flushInternalLogs, interval);\r\n                                _internalLogPoller.unref();\r\n                                // Restart if previously running\r\n                                _internalLogPoller[_DYN_ENABLED /* @min:%2eenabled */] = isRunning;\r\n                            }));\r\n                        }\r\n                        _internalLogPoller[_DYN_ENABLED /* @min:%2eenabled */] = true;\r\n                    }\r\n                }\r\n                return _internalLogPoller;\r\n            }\r\n            _self[_DYN_STOP_POLLING_INTERNA3 /* @min:%2estopPollingInternalLogs */] = function () {\r\n                _forceStopInternalLogPoller = true;\r\n                _internalLogPoller && _internalLogPoller[_DYN_CANCEL /* @min:%2ecancel */]();\r\n                _flushInternalLogs();\r\n            };\r\n            // Add addTelemetryInitializer\r\n            proxyFunctions(_self, function () { return _telemetryInitializerPlugin; }, [\"addTelemetryInitializer\"]);\r\n            _self[_DYN_UNLOAD /* @min:%2eunload */] = function (isAsync, unloadComplete, cbTimeout) {\r\n                var _a;\r\n                if (isAsync === void 0) { isAsync = true; }\r\n                if (!_isInitialized) {\r\n                    // The SDK is not initialized\r\n                    throwError(strSdkNotInitialized);\r\n                }\r\n                // Check if the SDK still unloading so throw\r\n                if (_isUnloading) {\r\n                    // The SDK is already unloading\r\n                    throwError(strSdkUnloadingError);\r\n                }\r\n                var unloadState = (_a = {\r\n                        reason: 50 /* TelemetryUnloadReason.SdkUnload */\r\n                    },\r\n                    _a[_DYN_IS_ASYNC /* @min:isAsync */] = isAsync,\r\n                    _a.flushComplete = false,\r\n                    _a);\r\n                var result;\r\n                if (isAsync && !unloadComplete) {\r\n                    result = createPromise(function (resolve) {\r\n                        // Set the callback to the promise resolve callback\r\n                        unloadComplete = resolve;\r\n                    });\r\n                }\r\n                var processUnloadCtx = createProcessTelemetryUnloadContext(_getPluginChain(), _self);\r\n                processUnloadCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](function () {\r\n                    _hookContainer.run(_self[_DYN_LOGGER /* @min:%2elogger */]);\r\n                    // Run any \"unload\" functions for the _cookieManager, _notificationManager and _logger\r\n                    doUnloadAll([_cookieManager, _notificationManager, _logger], isAsync, function () {\r\n                        _initDefaults();\r\n                        unloadComplete && unloadComplete(unloadState);\r\n                    });\r\n                }, _self);\r\n                function _doUnload(flushComplete) {\r\n                    unloadState.flushComplete = flushComplete;\r\n                    _isUnloading = true;\r\n                    // Run all of the unload handlers first (before unloading the plugins)\r\n                    _unloadHandlers.run(processUnloadCtx, unloadState);\r\n                    // Stop polling the internal logs\r\n                    _self[_DYN_STOP_POLLING_INTERNA3 /* @min:%2estopPollingInternalLogs */]();\r\n                    // Start unloading the components, from this point onwards the SDK should be considered to be in an unstable state\r\n                    processUnloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](unloadState);\r\n                }\r\n                _flushInternalLogs();\r\n                if (!_flushChannels(isAsync, _doUnload, 6 /* SendRequestReason.SdkUnload */, cbTimeout)) {\r\n                    _doUnload(false);\r\n                }\r\n                return result;\r\n            };\r\n            _self[_DYN_GET_PLUGIN /* @min:%2egetPlugin */] = _getPlugin;\r\n            _self.addPlugin = function (plugin, replaceExisting, isAsync, addCb) {\r\n                if (!plugin) {\r\n                    addCb && addCb(false);\r\n                    _logOrThrowError(strValidationError);\r\n                    return;\r\n                }\r\n                var existingPlugin = _getPlugin(plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */]);\r\n                if (existingPlugin && !replaceExisting) {\r\n                    addCb && addCb(false);\r\n                    _logOrThrowError(\"Plugin [\" + plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */] + \"] is already loaded!\");\r\n                    return;\r\n                }\r\n                var updateState = {\r\n                    reason: 16 /* TelemetryUpdateReason.PluginAdded */\r\n                };\r\n                function _addPlugin(removed) {\r\n                    _configExtensions[_DYN_PUSH /* @min:%2epush */](plugin);\r\n                    updateState.added = [plugin];\r\n                    // Re-Initialize the plugin chain\r\n                    _initPluginChain(updateState);\r\n                    addCb && addCb(true);\r\n                }\r\n                if (existingPlugin) {\r\n                    var removedPlugins_1 = [existingPlugin.plugin];\r\n                    var unloadState = {\r\n                        reason: 2 /* TelemetryUnloadReason.PluginReplace */,\r\n                        isAsync: !!isAsync\r\n                    };\r\n                    _removePlugins(removedPlugins_1, unloadState, function (removed) {\r\n                        if (!removed) {\r\n                            // Previous plugin was successfully removed or was not installed\r\n                            addCb && addCb(false);\r\n                        }\r\n                        else {\r\n                            updateState.removed = removedPlugins_1;\r\n                            updateState.reason |= 32 /* TelemetryUpdateReason.PluginRemoved */;\r\n                            _addPlugin(true);\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    _addPlugin(false);\r\n                }\r\n            };\r\n            _self.updateCfg = function (newConfig, mergeExisting) {\r\n                if (mergeExisting === void 0) { mergeExisting = true; }\r\n                var updateState;\r\n                if (_self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */]()) {\r\n                    updateState = {\r\n                        reason: 1 /* TelemetryUpdateReason.ConfigurationChanged */,\r\n                        cfg: _configHandler.cfg,\r\n                        oldCfg: deepExtend({}, _configHandler.cfg),\r\n                        newConfig: deepExtend({}, newConfig),\r\n                        merge: mergeExisting\r\n                    };\r\n                    newConfig = updateState.newConfig;\r\n                    var cfg = _configHandler.cfg;\r\n                    // replace the immutable (if initialized) values\r\n                    // We don't currently allow updating the extensions and channels via the update config\r\n                    // So overwriting any user provided values to reuse the existing values\r\n                    newConfig[STR_EXTENSIONS /* @min:%2eextensions */] = cfg[STR_EXTENSIONS /* @min:%2eextensions */];\r\n                    newConfig[STR_CHANNELS /* @min:%2echannels */] = cfg[STR_CHANNELS /* @min:%2echannels */];\r\n                }\r\n                // Explicitly blocking any previous config watchers so that they don't get called because\r\n                // of this bulk update (Probably not necessary)\r\n                _configHandler._block(function (details) {\r\n                    // Lets assign the new values to the existing config either overwriting or re-assigning\r\n                    var theConfig = details.cfg;\r\n                    _deepMergeConfig(details, theConfig, newConfig, mergeExisting);\r\n                    if (!mergeExisting) {\r\n                        // Remove (unassign) the values \"missing\" from the newConfig and also not in the default config\r\n                        objForEachKey(theConfig, function (key) {\r\n                            if (!objHasOwn(newConfig, key)) {\r\n                                // Set the value to undefined\r\n                                details.set(theConfig, key, UNDEFINED_VALUE);\r\n                            }\r\n                        });\r\n                    }\r\n                    // Apply defaults to the new config\r\n                    details[_DYN_SET_DF /* @min:%2esetDf */](theConfig, defaultConfig);\r\n                }, true);\r\n                // Now execute all of the listeners (synchronously) so they update their values immediately\r\n                _configHandler[_DYN_NOTIFY /* @min:%2enotify */]();\r\n                if (updateState) {\r\n                    _doUpdate(updateState);\r\n                }\r\n            };\r\n            _self.evtNamespace = function () {\r\n                return _evtNamespace;\r\n            };\r\n            _self.flush = _flushChannels;\r\n            _self.getTraceCtx = function (createNew) {\r\n                if (!_traceCtx) {\r\n                    _traceCtx = createDistributedTraceContext();\r\n                }\r\n                return _traceCtx;\r\n            };\r\n            _self.setTraceCtx = function (traceCtx) {\r\n                _traceCtx = traceCtx || null;\r\n            };\r\n            _self.addUnloadHook = _addUnloadHook;\r\n            // Create the addUnloadCb\r\n            proxyFunctionAs(_self, \"addUnloadCb\", function () { return _unloadHandlers; }, \"add\");\r\n            _self.onCfgChange = function (handler) {\r\n                var unloadHook;\r\n                if (!_isInitialized) {\r\n                    unloadHook = _addDelayedCfgListener(_cfgListeners, handler);\r\n                }\r\n                else {\r\n                    unloadHook = onConfigChange(_configHandler.cfg, handler, _self[_DYN_LOGGER /* @min:%2elogger */]);\r\n                }\r\n                return _createUnloadHook(unloadHook);\r\n            };\r\n            _self.getWParam = function () {\r\n                return (hasDocument() || !!_configHandler.cfg.enableWParam) ? 0 : -1;\r\n            };\r\n            function _setPluginVersions() {\r\n                var thePlugins = {};\r\n                _pluginVersionStringArr = [];\r\n                var _addPluginVersions = function (plugins) {\r\n                    if (plugins) {\r\n                        arrForEach(plugins, function (plugin) {\r\n                            if (plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */] && plugin[_DYN_VERSION /* @min:%2eversion */] && !thePlugins[plugin.identifier]) {\r\n                                var ver = plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */] + \"=\" + plugin[_DYN_VERSION /* @min:%2eversion */];\r\n                                _pluginVersionStringArr[_DYN_PUSH /* @min:%2epush */](ver);\r\n                                thePlugins[plugin.identifier] = plugin;\r\n                            }\r\n                        });\r\n                    }\r\n                };\r\n                _addPluginVersions(_channels);\r\n                if (_channelConfig) {\r\n                    arrForEach(_channelConfig, function (channels) {\r\n                        _addPluginVersions(channels);\r\n                    });\r\n                }\r\n                _addPluginVersions(_configExtensions);\r\n            }\r\n            function _initDefaults() {\r\n                _isInitialized = false;\r\n                // Use a default logger so initialization errors are not dropped on the floor with full logging\r\n                _configHandler = createDynamicConfig({}, defaultConfig, _self[_DYN_LOGGER /* @min:%2elogger */]);\r\n                // Set the logging level to critical so that any critical initialization failures are displayed on the console\r\n                _configHandler.cfg[_DYN_LOGGING_LEVEL_CONSOL4 /* @min:%2eloggingLevelConsole */] = 1 /* eLoggingSeverity.CRITICAL */;\r\n                // Define _self.config\r\n                objDefine(_self, \"config\", {\r\n                    g: function () { return _configHandler.cfg; },\r\n                    s: function (newValue) {\r\n                        _self.updateCfg(newValue, false);\r\n                    }\r\n                });\r\n                objDefine(_self, \"pluginVersionStringArr\", {\r\n                    g: function () {\r\n                        if (!_pluginVersionStringArr) {\r\n                            _setPluginVersions();\r\n                        }\r\n                        return _pluginVersionStringArr;\r\n                    }\r\n                });\r\n                objDefine(_self, \"pluginVersionString\", {\r\n                    g: function () {\r\n                        if (!_pluginVersionString) {\r\n                            if (!_pluginVersionStringArr) {\r\n                                _setPluginVersions();\r\n                            }\r\n                            _pluginVersionString = _pluginVersionStringArr.join(\";\");\r\n                        }\r\n                        return _pluginVersionString || STR_EMPTY;\r\n                    }\r\n                });\r\n                objDefine(_self, \"logger\", {\r\n                    g: function () {\r\n                        if (!_logger) {\r\n                            _logger = new DiagnosticLogger(_configHandler.cfg);\r\n                            _configHandler[_DYN_LOGGER /* @min:%2elogger */] = _logger;\r\n                        }\r\n                        return _logger;\r\n                    },\r\n                    s: function (newLogger) {\r\n                        _configHandler[_DYN_LOGGER /* @min:%2elogger */] = newLogger;\r\n                        if (_logger !== newLogger) {\r\n                            runTargetUnload(_logger, false);\r\n                            _logger = newLogger;\r\n                        }\r\n                    }\r\n                });\r\n                _self[_DYN_LOGGER /* @min:%2elogger */] = new DiagnosticLogger(_configHandler.cfg);\r\n                _extensions = [];\r\n                var cfgExtensions = _self.config[STR_EXTENSIONS /* @min:%2eextensions */] || [];\r\n                cfgExtensions.splice(0, cfgExtensions[_DYN_LENGTH /* @min:%2elength */]);\r\n                arrAppend(cfgExtensions, _extensions);\r\n                _telemetryInitializerPlugin = new TelemetryInitializerPlugin();\r\n                _eventQueue = [];\r\n                runTargetUnload(_notificationManager, false);\r\n                _notificationManager = null;\r\n                _perfManager = null;\r\n                _cfgPerfManager = null;\r\n                runTargetUnload(_cookieManager, false);\r\n                _cookieManager = null;\r\n                _pluginChain = null;\r\n                _configExtensions = [];\r\n                _channelConfig = null;\r\n                _channels = null;\r\n                _isUnloading = false;\r\n                _internalLogsEventName = null;\r\n                _evtNamespace = createUniqueNamespace(\"AIBaseCore\", true);\r\n                _unloadHandlers = createUnloadHandlerContainer();\r\n                _traceCtx = null;\r\n                _instrumentationKey = null;\r\n                _hookContainer = createUnloadHookContainer();\r\n                _cfgListeners = [];\r\n                _pluginVersionString = null;\r\n                _pluginVersionStringArr = null;\r\n                _forceStopInternalLogPoller = false;\r\n                _internalLogPoller = null;\r\n                _internalLogPollerListening = false;\r\n                _activeStatus = 0 /* eActiveStatus.NONE */; // default is None\r\n                _endpoint = null;\r\n                _initInMemoMaxSize = null;\r\n                _isStatusSet = false;\r\n                _initTimer = null;\r\n            }\r\n            function _createTelCtx() {\r\n                var theCtx = createProcessTelemetryContext(_getPluginChain(), _configHandler.cfg, _self);\r\n                theCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](_startLogPoller);\r\n                return theCtx;\r\n            }\r\n            // Initialize or Re-initialize the plugins\r\n            function _initPluginChain(updateState) {\r\n                // Extension validation\r\n                var theExtensions = _validateExtensions(_self[_DYN_LOGGER /* @min:%2elogger */], ChannelControllerPriority, _configExtensions);\r\n                _pluginChain = null;\r\n                _pluginVersionString = null;\r\n                _pluginVersionStringArr = null;\r\n                // Get the primary channel queue and include as part of the normal extensions\r\n                _channels = (_channelConfig || [])[0] || [];\r\n                // Add any channels provided in the extensions and sort them\r\n                _channels = sortPlugins(arrAppend(_channels, theExtensions[STR_CHANNELS /* @min:%2echannels */]));\r\n                // Create an array of all extensions, including the _channels\r\n                var allExtensions = arrAppend(sortPlugins(theExtensions[STR_CORE /* @min:%2ecore */]), _channels);\r\n                // Required to allow plugins to call core.getPlugin() during their own initialization\r\n                _extensions = objFreeze(allExtensions);\r\n                // This has a side effect of adding the extensions passed during initialization\r\n                // into the config.extensions, so you can see all of the extensions loaded.\r\n                // This will also get updated by the addPlugin() and remove plugin code.\r\n                var cfgExtensions = _self.config[STR_EXTENSIONS /* @min:%2eextensions */] || [];\r\n                cfgExtensions.splice(0, cfgExtensions[_DYN_LENGTH /* @min:%2elength */]);\r\n                arrAppend(cfgExtensions, _extensions);\r\n                var rootCtx = _createTelCtx();\r\n                // Initializing the channels first\r\n                if (_channels && _channels[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    initializePlugins(rootCtx[_DYN_CREATE_NEW /* @min:%2ecreateNew */](_channels), allExtensions);\r\n                }\r\n                // Now initialize the normal extensions (explicitly not including the _channels as this can cause duplicate initialization)\r\n                initializePlugins(rootCtx, allExtensions);\r\n                if (updateState) {\r\n                    _doUpdate(updateState);\r\n                }\r\n            }\r\n            function _getPlugin(pluginIdentifier) {\r\n                var theExt = null;\r\n                var thePlugin = null;\r\n                var channelHosts = [];\r\n                arrForEach(_extensions, function (ext) {\r\n                    if (ext[_DYN_IDENTIFIER /* @min:%2eidentifier */] === pluginIdentifier && ext !== _telemetryInitializerPlugin) {\r\n                        thePlugin = ext;\r\n                        return -1;\r\n                    }\r\n                    if (ext.getChannel) {\r\n                        channelHosts[_DYN_PUSH /* @min:%2epush */](ext);\r\n                    }\r\n                });\r\n                if (!thePlugin && channelHosts[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    arrForEach(channelHosts, function (host) {\r\n                        thePlugin = host.getChannel(pluginIdentifier);\r\n                        if (!thePlugin) {\r\n                            return -1;\r\n                        }\r\n                    });\r\n                }\r\n                if (thePlugin) {\r\n                    theExt = {\r\n                        plugin: thePlugin,\r\n                        setEnabled: function (enabled) {\r\n                            _getPluginState(thePlugin)[STR_DISABLED] = !enabled;\r\n                        },\r\n                        isEnabled: function () {\r\n                            var pluginState = _getPluginState(thePlugin);\r\n                            return !pluginState[_DYN_TEARDOWN /* @min:%2eteardown */] && !pluginState[STR_DISABLED];\r\n                        },\r\n                        remove: function (isAsync, removeCb) {\r\n                            var _a;\r\n                            if (isAsync === void 0) { isAsync = true; }\r\n                            var pluginsToRemove = [thePlugin];\r\n                            var unloadState = (_a = {\r\n                                    reason: 1 /* TelemetryUnloadReason.PluginUnload */\r\n                                },\r\n                                _a[_DYN_IS_ASYNC /* @min:isAsync */] = isAsync,\r\n                                _a);\r\n                            _removePlugins(pluginsToRemove, unloadState, function (removed) {\r\n                                if (removed) {\r\n                                    // Re-Initialize the plugin chain\r\n                                    _initPluginChain({\r\n                                        reason: 32 /* TelemetryUpdateReason.PluginRemoved */,\r\n                                        removed: pluginsToRemove\r\n                                    });\r\n                                }\r\n                                removeCb && removeCb(removed);\r\n                            });\r\n                        }\r\n                    };\r\n                }\r\n                return theExt;\r\n            }\r\n            function _getPluginChain() {\r\n                if (!_pluginChain) {\r\n                    // copy the collection of extensions\r\n                    var extensions = (_extensions || []).slice();\r\n                    // During add / remove this may get called again, so don't read if already present\r\n                    if (arrIndexOf(extensions, _telemetryInitializerPlugin) === -1) {\r\n                        extensions[_DYN_PUSH /* @min:%2epush */](_telemetryInitializerPlugin);\r\n                    }\r\n                    _pluginChain = createTelemetryProxyChain(sortPlugins(extensions), _configHandler.cfg, _self);\r\n                }\r\n                return _pluginChain;\r\n            }\r\n            function _removePlugins(thePlugins, unloadState, removeComplete) {\r\n                if (thePlugins && thePlugins[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var unloadChain = createTelemetryProxyChain(thePlugins, _configHandler.cfg, _self);\r\n                    var unloadCtx = createProcessTelemetryUnloadContext(unloadChain, _self);\r\n                    unloadCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](function () {\r\n                        var removed = false;\r\n                        // Remove the listed config extensions\r\n                        var newConfigExtensions = [];\r\n                        arrForEach(_configExtensions, function (plugin, idx) {\r\n                            if (!_isPluginPresent(plugin, thePlugins)) {\r\n                                newConfigExtensions[_DYN_PUSH /* @min:%2epush */](plugin);\r\n                            }\r\n                            else {\r\n                                removed = true;\r\n                            }\r\n                        });\r\n                        _configExtensions = newConfigExtensions;\r\n                        _pluginVersionString = null;\r\n                        _pluginVersionStringArr = null;\r\n                        // Re-Create the channel config\r\n                        var newChannelConfig = [];\r\n                        if (_channelConfig) {\r\n                            arrForEach(_channelConfig, function (queue, idx) {\r\n                                var newQueue = [];\r\n                                arrForEach(queue, function (channel) {\r\n                                    if (!_isPluginPresent(channel, thePlugins)) {\r\n                                        newQueue[_DYN_PUSH /* @min:%2epush */](channel);\r\n                                    }\r\n                                    else {\r\n                                        removed = true;\r\n                                    }\r\n                                });\r\n                                newChannelConfig[_DYN_PUSH /* @min:%2epush */](newQueue);\r\n                            });\r\n                            _channelConfig = newChannelConfig;\r\n                        }\r\n                        removeComplete && removeComplete(removed);\r\n                        _startLogPoller();\r\n                    });\r\n                    unloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](unloadState);\r\n                }\r\n                else {\r\n                    removeComplete(false);\r\n                }\r\n            }\r\n            function _flushInternalLogs() {\r\n                if (_logger && _logger.queue) {\r\n                    var queue = _logger.queue.slice(0);\r\n                    _logger.queue[_DYN_LENGTH /* @min:%2elength */] = 0;\r\n                    arrForEach(queue, function (logMessage) {\r\n                        var _a;\r\n                        var item = (_a = {},\r\n                            _a[_DYN_NAME /* @min:name */] = _internalLogsEventName ? _internalLogsEventName : \"InternalMessageId: \" + logMessage[_DYN_MESSAGE_ID /* @min:%2emessageId */],\r\n                            _a[_DYN_I_KEY /* @min:iKey */] = _instrumentationKey,\r\n                            _a[_DYN_TIME /* @min:time */] = toISOString(new Date()),\r\n                            _a.baseType = _InternalLogMessage.dataType,\r\n                            _a.baseData = { message: logMessage[_DYN_MESSAGE /* @min:%2emessage */] },\r\n                            _a);\r\n                        _self.track(item);\r\n                    });\r\n                }\r\n            }\r\n            function _flushChannels(isAsync, callBack, sendReason, cbTimeout) {\r\n                // Setting waiting to one so that we don't call the callBack until we finish iterating\r\n                var waiting = 1;\r\n                var doneIterating = false;\r\n                var cbTimer = null;\r\n                cbTimeout = cbTimeout || 5000;\r\n                function doCallback() {\r\n                    waiting--;\r\n                    if (doneIterating && waiting === 0) {\r\n                        cbTimer && cbTimer[_DYN_CANCEL /* @min:%2ecancel */]();\r\n                        cbTimer = null;\r\n                        callBack && callBack(doneIterating);\r\n                        callBack = null;\r\n                    }\r\n                }\r\n                if (_channels && _channels[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var flushCtx = _createTelCtx()[_DYN_CREATE_NEW /* @min:%2ecreateNew */](_channels);\r\n                    flushCtx.iterate(function (plugin) {\r\n                        if (plugin.flush) {\r\n                            waiting++;\r\n                            var handled_1 = false;\r\n                            // Not all channels will call this callback for every scenario\r\n                            if (!plugin.flush(isAsync, function () {\r\n                                handled_1 = true;\r\n                                doCallback();\r\n                            }, sendReason)) {\r\n                                if (!handled_1) {\r\n                                    // If any channel doesn't return true and it didn't call the callback, then we should assume that the callback\r\n                                    // will never be called, so use a timeout to allow the channel(s) some time to \"finish\" before triggering any\r\n                                    // followup function (such as unloading)\r\n                                    if (isAsync && cbTimer == null) {\r\n                                        cbTimer = scheduleTimeout(function () {\r\n                                            cbTimer = null;\r\n                                            doCallback();\r\n                                        }, cbTimeout);\r\n                                    }\r\n                                    else {\r\n                                        doCallback();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                doneIterating = true;\r\n                doCallback();\r\n                return true;\r\n            }\r\n            function _initPerfManager() {\r\n                // Save the previous config based performance manager creator to avoid creating new perf manager instances if unchanged\r\n                var prevCfgPerfMgr;\r\n                // Will get recalled if any referenced config values are changed\r\n                _addUnloadHook(_configHandler[_DYN_WATCH /* @min:%2ewatch */](function (details) {\r\n                    var enablePerfMgr = details.cfg.enablePerfMgr;\r\n                    if (enablePerfMgr) {\r\n                        var createPerfMgr = details.cfg[STR_CREATE_PERF_MGR /* @min:%2ecreatePerfMgr */];\r\n                        // for preCfgPerfMgr = createPerfMgr = null\r\n                        // initial createPerfMgr function should be _createPerfManager\r\n                        if ((prevCfgPerfMgr !== createPerfMgr) || !prevCfgPerfMgr) {\r\n                            if (!createPerfMgr) {\r\n                                createPerfMgr = _createPerfManager;\r\n                            }\r\n                            // Set the performance manager creation function if not defined\r\n                            getSetValue(details.cfg, STR_CREATE_PERF_MGR, createPerfMgr);\r\n                            prevCfgPerfMgr = createPerfMgr;\r\n                            // Remove any existing config based performance manager\r\n                            _cfgPerfManager = null;\r\n                        }\r\n                        // Only create the performance manager if it's not already created or manually set\r\n                        if (!_perfManager && !_cfgPerfManager && isFunction(createPerfMgr)) {\r\n                            // Create a new config based performance manager\r\n                            _cfgPerfManager = createPerfMgr(_self, _self[_DYN_GET_NOTIFY_MGR /* @min:%2egetNotifyMgr */]());\r\n                        }\r\n                    }\r\n                    else {\r\n                        // Remove any existing config based performance manager\r\n                        _cfgPerfManager = null;\r\n                        // Clear the previous cached value so it can be GC'd\r\n                        prevCfgPerfMgr = null;\r\n                    }\r\n                }));\r\n            }\r\n            function _doUpdate(updateState) {\r\n                var updateCtx = createProcessTelemetryUpdateContext(_getPluginChain(), _self);\r\n                updateCtx[_DYN_ON_COMPLETE /* @min:%2eonComplete */](_startLogPoller);\r\n                if (!_self._updateHook || _self._updateHook(updateCtx, updateState) !== true) {\r\n                    updateCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](updateState);\r\n                }\r\n            }\r\n            function _logOrThrowError(message) {\r\n                var logger = _self[_DYN_LOGGER /* @min:%2elogger */];\r\n                if (logger) {\r\n                    // there should always be a logger\r\n                    _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 73 /* _eInternalMessageId.PluginException */, message);\r\n                    _startLogPoller();\r\n                }\r\n                else {\r\n                    throwError(message);\r\n                }\r\n            }\r\n            function _notifyInvalidEvent(telemetryItem) {\r\n                var manager = _self[_DYN_GET_NOTIFY_MGR /* @min:%2egetNotifyMgr */]();\r\n                if (manager) {\r\n                    manager[STR_EVENTS_DISCARDED /* @min:%2eeventsDiscarded */]([telemetryItem], 2 /* eEventsDiscardedReason.InvalidEvent */);\r\n                }\r\n            }\r\n            function _addUnloadHook(hooks) {\r\n                _hookContainer.add(hooks);\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for AppInsightsCore.prototype.initialize.\r\n// Removed Stub for AppInsightsCore.prototype.getChannels.\r\n// Removed Stub for AppInsightsCore.prototype.track.\r\n// Removed Stub for AppInsightsCore.prototype.getProcessTelContext.\r\n// Removed Stub for AppInsightsCore.prototype.getNotifyMgr.\r\n// Removed Stub for AppInsightsCore.prototype.addNotificationListener.\r\n// Removed Stub for AppInsightsCore.prototype.removeNotificationListener.\r\n// Removed Stub for AppInsightsCore.prototype.getCookieMgr.\r\n// Removed Stub for AppInsightsCore.prototype.setCookieMgr.\r\n// Removed Stub for AppInsightsCore.prototype.getPerfMgr.\r\n// Removed Stub for AppInsightsCore.prototype.setPerfMgr.\r\n// Removed Stub for AppInsightsCore.prototype.eventCnt.\r\n// Removed Stub for AppInsightsCore.prototype.pollInternalLogs.\r\n// Removed Stub for AppInsightsCore.prototype.stopPollingInternalLogs.\r\n// Removed Stub for AppInsightsCore.prototype.addTelemetryInitializer.\r\n// Removed Stub for AppInsightsCore.prototype.unload.\r\n// Removed Stub for AppInsightsCore.prototype.getPlugin.\r\n// Removed Stub for AppInsightsCore.prototype.addPlugin.\r\n// Removed Stub for AppInsightsCore.prototype.updateCfg.\r\n// Removed Stub for AppInsightsCore.prototype.evtNamespace.\r\n// Removed Stub for AppInsightsCore.prototype.addUnloadCb.\r\n// Removed Stub for AppInsightsCore.prototype.flush.\r\n// Removed Stub for AppInsightsCore.prototype.getTraceCtx.\r\n// Removed Stub for AppInsightsCore.prototype.setTraceCtx.\r\n// Removed Stub for AppInsightsCore.prototype.addUnloadHook.\r\n// Removed Stub for AppInsightsCore.prototype.onCfgChange.\r\n// Removed Stub for AppInsightsCore.prototype.activeStatus.\r\n// Removed Stub for AppInsightsCore.prototype._setPendingStatus.\r\n// Removed Stub for AppInsightsCore.prototype.releaseQueue.\r\n// Removed Stub for AppInsightsCore.prototype._updateHook.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    AppInsightsCore.__ieDyn=1;\n\n    return AppInsightsCore;\r\n}());\r\nexport { AppInsightsCore };\r\n//# sourceMappingURL=AppInsightsCore.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n// \r\n// \r\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { arrAppend, arrForEach, dumpObj } from \"@nevware21/ts-utils\";\r\nimport { _DYN_APPLY, _DYN_DIAG_LOG, _DYN_LENGTH, _DYN_PROCESS_NEXT, _DYN_SPLICE, _DYN__DO_TEARDOWN } from \"../__DynamicConstants\";\r\nimport { BaseTelemetryPlugin } from \"./BaseTelemetryPlugin\";\r\nimport { _throwInternal } from \"./DiagnosticLogger\";\r\nimport { getExceptionName } from \"./HelperFuncs\";\r\nimport { STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nfunction _addInitializer(_initializers, id, telemetryInitializer) {\r\n    var theInitializer = {\r\n        id: id,\r\n        fn: telemetryInitializer\r\n    };\r\n    arrAppend(_initializers, theInitializer);\r\n    var handler = {\r\n        remove: function () {\r\n            arrForEach(_initializers, function (initializer, idx) {\r\n                if (initializer.id === theInitializer.id) {\r\n                    _initializers[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n                    return -1;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    return handler;\r\n}\r\nfunction _runInitializers(_initializers, item, logger) {\r\n    var doNotSendItem = false;\r\n    var telemetryInitializersCount = _initializers[_DYN_LENGTH /* @min:%2elength */];\r\n    for (var i = 0; i < telemetryInitializersCount; ++i) {\r\n        var telemetryInitializer = _initializers[i];\r\n        if (telemetryInitializer) {\r\n            try {\r\n                if (telemetryInitializer.fn[_DYN_APPLY /* @min:%2eapply */](null, [item]) === false) {\r\n                    doNotSendItem = true;\r\n                    break;\r\n                }\r\n            }\r\n            catch (e) {\r\n                // log error but dont stop executing rest of the telemetry initializers\r\n                // doNotSendItem = true;\r\n                _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 64 /* _eInternalMessageId.TelemetryInitializerFailed */, \"Telemetry initializer failed: \" + getExceptionName(e), { exception: dumpObj(e) }, true);\r\n            }\r\n        }\r\n    }\r\n    return !doNotSendItem;\r\n}\r\nvar TelemetryInitializerPlugin = /** @class */ (function (_super) {\r\n    __extends(TelemetryInitializerPlugin, _super);\r\n    function TelemetryInitializerPlugin() {\r\n        var _this = _super.call(this) || this;\r\n        _this.identifier = \"TelemetryInitializerPlugin\";\r\n        _this.priority = 199;\r\n        // NOTE!: DON'T set default values here, instead set them in the _initDefaults() function as it is also called during teardown()\r\n        var _id;\r\n        var _initializers;\r\n        _initDefaults();\r\n        dynamicProto(TelemetryInitializerPlugin, _this, function (_self, _base) {\r\n            _self.addTelemetryInitializer = function (telemetryInitializer) {\r\n                return _addInitializer(_initializers, _id++, telemetryInitializer);\r\n            };\r\n            _self[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */] = function (item, itemCtx) {\r\n                if (_runInitializers(_initializers, item, itemCtx ? itemCtx[_DYN_DIAG_LOG /* @min:%2ediagLog */]() : _self[_DYN_DIAG_LOG /* @min:%2ediagLog */]())) {\r\n                    _self[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](item, itemCtx);\r\n                }\r\n            };\r\n            _self[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */] = function () {\r\n                _initDefaults();\r\n            };\r\n        });\r\n        function _initDefaults() {\r\n            _id = 0;\r\n            _initializers = [];\r\n        }\r\n        return _this;\r\n    }\r\n// Removed Stub for TelemetryInitializerPlugin.prototype.addTelemetryInitializer.\r\n// Removed Stub for TelemetryInitializerPlugin.prototype.processTelemetry.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    TelemetryInitializerPlugin.__ieDyn=1;\n\n    return TelemetryInitializerPlugin;\r\n}(BaseTelemetryPlugin));\r\nexport { TelemetryInitializerPlugin };\r\n//# sourceMappingURL=TelemetryInitializerPlugin.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { createPromise, doAwaitResponse } from \"@nevware21/ts-async\";\r\nimport { arrSlice, getLength } from \"@nevware21/ts-utils\";\r\nimport { _DYN_UNLOAD } from \"../__DynamicConstants\";\r\n/**\r\n * Run the unload function of the target object if it exists\r\n * @param target - The target object that contains the unload function\r\n * @param isAsync - The caller identifies whether it is expecting the operation to complete synchronously or asynchronously. Even\r\n * if the caller is not waiting the operation may still be performed asynchronously depending on the component and the reverse is\r\n * also true.\r\n * @returns The result of the target function\r\n */\r\nexport function runTargetUnload(target, isAsync) {\r\n    if (target && target[_DYN_UNLOAD /* @min:%2eunload */]) {\r\n        return target[_DYN_UNLOAD /* @min:%2eunload */](isAsync);\r\n    }\r\n}\r\n/**\r\n * Call the unload function on all targets handling any returned [IPromise](https://nevware21.github.io/ts-async/typedoc/interfaces/IPromise.html)\r\n * / Promise before calling the next targets unload\r\n * @param targets - An array of the targets to unload\r\n * @param isAsync - The caller identifies whether it is expecting the operations to complete synchronously or asynchronously.  Even\r\n * if the caller is not waiting the operation may still be performed asynchronously depending on the component and the reverse is\r\n * also true.\r\n * @param done - Optional callback function to call once all of the unload functions have been called.\r\n */\r\nexport function doUnloadAll(targets, isAsync, done) {\r\n    var result;\r\n    if (!done) {\r\n        result = createPromise(function (resolved) {\r\n            done = resolved;\r\n        });\r\n    }\r\n    if (targets && getLength(targets) > 0) {\r\n        doAwaitResponse(runTargetUnload(targets[0], isAsync), function () {\r\n            doUnloadAll(arrSlice(targets, 1), isAsync, done);\r\n        });\r\n    }\r\n    else {\r\n        done();\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=AsyncUtils.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nvar _a;\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { isFunction, objDefine } from \"@nevware21/ts-utils\";\r\nimport { createDynamicConfig } from \"../Config/DynamicConfig\";\r\nimport { _DYN_CREATE_NEW, _DYN_DIAG_LOG, _DYN_GET_NEXT, _DYN_GET_PROCESS_TEL_CONT2, _DYN_INITIALIZE, _DYN_IS_ASYNC, _DYN_IS_INITIALIZED, _DYN_PROCESS_NEXT, _DYN_SET_NEXT_PLUGIN, _DYN_TEARDOWN, _DYN_UPDATE, _DYN__DO_TEARDOWN } from \"../__DynamicConstants\";\r\nimport { safeGetLogger } from \"./DiagnosticLogger\";\r\nimport { isNotNullOrUndefined, proxyFunctionAs } from \"./HelperFuncs\";\r\nimport { STR_CORE, STR_EXTENSION_CONFIG, STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nimport { createProcessTelemetryContext, createProcessTelemetryUnloadContext, createProcessTelemetryUpdateContext } from \"./ProcessTelemetryContext\";\r\nimport { createUnloadHandlerContainer } from \"./UnloadHandlerContainer\";\r\nimport { createUnloadHookContainer } from \"./UnloadHookContainer\";\r\nvar strGetPlugin = \"getPlugin\";\r\nvar defaultValues = (_a = {},\r\n    _a[STR_EXTENSION_CONFIG] = { isVal: isNotNullOrUndefined, v: {} },\r\n    _a);\r\n/**\r\n * BaseTelemetryPlugin provides a basic implementation of the ITelemetryPlugin interface so that plugins\r\n * can avoid implementation the same set of boiler plate code as well as provide a base\r\n * implementation so that new default implementations can be added without breaking all plugins.\r\n */\r\nvar BaseTelemetryPlugin = /** @class */ (function () {\r\n    function BaseTelemetryPlugin() {\r\n        var _self = this; // Setting _self here as it's used outside of the dynamicProto as well\r\n        // NOTE!: DON'T set default values here, instead set them in the _initDefaults() function as it is also called during teardown()\r\n        var _isinitialized;\r\n        var _rootCtx; // Used as the root context, holding the current config and initialized core\r\n        var _nextPlugin; // Used for backward compatibility where plugins don't call the main pipeline\r\n        var _unloadHandlerContainer;\r\n        var _hookContainer;\r\n        _initDefaults();\r\n        dynamicProto(BaseTelemetryPlugin, _self, function (_self) {\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (config, core, extensions, pluginChain) {\r\n                _setDefaults(config, core, pluginChain);\r\n                _isinitialized = true;\r\n            };\r\n            _self[_DYN_TEARDOWN /* @min:%2eteardown */] = function (unloadCtx, unloadState) {\r\n                var _a;\r\n                // If this plugin has already been torn down (not operational) or is not initialized (core is not set)\r\n                // or the core being used for unload was not the same core used for initialization.\r\n                var core = _self[STR_CORE /* @min:%2ecore */];\r\n                if (!core || (unloadCtx && core !== unloadCtx[STR_CORE /* @min:%2ecore */]())) {\r\n                    // Do Nothing as either the plugin is not initialized or was not initialized by the current core\r\n                    return;\r\n                }\r\n                var result;\r\n                var unloadDone = false;\r\n                var theUnloadCtx = unloadCtx || createProcessTelemetryUnloadContext(null, core, _nextPlugin && _nextPlugin[strGetPlugin] ? _nextPlugin[strGetPlugin]() : _nextPlugin);\r\n                var theUnloadState = unloadState || (_a = {\r\n                        reason: 0 /* TelemetryUnloadReason.ManualTeardown */\r\n                    },\r\n                    _a[_DYN_IS_ASYNC /* @min:isAsync */] = false,\r\n                    _a);\r\n                function _unloadCallback() {\r\n                    if (!unloadDone) {\r\n                        unloadDone = true;\r\n                        _unloadHandlerContainer.run(theUnloadCtx, unloadState);\r\n                        _hookContainer.run(theUnloadCtx[_DYN_DIAG_LOG /* @min:%2ediagLog */]());\r\n                        if (result === true) {\r\n                            theUnloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](theUnloadState);\r\n                        }\r\n                        _initDefaults();\r\n                    }\r\n                }\r\n                if (!_self[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */] || _self[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */](theUnloadCtx, theUnloadState, _unloadCallback) !== true) {\r\n                    _unloadCallback();\r\n                }\r\n                else {\r\n                    // Tell the caller that we will be calling processNext()\r\n                    result = true;\r\n                }\r\n                return result;\r\n            };\r\n            _self[_DYN_UPDATE /* @min:%2eupdate */] = function (updateCtx, updateState) {\r\n                // If this plugin has already been torn down (not operational) or is not initialized (core is not set)\r\n                // or the core being used for unload was not the same core used for initialization.\r\n                var core = _self[STR_CORE /* @min:%2ecore */];\r\n                if (!core || (updateCtx && core !== updateCtx[STR_CORE /* @min:%2ecore */]())) {\r\n                    // Do Nothing\r\n                    return;\r\n                }\r\n                var result;\r\n                var updateDone = false;\r\n                var theUpdateCtx = updateCtx || createProcessTelemetryUpdateContext(null, core, _nextPlugin && _nextPlugin[strGetPlugin] ? _nextPlugin[strGetPlugin]() : _nextPlugin);\r\n                var theUpdateState = updateState || {\r\n                    reason: 0 /* TelemetryUpdateReason.Unknown */\r\n                };\r\n                function _updateCallback() {\r\n                    if (!updateDone) {\r\n                        updateDone = true;\r\n                        _setDefaults(theUpdateCtx.getCfg(), theUpdateCtx.core(), theUpdateCtx[_DYN_GET_NEXT /* @min:%2egetNext */]());\r\n                    }\r\n                }\r\n                if (!_self._doUpdate || _self._doUpdate(theUpdateCtx, theUpdateState, _updateCallback) !== true) {\r\n                    _updateCallback();\r\n                }\r\n                else {\r\n                    result = true;\r\n                }\r\n                return result;\r\n            };\r\n            proxyFunctionAs(_self, \"_addUnloadCb\", function () { return _unloadHandlerContainer; }, \"add\");\r\n            proxyFunctionAs(_self, \"_addHook\", function () { return _hookContainer; }, \"add\");\r\n            objDefine(_self, \"_unloadHooks\", { g: function () { return _hookContainer; } });\r\n        });\r\n        // These are added after the dynamicProto so that are not moved to the prototype\r\n        _self[_DYN_DIAG_LOG /* @min:%2ediagLog */] = function (itemCtx) {\r\n            return _getTelCtx(itemCtx)[_DYN_DIAG_LOG /* @min:%2ediagLog */]();\r\n        };\r\n        _self[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = function () {\r\n            return _isinitialized;\r\n        };\r\n        _self.setInitialized = function (isInitialized) {\r\n            _isinitialized = isInitialized;\r\n        };\r\n        // _self.getNextPlugin = () => DO NOT IMPLEMENT\r\n        // Sub-classes of this base class *should* not be relying on this value and instead\r\n        // should use processNext() function. If you require access to the plugin use the\r\n        // IProcessTelemetryContext.getNext().getPlugin() while in the pipeline, Note getNext() may return null.\r\n        _self[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */] = function (next) {\r\n            _nextPlugin = next;\r\n        };\r\n        _self[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = function (env, itemCtx) {\r\n            if (itemCtx) {\r\n                // Normal core execution sequence\r\n                itemCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](env);\r\n            }\r\n            else if (_nextPlugin && isFunction(_nextPlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */])) {\r\n                // Looks like backward compatibility or out of band processing. And as it looks\r\n                // like a ITelemetryPlugin or ITelemetryPluginChain, just call processTelemetry\r\n                _nextPlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */](env, null);\r\n            }\r\n        };\r\n        _self._getTelCtx = _getTelCtx;\r\n        function _getTelCtx(currentCtx) {\r\n            if (currentCtx === void 0) { currentCtx = null; }\r\n            var itemCtx = currentCtx;\r\n            if (!itemCtx) {\r\n                var rootCtx = _rootCtx || createProcessTelemetryContext(null, {}, _self[STR_CORE /* @min:%2ecore */]);\r\n                // tslint:disable-next-line: prefer-conditional-expression\r\n                if (_nextPlugin && _nextPlugin[strGetPlugin]) {\r\n                    // Looks like a chain object\r\n                    itemCtx = rootCtx[_DYN_CREATE_NEW /* @min:%2ecreateNew */](null, _nextPlugin[strGetPlugin]);\r\n                }\r\n                else {\r\n                    itemCtx = rootCtx[_DYN_CREATE_NEW /* @min:%2ecreateNew */](null, _nextPlugin);\r\n                }\r\n            }\r\n            return itemCtx;\r\n        }\r\n        function _setDefaults(config, core, pluginChain) {\r\n            // Make sure the extensionConfig exists and the config is dynamic\r\n            createDynamicConfig(config, defaultValues, safeGetLogger(core));\r\n            if (!pluginChain && core) {\r\n                // Get the first plugin from the core\r\n                pluginChain = core[_DYN_GET_PROCESS_TEL_CONT2 /* @min:%2egetProcessTelContext */]()[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n            }\r\n            var nextPlugin = _nextPlugin;\r\n            if (_nextPlugin && _nextPlugin[strGetPlugin]) {\r\n                // If it looks like a proxy/chain then get the plugin\r\n                nextPlugin = _nextPlugin[strGetPlugin]();\r\n            }\r\n            // Support legacy plugins where core was defined as a property\r\n            _self[STR_CORE /* @min:%2ecore */] = core;\r\n            _rootCtx = createProcessTelemetryContext(pluginChain, config, core, nextPlugin);\r\n        }\r\n        function _initDefaults() {\r\n            _isinitialized = false;\r\n            _self[STR_CORE /* @min:%2ecore */] = null;\r\n            _rootCtx = null;\r\n            _nextPlugin = null;\r\n            _hookContainer = createUnloadHookContainer();\r\n            _unloadHandlerContainer = createUnloadHandlerContainer();\r\n        }\r\n    }\r\n// Removed Stub for BaseTelemetryPlugin.prototype.initialize.\r\n// Removed Stub for BaseTelemetryPlugin.prototype.teardown.\r\n// Removed Stub for BaseTelemetryPlugin.prototype.update.\r\n// Removed Stub for BaseTelemetryPlugin.prototype._addUnloadCb.\r\n// Removed Stub for BaseTelemetryPlugin.prototype._addHook.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    BaseTelemetryPlugin.__ieDyn=1;\n\n    return BaseTelemetryPlugin;\r\n}());\r\nexport { BaseTelemetryPlugin };\r\n//# sourceMappingURL=BaseTelemetryPlugin.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nexport var ChannelControllerPriority = 500;\r\nexport var DisabledPropertyName = \"Microsoft_ApplicationInsights_BypassAjaxInstrumentation\";\r\n// export const SampleRate = \"sampleRate\";\r\n// export const ProcessLegacy = \"ProcessLegacy\";\r\n// export const HttpMethod = \"http.method\";\r\n// export const DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\r\n// export const DEFAULT_BREEZE_PATH = \"/v2/track\";\r\n// export const strNotSpecified = \"not_specified\";\r\n// export const strIkey = \"iKey\";\r\n//# sourceMappingURL=Constants.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nvar _a, _b;\r\nimport { arrForEach, arrIndexOf, dumpObj, getDocument, getLazy, getNavigator, isArray, isFunction, isNullOrUndefined, isString, isTruthy, isUndefined, objForEachKey, strEndsWith, strIndexOf, strLeft, strSubstring, strTrim, utcNow } from \"@nevware21/ts-utils\";\r\nimport { cfgDfMerge } from \"../Config/ConfigDefaultHelpers\";\r\nimport { createDynamicConfig, onConfigChange } from \"../Config/DynamicConfig\";\r\nimport { _DYN_ENABLED, _DYN_LENGTH, _DYN_LOGGER, _DYN_PROTOCOL, _DYN_SET_DF, _DYN_SPLIT, _DYN_UNLOAD, _DYN_USER_AGENT } from \"../__DynamicConstants\";\r\nimport { _throwInternal } from \"./DiagnosticLogger\";\r\nimport { getLocation, isIE } from \"./EnvUtils\";\r\nimport { getExceptionName, isNotNullOrUndefined, setValue, strContains } from \"./HelperFuncs\";\r\nimport { STR_DOMAIN, STR_EMPTY, STR_PATH, UNDEFINED_VALUE } from \"./InternalConstants\";\r\nvar strToGMTString = \"toGMTString\";\r\nvar strToUTCString = \"toUTCString\";\r\nvar strCookie = \"cookie\";\r\nvar strExpires = \"expires\";\r\nvar strIsCookieUseDisabled = \"isCookieUseDisabled\";\r\nvar strDisableCookiesUsage = \"disableCookiesUsage\";\r\nvar strConfigCookieMgr = \"_ckMgr\";\r\nvar _supportsCookies = null;\r\nvar _allowUaSameSite = null;\r\nvar _parsedCookieValue = null;\r\nvar _doc;\r\nvar _cookieCache = {};\r\nvar _globalCookieConfig = {};\r\n// // `isCookieUseDisabled` is deprecated, so explicitly casting as a key of IConfiguration to avoid typing error\r\n// // when both isCookieUseDisabled and disableCookiesUsage are used disableCookiesUsage will take precedent, which is\r\n// // why its listed first\r\n/**\r\n * Set the supported dynamic config values as undefined (or an empty object) so that\r\n * any listeners will be informed of any changes.\r\n * Explicitly NOT including the deprecated `isCookieUseDisabled` as we don't want to support\r\n * the v1 deprecated field as dynamic for updates\r\n */\r\nvar rootDefaultConfig = (_a = {\r\n        cookieCfg: cfgDfMerge((_b = {},\r\n            _b[STR_DOMAIN] = { fb: \"cookieDomain\", dfVal: isNotNullOrUndefined },\r\n            _b.path = { fb: \"cookiePath\", dfVal: isNotNullOrUndefined },\r\n            _b.enabled = UNDEFINED_VALUE,\r\n            _b.ignoreCookies = UNDEFINED_VALUE,\r\n            _b.blockedCookies = UNDEFINED_VALUE,\r\n            _b)),\r\n        cookieDomain: UNDEFINED_VALUE,\r\n        cookiePath: UNDEFINED_VALUE\r\n    },\r\n    _a[strDisableCookiesUsage] = UNDEFINED_VALUE,\r\n    _a);\r\nfunction _getDoc() {\r\n    !_doc && (_doc = getLazy(function () { return getDocument(); }));\r\n}\r\n/**\r\n * @ignore\r\n * DO NOT USE or export from the module, this is exposed as public to support backward compatibility of previous static utility methods only.\r\n * If you want to manager cookies either use the ICookieMgr available from the core instance via getCookieMgr() or create\r\n * your own instance of the CookieMgr and use that.\r\n * Using this directly for enabling / disabling cookie handling will not only affect your usage but EVERY user of cookies.\r\n * Example, if you are using a shared component that is also using Application Insights you will affect their cookie handling.\r\n * @param logger - The DiagnosticLogger to use for reporting errors.\r\n */\r\nfunction _gblCookieMgr(config, logger) {\r\n    // Stash the global instance against the BaseCookieMgr class\r\n    var inst = createCookieMgr[strConfigCookieMgr] || _globalCookieConfig[strConfigCookieMgr];\r\n    if (!inst) {\r\n        // Note: not using the getSetValue() helper as that would require always creating a temporary cookieMgr\r\n        // that ultimately is never used\r\n        inst = createCookieMgr[strConfigCookieMgr] = createCookieMgr(config, logger);\r\n        _globalCookieConfig[strConfigCookieMgr] = inst;\r\n    }\r\n    return inst;\r\n}\r\nfunction _isMgrEnabled(cookieMgr) {\r\n    if (cookieMgr) {\r\n        return cookieMgr.isEnabled();\r\n    }\r\n    return true;\r\n}\r\nfunction _isIgnoredCookie(cookieMgrCfg, name) {\r\n    if (name && cookieMgrCfg && isArray(cookieMgrCfg.ignoreCookies)) {\r\n        return arrIndexOf(cookieMgrCfg.ignoreCookies, name) !== -1;\r\n    }\r\n    return false;\r\n}\r\nfunction _isBlockedCookie(cookieMgrCfg, name) {\r\n    if (name && cookieMgrCfg && isArray(cookieMgrCfg.blockedCookies)) {\r\n        if (arrIndexOf(cookieMgrCfg.blockedCookies, name) !== -1) {\r\n            return true;\r\n        }\r\n    }\r\n    return _isIgnoredCookie(cookieMgrCfg, name);\r\n}\r\nfunction _isCfgEnabled(rootConfig, cookieMgrConfig) {\r\n    var isCfgEnabled = cookieMgrConfig[_DYN_ENABLED /* @min:%2eenabled */];\r\n    if (isNullOrUndefined(isCfgEnabled)) {\r\n        // Set the enabled from the provided setting or the legacy root values\r\n        var cookieEnabled = void 0;\r\n        // This field is deprecated and dynamic updates will not be fully supported\r\n        if (!isUndefined(rootConfig[strIsCookieUseDisabled])) {\r\n            cookieEnabled = !rootConfig[strIsCookieUseDisabled];\r\n        }\r\n        // If this value is defined it takes precedent over the above\r\n        if (!isUndefined(rootConfig[strDisableCookiesUsage])) {\r\n            cookieEnabled = !rootConfig[strDisableCookiesUsage];\r\n        }\r\n        // Not setting the cookieMgrConfig.enabled as that will update (set) the global dynamic config\r\n        // So future \"updates\" then may not be as expected\r\n        isCfgEnabled = cookieEnabled;\r\n    }\r\n    return isCfgEnabled;\r\n}\r\n/**\r\n * Helper to return the ICookieMgr from the core (if not null/undefined) or a default implementation\r\n * associated with the configuration or a legacy default.\r\n * @param core\r\n * @param config\r\n * @returns\r\n */\r\nexport function safeGetCookieMgr(core, config) {\r\n    var cookieMgr;\r\n    if (core) {\r\n        // Always returns an instance\r\n        cookieMgr = core.getCookieMgr();\r\n    }\r\n    else if (config) {\r\n        var cookieCfg = config.cookieCfg;\r\n        if (cookieCfg && cookieCfg[strConfigCookieMgr]) {\r\n            cookieMgr = cookieCfg[strConfigCookieMgr];\r\n        }\r\n        else {\r\n            cookieMgr = createCookieMgr(config);\r\n        }\r\n    }\r\n    if (!cookieMgr) {\r\n        // Get or initialize the default global (legacy) cookie manager if we couldn't find one\r\n        cookieMgr = _gblCookieMgr(config, (core || {})[_DYN_LOGGER /* @min:%2elogger */]);\r\n    }\r\n    return cookieMgr;\r\n}\r\nexport function createCookieMgr(rootConfig, logger) {\r\n    var _a;\r\n    var cookieMgrConfig;\r\n    var _path;\r\n    var _domain;\r\n    var unloadHandler;\r\n    // Explicitly checking against false, so that setting to undefined will === true\r\n    var _enabled;\r\n    var _getCookieFn;\r\n    var _setCookieFn;\r\n    var _delCookieFn;\r\n    // Make sure the root config is dynamic as it may be the global config\r\n    rootConfig = createDynamicConfig(rootConfig || _globalCookieConfig, null, logger).cfg;\r\n    // Will get recalled if the referenced configuration is changed\r\n    unloadHandler = onConfigChange(rootConfig, function (details) {\r\n        // Make sure the root config has all of the the defaults to the root config to ensure they are dynamic\r\n        details[_DYN_SET_DF /* @min:%2esetDf */](details.cfg, rootDefaultConfig);\r\n        // Create and apply the defaults to the cookieCfg element\r\n        cookieMgrConfig = details.ref(details.cfg, \"cookieCfg\"); // details.setDf(details.cfg.cookieCfg, defaultConfig);\r\n        _path = cookieMgrConfig[STR_PATH /* @min:%2epath */] || \"/\";\r\n        _domain = cookieMgrConfig[STR_DOMAIN /* @min:%2edomain */];\r\n        // Explicitly checking against false, so that setting to undefined will === true\r\n        _enabled = _isCfgEnabled(rootConfig, cookieMgrConfig) !== false;\r\n        _getCookieFn = cookieMgrConfig.getCookie || _getCookieValue;\r\n        _setCookieFn = cookieMgrConfig.setCookie || _setCookieValue;\r\n        _delCookieFn = cookieMgrConfig.delCookie || _setCookieValue;\r\n    }, logger);\r\n    var cookieMgr = (_a = {\r\n            isEnabled: function () {\r\n                var enabled = _isCfgEnabled(rootConfig, cookieMgrConfig) !== false && _enabled && areCookiesSupported(logger);\r\n                // Using an indirect lookup for any global cookie manager to support tree shaking for SDK's\r\n                // that don't use the \"applicationinsights-core\" version of the default cookie function\r\n                var gblManager = _globalCookieConfig[strConfigCookieMgr];\r\n                if (enabled && gblManager && cookieMgr !== gblManager) {\r\n                    // Make sure the GlobalCookie Manager instance (if not this instance) is also enabled.\r\n                    // As the global (deprecated) functions may have been called (for backward compatibility)\r\n                    enabled = _isMgrEnabled(gblManager);\r\n                }\r\n                return enabled;\r\n            },\r\n            setEnabled: function (value) {\r\n                // Explicitly checking against false, so that setting to undefined will === true\r\n                _enabled = value !== false;\r\n                cookieMgrConfig[_DYN_ENABLED /* @min:%2eenabled */] = value;\r\n            },\r\n            set: function (name, value, maxAgeSec, domain, path) {\r\n                var result = false;\r\n                if (_isMgrEnabled(cookieMgr) && !_isBlockedCookie(cookieMgrConfig, name)) {\r\n                    var values = {};\r\n                    var theValue = strTrim(value || STR_EMPTY);\r\n                    var idx = strIndexOf(theValue, \";\");\r\n                    if (idx !== -1) {\r\n                        theValue = strTrim(strLeft(value, idx));\r\n                        values = _extractParts(strSubstring(value, idx + 1));\r\n                    }\r\n                    // Only update domain if not already present (isUndefined) and the value is truthy (not null, undefined or empty string)\r\n                    setValue(values, STR_DOMAIN, domain || _domain, isTruthy, isUndefined);\r\n                    if (!isNullOrUndefined(maxAgeSec)) {\r\n                        var _isIE = isIE();\r\n                        if (isUndefined(values[strExpires])) {\r\n                            var nowMs = utcNow();\r\n                            // Only add expires if not already present\r\n                            var expireMs = nowMs + (maxAgeSec * 1000);\r\n                            // Sanity check, if zero or -ve then ignore\r\n                            if (expireMs > 0) {\r\n                                var expiry = new Date();\r\n                                expiry.setTime(expireMs);\r\n                                setValue(values, strExpires, _formatDate(expiry, !_isIE ? strToUTCString : strToGMTString) || _formatDate(expiry, _isIE ? strToGMTString : strToUTCString) || STR_EMPTY, isTruthy);\r\n                            }\r\n                        }\r\n                        if (!_isIE) {\r\n                            // Only replace if not already present\r\n                            setValue(values, \"max-age\", STR_EMPTY + maxAgeSec, null, isUndefined);\r\n                        }\r\n                    }\r\n                    var location_1 = getLocation();\r\n                    if (location_1 && location_1[_DYN_PROTOCOL /* @min:%2eprotocol */] === \"https:\") {\r\n                        setValue(values, \"secure\", null, null, isUndefined);\r\n                        // Only set same site if not also secure\r\n                        if (_allowUaSameSite === null) {\r\n                            _allowUaSameSite = !uaDisallowsSameSiteNone((getNavigator() || {})[_DYN_USER_AGENT /* @min:%2euserAgent */]);\r\n                        }\r\n                        if (_allowUaSameSite) {\r\n                            setValue(values, \"SameSite\", \"None\", null, isUndefined);\r\n                        }\r\n                    }\r\n                    setValue(values, STR_PATH, path || _path, null, isUndefined);\r\n                    //let setCookieFn = cookieMgrConfig.setCookie || _setCookieValue;\r\n                    _setCookieFn(name, _formatCookieValue(theValue, values));\r\n                    result = true;\r\n                }\r\n                return result;\r\n            },\r\n            get: function (name) {\r\n                var value = STR_EMPTY;\r\n                if (_isMgrEnabled(cookieMgr) && !_isIgnoredCookie(cookieMgrConfig, name)) {\r\n                    value = _getCookieFn(name);\r\n                }\r\n                return value;\r\n            },\r\n            del: function (name, path) {\r\n                var result = false;\r\n                if (_isMgrEnabled(cookieMgr)) {\r\n                    // Only remove the cookie if the manager and cookie support has not been disabled\r\n                    result = cookieMgr.purge(name, path);\r\n                }\r\n                return result;\r\n            },\r\n            purge: function (name, path) {\r\n                var _a;\r\n                var result = false;\r\n                if (areCookiesSupported(logger)) {\r\n                    // Setting the expiration date in the past immediately removes the cookie\r\n                    var values = (_a = {},\r\n                        _a[STR_PATH] = path ? path : \"/\",\r\n                        _a[strExpires] = \"Thu, 01 Jan 1970 00:00:01 GMT\",\r\n                        _a);\r\n                    if (!isIE()) {\r\n                        // Set max age to expire now\r\n                        values[\"max-age\"] = \"0\";\r\n                    }\r\n                    // let delCookie = cookieMgrConfig.delCookie || _setCookieValue;\r\n                    _delCookieFn(name, _formatCookieValue(STR_EMPTY, values));\r\n                    result = true;\r\n                }\r\n                return result;\r\n            }\r\n        },\r\n        _a[_DYN_UNLOAD /* @min:unload */] = function (isAsync) {\r\n            unloadHandler && unloadHandler.rm();\r\n            unloadHandler = null;\r\n        },\r\n        _a);\r\n    // Associated this cookie manager with the config\r\n    cookieMgr[strConfigCookieMgr] = cookieMgr;\r\n    return cookieMgr;\r\n}\r\n/*\r\n* Helper method to tell if document.cookie object is supported by the runtime\r\n*/\r\nexport function areCookiesSupported(logger) {\r\n    if (_supportsCookies === null) {\r\n        _supportsCookies = false;\r\n        !_doc && _getDoc();\r\n        try {\r\n            var doc = _doc.v || {};\r\n            _supportsCookies = doc[strCookie] !== undefined;\r\n        }\r\n        catch (e) {\r\n            _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 68 /* _eInternalMessageId.CannotAccessCookie */, \"Cannot access document.cookie - \" + getExceptionName(e), { exception: dumpObj(e) });\r\n        }\r\n    }\r\n    return _supportsCookies;\r\n}\r\nfunction _extractParts(theValue) {\r\n    var values = {};\r\n    if (theValue && theValue[_DYN_LENGTH /* @min:%2elength */]) {\r\n        var parts = strTrim(theValue)[_DYN_SPLIT /* @min:%2esplit */](\";\");\r\n        arrForEach(parts, function (thePart) {\r\n            thePart = strTrim(thePart || STR_EMPTY);\r\n            if (thePart) {\r\n                var idx = strIndexOf(thePart, \"=\");\r\n                if (idx === -1) {\r\n                    values[thePart] = null;\r\n                }\r\n                else {\r\n                    values[strTrim(strLeft(thePart, idx))] = strTrim(strSubstring(thePart, idx + 1));\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return values;\r\n}\r\nfunction _formatDate(theDate, func) {\r\n    if (isFunction(theDate[func])) {\r\n        return theDate[func]();\r\n    }\r\n    return null;\r\n}\r\nfunction _formatCookieValue(value, values) {\r\n    var cookieValue = value || STR_EMPTY;\r\n    objForEachKey(values, function (name, theValue) {\r\n        cookieValue += \"; \" + name + (!isNullOrUndefined(theValue) ? \"=\" + theValue : STR_EMPTY);\r\n    });\r\n    return cookieValue;\r\n}\r\nfunction _getCookieValue(name) {\r\n    var cookieValue = STR_EMPTY;\r\n    !_doc && _getDoc();\r\n    if (_doc.v) {\r\n        var theCookie = _doc.v[strCookie] || STR_EMPTY;\r\n        if (_parsedCookieValue !== theCookie) {\r\n            _cookieCache = _extractParts(theCookie);\r\n            _parsedCookieValue = theCookie;\r\n        }\r\n        cookieValue = strTrim(_cookieCache[name] || STR_EMPTY);\r\n    }\r\n    return cookieValue;\r\n}\r\nfunction _setCookieValue(name, cookieValue) {\r\n    !_doc && _getDoc();\r\n    if (_doc.v) {\r\n        _doc.v[strCookie] = name + \"=\" + cookieValue;\r\n    }\r\n}\r\nexport function uaDisallowsSameSiteNone(userAgent) {\r\n    if (!isString(userAgent)) {\r\n        return false;\r\n    }\r\n    // Cover all iOS based browsers here. This includes:\r\n    // - Safari on iOS 12 for iPhone, iPod Touch, iPad\r\n    // - WkWebview on iOS 12 for iPhone, iPod Touch, iPad\r\n    // - Chrome on iOS 12 for iPhone, iPod Touch, iPad\r\n    // All of which are broken by SameSite=None, because they use the iOS networking stack\r\n    if (strContains(userAgent, \"CPU iPhone OS 12\") || strContains(userAgent, \"iPad; CPU OS 12\")) {\r\n        return true;\r\n    }\r\n    // Cover Mac OS X based browsers that use the Mac OS networking stack. This includes:\r\n    // - Safari on Mac OS X\r\n    // This does not include:\r\n    // - Internal browser on Mac OS X\r\n    // - Chrome on Mac OS X\r\n    // - Chromium on Mac OS X\r\n    // Because they do not use the Mac OS networking stack.\r\n    if (strContains(userAgent, \"Macintosh; Intel Mac OS X 10_14\") && strContains(userAgent, \"Version/\") && strContains(userAgent, \"Safari\")) {\r\n        return true;\r\n    }\r\n    // Cover Mac OS X internal browsers that use the Mac OS networking stack. This includes:\r\n    // - Internal browser on Mac OS X\r\n    // This does not include:\r\n    // - Safari on Mac OS X\r\n    // - Chrome on Mac OS X\r\n    // - Chromium on Mac OS X\r\n    // Because they do not use the Mac OS networking stack.\r\n    if (strContains(userAgent, \"Macintosh; Intel Mac OS X 10_14\") && strEndsWith(userAgent, \"AppleWebKit/605.1.15 (KHTML, like Gecko)\")) {\r\n        return true;\r\n    }\r\n    // Cover Chrome 50-69, because some versions are broken by SameSite=None, and none in this range require it.\r\n    // Note: this covers some pre-Chromium Edge versions, but pre-Chromim Edge does not require SameSite=None, so this is fine.\r\n    // Note: this regex applies to Windows, Mac OS X, and Linux, deliberately.\r\n    if (strContains(userAgent, \"Chrome/5\") || strContains(userAgent, \"Chrome/6\")) {\r\n        return true;\r\n    }\r\n    // Unreal Engine runs Chromium 59, but does not advertise as Chrome until 4.23. Treat versions of Unreal\r\n    // that don't specify their Chrome version as lacking support for SameSite=None.\r\n    if (strContains(userAgent, \"UnrealEngine\") && !strContains(userAgent, \"Chrome\")) {\r\n        return true;\r\n    }\r\n    // UCBrowser < 12.13.2 ignores Set-Cookie headers with SameSite=None\r\n    // NB: this rule isn't complete - you need regex to make a complete rule.\r\n    // See: https://www.chromium.org/updates/same-site/incompatible-clients\r\n    if (strContains(userAgent, \"UCBrowser/12\") || strContains(userAgent, \"UCBrowser/11\")) {\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n//# sourceMappingURL=CookieMgr.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { strShimUndefined } from \"@microsoft/applicationinsights-shims\";\r\nimport { strSubstr, strSubstring } from \"@nevware21/ts-utils\";\r\nimport { _DYN_LENGTH } from \"../__DynamicConstants\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { random32 } from \"./RandomHelper\";\r\n// Added to help with minfication\r\nexport var Undefined = strShimUndefined;\r\nexport function newGuid() {\r\n    var uuid = generateW3CId();\r\n    return strSubstring(uuid, 0, 8) + \"-\" + strSubstring(uuid, 8, 12) + \"-\" + strSubstring(uuid, 12, 16) + \"-\" + strSubstring(uuid, 16, 20) + \"-\" + strSubstring(uuid, 20);\r\n}\r\n/**\r\n * The strEndsWith() method determines whether a string ends with the characters of a specified string, returning true or false as appropriate.\r\n * @param value - The value to check whether it ends with the search value.\r\n * @param search - The characters to be searched for at the end of the value.\r\n * @returns true if the given search value is found at the end of the string, otherwise false.\r\n */\r\nexport function strEndsWith(value, search) {\r\n    if (value && search) {\r\n        var len = value[_DYN_LENGTH /* @min:%2elength */];\r\n        var start = len - search[_DYN_LENGTH /* @min:%2elength */];\r\n        return strSubstring(value, start >= 0 ? start : 0, len) === search;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * generate W3C trace id\r\n */\r\nexport function generateW3CId() {\r\n    var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\r\n    // rfc4122 version 4 UUID without dashes and with lowercase letters\r\n    var oct = STR_EMPTY, tmp;\r\n    for (var a = 0; a < 4; a++) {\r\n        tmp = random32();\r\n        oct +=\r\n            hexValues[tmp & 0xF] +\r\n                hexValues[tmp >> 4 & 0xF] +\r\n                hexValues[tmp >> 8 & 0xF] +\r\n                hexValues[tmp >> 12 & 0xF] +\r\n                hexValues[tmp >> 16 & 0xF] +\r\n                hexValues[tmp >> 20 & 0xF] +\r\n                hexValues[tmp >> 24 & 0xF] +\r\n                hexValues[tmp >> 28 & 0xF];\r\n    }\r\n    // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\r\n    var clockSequenceHi = hexValues[8 + (random32() & 0x03) | 0];\r\n    return strSubstr(oct, 0, 8) + strSubstr(oct, 9, 4) + \"4\" + strSubstr(oct, 13, 3) + clockSequenceHi + strSubstr(oct, 16, 3) + strSubstr(oct, 19, 12);\r\n}\r\n//# sourceMappingURL=CoreUtils.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { objDefine } from \"@nevware21/ts-utils\";\r\nimport { _DYN_NODE_TYPE } from \"../__DynamicConstants\";\r\nimport { normalizeJsName } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nimport { newId } from \"./RandomHelper\";\r\nvar version = '3.3.4';\r\nvar instanceName = \".\" + newId(6);\r\nvar _dataUid = 0;\r\n// Accepts only:\r\n//  - Node\r\n//    - Node.ELEMENT_NODE\r\n//    - Node.DOCUMENT_NODE\r\n//  - Object\r\n//    - Any\r\nfunction _canAcceptData(target) {\r\n    return target[_DYN_NODE_TYPE /* @min:%2enodeType */] === 1 || target[_DYN_NODE_TYPE /* @min:%2enodeType */] === 9 || !(+target[_DYN_NODE_TYPE /* @min:%2enodeType */]);\r\n}\r\nfunction _getCache(data, target) {\r\n    var theCache = target[data.id];\r\n    if (!theCache) {\r\n        theCache = {};\r\n        try {\r\n            if (_canAcceptData(target)) {\r\n                objDefine(target, data.id, {\r\n                    e: false,\r\n                    v: theCache\r\n                });\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Not all environments allow extending all objects, so just ignore the cache in those cases\r\n        }\r\n    }\r\n    return theCache;\r\n}\r\nexport function createUniqueNamespace(name, includeVersion) {\r\n    if (includeVersion === void 0) { includeVersion = false; }\r\n    return normalizeJsName(name + (_dataUid++) + (includeVersion ? \".\" + version : STR_EMPTY) + instanceName);\r\n}\r\nexport function createElmNodeData(name) {\r\n    var data = {\r\n        id: createUniqueNamespace(\"_aiData-\" + (name || STR_EMPTY) + \".\" + version),\r\n        accept: function (target) {\r\n            return _canAcceptData(target);\r\n        },\r\n        get: function (target, name, defValue, addDefault) {\r\n            var theCache = target[data.id];\r\n            if (!theCache) {\r\n                if (addDefault) {\r\n                    // Side effect is adds the cache\r\n                    theCache = _getCache(data, target);\r\n                    theCache[normalizeJsName(name)] = defValue;\r\n                }\r\n                return defValue;\r\n            }\r\n            return theCache[normalizeJsName(name)];\r\n        },\r\n        kill: function (target, name) {\r\n            if (target && target[name]) {\r\n                try {\r\n                    delete target[name];\r\n                }\r\n                catch (e) {\r\n                    // Just cleaning up, so if this fails -- ignore\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return data;\r\n}\r\n//# sourceMappingURL=DataCacheHelper.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { getInst } from \"@nevware21/ts-utils\";\r\nimport { _DYN_APPLY, _DYN_LENGTH } from \"../__DynamicConstants\";\r\nimport { STR_EVENTS_DISCARDED, STR_EVENTS_SEND_REQUEST, STR_EVENTS_SENT, STR_PERF_EVENT } from \"./InternalConstants\";\r\nvar listenerFuncs = [STR_EVENTS_SENT, STR_EVENTS_DISCARDED, STR_EVENTS_SEND_REQUEST, STR_PERF_EVENT];\r\nvar _aiNamespace = null;\r\nvar _debugListener;\r\nfunction _listenerProxyFunc(name, config) {\r\n    return function () {\r\n        var args = arguments;\r\n        var dbgExt = getDebugExt(config);\r\n        if (dbgExt) {\r\n            var listener = dbgExt.listener;\r\n            if (listener && listener[name]) {\r\n                listener[name][_DYN_APPLY /* @min:%2eapply */](listener, args);\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction _getExtensionNamespace() {\r\n    // Cache the lookup of the global namespace object\r\n    var target = getInst(\"Microsoft\");\r\n    if (target) {\r\n        _aiNamespace = target[\"ApplicationInsights\"];\r\n    }\r\n    return _aiNamespace;\r\n}\r\nexport function getDebugExt(config) {\r\n    var ns = _aiNamespace;\r\n    if (!ns && config.disableDbgExt !== true) {\r\n        ns = _aiNamespace || _getExtensionNamespace();\r\n    }\r\n    return ns ? ns[\"ChromeDbgExt\"] : null;\r\n}\r\nexport function getDebugListener(config) {\r\n    if (!_debugListener) {\r\n        _debugListener = {};\r\n        for (var lp = 0; lp < listenerFuncs[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n            _debugListener[listenerFuncs[lp]] = _listenerProxyFunc(listenerFuncs[lp], config);\r\n        }\r\n    }\r\n    return _debugListener;\r\n}\r\n//# sourceMappingURL=DbgExtensionUtils.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nvar _a;\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { dumpObj, isFunction, isUndefined } from \"@nevware21/ts-utils\";\r\nimport { createDynamicConfig, onConfigChange } from \"../Config/DynamicConfig\";\r\nimport { _DYN_DIAG_LOG, _DYN_LOGGER, _DYN_LOGGING_LEVEL_CONSOL4, _DYN_LOG_INTERNAL_MESSAGE, _DYN_MESSAGE, _DYN_MESSAGE_ID, _DYN_PUSH, _DYN_REPLACE, _DYN_THROW_INTERNAL, _DYN_UNLOAD, _DYN_WARN_TO_CONSOLE } from \"../__DynamicConstants\";\r\nimport { getDebugExt } from \"./DbgExtensionUtils\";\r\nimport { getConsole, getJSON, hasJSON } from \"./EnvUtils\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nvar STR_WARN_TO_CONSOLE = \"warnToConsole\";\r\n/**\r\n * For user non actionable traces use AI Internal prefix.\r\n */\r\nvar AiNonUserActionablePrefix = \"AI (Internal): \";\r\n/**\r\n * Prefix of the traces in portal.\r\n */\r\nvar AiUserActionablePrefix = \"AI: \";\r\n/**\r\n *  Session storage key for the prefix for the key indicating message type already logged\r\n */\r\nvar AIInternalMessagePrefix = \"AITR_\";\r\nvar defaultValues = {\r\n    loggingLevelConsole: 0,\r\n    loggingLevelTelemetry: 1,\r\n    maxMessageLimit: 25,\r\n    enableDebug: false\r\n};\r\nvar _logFuncs = (_a = {},\r\n    _a[0 /* eLoggingSeverity.DISABLED */] = null,\r\n    _a[1 /* eLoggingSeverity.CRITICAL */] = \"errorToConsole\",\r\n    _a[2 /* eLoggingSeverity.WARNING */] = STR_WARN_TO_CONSOLE,\r\n    _a[3 /* eLoggingSeverity.DEBUG */] = \"debugToConsole\",\r\n    _a);\r\nfunction _sanitizeDiagnosticText(text) {\r\n    if (text) {\r\n        return \"\\\"\" + text[_DYN_REPLACE /* @min:%2ereplace */](/\\\"/g, STR_EMPTY) + \"\\\"\";\r\n    }\r\n    return STR_EMPTY;\r\n}\r\nfunction _logToConsole(func, message) {\r\n    var theConsole = getConsole();\r\n    if (!!theConsole) {\r\n        var logFunc = \"log\";\r\n        if (theConsole[func]) {\r\n            logFunc = func;\r\n        }\r\n        if (isFunction(theConsole[logFunc])) {\r\n            theConsole[logFunc](message);\r\n        }\r\n    }\r\n}\r\nvar _InternalLogMessage = /** @class */ (function () {\r\n    function _InternalLogMessage(msgId, msg, isUserAct, properties) {\r\n        if (isUserAct === void 0) { isUserAct = false; }\r\n        var _self = this;\r\n        _self[_DYN_MESSAGE_ID /* @min:%2emessageId */] = msgId;\r\n        _self[_DYN_MESSAGE /* @min:%2emessage */] =\r\n            (isUserAct ? AiUserActionablePrefix : AiNonUserActionablePrefix) +\r\n                msgId;\r\n        var strProps = STR_EMPTY;\r\n        if (hasJSON()) {\r\n            strProps = getJSON().stringify(properties);\r\n        }\r\n        var diagnosticText = (msg ? \" message:\" + _sanitizeDiagnosticText(msg) : STR_EMPTY) +\r\n            (properties ? \" props:\" + _sanitizeDiagnosticText(strProps) : STR_EMPTY);\r\n        _self[_DYN_MESSAGE /* @min:%2emessage */] += diagnosticText;\r\n    }\r\n    _InternalLogMessage.dataType = \"MessageData\";\r\n    return _InternalLogMessage;\r\n}());\r\nexport { _InternalLogMessage };\r\nexport function safeGetLogger(core, config) {\r\n    return (core || {})[_DYN_LOGGER /* @min:%2elogger */] || new DiagnosticLogger(config);\r\n}\r\nvar DiagnosticLogger = /** @class */ (function () {\r\n    function DiagnosticLogger(config) {\r\n        this.identifier = \"DiagnosticLogger\";\r\n        /**\r\n         * The internal logging queue\r\n         */\r\n        this.queue = [];\r\n        /**\r\n         * Count of internal messages sent\r\n         */\r\n        var _messageCount = 0;\r\n        /**\r\n         * Holds information about what message types were already logged to console or sent to server.\r\n         */\r\n        var _messageLogged = {};\r\n        var _loggingLevelConsole;\r\n        var _loggingLevelTelemetry;\r\n        var _maxInternalMessageLimit;\r\n        var _enableDebug;\r\n        var _unloadHandler;\r\n        dynamicProto(DiagnosticLogger, this, function (_self) {\r\n            _unloadHandler = _setDefaultsFromConfig(config || {});\r\n            _self.consoleLoggingLevel = function () { return _loggingLevelConsole; };\r\n            /**\r\n             * This method will throw exceptions in debug mode or attempt to log the error as a console warning.\r\n             * @param severity - {LoggingSeverity} - The severity of the log message\r\n             * @param message - {_InternalLogMessage} - The log message.\r\n             */\r\n            _self[_DYN_THROW_INTERNAL /* @min:%2ethrowInternal */] = function (severity, msgId, msg, properties, isUserAct) {\r\n                if (isUserAct === void 0) { isUserAct = false; }\r\n                var message = new _InternalLogMessage(msgId, msg, isUserAct, properties);\r\n                if (_enableDebug) {\r\n                    throw dumpObj(message);\r\n                }\r\n                else {\r\n                    // Get the logging function and fallback to warnToConsole of for some reason errorToConsole doesn't exist\r\n                    var logFunc = _logFuncs[severity] || STR_WARN_TO_CONSOLE;\r\n                    if (!isUndefined(message[_DYN_MESSAGE /* @min:%2emessage */])) {\r\n                        if (isUserAct) {\r\n                            // check if this message type was already logged to console for this page view and if so, don't log it again\r\n                            var messageKey = +message[_DYN_MESSAGE_ID /* @min:%2emessageId */];\r\n                            if (!_messageLogged[messageKey] && _loggingLevelConsole >= severity) {\r\n                                _self[logFunc](message[_DYN_MESSAGE /* @min:%2emessage */]);\r\n                                _messageLogged[messageKey] = true;\r\n                            }\r\n                        }\r\n                        else {\r\n                            // Only log traces if the console Logging Level is >= the throwInternal severity level\r\n                            if (_loggingLevelConsole >= severity) {\r\n                                _self[logFunc](message[_DYN_MESSAGE /* @min:%2emessage */]);\r\n                            }\r\n                        }\r\n                        _logInternalMessage(severity, message);\r\n                    }\r\n                    else {\r\n                        _debugExtMsg(\"throw\" + (severity === 1 /* eLoggingSeverity.CRITICAL */ ? \"Critical\" : \"Warning\"), message);\r\n                    }\r\n                }\r\n            };\r\n            _self.debugToConsole = function (message) {\r\n                _logToConsole(\"debug\", message);\r\n                _debugExtMsg(\"warning\", message);\r\n            };\r\n            _self[_DYN_WARN_TO_CONSOLE /* @min:%2ewarnToConsole */] = function (message) {\r\n                _logToConsole(\"warn\", message);\r\n                _debugExtMsg(\"warning\", message);\r\n            };\r\n            _self.errorToConsole = function (message) {\r\n                _logToConsole(\"error\", message);\r\n                _debugExtMsg(\"error\", message);\r\n            };\r\n            _self.resetInternalMessageCount = function () {\r\n                _messageCount = 0;\r\n                _messageLogged = {};\r\n            };\r\n            _self[_DYN_LOG_INTERNAL_MESSAGE /* @min:%2elogInternalMessage */] = _logInternalMessage;\r\n            _self[_DYN_UNLOAD /* @min:%2eunload */] = function (isAsync) {\r\n                _unloadHandler && _unloadHandler.rm();\r\n                _unloadHandler = null;\r\n            };\r\n            function _logInternalMessage(severity, message) {\r\n                if (_areInternalMessagesThrottled()) {\r\n                    return;\r\n                }\r\n                // check if this message type was already logged for this session and if so, don't log it again\r\n                var logMessage = true;\r\n                var messageKey = AIInternalMessagePrefix + message[_DYN_MESSAGE_ID /* @min:%2emessageId */];\r\n                // if the session storage is not available, limit to only one message type per page view\r\n                if (_messageLogged[messageKey]) {\r\n                    logMessage = false;\r\n                }\r\n                else {\r\n                    _messageLogged[messageKey] = true;\r\n                }\r\n                if (logMessage) {\r\n                    // Push the event in the internal queue\r\n                    if (severity <= _loggingLevelTelemetry) {\r\n                        _self.queue[_DYN_PUSH /* @min:%2epush */](message);\r\n                        _messageCount++;\r\n                        _debugExtMsg((severity === 1 /* eLoggingSeverity.CRITICAL */ ? \"error\" : \"warn\"), message);\r\n                    }\r\n                    // When throttle limit reached, send a special event\r\n                    if (_messageCount === _maxInternalMessageLimit) {\r\n                        var throttleLimitMessage = \"Internal events throttle limit per PageView reached for this app.\";\r\n                        var throttleMessage = new _InternalLogMessage(23 /* _eInternalMessageId.MessageLimitPerPVExceeded */, throttleLimitMessage, false);\r\n                        _self.queue[_DYN_PUSH /* @min:%2epush */](throttleMessage);\r\n                        if (severity === 1 /* eLoggingSeverity.CRITICAL */) {\r\n                            _self.errorToConsole(throttleLimitMessage);\r\n                        }\r\n                        else {\r\n                            _self[_DYN_WARN_TO_CONSOLE /* @min:%2ewarnToConsole */](throttleLimitMessage);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            function _setDefaultsFromConfig(config) {\r\n                // make sure the config is dynamic\r\n                return onConfigChange(createDynamicConfig(config, defaultValues, _self).cfg, function (details) {\r\n                    var config = details.cfg;\r\n                    _loggingLevelConsole = config[_DYN_LOGGING_LEVEL_CONSOL4 /* @min:%2eloggingLevelConsole */];\r\n                    _loggingLevelTelemetry = config.loggingLevelTelemetry;\r\n                    _maxInternalMessageLimit = config.maxMessageLimit;\r\n                    _enableDebug = config.enableDebug;\r\n                });\r\n            }\r\n            function _areInternalMessagesThrottled() {\r\n                return _messageCount >= _maxInternalMessageLimit;\r\n            }\r\n            function _debugExtMsg(name, data) {\r\n                var dbgExt = getDebugExt(config || {});\r\n                if (dbgExt && dbgExt[_DYN_DIAG_LOG /* @min:%2ediagLog */]) {\r\n                    dbgExt[_DYN_DIAG_LOG /* @min:%2ediagLog */](name, data);\r\n                }\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for DiagnosticLogger.prototype.consoleLoggingLevel.\r\n// Removed Stub for DiagnosticLogger.prototype.throwInternal.\r\n// Removed Stub for DiagnosticLogger.prototype.debugToConsole.\r\n// Removed Stub for DiagnosticLogger.prototype.warnToConsole.\r\n// Removed Stub for DiagnosticLogger.prototype.errorToConsole.\r\n// Removed Stub for DiagnosticLogger.prototype.resetInternalMessageCount.\r\n// Removed Stub for DiagnosticLogger.prototype.logInternalMessage.\r\n// Removed Stub for DiagnosticLogger.prototype.unload.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    DiagnosticLogger.__ieDyn=1;\n\n    return DiagnosticLogger;\r\n}());\r\nexport { DiagnosticLogger };\r\nfunction _getLogger(logger) {\r\n    return (logger || new DiagnosticLogger());\r\n}\r\n/**\r\n * This is a helper method which will call throwInternal on the passed logger, will throw exceptions in\r\n * debug mode or attempt to log the error as a console warning. This helper is provided mostly to better\r\n * support minification as logger.throwInternal() will not compress the publish \"throwInternal\" used throughout\r\n * the code.\r\n * @param logger - The Diagnostic Logger instance to use.\r\n * @param severity - {LoggingSeverity} - The severity of the log message\r\n * @param message - {_InternalLogMessage} - The log message.\r\n */\r\nexport function _throwInternal(logger, severity, msgId, msg, properties, isUserAct) {\r\n    if (isUserAct === void 0) { isUserAct = false; }\r\n    _getLogger(logger)[_DYN_THROW_INTERNAL /* @min:%2ethrowInternal */](severity, msgId, msg, properties, isUserAct);\r\n}\r\n/**\r\n * This is a helper method which will call warnToConsole on the passed logger with the provided message.\r\n * @param logger - The Diagnostic Logger instance to use.\r\n * @param message - {_InternalLogMessage} - The log message.\r\n */\r\nexport function _warnToConsole(logger, message) {\r\n    _getLogger(logger)[_DYN_WARN_TO_CONSOLE /* @min:%2ewarnToConsole */](message);\r\n}\r\n/**\r\n * Logs a message to the internal queue.\r\n * @param logger - The Diagnostic Logger instance to use.\r\n * @param severity - {LoggingSeverity} - The severity of the log message\r\n * @param message - {_InternalLogMessage} - The message to log.\r\n */\r\nexport function _logInternalMessage(logger, severity, message) {\r\n    _getLogger(logger)[_DYN_LOG_INTERNAL_MESSAGE /* @min:%2elogInternalMessage */](severity, message);\r\n}\r\n//# sourceMappingURL=DiagnosticLogger.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { getGlobal, strShimObject, strShimPrototype, strShimUndefined } from \"@microsoft/applicationinsights-shims\";\r\nimport { getDocument, getInst, getNavigator, getPerformance, hasNavigator, isFunction, isString, isUndefined, strIndexOf } from \"@nevware21/ts-utils\";\r\nimport { _DYN_LENGTH, _DYN_NAME, _DYN_SPLIT, _DYN_TO_LOWER_CASE, _DYN_USER_AGENT } from \"../__DynamicConstants\";\r\nimport { strContains } from \"./HelperFuncs\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n/**\r\n * This file exists to hold environment utilities that are required to check and\r\n * validate the current operating environment. Unless otherwise required, please\r\n * only use defined methods (functions) in this class so that users of these\r\n * functions/properties only need to include those that are used within their own modules.\r\n */\r\nvar strDocumentMode = \"documentMode\";\r\nvar strLocation = \"location\";\r\nvar strConsole = \"console\";\r\nvar strJSON = \"JSON\";\r\nvar strCrypto = \"crypto\";\r\nvar strMsCrypto = \"msCrypto\";\r\nvar strReactNative = \"ReactNative\";\r\nvar strMsie = \"msie\";\r\nvar strTrident = \"trident/\";\r\nvar strXMLHttpRequest = \"XMLHttpRequest\";\r\nvar _isTrident = null;\r\nvar _navUserAgentCheck = null;\r\nvar _enableMocks = false;\r\nvar _useXDomainRequest = null;\r\nvar _beaconsSupported = null;\r\nfunction _hasProperty(theClass, property) {\r\n    var supported = false;\r\n    if (theClass) {\r\n        try {\r\n            supported = property in theClass;\r\n            if (!supported) {\r\n                var proto = theClass[strShimPrototype];\r\n                if (proto) {\r\n                    supported = property in proto;\r\n                }\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Do Nothing\r\n        }\r\n        if (!supported) {\r\n            try {\r\n                var tmp = new theClass();\r\n                supported = !isUndefined(tmp[property]);\r\n            }\r\n            catch (e) {\r\n                // Do Nothing\r\n            }\r\n        }\r\n    }\r\n    return supported;\r\n}\r\n/**\r\n * Enable the lookup of test mock objects if requested\r\n * @param enabled\r\n */\r\nexport function setEnableEnvMocks(enabled) {\r\n    _enableMocks = enabled;\r\n}\r\n/**\r\n * Returns the global location object if it is present otherwise null.\r\n * This helper is used to access the location object without causing an exception\r\n * \"Uncaught ReferenceError: location is not defined\"\r\n */\r\nexport function getLocation(checkForMock) {\r\n    if (checkForMock && _enableMocks) {\r\n        var mockLocation = getInst(\"__mockLocation\");\r\n        if (mockLocation) {\r\n            return mockLocation;\r\n        }\r\n    }\r\n    if (typeof location === strShimObject && location) {\r\n        return location;\r\n    }\r\n    return getInst(strLocation);\r\n}\r\n/**\r\n * Returns the global console object\r\n */\r\nexport function getConsole() {\r\n    if (typeof console !== strShimUndefined) {\r\n        return console;\r\n    }\r\n    return getInst(strConsole);\r\n}\r\n/**\r\n * Checks if JSON object is available, this is required as we support the API running without a\r\n * window /document (eg. Node server, electron webworkers) and if we attempt to assign a history\r\n * object to a local variable or pass as an argument an \"Uncaught ReferenceError: JSON is not defined\"\r\n * exception will be thrown.\r\n * Defined as a function to support lazy / late binding environments.\r\n */\r\nexport function hasJSON() {\r\n    return Boolean((typeof JSON === strShimObject && JSON) || getInst(strJSON) !== null);\r\n}\r\n/**\r\n * Returns the global JSON object if it is present otherwise null.\r\n * This helper is used to access the JSON object without causing an exception\r\n * \"Uncaught ReferenceError: JSON is not defined\"\r\n */\r\nexport function getJSON() {\r\n    if (hasJSON()) {\r\n        return JSON || getInst(strJSON);\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Returns the crypto object if it is present otherwise null.\r\n * This helper is used to access the crypto object from the current\r\n * global instance which could be window or globalThis for a web worker\r\n */\r\nexport function getCrypto() {\r\n    return getInst(strCrypto);\r\n}\r\n/**\r\n * Returns the crypto object if it is present otherwise null.\r\n * This helper is used to access the crypto object from the current\r\n * global instance which could be window or globalThis for a web worker\r\n */\r\nexport function getMsCrypto() {\r\n    return getInst(strMsCrypto);\r\n}\r\n/**\r\n * Returns whether the environment is reporting that we are running in a React Native Environment\r\n */\r\nexport function isReactNative() {\r\n    // If running in React Native, navigator.product will be populated\r\n    var nav = getNavigator();\r\n    if (nav && nav.product) {\r\n        return nav.product === strReactNative;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Identifies whether the current environment appears to be IE\r\n */\r\nexport function isIE() {\r\n    var nav = getNavigator();\r\n    if (nav && (nav[_DYN_USER_AGENT /* @min:%2euserAgent */] !== _navUserAgentCheck || _isTrident === null)) {\r\n        // Added to support test mocking of the user agent\r\n        _navUserAgentCheck = nav[_DYN_USER_AGENT /* @min:%2euserAgent */];\r\n        var userAgent = (_navUserAgentCheck || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n        _isTrident = (strContains(userAgent, strMsie) || strContains(userAgent, strTrident));\r\n    }\r\n    return _isTrident;\r\n}\r\n/**\r\n * Gets IE version returning the document emulation mode if we are running on IE, or null otherwise\r\n */\r\nexport function getIEVersion(userAgentStr) {\r\n    if (userAgentStr === void 0) { userAgentStr = null; }\r\n    if (!userAgentStr) {\r\n        var navigator_1 = getNavigator() || {};\r\n        userAgentStr = navigator_1 ? (navigator_1.userAgent || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]() : STR_EMPTY;\r\n    }\r\n    var ua = (userAgentStr || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n    // Also check for documentMode in case X-UA-Compatible meta tag was included in HTML.\r\n    if (strContains(ua, strMsie)) {\r\n        var doc = getDocument() || {};\r\n        return Math.max(parseInt(ua[_DYN_SPLIT /* @min:%2esplit */](strMsie)[1]), (doc[strDocumentMode] || 0));\r\n    }\r\n    else if (strContains(ua, strTrident)) {\r\n        var tridentVer = parseInt(ua[_DYN_SPLIT /* @min:%2esplit */](strTrident)[1]);\r\n        if (tridentVer) {\r\n            return tridentVer + 4;\r\n        }\r\n    }\r\n    return null;\r\n}\r\nexport function isSafari(userAgentStr) {\r\n    if (!userAgentStr || !isString(userAgentStr)) {\r\n        var navigator_2 = getNavigator() || {};\r\n        userAgentStr = navigator_2 ? (navigator_2.userAgent || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]() : STR_EMPTY;\r\n    }\r\n    var ua = (userAgentStr || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n    return (strIndexOf(ua, \"safari\") >= 0);\r\n}\r\n/**\r\n * Checks if HTML5 Beacons are supported in the current environment.\r\n * @param useCached - [Optional] used for testing to bypass the cached lookup, when `true` this will\r\n * cause the cached global to be reset.\r\n * @returns True if supported, false otherwise.\r\n */\r\nexport function isBeaconsSupported(useCached) {\r\n    if (_beaconsSupported === null || useCached === false) {\r\n        _beaconsSupported = hasNavigator() && Boolean(getNavigator().sendBeacon);\r\n    }\r\n    return _beaconsSupported;\r\n}\r\n/**\r\n * Checks if the Fetch API is supported in the current environment.\r\n * @param withKeepAlive - [Optional] If True, check if fetch is available and it supports the keepalive feature, otherwise only check if fetch is supported\r\n * @returns True if supported, otherwise false\r\n */\r\nexport function isFetchSupported(withKeepAlive) {\r\n    var isSupported = false;\r\n    try {\r\n        isSupported = !!getInst(\"fetch\");\r\n        var request = getInst(\"Request\");\r\n        if (isSupported && withKeepAlive && request) {\r\n            isSupported = _hasProperty(request, \"keepalive\");\r\n        }\r\n    }\r\n    catch (e) {\r\n        // Just Swallow any failure during availability checks\r\n    }\r\n    return isSupported;\r\n}\r\nexport function useXDomainRequest() {\r\n    if (_useXDomainRequest === null) {\r\n        _useXDomainRequest = (typeof XDomainRequest !== strShimUndefined);\r\n        if (_useXDomainRequest && isXhrSupported()) {\r\n            _useXDomainRequest = _useXDomainRequest && !_hasProperty(getInst(strXMLHttpRequest), \"withCredentials\");\r\n        }\r\n    }\r\n    return _useXDomainRequest;\r\n}\r\n/**\r\n * Checks if XMLHttpRequest is supported\r\n * @returns True if supported, otherwise false\r\n */\r\nexport function isXhrSupported() {\r\n    var isSupported = false;\r\n    try {\r\n        var xmlHttpRequest = getInst(strXMLHttpRequest);\r\n        isSupported = !!xmlHttpRequest;\r\n    }\r\n    catch (e) {\r\n        // Just Swallow any failure during availability checks\r\n    }\r\n    return isSupported;\r\n}\r\nfunction _getNamedValue(values, name) {\r\n    if (values) {\r\n        for (var i = 0; i < values[_DYN_LENGTH /* @min:%2elength */]; i++) {\r\n            var value = values[i];\r\n            if (value[_DYN_NAME /* @min:%2ename */]) {\r\n                if (value[_DYN_NAME /* @min:%2ename */] === name) {\r\n                    return value;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return {};\r\n}\r\n/**\r\n * Helper function to fetch the named meta-tag from the page.\r\n * @param name\r\n */\r\nexport function findMetaTag(name) {\r\n    var doc = getDocument();\r\n    if (doc && name) {\r\n        // Look for a meta-tag\r\n        return _getNamedValue(doc.querySelectorAll(\"meta\"), name).content;\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Helper function to fetch the named server timing value from the page response (first navigation event).\r\n * @param name\r\n */\r\nexport function findNamedServerTiming(name) {\r\n    var value;\r\n    var perf = getPerformance();\r\n    if (perf) {\r\n        // Try looking for a server-timing header\r\n        var navPerf = perf.getEntriesByType(\"navigation\") || [];\r\n        value = _getNamedValue((navPerf[_DYN_LENGTH /* @min:%2elength */] > 0 ? navPerf[0] : {}).serverTiming, name).description;\r\n    }\r\n    return value;\r\n}\r\n// TODO: should reuse this method for analytics plugin\r\nexport function dispatchEvent(target, evnt) {\r\n    if (target && target.dispatchEvent && evnt) {\r\n        target.dispatchEvent(evnt);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\nexport function createCustomDomEvent(eventName, details) {\r\n    var event = null;\r\n    var detail = { detail: details || null };\r\n    if (isFunction(CustomEvent)) { // Use CustomEvent constructor when available\r\n        event = new CustomEvent(eventName, detail);\r\n    }\r\n    else { // CustomEvent has no constructor in IE\r\n        var doc = getDocument();\r\n        if (doc && doc.createEvent) {\r\n            event = doc.createEvent(\"CustomEvent\");\r\n            event.initCustomEvent(eventName, true, true, detail);\r\n        }\r\n    }\r\n    return event;\r\n}\r\nexport function sendCustomEvent(evtName, cfg, customDetails) {\r\n    var global = getGlobal();\r\n    if (global && global.CustomEvent) {\r\n        try {\r\n            var details = { cfg: cfg || null, customDetails: customDetails || null };\r\n            return dispatchEvent(global, createCustomDomEvent(evtName, details));\r\n        }\r\n        catch (e) {\r\n            // eslint-disable-next-line no-empty\r\n        }\r\n    }\r\n    return false;\r\n}\r\n//# sourceMappingURL=EnvUtils.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { arrForEach, arrIndexOf, getDocument, getWindow, isArray, objForEachKey, objKeys } from \"@nevware21/ts-utils\";\r\nimport { _DYN_HANDLER, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_REPLACE, _DYN_SPLICE, _DYN_SPLIT, _DYN_TYPE } from \"../__DynamicConstants\";\r\nimport { createElmNodeData, createUniqueNamespace } from \"./DataCacheHelper\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n// Added to help with minfication\r\nvar strOnPrefix = \"on\";\r\nvar strAttachEvent = \"attachEvent\";\r\nvar strAddEventHelper = \"addEventListener\";\r\nvar strDetachEvent = \"detachEvent\";\r\nvar strRemoveEventListener = \"removeEventListener\";\r\nvar strEvents = \"events\";\r\nvar strVisibilityChangeEvt = \"visibilitychange\";\r\nvar strPageHide = \"pagehide\";\r\nvar strPageShow = \"pageshow\";\r\nvar strUnload = \"unload\";\r\nvar strBeforeUnload = \"beforeunload\";\r\nvar strPageHideNamespace = createUniqueNamespace(\"aiEvtPageHide\");\r\nvar strPageShowNamespace = createUniqueNamespace(\"aiEvtPageShow\");\r\nvar rRemoveEmptyNs = /\\.[\\.]+/g;\r\nvar rRemoveTrailingEmptyNs = /[\\.]+$/;\r\nvar _guid = 1;\r\nvar elmNodeData = createElmNodeData(\"events\");\r\nvar eventNamespace = /^([^.]*)(?:\\.(.+)|)/;\r\nfunction _normalizeNamespace(name) {\r\n    if (name && name[_DYN_REPLACE /* @min:%2ereplace */]) {\r\n        return name[_DYN_REPLACE /* @min:%2ereplace */](/^[\\s\\.]+|(?=[\\s\\.])[\\.\\s]+$/g, STR_EMPTY);\r\n    }\r\n    return name;\r\n}\r\nfunction _getEvtNamespace(eventName, evtNamespace) {\r\n    var _a;\r\n    if (evtNamespace) {\r\n        var theNamespace_1 = STR_EMPTY;\r\n        if (isArray(evtNamespace)) {\r\n            theNamespace_1 = STR_EMPTY;\r\n            arrForEach(evtNamespace, function (name) {\r\n                name = _normalizeNamespace(name);\r\n                if (name) {\r\n                    if (name[0] !== \".\") {\r\n                        name = \".\" + name;\r\n                    }\r\n                    theNamespace_1 += name;\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            theNamespace_1 = _normalizeNamespace(evtNamespace);\r\n        }\r\n        if (theNamespace_1) {\r\n            if (theNamespace_1[0] !== \".\") {\r\n                theNamespace_1 = \".\" + theNamespace_1;\r\n            }\r\n            // We may only have the namespace and not an eventName\r\n            eventName = (eventName || STR_EMPTY) + theNamespace_1;\r\n        }\r\n    }\r\n    var parsedEvent = (eventNamespace.exec(eventName || STR_EMPTY) || []);\r\n    return _a = {},\r\n        _a[_DYN_TYPE /* @min:type */] = parsedEvent[1],\r\n        _a.ns = ((parsedEvent[2] || STR_EMPTY).replace(rRemoveEmptyNs, \".\").replace(rRemoveTrailingEmptyNs, STR_EMPTY)[_DYN_SPLIT /* @min:%2esplit */](\".\").sort()).join(\".\"),\r\n        _a;\r\n}\r\n/**\r\n * Get all of the registered events on the target object, this is primarily used for testing cleanup but may also be used by\r\n * applications to remove their own events\r\n * @param target - The EventTarget that has registered events\r\n * @param eventName - [Optional] The name of the event to return the registered handlers and full name (with namespaces)\r\n * @param evtNamespace - [Optional] Additional namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace,\r\n * if the eventName also includes a namespace the namespace(s) are merged into a single namespace\r\n */\r\nexport function __getRegisteredEvents(target, eventName, evtNamespace) {\r\n    var theEvents = [];\r\n    var eventCache = elmNodeData.get(target, strEvents, {}, false);\r\n    var evtName = _getEvtNamespace(eventName, evtNamespace);\r\n    objForEachKey(eventCache, function (evtType, registeredEvents) {\r\n        arrForEach(registeredEvents, function (value) {\r\n            var _a;\r\n            if (!evtName[_DYN_TYPE /* @min:%2etype */] || evtName[_DYN_TYPE /* @min:%2etype */] === value.evtName[_DYN_TYPE /* @min:%2etype */]) {\r\n                if (!evtName.ns || evtName.ns === evtName.ns) {\r\n                    theEvents[_DYN_PUSH /* @min:%2epush */]((_a = {},\r\n                        _a[_DYN_NAME /* @min:name */] = value.evtName[_DYN_TYPE /* @min:%2etype */] + (value.evtName.ns ? \".\" + value.evtName.ns : STR_EMPTY),\r\n                        _a.handler = value[_DYN_HANDLER /* @min:%2ehandler */],\r\n                        _a));\r\n                }\r\n            }\r\n        });\r\n    });\r\n    return theEvents;\r\n}\r\n// Exported for internal unit testing only\r\nfunction _getRegisteredEvents(target, evtName, addDefault) {\r\n    if (addDefault === void 0) { addDefault = true; }\r\n    var aiEvts = elmNodeData.get(target, strEvents, {}, addDefault);\r\n    var registeredEvents = aiEvts[evtName];\r\n    if (!registeredEvents) {\r\n        registeredEvents = aiEvts[evtName] = [];\r\n    }\r\n    return registeredEvents;\r\n}\r\nfunction _doDetach(obj, evtName, handlerRef, useCapture) {\r\n    if (obj && evtName && evtName[_DYN_TYPE /* @min:%2etype */]) {\r\n        if (obj[strRemoveEventListener]) {\r\n            obj[strRemoveEventListener](evtName[_DYN_TYPE /* @min:%2etype */], handlerRef, useCapture);\r\n        }\r\n        else if (obj[strDetachEvent]) {\r\n            obj[strDetachEvent](strOnPrefix + evtName[_DYN_TYPE /* @min:%2etype */], handlerRef);\r\n        }\r\n    }\r\n}\r\nfunction _doAttach(obj, evtName, handlerRef, useCapture) {\r\n    var result = false;\r\n    if (obj && evtName && evtName[_DYN_TYPE /* @min:%2etype */] && handlerRef) {\r\n        if (obj[strAddEventHelper]) {\r\n            // all browsers except IE before version 9\r\n            obj[strAddEventHelper](evtName[_DYN_TYPE /* @min:%2etype */], handlerRef, useCapture);\r\n            result = true;\r\n        }\r\n        else if (obj[strAttachEvent]) {\r\n            // IE before version 9\r\n            obj[strAttachEvent](strOnPrefix + evtName[_DYN_TYPE /* @min:%2etype */], handlerRef);\r\n            result = true;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction _doUnregister(target, events, evtName, unRegFn) {\r\n    var idx = events[_DYN_LENGTH /* @min:%2elength */];\r\n    while (idx--) {\r\n        var theEvent = events[idx];\r\n        if (theEvent) {\r\n            if (!evtName.ns || evtName.ns === theEvent.evtName.ns) {\r\n                if (!unRegFn || unRegFn(theEvent)) {\r\n                    _doDetach(target, theEvent.evtName, theEvent[_DYN_HANDLER /* @min:%2ehandler */], theEvent.capture);\r\n                    // Remove the registered event\r\n                    events[_DYN_SPLICE /* @min:%2esplice */](idx, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction _unregisterEvents(target, evtName, unRegFn) {\r\n    if (evtName[_DYN_TYPE /* @min:%2etype */]) {\r\n        _doUnregister(target, _getRegisteredEvents(target, evtName[_DYN_TYPE /* @min:%2etype */]), evtName, unRegFn);\r\n    }\r\n    else {\r\n        var eventCache = elmNodeData.get(target, strEvents, {});\r\n        objForEachKey(eventCache, function (evtType, events) {\r\n            _doUnregister(target, events, evtName, unRegFn);\r\n        });\r\n        // Cleanup\r\n        if (objKeys(eventCache)[_DYN_LENGTH /* @min:%2elength */] === 0) {\r\n            elmNodeData.kill(target, strEvents);\r\n        }\r\n    }\r\n}\r\nexport function mergeEvtNamespace(theNamespace, namespaces) {\r\n    var newNamespaces;\r\n    if (namespaces) {\r\n        if (isArray(namespaces)) {\r\n            newNamespaces = [theNamespace].concat(namespaces);\r\n        }\r\n        else {\r\n            newNamespaces = [theNamespace, namespaces];\r\n        }\r\n        // resort the namespaces so they are always in order\r\n        newNamespaces = (_getEvtNamespace(\"xx\", newNamespaces).ns)[_DYN_SPLIT /* @min:%2esplit */](\".\");\r\n    }\r\n    else {\r\n        newNamespaces = theNamespace;\r\n    }\r\n    return newNamespaces;\r\n}\r\n/**\r\n * Binds the specified function to an event, so that the function gets called whenever the event fires on the object\r\n * @param obj - Object to add the event too.\r\n * @param eventName - String that specifies any of the standard DHTML Events without \"on\" prefix, if may also include an optional (dot \".\" prefixed)\r\n * namespaces \"click\" \"click.mynamespace\" in addition to specific namespaces.\r\n * @param handlerRef - Pointer that specifies the function to call when event fires\r\n * @param evtNamespace - [Optional] Additional namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace,\r\n * if the eventName also includes a namespace the namespace(s) are merged into a single namespace\r\n * @param useCapture - [Optional] Defaults to false\r\n * @returns True if the function was bound successfully to the event, otherwise false\r\n */\r\nexport function eventOn(target, eventName, handlerRef, evtNamespace, useCapture) {\r\n    var _a;\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    var result = false;\r\n    if (target) {\r\n        try {\r\n            var evtName = _getEvtNamespace(eventName, evtNamespace);\r\n            result = _doAttach(target, evtName, handlerRef, useCapture);\r\n            if (result && elmNodeData.accept(target)) {\r\n                var registeredEvent = (_a = {\r\n                        guid: _guid++,\r\n                        evtName: evtName\r\n                    },\r\n                    _a[_DYN_HANDLER /* @min:handler */] = handlerRef,\r\n                    _a.capture = useCapture,\r\n                    _a);\r\n                _getRegisteredEvents(target, evtName.type)[_DYN_PUSH /* @min:%2epush */](registeredEvent);\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Just Ignore any error so that we don't break any execution path\r\n        }\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Removes an event handler for the specified event\r\n * @param Object - to remove the event from\r\n * @param eventName - {string} - The name of the event, with optional namespaces or just the namespaces,\r\n * such as \"click\", \"click.mynamespace\" or \".mynamespace\"\r\n * @param handlerRef - {any} - The callback function that needs to be removed from the given event, when using a\r\n * namespace (with or without a qualifying event) this may be null to remove all previously attached event handlers\r\n * otherwise this will only remove events with this specific handler.\r\n * @param evtNamespace - [Optional] Additional namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace,\r\n * if the eventName also includes a namespace the namespace(s) are merged into a single namespace\r\n * @param useCapture - [Optional] Defaults to false\r\n */\r\nexport function eventOff(target, eventName, handlerRef, evtNamespace, useCapture) {\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    if (target) {\r\n        try {\r\n            var evtName_1 = _getEvtNamespace(eventName, evtNamespace);\r\n            var found_1 = false;\r\n            _unregisterEvents(target, evtName_1, function (regEvent) {\r\n                if ((evtName_1.ns && !handlerRef) || regEvent[_DYN_HANDLER /* @min:%2ehandler */] === handlerRef) {\r\n                    found_1 = true;\r\n                    return true;\r\n                }\r\n                return false;\r\n            });\r\n            if (!found_1) {\r\n                // fallback to try and remove as requested\r\n                _doDetach(target, evtName_1, handlerRef, useCapture);\r\n            }\r\n        }\r\n        catch (e) {\r\n            // Just Ignore any error so that we don't break any execution path\r\n        }\r\n    }\r\n}\r\n/**\r\n * Binds the specified function to an event, so that the function gets called whenever the event fires on the object\r\n * @param obj - Object to add the event too.\r\n * @param eventNameWithoutOn - String that specifies any of the standard DHTML Events without \"on\" prefix and optional (dot \".\" prefixed) namespaces \"click\" \"click.mynamespace\".\r\n * @param handlerRef - Pointer that specifies the function to call when event fires\r\n * @param useCapture - [Optional] Defaults to false\r\n * @returns True if the function was bound successfully to the event, otherwise false\r\n */\r\nexport function attachEvent(obj, eventNameWithoutOn, handlerRef, useCapture) {\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    return eventOn(obj, eventNameWithoutOn, handlerRef, null, useCapture);\r\n}\r\n/**\r\n * Removes an event handler for the specified event\r\n * @param Object - to remove the event from\r\n * @param eventNameWithoutOn - {string} - The name of the event, with optional namespaces or just the namespaces,\r\n * such as \"click\", \"click.mynamespace\" or \".mynamespace\"\r\n * @param handlerRef - {any} - The callback function that needs to be removed from the given event, when using a\r\n * namespace (with or without a qualifying event) this may be null to remove all previously attached event handlers\r\n * otherwise this will only remove events with this specific handler.\r\n * @param useCapture - [Optional] Defaults to false\r\n */\r\nexport function detachEvent(obj, eventNameWithoutOn, handlerRef, useCapture) {\r\n    if (useCapture === void 0) { useCapture = false; }\r\n    eventOff(obj, eventNameWithoutOn, handlerRef, null, useCapture);\r\n}\r\n/**\r\n * Trys to add an event handler for the specified event to the window, body and document\r\n * @param eventName - {string} - The name of the event\r\n * @param callback - {any} - The callback function that needs to be executed for the given event\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @return {boolean} - true if the handler was successfully added\r\n */\r\nexport function addEventHandler(eventName, callback, evtNamespace) {\r\n    var result = false;\r\n    var w = getWindow();\r\n    if (w) {\r\n        result = eventOn(w, eventName, callback, evtNamespace);\r\n        result = eventOn(w[\"body\"], eventName, callback, evtNamespace) || result;\r\n    }\r\n    var doc = getDocument();\r\n    if (doc) {\r\n        result = eventOn(doc, eventName, callback, evtNamespace) || result;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Trys to remove event handler(s) for the specified event/namespace to the window, body and document\r\n * @param eventName - {string} - The name of the event, with optional namespaces or just the namespaces,\r\n * such as \"click\", \"click.mynamespace\" or \".mynamespace\"\r\n * @param callback - {any} - - The callback function that needs to be removed from the given event, when using a\r\n * namespace (with or without a qualifying event) this may be null to remove all previously attached event handlers\r\n * otherwise this will only remove events with this specific handler.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n */\r\nexport function removeEventHandler(eventName, callback, evtNamespace) {\r\n    var w = getWindow();\r\n    if (w) {\r\n        eventOff(w, eventName, callback, evtNamespace);\r\n        eventOff(w[\"body\"], eventName, callback, evtNamespace);\r\n    }\r\n    var doc = getDocument();\r\n    if (doc) {\r\n        eventOff(doc, eventName, callback, evtNamespace);\r\n    }\r\n}\r\n/**\r\n * Bind the listener to the array of events\r\n * @param events - An string array of event names to bind the listener to\r\n * @param listener - The event callback to call when the event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nfunction _addEventListeners(events, listener, excludeEvents, evtNamespace) {\r\n    var added = false;\r\n    if (listener && events && events[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        arrForEach(events, function (name) {\r\n            if (name) {\r\n                if (!excludeEvents || arrIndexOf(excludeEvents, name) === -1) {\r\n                    added = addEventHandler(name, listener, evtNamespace) || added;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return added;\r\n}\r\n/**\r\n * Bind the listener to the array of events\r\n * @param events - An string array of event names to bind the listener to\r\n * @param listener - The event callback to call when the event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addEventListeners(events, listener, excludeEvents, evtNamespace) {\r\n    var added = false;\r\n    if (listener && events && isArray(events)) {\r\n        added = _addEventListeners(events, listener, excludeEvents, evtNamespace);\r\n        if (!added && excludeEvents && excludeEvents[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n            // Failed to add any listeners and we excluded some, so just attempt to add the excluded events\r\n            added = _addEventListeners(events, listener, null, evtNamespace);\r\n        }\r\n    }\r\n    return added;\r\n}\r\n/**\r\n * Remove the listener from the array of events\r\n * @param events - An string array of event names to bind the listener to\r\n * @param listener - The event callback to call when the event is triggered\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n */\r\nexport function removeEventListeners(events, listener, evtNamespace) {\r\n    if (events && isArray(events)) {\r\n        arrForEach(events, function (name) {\r\n            if (name) {\r\n                removeEventHandler(name, listener, evtNamespace);\r\n            }\r\n        });\r\n    }\r\n}\r\n/**\r\n * Listen to the 'beforeunload', 'unload' and 'pagehide' events which indicates a page unload is occurring,\r\n * this does NOT listen to the 'visibilitychange' event as while it does indicate that the page is being hidden\r\n * it does not *necessarily* mean that the page is being completely unloaded, it can mean that the user is\r\n * just navigating to a different Tab and may come back (without unloading the page). As such you may also\r\n * need to listen to the 'addPageHideEventListener' and 'addPageShowEventListener' events.\r\n * @param listener - The event callback to call when a page unload event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked, unless no other events can be.\r\n * @param evtNamespace - [Optional] Namespace(s) to append to the event listeners so they can be uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addPageUnloadEventListener(listener, excludeEvents, evtNamespace) {\r\n    // Hook the unload event for the document, window and body to ensure that the client events are flushed to the server\r\n    // As just hooking the window does not always fire (on chrome) for page navigation's.\r\n    return addEventListeners([strBeforeUnload, strUnload, strPageHide], listener, excludeEvents, evtNamespace);\r\n}\r\n/**\r\n * Remove any matching 'beforeunload', 'unload' and 'pagehide' events that may have been added via addEventListener,\r\n * addEventListeners, addPageUnloadEventListener or addPageHideEventListener.\r\n * @param listener - The specific event callback to to be removed\r\n * @param evtNamespace - [Optional] Namespace(s) uniquely identified and removed based on this namespace.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function removePageUnloadEventListener(listener, evtNamespace) {\r\n    removeEventListeners([strBeforeUnload, strUnload, strPageHide], listener, evtNamespace);\r\n}\r\n/**\r\n * Listen to the pagehide and visibility changing to 'hidden' events, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when if you plan to call\r\n * removePageShowEventListener as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The event callback to call when a page hide event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional] A Namespace to append to the event listeners so they can be uniquely identified and removed\r\n * based on this namespace. This call also adds an additional unique \"pageshow\" namespace to the events\r\n * so that only the matching \"removePageHideEventListener\" can remove these events.\r\n * Suggestion: pass as true if you are also calling addPageUnloadEventListener as that also hooks pagehide\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addPageHideEventListener(listener, excludeEvents, evtNamespace) {\r\n    function _handlePageVisibility(evt) {\r\n        var doc = getDocument();\r\n        if (listener && doc && doc.visibilityState === \"hidden\") {\r\n            listener(evt);\r\n        }\r\n    }\r\n    // add the unique page show namespace to any provided namespace so we can only remove the ones added by \"pagehide\"\r\n    var newNamespaces = mergeEvtNamespace(strPageHideNamespace, evtNamespace);\r\n    var pageUnloadAdded = _addEventListeners([strPageHide], listener, excludeEvents, newNamespaces);\r\n    if (!excludeEvents || arrIndexOf(excludeEvents, strVisibilityChangeEvt) === -1) {\r\n        pageUnloadAdded = _addEventListeners([strVisibilityChangeEvt], _handlePageVisibility, excludeEvents, newNamespaces) || pageUnloadAdded;\r\n    }\r\n    if (!pageUnloadAdded && excludeEvents) {\r\n        // Failed to add any listeners and we where requested to exclude some, so just call again without excluding anything\r\n        pageUnloadAdded = addPageHideEventListener(listener, null, evtNamespace);\r\n    }\r\n    return pageUnloadAdded;\r\n}\r\n/**\r\n * Removes the pageHide event listeners added by addPageHideEventListener, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when calling addPageHideEventListener\r\n * as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The specific listener to remove for the 'pageshow' event only (ignored for 'visibilitychange')\r\n * @param evtNamespace - The unique namespace used when calling addPageShowEventListener\r\n */\r\nexport function removePageHideEventListener(listener, evtNamespace) {\r\n    // add the unique page show namespace to any provided namespace so we only remove the ones added by \"pagehide\"\r\n    var newNamespaces = mergeEvtNamespace(strPageHideNamespace, evtNamespace);\r\n    removeEventListeners([strPageHide], listener, newNamespaces);\r\n    removeEventListeners([strVisibilityChangeEvt], null, newNamespaces);\r\n}\r\n/**\r\n * Listen to the pageshow and visibility changing to 'visible' events, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when if you plan to call\r\n * removePageShowEventListener as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The event callback to call when a page is show event is triggered\r\n * @param excludeEvents - [Optional] An array of events that should not be hooked (if possible), unless no other events can be.\r\n * @param evtNamespace - [Optional/Recommended] A Namespace to append to the event listeners so they can be uniquely\r\n * identified and removed based on this namespace. This call also adds an additional unique \"pageshow\" namespace to the events\r\n * so that only the matching \"removePageShowEventListener\" can remove these events.\r\n * @returns true - when at least one of the events was registered otherwise false\r\n */\r\nexport function addPageShowEventListener(listener, excludeEvents, evtNamespace) {\r\n    function _handlePageVisibility(evt) {\r\n        var doc = getDocument();\r\n        if (listener && doc && doc.visibilityState === \"visible\") {\r\n            listener(evt);\r\n        }\r\n    }\r\n    // add the unique page show namespace to any provided namespace so we can only remove the ones added by \"pageshow\"\r\n    var newNamespaces = mergeEvtNamespace(strPageShowNamespace, evtNamespace);\r\n    var pageShowAdded = _addEventListeners([strPageShow], listener, excludeEvents, newNamespaces);\r\n    pageShowAdded = _addEventListeners([strVisibilityChangeEvt], _handlePageVisibility, excludeEvents, newNamespaces) || pageShowAdded;\r\n    if (!pageShowAdded && excludeEvents) {\r\n        // Failed to add any listeners and we where requested to exclude some, so just call again without excluding anything\r\n        pageShowAdded = addPageShowEventListener(listener, null, evtNamespace);\r\n    }\r\n    return pageShowAdded;\r\n}\r\n/**\r\n * Removes the pageShow event listeners added by addPageShowEventListener, because the 'visibilitychange' uses\r\n * an internal proxy to detect the visibility state you SHOULD use a unique namespace when calling addPageShowEventListener\r\n * as the remove ignores the listener argument for the 'visibilitychange' event.\r\n * @param listener - The specific listener to remove for the 'pageshow' event only (ignored for 'visibilitychange')\r\n * @param evtNamespace - The unique namespace used when calling addPageShowEventListener\r\n */\r\nexport function removePageShowEventListener(listener, evtNamespace) {\r\n    // add the unique page show namespace to any provided namespace so we only remove the ones added by \"pageshow\"\r\n    var newNamespaces = mergeEvtNamespace(strPageShowNamespace, evtNamespace);\r\n    removeEventListeners([strPageShow], listener, newNamespaces);\r\n    removeEventListeners([strVisibilityChangeEvt], null, newNamespaces);\r\n}\r\n//# sourceMappingURL=EventHelpers.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { ObjAssign, ObjClass } from \"@microsoft/applicationinsights-shims\";\r\nimport { arrForEach, asString as asString21, isArray, isBoolean, isError, isFunction, isNullOrUndefined, isNumber, isObject, isPlainObject, isString, isUndefined, objDeepFreeze, objDefine, objForEachKey, objHasOwn, strIndexOf, strTrim } from \"@nevware21/ts-utils\";\r\nimport { _DYN_APPLY, _DYN_GET_ALL_RESPONSE_HEA5, _DYN_GET_RESPONSE_HEADER, _DYN_LENGTH, _DYN_NAME, _DYN_REPLACE, _DYN_SPLIT, _DYN_STATUS, _DYN_TO_LOWER_CASE } from \"../__DynamicConstants\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n// RESTRICT and AVOID circular dependencies you should not import other contained modules or export the contents of this file directly\r\n// Added to help with minification\r\nvar strGetPrototypeOf = \"getPrototypeOf\";\r\nvar rCamelCase = /-([a-z])/g;\r\nvar rNormalizeInvalid = /([^\\w\\d_$])/g;\r\nvar rLeadingNumeric = /^(\\d+[\\w\\d_$])/;\r\nexport var _getObjProto = Object[strGetPrototypeOf];\r\nexport function isNotUndefined(value) {\r\n    return !isUndefined(value);\r\n}\r\nexport function isNotNullOrUndefined(value) {\r\n    return !isNullOrUndefined(value);\r\n}\r\n/**\r\n * Validates that the string name conforms to the JS IdentifierName specification and if not\r\n * normalizes the name so that it would. This method does not identify or change any keywords\r\n * meaning that if you pass in a known keyword the same value will be returned.\r\n * This is a simplified version\r\n * @param name - The name to validate\r\n */\r\nexport function normalizeJsName(name) {\r\n    var value = name;\r\n    if (value && isString(value)) {\r\n        // CamelCase everything after the \"-\" and remove the dash\r\n        value = value[_DYN_REPLACE /* @min:%2ereplace */](rCamelCase, function (_all, letter) {\r\n            return letter.toUpperCase();\r\n        });\r\n        value = value[_DYN_REPLACE /* @min:%2ereplace */](rNormalizeInvalid, \"_\");\r\n        value = value[_DYN_REPLACE /* @min:%2ereplace */](rLeadingNumeric, function (_all, match) {\r\n            return \"_\" + match;\r\n        });\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * A simple wrapper (for minification support) to check if the value contains the search string.\r\n * @param value - The string value to check for the existence of the search value\r\n * @param search - The value search within the value\r\n */\r\nexport function strContains(value, search) {\r\n    if (value && search) {\r\n        return strIndexOf(value, search) !== -1;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Convert a date to I.S.O. format in IE8\r\n */\r\nexport function toISOString(date) {\r\n    return date && date.toISOString() || \"\";\r\n}\r\nexport var deepFreeze = objDeepFreeze;\r\n/**\r\n * Returns the name of object if it's an Error. Otherwise, returns empty string.\r\n */\r\nexport function getExceptionName(object) {\r\n    if (isError(object)) {\r\n        return object[_DYN_NAME /* @min:%2ename */];\r\n    }\r\n    return STR_EMPTY;\r\n}\r\n/**\r\n * Sets the provided value on the target instance using the field name when the provided chk function returns true, the chk\r\n * function will only be called if the new value is no equal to the original value.\r\n * @param target - The target object\r\n * @param field - The key of the target\r\n * @param value - The value to set\r\n * @param valChk - [Optional] Callback to check the value that if supplied will be called check if the new value can be set\r\n * @param srcChk - [Optional] Callback to check to original value that if supplied will be called if the new value should be set (if allowed)\r\n * @returns The existing or new value, depending what was set\r\n */\r\nexport function setValue(target, field, value, valChk, srcChk) {\r\n    var theValue = value;\r\n    if (target) {\r\n        theValue = target[field];\r\n        if (theValue !== value && (!srcChk || srcChk(theValue)) && (!valChk || valChk(value))) {\r\n            theValue = value;\r\n            target[field] = theValue;\r\n        }\r\n    }\r\n    return theValue;\r\n}\r\n/**\r\n * Returns the current value from the target object if not null or undefined otherwise sets the new value and returns it\r\n * @param target - The target object to return or set the default value\r\n * @param field - The key for the field to set on the target\r\n * @param defValue - [Optional] The value to set if not already present, when not provided a empty object will be added\r\n */\r\nexport function getSetValue(target, field, defValue) {\r\n    var theValue;\r\n    if (target) {\r\n        theValue = target[field];\r\n        if (!theValue && isNullOrUndefined(theValue)) {\r\n            // Supports having the default as null\r\n            theValue = !isUndefined(defValue) ? defValue : {};\r\n            target[field] = theValue;\r\n        }\r\n    }\r\n    else {\r\n        // Expanded for performance so we only check defValue if required\r\n        theValue = !isUndefined(defValue) ? defValue : {};\r\n    }\r\n    return theValue;\r\n}\r\nfunction _createProxyFunction(source, funcName) {\r\n    var srcFunc = null;\r\n    var src = null;\r\n    if (isFunction(source)) {\r\n        srcFunc = source;\r\n    }\r\n    else {\r\n        src = source;\r\n    }\r\n    return function () {\r\n        // Capture the original arguments passed to the method\r\n        var originalArguments = arguments;\r\n        if (srcFunc) {\r\n            src = srcFunc();\r\n        }\r\n        if (src) {\r\n            return src[funcName][_DYN_APPLY /* @min:%2eapply */](src, originalArguments);\r\n        }\r\n    };\r\n}\r\n/**\r\n * Effectively assigns all enumerable properties (not just own properties) and functions (including inherited prototype) from\r\n * the source object to the target, it attempts to use proxy getters / setters (if possible) and proxy functions to avoid potential\r\n * implementation issues by assigning prototype functions as instance ones\r\n *\r\n * This method is the primary method used to \"update\" the snippet proxy with the ultimate implementations.\r\n *\r\n * Special ES3 Notes:\r\n * Updates (setting) of direct property values on the target or indirectly on the source object WILL NOT WORK PROPERLY, updates to the\r\n * properties of \"referenced\" object will work (target.context.newValue = 10 => will be reflected in the source.context as it's the\r\n * same object). ES3 Failures: assigning target.myProp = 3 -> Won't change source.myProp = 3, likewise the reverse would also fail.\r\n * @param target - The target object to be assigned with the source properties and functions\r\n * @param source - The source object which will be assigned / called by setting / calling the targets proxies\r\n * @param chkSet - An optional callback to determine whether a specific property/function should be proxied\r\n */\r\nexport function proxyAssign(target, source, chkSet) {\r\n    if (target && source && isObject(target) && isObject(source)) {\r\n        var _loop_1 = function (field) {\r\n            if (isString(field)) {\r\n                var value = source[field];\r\n                if (isFunction(value)) {\r\n                    if (!chkSet || chkSet(field, true, source, target)) {\r\n                        // Create a proxy function rather than just copying the (possible) prototype to the new object as an instance function\r\n                        target[field] = _createProxyFunction(source, field);\r\n                    }\r\n                }\r\n                else if (!chkSet || chkSet(field, false, source, target)) {\r\n                    if (objHasOwn(target, field)) {\r\n                        // Remove any previous instance property\r\n                        delete target[field];\r\n                    }\r\n                    objDefine(target, field, {\r\n                        g: function () {\r\n                            return source[field];\r\n                        },\r\n                        s: function (theValue) {\r\n                            source[field] = theValue;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        };\r\n        // effectively apply/proxy full source to the target instance\r\n        for (var field in source) {\r\n            _loop_1(field);\r\n        }\r\n    }\r\n    return target;\r\n}\r\n/**\r\n * Creates a proxy function on the target which internally will call the source version with all arguments passed to the target method.\r\n *\r\n * @param target - The target object to be assigned with the source properties and functions\r\n * @param name - The function name that will be added on the target\r\n * @param source - The source object which will be assigned / called by setting / calling the targets proxies\r\n * @param theFunc - The function name on the source that will be proxied on the target\r\n * @param overwriteTarget - If `false` this will not replace any pre-existing name otherwise (the default) it will overwrite any existing name\r\n */\r\nexport function proxyFunctionAs(target, name, source, theFunc, overwriteTarget) {\r\n    if (target && name && source) {\r\n        if (overwriteTarget !== false || isUndefined(target[name])) {\r\n            target[name] = _createProxyFunction(source, theFunc);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Creates proxy functions on the target which internally will call the source version with all arguments passed to the target method.\r\n *\r\n * @param target - The target object to be assigned with the source properties and functions\r\n * @param source - The source object which will be assigned / called by setting / calling the targets proxies\r\n * @param functionsToProxy - An array of function names that will be proxied on the target\r\n * @param overwriteTarget - If false this will not replace any pre-existing name otherwise (the default) it will overwrite any existing name\r\n */\r\nexport function proxyFunctions(target, source, functionsToProxy, overwriteTarget) {\r\n    if (target && source && isObject(target) && isArray(functionsToProxy)) {\r\n        arrForEach(functionsToProxy, function (theFuncName) {\r\n            if (isString(theFuncName)) {\r\n                proxyFunctionAs(target, theFuncName, source, theFuncName, overwriteTarget);\r\n            }\r\n        });\r\n    }\r\n    return target;\r\n}\r\n/**\r\n * Simpler helper to create a dynamic class that implements the interface and populates the values with the defaults.\r\n * Only instance properties (hasOwnProperty) values are copied from the defaults to the new instance\r\n * @param defaults - Simple helper\r\n */\r\nexport function createClassFromInterface(defaults) {\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            var _this = this;\r\n            if (defaults) {\r\n                objForEachKey(defaults, function (field, value) {\r\n                    _this[field] = value;\r\n                });\r\n            }\r\n        }\r\n        return class_1;\r\n    }());\r\n}\r\n/**\r\n * A helper function to assist with JIT performance for objects that have properties added / removed dynamically\r\n * this is primarily for chromium based browsers and has limited effects on Firefox and none of IE. Only call this\r\n * function after you have finished \"updating\" the object, calling this within loops reduces or defeats the benefits.\r\n * This helps when iterating using for..in, objKeys() and objForEach()\r\n * @param theObject - The object to be optimized if possible\r\n */\r\nexport function optimizeObject(theObject) {\r\n    // V8 Optimization to cause the JIT compiler to create a new optimized object for looking up the own properties\r\n    // primarily for object with <= 19 properties for >= 20 the effect is reduced or non-existent\r\n    if (theObject && ObjAssign) {\r\n        theObject = ObjClass(ObjAssign({}, theObject));\r\n    }\r\n    return theObject;\r\n}\r\nexport function objExtend(obj1, obj2, obj3, obj4, obj5, obj6) {\r\n    // Variables\r\n    var theArgs = arguments;\r\n    var extended = theArgs[0] || {};\r\n    var argLen = theArgs[_DYN_LENGTH /* @min:%2elength */];\r\n    var deep = false;\r\n    var idx = 1;\r\n    // Check for \"Deep\" flag\r\n    if (argLen > 0 && isBoolean(extended)) {\r\n        deep = extended;\r\n        extended = theArgs[idx] || {};\r\n        idx++;\r\n    }\r\n    // Handle case when target is a string or something (possible in deep copy)\r\n    if (!isObject(extended)) {\r\n        extended = {};\r\n    }\r\n    // Loop through each remaining object and conduct a merge\r\n    for (; idx < argLen; idx++) {\r\n        var arg = theArgs[idx];\r\n        var isArgArray = isArray(arg);\r\n        var isArgObj = isObject(arg);\r\n        for (var prop in arg) {\r\n            var propOk = (isArgArray && (prop in arg)) || (isArgObj && objHasOwn(arg, prop));\r\n            if (!propOk) {\r\n                continue;\r\n            }\r\n            var newValue = arg[prop];\r\n            var isNewArray = void 0;\r\n            // If deep merge and property is an object, merge properties\r\n            if (deep && newValue && ((isNewArray = isArray(newValue)) || isPlainObject(newValue))) {\r\n                // Grab the current value of the extended object\r\n                var clone = extended[prop];\r\n                if (isNewArray) {\r\n                    if (!isArray(clone)) {\r\n                        // We can't \"merge\" an array with a non-array so overwrite the original\r\n                        clone = [];\r\n                    }\r\n                }\r\n                else if (!isPlainObject(clone)) {\r\n                    // We can't \"merge\" an object with a non-object\r\n                    clone = {};\r\n                }\r\n                // Never move the original objects always clone them\r\n                newValue = objExtend(deep, clone, newValue);\r\n            }\r\n            // Assign the new (or previous) value (unless undefined)\r\n            if (newValue !== undefined) {\r\n                extended[prop] = newValue;\r\n            }\r\n        }\r\n    }\r\n    return extended;\r\n}\r\nexport var asString = asString21;\r\nexport function isFeatureEnabled(feature, cfg) {\r\n    var rlt = false;\r\n    var ft = cfg && cfg.featureOptIn && cfg.featureOptIn[feature];\r\n    if (feature && ft) {\r\n        var mode = ft.mode;\r\n        // NOTE: None will be considered as true\r\n        rlt = (mode == 3 /* FeatureOptInMode.enable */) || (mode == 1 /* FeatureOptInMode.none */);\r\n    }\r\n    return rlt;\r\n}\r\nexport function getResponseText(xhr) {\r\n    try {\r\n        return xhr.responseText;\r\n    }\r\n    catch (e) {\r\n        // Best effort, as XHR may throw while XDR wont so just ignore\r\n    }\r\n    return null;\r\n}\r\nexport function formatErrorMessageXdr(xdr, message) {\r\n    if (xdr) {\r\n        return \"XDomainRequest,Response:\" + getResponseText(xdr) || \"\";\r\n    }\r\n    return message;\r\n}\r\nexport function formatErrorMessageXhr(xhr, message) {\r\n    if (xhr) {\r\n        return \"XMLHttpRequest,Status:\" + xhr[_DYN_STATUS /* @min:%2estatus */] + \",Response:\" + getResponseText(xhr) || xhr.response || \"\";\r\n    }\r\n    return message;\r\n}\r\nexport function prependTransports(theTransports, newTransports) {\r\n    if (newTransports) {\r\n        if (isNumber(newTransports)) {\r\n            theTransports = [newTransports].concat(theTransports);\r\n        }\r\n        else if (isArray(newTransports)) {\r\n            theTransports = newTransports.concat(theTransports);\r\n        }\r\n    }\r\n    return theTransports;\r\n}\r\nvar strDisabledPropertyName = \"Microsoft_ApplicationInsights_BypassAjaxInstrumentation\";\r\nvar strWithCredentials = \"withCredentials\";\r\nvar strTimeout = \"timeout\";\r\n/**\r\n * Create and open an XMLHttpRequest object\r\n * @param method - The request method\r\n * @param urlString - The url\r\n * @param withCredentials - Option flag indicating that credentials should be sent\r\n * @param disabled - Optional flag indicating that the XHR object should be marked as disabled and not tracked (default is false)\r\n * @param isSync - Optional flag indicating if the instance should be a synchronous request (defaults to false)\r\n * @param timeout - Optional value identifying the timeout value that should be assigned to the XHR request\r\n * @returns A new opened XHR request\r\n */\r\nexport function openXhr(method, urlString, withCredentials, disabled, isSync, timeout) {\r\n    if (disabled === void 0) { disabled = false; }\r\n    if (isSync === void 0) { isSync = false; }\r\n    function _wrapSetXhrProp(xhr, prop, value) {\r\n        try {\r\n            xhr[prop] = value;\r\n        }\r\n        catch (e) {\r\n            // - Wrapping as depending on the environment setting the property may fail (non-terminally)\r\n        }\r\n    }\r\n    var xhr = new XMLHttpRequest();\r\n    if (disabled) {\r\n        // Tag the instance so it's not tracked (trackDependency)\r\n        // If the environment has locked down the XMLHttpRequest (preventExtensions and/or freeze), this would\r\n        // cause the request to fail and we no telemetry would be sent\r\n        _wrapSetXhrProp(xhr, strDisabledPropertyName, disabled);\r\n    }\r\n    if (withCredentials) {\r\n        // Some libraries require that the withCredentials flag is set \"before\" open and\r\n        // - Wrapping as IE 10 has started throwing when setting before open\r\n        _wrapSetXhrProp(xhr, strWithCredentials, withCredentials);\r\n    }\r\n    xhr.open(method, urlString, !isSync);\r\n    if (withCredentials) {\r\n        // withCredentials should be set AFTER open (https://xhr.spec.whatwg.org/#the-withcredentials-attribute)\r\n        // And older firefox instances from 11+ will throw for sync events (current versions don't) which happens during unload processing\r\n        _wrapSetXhrProp(xhr, strWithCredentials, withCredentials);\r\n    }\r\n    // Only set the timeout for asynchronous requests as\r\n    // \"Timeout shouldn't be used for synchronous XMLHttpRequests requests used in a document environment or it will throw an InvalidAccessError exception.\"\"\r\n    // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/timeout\r\n    if (!isSync && timeout) {\r\n        _wrapSetXhrProp(xhr, strTimeout, timeout);\r\n    }\r\n    return xhr;\r\n}\r\n/**\r\n* Converts the XHR getAllResponseHeaders to a map containing the header key and value.\r\n* @internal\r\n*/\r\n// tslint:disable-next-line: align\r\nexport function convertAllHeadersToMap(headersString) {\r\n    var headers = {};\r\n    if (isString(headersString)) {\r\n        var headersArray = strTrim(headersString)[_DYN_SPLIT /* @min:%2esplit */](/[\\r\\n]+/);\r\n        arrForEach(headersArray, function (headerEntry) {\r\n            if (headerEntry) {\r\n                var idx = headerEntry.indexOf(\": \");\r\n                if (idx !== -1) {\r\n                    // The new spec has the headers returning all as lowercase -- but not all browsers do this yet\r\n                    var header = strTrim(headerEntry.substring(0, idx))[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]();\r\n                    var value = strTrim(headerEntry.substring(idx + 1));\r\n                    headers[header] = value;\r\n                }\r\n                else {\r\n                    headers[strTrim(headerEntry)] = 1;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    return headers;\r\n}\r\n/**\r\n* append the XHR headers.\r\n* @internal\r\n*/\r\nexport function _appendHeader(theHeaders, xhr, name) {\r\n    if (!theHeaders[name] && xhr && xhr[_DYN_GET_RESPONSE_HEADER /* @min:%2egetResponseHeader */]) {\r\n        var value = xhr[_DYN_GET_RESPONSE_HEADER /* @min:%2egetResponseHeader */](name);\r\n        if (value) {\r\n            theHeaders[name] = strTrim(value);\r\n        }\r\n    }\r\n    return theHeaders;\r\n}\r\nvar STR_KILL_DURATION_HEADER = \"kill-duration\";\r\nvar STR_KILL_DURATION_SECONDS_HEADER = \"kill-duration-seconds\";\r\nvar STR_TIME_DELTA_HEADER = \"time-delta-millis\";\r\n/**\r\n* get the XHR getAllResponseHeaders.\r\n* @internal\r\n*/\r\nexport function _getAllResponseHeaders(xhr, isOneDs) {\r\n    var theHeaders = {};\r\n    if (!xhr[_DYN_GET_ALL_RESPONSE_HEA5 /* @min:%2egetAllResponseHeaders */]) {\r\n        // Firefox 2-63 doesn't have getAllResponseHeaders function but it does have getResponseHeader\r\n        // Only call these if getAllResponseHeaders doesn't exist, otherwise we can get invalid response errors\r\n        // as collector is not currently returning the correct header to allow JS to access these headers\r\n        if (!!isOneDs) {\r\n            theHeaders = _appendHeader(theHeaders, xhr, STR_TIME_DELTA_HEADER);\r\n            theHeaders = _appendHeader(theHeaders, xhr, STR_KILL_DURATION_HEADER);\r\n            theHeaders = _appendHeader(theHeaders, xhr, STR_KILL_DURATION_SECONDS_HEADER);\r\n        }\r\n    }\r\n    else {\r\n        theHeaders = convertAllHeadersToMap(xhr[_DYN_GET_ALL_RESPONSE_HEA5 /* @min:%2egetAllResponseHeaders */]());\r\n    }\r\n    return theHeaders;\r\n}\r\n//# sourceMappingURL=HelperFuncs.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n// ###################################################################################################################################################\r\n// Note: DON'T Export these const from the package as we are still targeting IE/ES5 this will export a mutable variables that someone could change ###\r\n// ###################################################################################################################################################\r\nexport var UNDEFINED_VALUE = undefined;\r\nexport var STR_EMPTY = \"\";\r\nexport var STR_CHANNELS = \"channels\";\r\nexport var STR_CORE = \"core\";\r\nexport var STR_CREATE_PERF_MGR = \"createPerfMgr\";\r\nexport var STR_DISABLED = \"disabled\";\r\nexport var STR_EXTENSION_CONFIG = \"extensionConfig\";\r\nexport var STR_EXTENSIONS = \"extensions\";\r\nexport var STR_PROCESS_TELEMETRY = \"processTelemetry\";\r\nexport var STR_PRIORITY = \"priority\";\r\nexport var STR_EVENTS_SENT = \"eventsSent\";\r\nexport var STR_EVENTS_DISCARDED = \"eventsDiscarded\";\r\nexport var STR_EVENTS_SEND_REQUEST = \"eventsSendRequest\";\r\nexport var STR_PERF_EVENT = \"perfEvent\";\r\nexport var STR_OFFLINE_STORE = \"offlineEventsStored\";\r\nexport var STR_OFFLINE_SENT = \"offlineBatchSent\";\r\nexport var STR_OFFLINE_DROP = \"offlineBatchDrop\";\r\nexport var STR_GET_PERF_MGR = \"getPerfMgr\";\r\nexport var STR_DOMAIN = \"domain\";\r\nexport var STR_PATH = \"path\";\r\nexport var STR_NOT_DYNAMIC_ERROR = \"Not dynamic - \";\r\n//# sourceMappingURL=InternalConstants.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { createAllPromise, createPromise, doAwaitResponse } from \"@nevware21/ts-async\";\r\nimport { arrForEach, arrIndexOf, objDefine, safe, scheduleTimeout } from \"@nevware21/ts-utils\";\r\nimport { createDynamicConfig } from \"../Config/DynamicConfig\";\r\nimport { _DYN_ADD_NOTIFICATION_LIS1, _DYN_CANCEL, _DYN_DATA, _DYN_IS_ASYNC, _DYN_IS_CHILD_EVT, _DYN_LENGTH, _DYN_PUSH, _DYN_REMOVE_NOTIFICATION_0, _DYN_SPLICE, _DYN_UNLOAD, _DYN_WATCH } from \"../__DynamicConstants\";\r\nimport { STR_EVENTS_DISCARDED, STR_EVENTS_SEND_REQUEST, STR_EVENTS_SENT, STR_OFFLINE_DROP, STR_OFFLINE_SENT, STR_OFFLINE_STORE, STR_PERF_EVENT } from \"./InternalConstants\";\r\nvar defaultValues = {\r\n    perfEvtsSendAll: false\r\n};\r\nfunction _runScheduledListeners(asyncNotifications) {\r\n    asyncNotifications.h = null;\r\n    var callbacks = asyncNotifications.cb;\r\n    asyncNotifications.cb = [];\r\n    arrForEach(callbacks, function (cb) {\r\n        // Run the listener in a try-catch to ensure that a single listener failing doesn't prevent the others from running\r\n        safe(cb.fn, [cb.arg]);\r\n    });\r\n}\r\n// This function is used to combine the logic of running the listeners and handling the async notifications so that they don't\r\n// create multiple timers if there are multiple async listeners.\r\nfunction _runListeners(listeners, name, asyncNotifications, callback) {\r\n    arrForEach(listeners, function (listener) {\r\n        if (listener && listener[name]) {\r\n            if (asyncNotifications) {\r\n                // Schedule the callback to be called after the current call stack has cleared.\r\n                asyncNotifications.cb[_DYN_PUSH /* @min:%2epush */]({\r\n                    fn: callback,\r\n                    arg: listener\r\n                });\r\n                asyncNotifications.h = asyncNotifications.h || scheduleTimeout(_runScheduledListeners, 0, asyncNotifications);\r\n            }\r\n            else {\r\n                // Run the listener in a try-catch to ensure that a single listener failing doesn't prevent the others from running\r\n                safe(callback, [listener]);\r\n            }\r\n        }\r\n    });\r\n}\r\n/**\r\n * Class to manage sending notifications to all the listeners.\r\n */\r\nvar NotificationManager = /** @class */ (function () {\r\n    function NotificationManager(config) {\r\n        this.listeners = [];\r\n        var perfEvtsSendAll;\r\n        var unloadHandler;\r\n        var _listeners = [];\r\n        var _asyncNotifications = {\r\n            h: null,\r\n            cb: []\r\n        };\r\n        var cfgHandler = createDynamicConfig(config, defaultValues);\r\n        unloadHandler = cfgHandler[_DYN_WATCH /* @min:%2ewatch */](function (details) {\r\n            perfEvtsSendAll = !!details.cfg.perfEvtsSendAll;\r\n        });\r\n        dynamicProto(NotificationManager, this, function (_self) {\r\n            objDefine(_self, \"listeners\", {\r\n                g: function () { return _listeners; }\r\n            });\r\n            _self[_DYN_ADD_NOTIFICATION_LIS1 /* @min:%2eaddNotificationListener */] = function (listener) {\r\n                _listeners[_DYN_PUSH /* @min:%2epush */](listener);\r\n            };\r\n            /**\r\n             * Removes all instances of the listener.\r\n             * @param listener - AWTNotificationListener to remove.\r\n             */\r\n            _self[_DYN_REMOVE_NOTIFICATION_0 /* @min:%2eremoveNotificationListener */] = function (listener) {\r\n                var index = arrIndexOf(_listeners, listener);\r\n                while (index > -1) {\r\n                    _listeners[_DYN_SPLICE /* @min:%2esplice */](index, 1);\r\n                    index = arrIndexOf(_listeners, listener);\r\n                }\r\n            };\r\n            /**\r\n             * Notification for events sent.\r\n             * @param events - The array of events that have been sent.\r\n             */\r\n            _self[STR_EVENTS_SENT /* @min:%2eeventsSent */] = function (events) {\r\n                _runListeners(_listeners, STR_EVENTS_SENT, _asyncNotifications, function (listener) {\r\n                    listener[STR_EVENTS_SENT /* @min:%2eeventsSent */](events);\r\n                });\r\n            };\r\n            /**\r\n             * Notification for events being discarded.\r\n             * @param events - The array of events that have been discarded by the SDK.\r\n             * @param reason - The reason for which the SDK discarded the events. The EventsDiscardedReason\r\n             * constant should be used to check the different values.\r\n             */\r\n            _self[STR_EVENTS_DISCARDED /* @min:%2eeventsDiscarded */] = function (events, reason) {\r\n                _runListeners(_listeners, STR_EVENTS_DISCARDED, _asyncNotifications, function (listener) {\r\n                    listener[STR_EVENTS_DISCARDED /* @min:%2eeventsDiscarded */](events, reason);\r\n                });\r\n            };\r\n            /**\r\n             * [Optional] A function called when the events have been requested to be sent to the sever.\r\n             * @param sendReason - The reason why the event batch is being sent.\r\n             * @param isAsync - A flag which identifies whether the requests are being sent in an async or sync manner.\r\n             */\r\n            _self[STR_EVENTS_SEND_REQUEST /* @min:%2eeventsSendRequest */] = function (sendReason, isAsync) {\r\n                _runListeners(_listeners, STR_EVENTS_SEND_REQUEST, isAsync ? _asyncNotifications : null, function (listener) {\r\n                    listener[STR_EVENTS_SEND_REQUEST /* @min:%2eeventsSendRequest */](sendReason, isAsync);\r\n                });\r\n            };\r\n            _self[STR_PERF_EVENT /* @min:%2eperfEvent */] = function (perfEvent) {\r\n                if (perfEvent) {\r\n                    // Send all events or only parent events\r\n                    if (perfEvtsSendAll || !perfEvent[_DYN_IS_CHILD_EVT /* @min:%2eisChildEvt */]()) {\r\n                        _runListeners(_listeners, STR_PERF_EVENT, null, function (listener) {\r\n                            if (perfEvent[_DYN_IS_ASYNC /* @min:%2eisAsync */]) {\r\n                                scheduleTimeout(function () { return listener[STR_PERF_EVENT /* @min:%2eperfEvent */](perfEvent); }, 0);\r\n                            }\r\n                            else {\r\n                                listener[STR_PERF_EVENT /* @min:%2eperfEvent */](perfEvent);\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n            };\r\n            _self[STR_OFFLINE_STORE /* @min:%2eofflineEventsStored */] = function (events) {\r\n                if (events && events[_DYN_LENGTH /* @min:%2elength */]) {\r\n                    _runListeners(_listeners, STR_OFFLINE_STORE, _asyncNotifications, function (listener) {\r\n                        listener[STR_OFFLINE_STORE /* @min:%2eofflineEventsStored */](events);\r\n                    });\r\n                }\r\n            };\r\n            _self[STR_OFFLINE_SENT /* @min:%2eofflineBatchSent */] = function (batch) {\r\n                if (batch && batch[_DYN_DATA /* @min:%2edata */]) {\r\n                    _runListeners(_listeners, STR_OFFLINE_SENT, _asyncNotifications, function (listener) {\r\n                        listener[STR_OFFLINE_SENT /* @min:%2eofflineBatchSent */](batch);\r\n                    });\r\n                }\r\n            };\r\n            _self[STR_OFFLINE_DROP /* @min:%2eofflineBatchDrop */] = function (cnt, reason) {\r\n                if (cnt > 0) {\r\n                    var rn_1 = reason || 0; // default is unknown\r\n                    _runListeners(_listeners, STR_OFFLINE_DROP, _asyncNotifications, function (listener) {\r\n                        listener[STR_OFFLINE_DROP /* @min:%2eofflineBatchDrop */](cnt, rn_1);\r\n                    });\r\n                }\r\n            };\r\n            _self[_DYN_UNLOAD /* @min:%2eunload */] = function (isAsync) {\r\n                var _finishUnload = function () {\r\n                    unloadHandler && unloadHandler.rm();\r\n                    unloadHandler = null;\r\n                    _listeners = [];\r\n                    // Clear any async listener\r\n                    _asyncNotifications.h && _asyncNotifications.h[_DYN_CANCEL /* @min:%2ecancel */]();\r\n                    _asyncNotifications.h = null;\r\n                    _asyncNotifications.cb = [];\r\n                };\r\n                var waiting;\r\n                _runListeners(_listeners, \"unload\", null, function (listener) {\r\n                    var asyncUnload = listener[_DYN_UNLOAD /* @min:%2eunload */](isAsync);\r\n                    if (asyncUnload) {\r\n                        if (!waiting) {\r\n                            waiting = [];\r\n                        }\r\n                        waiting[_DYN_PUSH /* @min:%2epush */](asyncUnload);\r\n                    }\r\n                });\r\n                if (waiting) {\r\n                    return createPromise(function (resolve) {\r\n                        return doAwaitResponse(createAllPromise(waiting), function () {\r\n                            _finishUnload();\r\n                            resolve();\r\n                        });\r\n                    });\r\n                }\r\n                else {\r\n                    _finishUnload();\r\n                }\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for NotificationManager.prototype.addNotificationListener.\r\n// Removed Stub for NotificationManager.prototype.removeNotificationListener.\r\n// Removed Stub for NotificationManager.prototype.eventsSent.\r\n// Removed Stub for NotificationManager.prototype.eventsDiscarded.\r\n// Removed Stub for NotificationManager.prototype.eventsSendRequest.\r\n// Removed Stub for NotificationManager.prototype.perfEvent.\r\n// Removed Stub for NotificationManager.prototype.unload.\r\n// Removed Stub for NotificationManager.prototype.offlineEventsStored.\r\n// Removed Stub for NotificationManager.prototype.offlineBatchSent.\r\n// Removed Stub for NotificationManager.prototype.offlineBatchDrop.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    NotificationManager.__ieDyn=1;\n\n    return NotificationManager;\r\n}());\r\nexport { NotificationManager };\r\n//# sourceMappingURL=NotificationManager.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { isArray, isFunction, objDefine, utcNow } from \"@nevware21/ts-utils\";\r\nimport { _DYN_COMPLETE, _DYN_GET_CTX, _DYN_IS_ASYNC, _DYN_IS_CHILD_EVT, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_SET_CTX, _DYN_TIME } from \"../__DynamicConstants\";\r\nimport { STR_GET_PERF_MGR, STR_PERF_EVENT } from \"./InternalConstants\";\r\nvar strExecutionContextKey = \"ctx\";\r\nvar strParentContextKey = \"ParentContextKey\";\r\nvar strChildrenContextKey = \"ChildrenContextKey\";\r\nvar _defaultPerfManager = null;\r\nvar PerfEvent = /** @class */ (function () {\r\n    function PerfEvent(name, payloadDetails, isAsync) {\r\n        var _self = this;\r\n        _self.start = utcNow();\r\n        _self[_DYN_NAME /* @min:%2ename */] = name;\r\n        _self[_DYN_IS_ASYNC /* @min:%2eisAsync */] = isAsync;\r\n        _self[_DYN_IS_CHILD_EVT /* @min:%2eisChildEvt */] = function () { return false; };\r\n        if (isFunction(payloadDetails)) {\r\n            // Create an accessor to minimize the potential performance impact of executing the payloadDetails callback\r\n            var theDetails_1;\r\n            objDefine(_self, \"payload\", {\r\n                g: function () {\r\n                    // Delay the execution of the payloadDetails until needed\r\n                    if (!theDetails_1 && isFunction(payloadDetails)) {\r\n                        theDetails_1 = payloadDetails();\r\n                        // clear it out now so the referenced objects can be garbage collected\r\n                        payloadDetails = null;\r\n                    }\r\n                    return theDetails_1;\r\n                }\r\n            });\r\n        }\r\n        _self[_DYN_GET_CTX /* @min:%2egetCtx */] = function (key) {\r\n            if (key) {\r\n                // The parent and child links are located directly on the object (for better viewing in the DebugPlugin)\r\n                if (key === PerfEvent[strParentContextKey] || key === PerfEvent[strChildrenContextKey]) {\r\n                    return _self[key];\r\n                }\r\n                return (_self[strExecutionContextKey] || {})[key];\r\n            }\r\n            return null;\r\n        };\r\n        _self[_DYN_SET_CTX /* @min:%2esetCtx */] = function (key, value) {\r\n            if (key) {\r\n                // Put the parent and child links directly on the object (for better viewing in the DebugPlugin)\r\n                if (key === PerfEvent[strParentContextKey]) {\r\n                    // Simple assumption, if we are setting a parent then we must be a child\r\n                    if (!_self[key]) {\r\n                        _self[_DYN_IS_CHILD_EVT /* @min:%2eisChildEvt */] = function () { return true; };\r\n                    }\r\n                    _self[key] = value;\r\n                }\r\n                else if (key === PerfEvent[strChildrenContextKey]) {\r\n                    _self[key] = value;\r\n                }\r\n                else {\r\n                    var ctx = _self[strExecutionContextKey] = _self[strExecutionContextKey] || {};\r\n                    ctx[key] = value;\r\n                }\r\n            }\r\n        };\r\n        _self[_DYN_COMPLETE /* @min:%2ecomplete */] = function () {\r\n            var childTime = 0;\r\n            var childEvts = _self[_DYN_GET_CTX /* @min:%2egetCtx */](PerfEvent[strChildrenContextKey]);\r\n            if (isArray(childEvts)) {\r\n                for (var lp = 0; lp < childEvts[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n                    var childEvt = childEvts[lp];\r\n                    if (childEvt) {\r\n                        childTime += childEvt[_DYN_TIME /* @min:%2etime */];\r\n                    }\r\n                }\r\n            }\r\n            _self[_DYN_TIME /* @min:%2etime */] = utcNow() - _self.start;\r\n            _self.exTime = _self[_DYN_TIME /* @min:%2etime */] - childTime;\r\n            _self[_DYN_COMPLETE /* @min:%2ecomplete */] = function () { };\r\n        };\r\n    }\r\n    PerfEvent.ParentContextKey = \"parent\";\r\n    PerfEvent.ChildrenContextKey = \"childEvts\";\r\n    return PerfEvent;\r\n}());\r\nexport { PerfEvent };\r\nvar PerfManager = /** @class */ (function () {\r\n    function PerfManager(manager) {\r\n        /**\r\n         * General bucket used for execution context set and retrieved via setCtx() and getCtx.\r\n         * Defined as private so it can be visualized via the DebugPlugin\r\n         */\r\n        this.ctx = {};\r\n        dynamicProto(PerfManager, this, function (_self) {\r\n            _self.create = function (src, payloadDetails, isAsync) {\r\n                // TODO (@MSNev): at some point we will want to add additional configuration to \"select\" which events to instrument\r\n                // for now this is just a simple do everything.\r\n                return new PerfEvent(src, payloadDetails, isAsync);\r\n            };\r\n            _self.fire = function (perfEvent) {\r\n                if (perfEvent) {\r\n                    perfEvent[_DYN_COMPLETE /* @min:%2ecomplete */]();\r\n                    if (manager && isFunction(manager[STR_PERF_EVENT /* @min:%2eperfEvent */])) {\r\n                        manager[STR_PERF_EVENT /* @min:%2eperfEvent */](perfEvent);\r\n                    }\r\n                }\r\n            };\r\n            _self[_DYN_SET_CTX /* @min:%2esetCtx */] = function (key, value) {\r\n                if (key) {\r\n                    var ctx = _self[strExecutionContextKey] = _self[strExecutionContextKey] || {};\r\n                    ctx[key] = value;\r\n                }\r\n            };\r\n            _self[_DYN_GET_CTX /* @min:%2egetCtx */] = function (key) {\r\n                return (_self[strExecutionContextKey] || {})[key];\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for PerfManager.prototype.create.\r\n// Removed Stub for PerfManager.prototype.fire.\r\n// Removed Stub for PerfManager.prototype.setCtx.\r\n// Removed Stub for PerfManager.prototype.getCtx.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    PerfManager.__ieDyn=1;\n\n    return PerfManager;\r\n}());\r\nexport { PerfManager };\r\nvar doPerfActiveKey = \"CoreUtils.doPerf\";\r\n/**\r\n * Helper function to wrap a function with a perf event\r\n * @param mgrSource - The Performance Manager or a Performance provider source (may be null)\r\n * @param getSource - The callback to create the source name for the event (if perf monitoring is enabled)\r\n * @param func - The function to call and measure\r\n * @param details - A function to return the payload details\r\n * @param isAsync - Is the event / function being call asynchronously or synchronously\r\n */\r\nexport function doPerf(mgrSource, getSource, func, details, isAsync) {\r\n    if (mgrSource) {\r\n        var perfMgr = mgrSource;\r\n        if (perfMgr[STR_GET_PERF_MGR]) {\r\n            // Looks like a perf manager provider object\r\n            perfMgr = perfMgr[STR_GET_PERF_MGR]();\r\n        }\r\n        if (perfMgr) {\r\n            var perfEvt = void 0;\r\n            var currentActive = perfMgr[_DYN_GET_CTX /* @min:%2egetCtx */](doPerfActiveKey);\r\n            try {\r\n                perfEvt = perfMgr.create(getSource(), details, isAsync);\r\n                if (perfEvt) {\r\n                    if (currentActive && perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */]) {\r\n                        perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */](PerfEvent[strParentContextKey], currentActive);\r\n                        if (currentActive[_DYN_GET_CTX /* @min:%2egetCtx */] && currentActive[_DYN_SET_CTX /* @min:%2esetCtx */]) {\r\n                            var children = currentActive[_DYN_GET_CTX /* @min:%2egetCtx */](PerfEvent[strChildrenContextKey]);\r\n                            if (!children) {\r\n                                children = [];\r\n                                currentActive[_DYN_SET_CTX /* @min:%2esetCtx */](PerfEvent[strChildrenContextKey], children);\r\n                            }\r\n                            children[_DYN_PUSH /* @min:%2epush */](perfEvt);\r\n                        }\r\n                    }\r\n                    // Set this event as the active event now\r\n                    perfMgr[_DYN_SET_CTX /* @min:%2esetCtx */](doPerfActiveKey, perfEvt);\r\n                    return func(perfEvt);\r\n                }\r\n            }\r\n            catch (ex) {\r\n                if (perfEvt && perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */]) {\r\n                    perfEvt[_DYN_SET_CTX /* @min:%2esetCtx */](\"exception\", ex);\r\n                }\r\n            }\r\n            finally {\r\n                // fire the perf event\r\n                if (perfEvt) {\r\n                    perfMgr.fire(perfEvt);\r\n                }\r\n                // Reset the active event to the previous value\r\n                perfMgr[_DYN_SET_CTX /* @min:%2esetCtx */](doPerfActiveKey, currentActive);\r\n            }\r\n        }\r\n    }\r\n    return func();\r\n}\r\n/**\r\n * Set the global performance manager to use when there is no core instance or it has not been initialized yet.\r\n * @param perfManager - The IPerfManager instance to use when no performance manager is supplied.\r\n */\r\nexport function setGblPerfMgr(perfManager) {\r\n    _defaultPerfManager = perfManager;\r\n}\r\n/**\r\n * Get the current global performance manager that will be used with no performance manager is supplied.\r\n * @returns - The current default manager\r\n */\r\nexport function getGblPerfMgr() {\r\n    return _defaultPerfManager;\r\n}\r\n//# sourceMappingURL=PerfManager.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { arrForEach, dumpObj, isArray, isFunction, isNullOrUndefined, isUndefined, objForEachKey, objFreeze, objKeys } from \"@nevware21/ts-utils\";\r\nimport { _applyDefaultValue } from \"../Config/ConfigDefaults\";\r\nimport { createDynamicConfig } from \"../Config/DynamicConfig\";\r\nimport { _DYN_CREATE_NEW, _DYN_DIAG_LOG, _DYN_GET_NEXT, _DYN_GET_PLUGIN, _DYN_IDENTIFIER, _DYN_IS_ASYNC, _DYN_IS_INITIALIZED, _DYN_LENGTH, _DYN_LOGGER, _DYN_PROCESS_NEXT, _DYN_PUSH, _DYN_SET_DF, _DYN_SET_NEXT_PLUGIN, _DYN_TEARDOWN, _DYN_UNLOAD, _DYN_UPDATE } from \"../__DynamicConstants\";\r\nimport { _throwInternal, safeGetLogger } from \"./DiagnosticLogger\";\r\nimport { proxyFunctions } from \"./HelperFuncs\";\r\nimport { STR_CORE, STR_DISABLED, STR_EMPTY, STR_EXTENSION_CONFIG, STR_PRIORITY, STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nimport { doPerf } from \"./PerfManager\";\r\nimport { _getPluginState } from \"./TelemetryHelpers\";\r\nvar strTelemetryPluginChain = \"TelemetryPluginChain\";\r\nvar strHasRunFlags = \"_hasRun\";\r\nvar strGetTelCtx = \"_getTelCtx\";\r\nvar _chainId = 0;\r\nfunction _getNextProxyStart(proxy, core, startAt) {\r\n    while (proxy) {\r\n        if (proxy[_DYN_GET_PLUGIN /* @min:%2egetPlugin */]() === startAt) {\r\n            return proxy;\r\n        }\r\n        proxy = proxy[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n    }\r\n    // This wasn't found in the existing chain so create an isolated one with just this plugin\r\n    return createTelemetryProxyChain([startAt], core.config || {}, core);\r\n}\r\n/**\r\n * @ignore\r\n * @param telemetryChain\r\n * @param dynamicHandler\r\n * @param core\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n * @returns\r\n */\r\nfunction _createInternalContext(telemetryChain, dynamicHandler, core, startAt) {\r\n    // We have a special case where we want to start execution from this specific plugin\r\n    // or we simply reuse the existing telemetry plugin chain (normal execution case)\r\n    var _nextProxy = null; // By Default set as no next plugin\r\n    var _onComplete = [];\r\n    if (!dynamicHandler) {\r\n        dynamicHandler = createDynamicConfig({}, null, core[_DYN_LOGGER /* @min:%2elogger */]);\r\n    }\r\n    if (startAt !== null) {\r\n        // There is no next element (null) vs not defined (undefined) so use the full chain\r\n        _nextProxy = startAt ? _getNextProxyStart(telemetryChain, core, startAt) : telemetryChain;\r\n    }\r\n    var context = {\r\n        _next: _moveNext,\r\n        ctx: {\r\n            core: function () {\r\n                return core;\r\n            },\r\n            diagLog: function () {\r\n                return safeGetLogger(core, dynamicHandler.cfg);\r\n            },\r\n            getCfg: function () {\r\n                return dynamicHandler.cfg;\r\n            },\r\n            getExtCfg: _resolveExtCfg,\r\n            getConfig: _getConfig,\r\n            hasNext: function () {\r\n                return !!_nextProxy;\r\n            },\r\n            getNext: function () {\r\n                return _nextProxy;\r\n            },\r\n            setNext: function (nextPlugin) {\r\n                _nextProxy = nextPlugin;\r\n            },\r\n            iterate: _iterateChain,\r\n            onComplete: _addOnComplete\r\n        }\r\n    };\r\n    function _addOnComplete(onComplete, that) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        if (onComplete) {\r\n            _onComplete[_DYN_PUSH /* @min:%2epush */]({\r\n                func: onComplete,\r\n                self: !isUndefined(that) ? that : context.ctx,\r\n                args: args\r\n            });\r\n        }\r\n    }\r\n    function _moveNext() {\r\n        var nextProxy = _nextProxy;\r\n        // Automatically move to the next plugin\r\n        _nextProxy = nextProxy ? nextProxy[_DYN_GET_NEXT /* @min:%2egetNext */]() : null;\r\n        if (!nextProxy) {\r\n            var onComplete = _onComplete;\r\n            if (onComplete && onComplete[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                arrForEach(onComplete, function (completeDetails) {\r\n                    try {\r\n                        completeDetails.func.call(completeDetails.self, completeDetails.args);\r\n                    }\r\n                    catch (e) {\r\n                        _throwInternal(core[_DYN_LOGGER /* @min:%2elogger */], 2 /* eLoggingSeverity.WARNING */, 73 /* _eInternalMessageId.PluginException */, \"Unexpected Exception during onComplete - \" + dumpObj(e));\r\n                    }\r\n                });\r\n                _onComplete = [];\r\n            }\r\n        }\r\n        return nextProxy;\r\n    }\r\n    function _getExtCfg(identifier, createIfMissing) {\r\n        var idCfg = null;\r\n        var cfg = dynamicHandler.cfg;\r\n        if (cfg && identifier) {\r\n            var extCfg = cfg[STR_EXTENSION_CONFIG /* @min:%2eextensionConfig */];\r\n            if (!extCfg && createIfMissing) {\r\n                extCfg = {};\r\n            }\r\n            // Always set the value so that the property always exists\r\n            cfg[STR_EXTENSION_CONFIG] = extCfg; // Note: it is valid for the \"value\" to be undefined\r\n            // Calling `ref()` has a side effect of causing the referenced property to become dynamic  (if not already)\r\n            extCfg = dynamicHandler.ref(cfg, STR_EXTENSION_CONFIG);\r\n            if (extCfg) {\r\n                idCfg = extCfg[identifier];\r\n                if (!idCfg && createIfMissing) {\r\n                    idCfg = {};\r\n                }\r\n                // Always set the value so that the property always exists\r\n                extCfg[identifier] = idCfg; // Note: it is valid for the \"value\" to be undefined\r\n                // Calling `ref()` has a side effect of causing the referenced property to become dynamic  (if not already)\r\n                idCfg = dynamicHandler.ref(extCfg, identifier);\r\n            }\r\n        }\r\n        return idCfg;\r\n    }\r\n    function _resolveExtCfg(identifier, defaultValues) {\r\n        var newConfig = _getExtCfg(identifier, true);\r\n        if (defaultValues) {\r\n            // Enumerate over the defaultValues and if not already populated attempt to\r\n            // find a value from the root config or use the default value\r\n            objForEachKey(defaultValues, function (field, defaultValue) {\r\n                // for each unspecified field, set the default value\r\n                if (isNullOrUndefined(newConfig[field])) {\r\n                    var cfgValue = dynamicHandler.cfg[field];\r\n                    if (cfgValue || !isNullOrUndefined(cfgValue)) {\r\n                        newConfig[field] = cfgValue;\r\n                    }\r\n                }\r\n                _applyDefaultValue(dynamicHandler, newConfig, field, defaultValue);\r\n            });\r\n        }\r\n        return dynamicHandler[_DYN_SET_DF /* @min:%2esetDf */](newConfig, defaultValues);\r\n    }\r\n    function _getConfig(identifier, field, defaultValue) {\r\n        if (defaultValue === void 0) { defaultValue = false; }\r\n        var theValue;\r\n        var extConfig = _getExtCfg(identifier, false);\r\n        var rootConfig = dynamicHandler.cfg;\r\n        if (extConfig && (extConfig[field] || !isNullOrUndefined(extConfig[field]))) {\r\n            theValue = extConfig[field];\r\n        }\r\n        else if (rootConfig[field] || !isNullOrUndefined(rootConfig[field])) {\r\n            theValue = rootConfig[field];\r\n        }\r\n        return (theValue || !isNullOrUndefined(theValue)) ? theValue : defaultValue;\r\n    }\r\n    function _iterateChain(cb) {\r\n        // Keep processing until we reach the end of the chain\r\n        var nextPlugin;\r\n        while (!!(nextPlugin = context._next())) {\r\n            var plugin = nextPlugin[_DYN_GET_PLUGIN /* @min:%2egetPlugin */]();\r\n            if (plugin) {\r\n                // callback with the current on\r\n                cb(plugin);\r\n            }\r\n        }\r\n    }\r\n    return context;\r\n}\r\n/**\r\n * Creates a new Telemetry Item context with the current config, core and plugin execution chain\r\n * @param plugins - The plugin instances that will be executed\r\n * @param config - The current config\r\n * @param core - The current core instance\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n */\r\nexport function createProcessTelemetryContext(telemetryChain, cfg, core, startAt) {\r\n    var config = createDynamicConfig(cfg);\r\n    var internalContext = _createInternalContext(telemetryChain, config, core, startAt);\r\n    var context = internalContext.ctx;\r\n    function _processNext(env) {\r\n        var nextPlugin = internalContext._next();\r\n        if (nextPlugin) {\r\n            // Run the next plugin which will call \"processNext()\"\r\n            nextPlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */](env, context);\r\n        }\r\n        return !nextPlugin;\r\n    }\r\n    function _createNew(plugins, startAt) {\r\n        if (plugins === void 0) { plugins = null; }\r\n        if (isArray(plugins)) {\r\n            plugins = createTelemetryProxyChain(plugins, config.cfg, core, startAt);\r\n        }\r\n        return createProcessTelemetryContext(plugins || context[_DYN_GET_NEXT /* @min:%2egetNext */](), config.cfg, core, startAt);\r\n    }\r\n    context[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = _processNext;\r\n    context[_DYN_CREATE_NEW /* @min:%2ecreateNew */] = _createNew;\r\n    return context;\r\n}\r\n/**\r\n * Creates a new Telemetry Item context with the current config, core and plugin execution chain for handling the unloading of the chain\r\n * @param plugins - The plugin instances that will be executed\r\n * @param config - The current config\r\n * @param core - The current core instance\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n */\r\nexport function createProcessTelemetryUnloadContext(telemetryChain, core, startAt) {\r\n    var config = createDynamicConfig(core.config);\r\n    var internalContext = _createInternalContext(telemetryChain, config, core, startAt);\r\n    var context = internalContext.ctx;\r\n    function _processNext(unloadState) {\r\n        var nextPlugin = internalContext._next();\r\n        nextPlugin && nextPlugin[_DYN_UNLOAD /* @min:%2eunload */](context, unloadState);\r\n        return !nextPlugin;\r\n    }\r\n    function _createNew(plugins, startAt) {\r\n        if (plugins === void 0) { plugins = null; }\r\n        if (isArray(plugins)) {\r\n            plugins = createTelemetryProxyChain(plugins, config.cfg, core, startAt);\r\n        }\r\n        return createProcessTelemetryUnloadContext(plugins || context[_DYN_GET_NEXT /* @min:%2egetNext */](), core, startAt);\r\n    }\r\n    context[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = _processNext;\r\n    context[_DYN_CREATE_NEW /* @min:%2ecreateNew */] = _createNew;\r\n    return context;\r\n}\r\n/**\r\n * Creates a new Telemetry Item context with the current config, core and plugin execution chain for updating the configuration\r\n * @param plugins - The plugin instances that will be executed\r\n * @param config - The current config\r\n * @param core - The current core instance\r\n * @param startAt - Identifies the next plugin to execute, if null there is no \"next\" plugin and if undefined it should assume the start of the chain\r\n */\r\nexport function createProcessTelemetryUpdateContext(telemetryChain, core, startAt) {\r\n    var config = createDynamicConfig(core.config);\r\n    var internalContext = _createInternalContext(telemetryChain, config, core, startAt);\r\n    var context = internalContext.ctx;\r\n    function _processNext(updateState) {\r\n        return context.iterate(function (plugin) {\r\n            if (isFunction(plugin[_DYN_UPDATE /* @min:%2eupdate */])) {\r\n                plugin[_DYN_UPDATE /* @min:%2eupdate */](context, updateState);\r\n            }\r\n        });\r\n    }\r\n    function _createNew(plugins, startAt) {\r\n        if (plugins === void 0) { plugins = null; }\r\n        if (isArray(plugins)) {\r\n            plugins = createTelemetryProxyChain(plugins, config.cfg, core, startAt);\r\n        }\r\n        return createProcessTelemetryUpdateContext(plugins || context[_DYN_GET_NEXT /* @min:%2egetNext */](), core, startAt);\r\n    }\r\n    context[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */] = _processNext;\r\n    context[_DYN_CREATE_NEW /* @min:%2ecreateNew */] = _createNew;\r\n    return context;\r\n}\r\n/**\r\n * Creates an execution chain from the array of plugins\r\n * @param plugins - The array of plugins that will be executed in this order\r\n * @param defItemCtx - The default execution context to use when no telemetry context is passed to processTelemetry(), this\r\n * should be for legacy plugins only. Currently, only used for passing the current core instance and to provide better error\r\n * reporting (hasRun) when errors occur.\r\n */\r\nexport function createTelemetryProxyChain(plugins, config, core, startAt) {\r\n    var firstProxy = null;\r\n    var add = startAt ? false : true;\r\n    if (isArray(plugins) && plugins[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n        // Create the proxies and wire up the next plugin chain\r\n        var lastProxy_1 = null;\r\n        arrForEach(plugins, function (thePlugin) {\r\n            if (!add && startAt === thePlugin) {\r\n                add = true;\r\n            }\r\n            if (add && thePlugin && isFunction(thePlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */])) {\r\n                // Only add plugins that are processors\r\n                var newProxy = createTelemetryPluginProxy(thePlugin, config, core);\r\n                if (!firstProxy) {\r\n                    firstProxy = newProxy;\r\n                }\r\n                if (lastProxy_1) {\r\n                    // Set this new proxy as the next for the previous one\r\n                    lastProxy_1._setNext(newProxy);\r\n                }\r\n                lastProxy_1 = newProxy;\r\n            }\r\n        });\r\n    }\r\n    if (startAt && !firstProxy) {\r\n        // Special case where the \"startAt\" was not in the original list of plugins\r\n        return createTelemetryProxyChain([startAt], config, core);\r\n    }\r\n    return firstProxy;\r\n}\r\n/**\r\n * Create the processing telemetry proxy instance, the proxy is used to abstract the current plugin to allow monitoring and\r\n * execution plugins while passing around the dynamic execution state (IProcessTelemetryContext), the proxy instance no longer\r\n * contains any execution state and can be reused between requests (this was not the case for 2.7.2 and earlier with the\r\n * TelemetryPluginChain class).\r\n * @param plugin - The plugin instance to proxy\r\n * @param config - The default execution context to use when no telemetry context is passed to processTelemetry(), this\r\n * should be for legacy plugins only. Currently, only used for passing the current core instance and to provide better error\r\n * reporting (hasRun) when errors occur.\r\n * @returns\r\n */\r\nexport function createTelemetryPluginProxy(plugin, config, core) {\r\n    var nextProxy = null;\r\n    var hasProcessTelemetry = isFunction(plugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */]);\r\n    var hasSetNext = isFunction(plugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */]);\r\n    var chainId;\r\n    if (plugin) {\r\n        chainId = plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */] + \"-\" + plugin[STR_PRIORITY /* @min:%2epriority */] + \"-\" + _chainId++;\r\n    }\r\n    else {\r\n        chainId = \"Unknown-0-\" + _chainId++;\r\n    }\r\n    var proxyChain = {\r\n        getPlugin: function () {\r\n            return plugin;\r\n        },\r\n        getNext: function () {\r\n            return nextProxy;\r\n        },\r\n        processTelemetry: _processTelemetry,\r\n        unload: _unloadPlugin,\r\n        update: _updatePlugin,\r\n        _id: chainId,\r\n        _setNext: function (nextPlugin) {\r\n            nextProxy = nextPlugin;\r\n        }\r\n    };\r\n    function _getTelCtx() {\r\n        var itemCtx;\r\n        // Looks like a plugin didn't pass the (optional) context, so create a new one\r\n        if (plugin && isFunction(plugin[strGetTelCtx])) {\r\n            // This plugin extends from the BaseTelemetryPlugin so lets use it\r\n            itemCtx = plugin[strGetTelCtx]();\r\n        }\r\n        if (!itemCtx) {\r\n            // Create a temporary one\r\n            itemCtx = createProcessTelemetryContext(proxyChain, config, core);\r\n        }\r\n        return itemCtx;\r\n    }\r\n    function _processChain(itemCtx, processPluginFn, name, details, isAsync) {\r\n        var hasRun = false;\r\n        var identifier = plugin ? plugin[_DYN_IDENTIFIER /* @min:%2eidentifier */] : strTelemetryPluginChain;\r\n        var hasRunContext = itemCtx[strHasRunFlags];\r\n        if (!hasRunContext) {\r\n            // Assign and populate\r\n            hasRunContext = itemCtx[strHasRunFlags] = {};\r\n        }\r\n        // Ensure that we keep the context in sync\r\n        itemCtx.setNext(nextProxy);\r\n        if (plugin) {\r\n            doPerf(itemCtx[STR_CORE /* @min:%2ecore */](), function () { return identifier + \":\" + name; }, function () {\r\n                // Mark this component as having run\r\n                hasRunContext[chainId] = true;\r\n                try {\r\n                    // Set a flag on the next plugin so we know if it was attempted to be executed\r\n                    var nextId = nextProxy ? nextProxy._id : STR_EMPTY;\r\n                    if (nextId) {\r\n                        hasRunContext[nextId] = false;\r\n                    }\r\n                    hasRun = processPluginFn(itemCtx);\r\n                }\r\n                catch (error) {\r\n                    var hasNextRun = nextProxy ? hasRunContext[nextProxy._id] : true;\r\n                    if (hasNextRun) {\r\n                        // The next plugin after us has already run so set this one as complete\r\n                        hasRun = true;\r\n                    }\r\n                    if (!nextProxy || !hasNextRun) {\r\n                        // Either we have no next plugin or the current one did not attempt to call the next plugin\r\n                        // Which means the current one is the root of the failure so log/report this failure\r\n                        _throwInternal(itemCtx[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 1 /* eLoggingSeverity.CRITICAL */, 73 /* _eInternalMessageId.PluginException */, \"Plugin [\" + identifier + \"] failed during \" + name + \" - \" + dumpObj(error) + \", run flags: \" + dumpObj(hasRunContext));\r\n                    }\r\n                }\r\n            }, details, isAsync);\r\n        }\r\n        return hasRun;\r\n    }\r\n    function _processTelemetry(env, itemCtx) {\r\n        itemCtx = itemCtx || _getTelCtx();\r\n        function _callProcessTelemetry(itemCtx) {\r\n            if (!plugin || !hasProcessTelemetry) {\r\n                return false;\r\n            }\r\n            var pluginState = _getPluginState(plugin);\r\n            if (pluginState[_DYN_TEARDOWN /* @min:%2eteardown */] || pluginState[STR_DISABLED]) {\r\n                return false;\r\n            }\r\n            // Ensure that we keep the context in sync (for processNext()), just in case a plugin\r\n            // doesn't calls processTelemetry() instead of itemContext.processNext() or some\r\n            // other form of error occurred\r\n            if (hasSetNext) {\r\n                // Backward compatibility setting the next plugin on the instance\r\n                plugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */](nextProxy);\r\n            }\r\n            plugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */](env, itemCtx);\r\n            // Process Telemetry is expected to call itemCtx.processNext() or nextPlugin.processTelemetry()\r\n            return true;\r\n        }\r\n        if (!_processChain(itemCtx, _callProcessTelemetry, \"processTelemetry\", function () { return ({ item: env }); }, !(env.sync))) {\r\n            // The underlying plugin is either not defined, not enabled or does not have a processTelemetry implementation\r\n            // so we still want the next plugin to be executed.\r\n            itemCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](env);\r\n        }\r\n    }\r\n    function _unloadPlugin(unloadCtx, unloadState) {\r\n        function _callTeardown() {\r\n            // Setting default of hasRun as false so the proxyProcessFn() is called as teardown() doesn't have to exist or call unloadNext().\r\n            var hasRun = false;\r\n            if (plugin) {\r\n                var pluginState = _getPluginState(plugin);\r\n                var pluginCore = plugin[STR_CORE] || pluginState[STR_CORE /* @min:%2ecore */];\r\n                // Only teardown the plugin if it was initialized by the current core (i.e. It's not a shared plugin)\r\n                if (plugin && (!pluginCore || pluginCore === unloadCtx.core()) && !pluginState[_DYN_TEARDOWN /* @min:%2eteardown */]) {\r\n                    // Handle plugins that don't extend from the BaseTelemetryPlugin\r\n                    pluginState[STR_CORE /* @min:%2ecore */] = null;\r\n                    pluginState[_DYN_TEARDOWN /* @min:%2eteardown */] = true;\r\n                    pluginState[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = false;\r\n                    if (plugin[_DYN_TEARDOWN /* @min:%2eteardown */] && plugin[_DYN_TEARDOWN /* @min:%2eteardown */](unloadCtx, unloadState) === true) {\r\n                        // plugin told us that it was going to (or has) call unloadCtx.processNext()\r\n                        hasRun = true;\r\n                    }\r\n                }\r\n            }\r\n            return hasRun;\r\n        }\r\n        if (!_processChain(unloadCtx, _callTeardown, \"unload\", function () { }, unloadState[_DYN_IS_ASYNC /* @min:%2eisAsync */])) {\r\n            // Only called if we hasRun was not true\r\n            unloadCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](unloadState);\r\n        }\r\n    }\r\n    function _updatePlugin(updateCtx, updateState) {\r\n        function _callUpdate() {\r\n            // Setting default of hasRun as false so the proxyProcessFn() is called as teardown() doesn't have to exist or call unloadNext().\r\n            var hasRun = false;\r\n            if (plugin) {\r\n                var pluginState = _getPluginState(plugin);\r\n                var pluginCore = plugin[STR_CORE] || pluginState[STR_CORE /* @min:%2ecore */];\r\n                // Only update the plugin if it was initialized by the current core (i.e. It's not a shared plugin)\r\n                if (plugin && (!pluginCore || pluginCore === updateCtx.core()) && !pluginState[_DYN_TEARDOWN /* @min:%2eteardown */]) {\r\n                    if (plugin[_DYN_UPDATE /* @min:%2eupdate */] && plugin[_DYN_UPDATE /* @min:%2eupdate */](updateCtx, updateState) === true) {\r\n                        // plugin told us that it was going to (or has) call unloadCtx.processNext()\r\n                        hasRun = true;\r\n                    }\r\n                }\r\n            }\r\n            return hasRun;\r\n        }\r\n        if (!_processChain(updateCtx, _callUpdate, \"update\", function () { }, false)) {\r\n            // Only called if we hasRun was not true\r\n            updateCtx[_DYN_PROCESS_NEXT /* @min:%2eprocessNext */](updateState);\r\n        }\r\n    }\r\n    return objFreeze(proxyChain);\r\n}\r\n/**\r\n * This class will be removed!\r\n * @deprecated use createProcessTelemetryContext() instead\r\n */\r\nvar ProcessTelemetryContext = /** @class */ (function () {\r\n    /**\r\n     * Creates a new Telemetry Item context with the current config, core and plugin execution chain\r\n     * @param plugins - The plugin instances that will be executed\r\n     * @param config - The current config\r\n     * @param core - The current core instance\r\n     */\r\n    function ProcessTelemetryContext(pluginChain, config, core, startAt) {\r\n        var _self = this;\r\n        var context = createProcessTelemetryContext(pluginChain, config, core, startAt);\r\n        // Proxy all functions of the context to this object\r\n        proxyFunctions(_self, context, objKeys(context));\r\n    }\r\n    return ProcessTelemetryContext;\r\n}());\r\nexport { ProcessTelemetryContext };\r\n//# sourceMappingURL=ProcessTelemetryContext.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { utcNow } from \"@nevware21/ts-utils\";\r\nimport { _DYN_LENGTH } from \"../__DynamicConstants\";\r\nimport { getCrypto, getMsCrypto, isIE } from \"./EnvUtils\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\nvar UInt32Mask = 0x100000000;\r\nvar MaxUInt32 = 0xffffffff;\r\nvar SEED1 = 123456789;\r\nvar SEED2 = 987654321;\r\n// MWC based Random generator (for IE)\r\nvar _mwcSeeded = false;\r\nvar _mwcW = SEED1;\r\nvar _mwcZ = SEED2;\r\n// Takes any integer\r\nfunction _mwcSeed(seedValue) {\r\n    if (seedValue < 0) {\r\n        // Make sure we end up with a positive number and not -ve one.\r\n        seedValue >>>= 0;\r\n    }\r\n    _mwcW = (SEED1 + seedValue) & MaxUInt32;\r\n    _mwcZ = (SEED2 - seedValue) & MaxUInt32;\r\n    _mwcSeeded = true;\r\n}\r\nfunction _autoSeedMwc() {\r\n    // Simple initialization using default Math.random() - So we inherit any entropy from the browser\r\n    // and bitwise XOR with the current milliseconds\r\n    try {\r\n        var now = utcNow() & 0x7fffffff;\r\n        _mwcSeed(((Math.random() * UInt32Mask) ^ now) + now);\r\n    }\r\n    catch (e) {\r\n        // Don't crash if something goes wrong\r\n    }\r\n}\r\n/**\r\n * Generate a random value between 0 and maxValue, max value should be limited to a 32-bit maximum.\r\n * So maxValue(16) will produce a number from 0..16 (range of 17)\r\n * @param maxValue\r\n */\r\nexport function randomValue(maxValue) {\r\n    if (maxValue > 0) {\r\n        return Math.floor((random32() / MaxUInt32) * (maxValue + 1)) >>> 0;\r\n    }\r\n    return 0;\r\n}\r\n/**\r\n * generate a random 32-bit number (0x000000..0xFFFFFFFF) or (-0x80000000..0x7FFFFFFF), defaults un-unsigned.\r\n * @param signed - True to return a signed 32-bit number (-0x80000000..0x7FFFFFFF) otherwise an unsigned one (0x000000..0xFFFFFFFF)\r\n */\r\nexport function random32(signed) {\r\n    var value = 0;\r\n    var c = getCrypto() || getMsCrypto();\r\n    if (c && c.getRandomValues) {\r\n        // Make sure the number is converted into the specified range (-0x80000000..0x7FFFFFFF)\r\n        value = c.getRandomValues(new Uint32Array(1))[0] & MaxUInt32;\r\n    }\r\n    if (value === 0 && isIE()) {\r\n        // For IE 6, 7, 8 (especially on XP) Math.random is not very random\r\n        if (!_mwcSeeded) {\r\n            // Set the seed for the Mwc algorithm\r\n            _autoSeedMwc();\r\n        }\r\n        // Don't use Math.random for IE\r\n        // Make sure the number is converted into the specified range (-0x80000000..0x7FFFFFFF)\r\n        value = mwcRandom32() & MaxUInt32;\r\n    }\r\n    if (value === 0) {\r\n        // Make sure the number is converted into the specified range (-0x80000000..0x7FFFFFFF)\r\n        value = Math.floor((UInt32Mask * Math.random()) | 0);\r\n    }\r\n    if (!signed) {\r\n        // Make sure we end up with a positive number and not -ve one.\r\n        value >>>= 0;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Seed the MWC random number generator with the specified seed or a random value\r\n * @param value - optional the number to used as the seed, if undefined, null or zero a random value will be chosen\r\n */\r\nexport function mwcRandomSeed(value) {\r\n    if (!value) {\r\n        _autoSeedMwc();\r\n    }\r\n    else {\r\n        _mwcSeed(value);\r\n    }\r\n}\r\n/**\r\n * Generate a random 32-bit number between (0x000000..0xFFFFFFFF) or (-0x80000000..0x7FFFFFFF), using MWC (Multiply with carry)\r\n * instead of Math.random() defaults to un-signed.\r\n * Used as a replacement random generator for IE to avoid issues with older IE instances.\r\n * @param signed - True to return a signed 32-bit number (-0x80000000..0x7FFFFFFF) otherwise an unsigned one (0x000000..0xFFFFFFFF)\r\n */\r\nexport function mwcRandom32(signed) {\r\n    _mwcZ = (36969 * (_mwcZ & 0xFFFF) + (_mwcZ >> 16)) & MaxUInt32;\r\n    _mwcW = (18000 * (_mwcW & 0xFFFF) + (_mwcW >> 16)) & MaxUInt32;\r\n    var value = (((_mwcZ << 16) + (_mwcW & 0xFFFF)) >>> 0) & MaxUInt32 | 0;\r\n    if (!signed) {\r\n        // Make sure we end up with a positive number and not -ve one.\r\n        value >>>= 0;\r\n    }\r\n    return value;\r\n}\r\n/**\r\n * Generate random base64 id string.\r\n * The default length is 22 which is 132-bits so almost the same as a GUID but as base64 (the previous default was 5)\r\n * @param maxLength - Optional value to specify the length of the id to be generated, defaults to 22\r\n */\r\nexport function newId(maxLength) {\r\n    if (maxLength === void 0) { maxLength = 22; }\r\n    var base64chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\r\n    // Start with an initial random number, consuming the value in reverse byte order\r\n    var number = random32() >>> 0; // Make sure it's a +ve number\r\n    var chars = 0;\r\n    var result = STR_EMPTY;\r\n    while (result[_DYN_LENGTH /* @min:%2elength */] < maxLength) {\r\n        chars++;\r\n        result += base64chars.charAt(number & 0x3F);\r\n        number >>>= 6; // Zero fill with right shift\r\n        if (chars === 5) {\r\n            // 5 base64 characters === 30 bits so we don't have enough bits for another base64 char\r\n            // So add on another 30 bits and make sure it's +ve\r\n            number = (((random32() << 2) & 0xFFFFFFFF) | (number & 0x03)) >>> 0;\r\n            chars = 0; // We need to reset the number every 5 chars (30 bits)\r\n        }\r\n    }\r\n    return result;\r\n}\r\n//# sourceMappingURL=RandomHelper.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { dumpObj } from \"@nevware21/ts-utils\";\r\nimport { _DYN_ITEMS_RECEIVED, _DYN_LENGTH, _DYN_NAME } from \"../__DynamicConstants\";\r\nimport { _throwInternal } from \"./DiagnosticLogger\";\r\nimport { getJSON } from \"./EnvUtils\";\r\n/**\r\n * Parses the response from the backend.\r\n * @param response - XMLHttpRequest or XDomainRequest response\r\n */\r\nexport function parseResponse(response, diagLog) {\r\n    try {\r\n        if (response && response !== \"\") {\r\n            var result = getJSON().parse(response);\r\n            if (result && result[_DYN_ITEMS_RECEIVED /* @min:%2eitemsReceived */] && result[_DYN_ITEMS_RECEIVED /* @min:%2eitemsReceived */] >= result.itemsAccepted &&\r\n                result.itemsReceived - result.itemsAccepted === result.errors[_DYN_LENGTH /* @min:%2elength */]) {\r\n                return result;\r\n            }\r\n        }\r\n    }\r\n    catch (e) {\r\n        _throwInternal(diagLog, 1 /* eLoggingSeverity.CRITICAL */, 43 /* _eInternalMessageId.InvalidBackendResponse */, \"Cannot parse the response. \" + (e[_DYN_NAME /* @min:%2ename */] || dumpObj(e)), {\r\n            response: response\r\n        });\r\n    }\r\n    return null;\r\n}\r\n//# sourceMappingURL=ResponseHelpers.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { createPromise, doAwaitResponse } from \"@nevware21/ts-async\";\r\nimport { arrForEach, dumpObj, getNavigator, getWindow, isFunction, objKeys } from \"@nevware21/ts-utils\";\r\nimport { _DYN_DATA, _DYN_HEADERS, _DYN_INITIALIZE, _DYN_LENGTH, _DYN_MESSAGE, _DYN_PROTOCOL, _DYN_REPLACE, _DYN_SEND_POST, _DYN_SET_REQUEST_HEADER, _DYN_STATUS, _DYN_TIMEOUT, _DYN_TO_LOWER_CASE, _DYN_URL_STRING, _DYN_VALUE, _DYN__DO_TEARDOWN } from \"../__DynamicConstants\";\r\nimport { DisabledPropertyName } from \"./Constants\";\r\nimport { _throwInternal, _warnToConsole } from \"./DiagnosticLogger\";\r\nimport { getLocation, isBeaconsSupported, isFetchSupported, isXhrSupported, useXDomainRequest } from \"./EnvUtils\";\r\nimport { _getAllResponseHeaders, formatErrorMessageXdr, formatErrorMessageXhr, getResponseText, openXhr } from \"./HelperFuncs\";\r\nvar STR_EMPTY = \"\";\r\nvar STR_NO_RESPONSE_BODY = \"NoResponseBody\";\r\nvar _noResponseQs = \"&\" + STR_NO_RESPONSE_BODY + \"=true\";\r\nvar STR_POST_METHOD = \"POST\";\r\n/**\r\n * This Internal component\r\n * Manager SendPost functions\r\n * SendPostManger\r\n * @internal for internal use only\r\n */\r\nvar SenderPostManager = /** @class */ (function () {\r\n    function SenderPostManager() {\r\n        var _syncFetchPayload = 0; // Keep track of the outstanding sync fetch payload total (as sync fetch has limits)\r\n        var _enableSendPromise;\r\n        var _isInitialized;\r\n        var _diagLog;\r\n        var _isOneDs;\r\n        var _onCompleteFuncs;\r\n        var _disableCredentials;\r\n        var _fetchCredentials;\r\n        var _fallbackInst;\r\n        var _disableXhr;\r\n        var _disableBeacon;\r\n        var _disableBeaconSync;\r\n        var _disableFetchKeepAlive;\r\n        var _addNoResponse;\r\n        var _timeoutWrapper;\r\n        dynamicProto(SenderPostManager, this, function (_self, _base) {\r\n            var _sendCredentials = true; // for 1ds\r\n            _initDefaults();\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (config, diagLog) {\r\n                _diagLog = diagLog;\r\n                if (_isInitialized) {\r\n                    _throwInternal(_diagLog, 1 /* eLoggingSeverity.CRITICAL */, 28 /* _eInternalMessageId.SenderNotInitialized */, \"Sender is already initialized\");\r\n                }\r\n                _self.SetConfig(config);\r\n                _isInitialized = true;\r\n            };\r\n            _self[\"_getDbgPlgTargets\"] = function () {\r\n                return [_isInitialized, _isOneDs, _disableCredentials, _enableSendPromise];\r\n            };\r\n            // This componet might get its config from sender, offline sender, 1ds post\r\n            // so set this function to mock dynamic changes\r\n            _self.SetConfig = function (config) {\r\n                try {\r\n                    _onCompleteFuncs = config.senderOnCompleteCallBack || {};\r\n                    _disableCredentials = !!config.disableCredentials;\r\n                    _fetchCredentials = config.fetchCredentials;\r\n                    _isOneDs = !!config.isOneDs;\r\n                    _enableSendPromise = !!config.enableSendPromise;\r\n                    _disableXhr = !!config.disableXhr;\r\n                    _disableBeacon = !!config.disableBeacon;\r\n                    _disableBeaconSync = !!config.disableBeaconSync;\r\n                    _timeoutWrapper = config.timeWrapper;\r\n                    _addNoResponse = !!config.addNoResponse;\r\n                    _disableFetchKeepAlive = !!config.disableFetchKeepAlive;\r\n                    _fallbackInst = { sendPOST: _xhrSender };\r\n                    if (!_isOneDs) {\r\n                        _sendCredentials = false; // for appInsights, set it to false always\r\n                    }\r\n                    if (_disableCredentials) {\r\n                        var location_1 = getLocation();\r\n                        if (location_1 && location_1.protocol && location_1.protocol[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]() === \"file:\") {\r\n                            // Special case where a local html file fails with a CORS error on Chromium browsers\r\n                            _sendCredentials = false;\r\n                        }\r\n                    }\r\n                    return true;\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return false;\r\n            };\r\n            _self.getSyncFetchPayload = function () {\r\n                return _syncFetchPayload;\r\n            };\r\n            _self.getSenderInst = function (transports, sync) {\r\n                if (transports && transports[_DYN_LENGTH /* @min:%2elength */]) {\r\n                    return _getSenderInterface(transports, sync);\r\n                }\r\n                return null;\r\n            };\r\n            _self.getFallbackInst = function () {\r\n                return _fallbackInst;\r\n            };\r\n            _self[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */] = function (unloadCtx, unloadState) {\r\n                _initDefaults();\r\n            };\r\n            /**\r\n             * success handler\r\n             */\r\n            function _onSuccess(res, onComplete) {\r\n                _doOnComplete(onComplete, 200, {}, res);\r\n            }\r\n            /**\r\n             * error handler\r\n             */\r\n            function _onError(message, onComplete) {\r\n                _throwInternal(_diagLog, 2 /* eLoggingSeverity.WARNING */, 26 /* _eInternalMessageId.OnError */, \"Failed to send telemetry.\", { message: message });\r\n                _doOnComplete(onComplete, 400, {});\r\n            }\r\n            function _onNoPayloadUrl(onComplete) {\r\n                _onError(\"No endpoint url is provided for the batch\", onComplete);\r\n            }\r\n            function _getSenderInterface(transports, syncSupport) {\r\n                var _a;\r\n                var transportType = 0 /* TransportType.NotSet */;\r\n                var sendPostFunc = null;\r\n                var lp = 0;\r\n                while (sendPostFunc == null && lp < transports[_DYN_LENGTH /* @min:%2elength */]) {\r\n                    transportType = transports[lp];\r\n                    if (!_disableXhr && transportType === 1 /* TransportType.Xhr */) {\r\n                        if (useXDomainRequest()) {\r\n                            // IE 8 and 9\r\n                            sendPostFunc = _xdrSender;\r\n                        }\r\n                        else if (isXhrSupported()) {\r\n                            sendPostFunc = _xhrSender;\r\n                        }\r\n                    }\r\n                    else if (transportType === 2 /* TransportType.Fetch */ && isFetchSupported(syncSupport) && (!syncSupport || !_disableFetchKeepAlive)) {\r\n                        sendPostFunc = _doFetchSender;\r\n                    }\r\n                    else if (transportType === 3 /* TransportType.Beacon */ && isBeaconsSupported() && (syncSupport ? !_disableBeaconSync : !_disableBeacon)) {\r\n                        sendPostFunc = _beaconSender;\r\n                    }\r\n                    lp++;\r\n                }\r\n                if (sendPostFunc) {\r\n                    return _a = {\r\n                            _transport: transportType,\r\n                            _isSync: syncSupport\r\n                        },\r\n                        _a[_DYN_SEND_POST /* @min:sendPOST */] = sendPostFunc,\r\n                        _a;\r\n                }\r\n                return null;\r\n            }\r\n            function _doOnComplete(oncomplete, status, headers, response) {\r\n                try {\r\n                    oncomplete && oncomplete(status, headers, response);\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n            }\r\n            function _doBeaconSend(payload, oncomplete) {\r\n                var nav = getNavigator();\r\n                var url = payload[_DYN_URL_STRING /* @min:%2eurlString */];\r\n                if (!url) {\r\n                    _onNoPayloadUrl(oncomplete);\r\n                    // return true here, because we don't want to retry it with fallback sender\r\n                    return true;\r\n                }\r\n                url = payload[_DYN_URL_STRING /* @min:%2eurlString */] + (_addNoResponse ? _noResponseQs : STR_EMPTY);\r\n                var data = payload[_DYN_DATA /* @min:%2edata */];\r\n                // Chrome only allows CORS-safelisted values for the sendBeacon data argument\r\n                // see: https://bugs.chromium.org/p/chromium/issues/detail?id=720283\r\n                // Chrome only allows CORS-safelisted values for the sendBeacon data argument\r\n                // see: https://bugs.chromium.org/p/chromium/issues/detail?id=720283\r\n                var plainTextBatch = _isOneDs ? data : new Blob([data], { type: \"text/plain;charset=UTF-8\" });\r\n                // The sendBeacon method returns true if the user agent is able to successfully queue the data for transfer. Otherwise it returns false.\r\n                var queued = nav.sendBeacon(url, plainTextBatch);\r\n                return queued;\r\n            }\r\n            /**\r\n             * Send Beacon API request\r\n             * @param payload - {string} - The data payload to be sent.\r\n             * @param sync - {boolean} - not used\r\n             * Note: Beacon API does not support custom headers and we are not able to get\r\n             * appId from the backend for the correct correlation.\r\n             */\r\n            function _beaconSender(payload, oncomplete, sync) {\r\n                var data = payload[_DYN_DATA /* @min:%2edata */];\r\n                try {\r\n                    if (data) {\r\n                        // The sendBeacon method returns true if the user agent is able to successfully queue the data for transfer. Otherwise it returns false.\r\n                        if (!_doBeaconSend(payload, oncomplete)) {\r\n                            var onRetry = _onCompleteFuncs && _onCompleteFuncs.beaconOnRetry;\r\n                            if (onRetry && isFunction(onRetry)) {\r\n                                onRetry(payload, oncomplete, _doBeaconSend);\r\n                            }\r\n                            else {\r\n                                _fallbackInst && _fallbackInst[_DYN_SEND_POST /* @min:%2esendPOST */](payload, oncomplete, true);\r\n                                _throwInternal(_diagLog, 2 /* eLoggingSeverity.WARNING */, 40 /* _eInternalMessageId.TransmissionFailed */, \". \" + \"Failed to send telemetry with Beacon API, retried with normal sender.\");\r\n                            }\r\n                        }\r\n                        else {\r\n                            // if can send\r\n                            _onSuccess(STR_EMPTY, oncomplete);\r\n                        }\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    _isOneDs && _warnToConsole(_diagLog, \"Failed to send telemetry using sendBeacon API. Ex:\" + dumpObj(e));\r\n                    _doOnComplete(oncomplete, _isOneDs ? 0 : 400, {}, STR_EMPTY);\r\n                }\r\n                return;\r\n            }\r\n            /**\r\n             * Send XMLHttpRequest\r\n             * @param payload - {string} - The data payload to be sent.\r\n             * @param sync - {boolean} - Indicates if the request should be sent synchronously\r\n             */\r\n            function _xhrSender(payload, oncomplete, sync) {\r\n                //let  internalPayload = payload as IInternalPayloadData;\r\n                var thePromise;\r\n                var resolveFunc;\r\n                var rejectFunc;\r\n                var headers = payload[_DYN_HEADERS /* @min:%2eheaders */] || {};\r\n                if (!sync && _enableSendPromise) {\r\n                    thePromise = createPromise(function (resolve, reject) {\r\n                        resolveFunc = resolve;\r\n                        rejectFunc = reject;\r\n                    });\r\n                }\r\n                if (_isOneDs && sync && payload.disableXhrSync) {\r\n                    sync = false;\r\n                }\r\n                //const xhr = new XMLHttpRequest();\r\n                var endPointUrl = payload[_DYN_URL_STRING /* @min:%2eurlString */];\r\n                if (!endPointUrl) {\r\n                    _onNoPayloadUrl(oncomplete);\r\n                    resolveFunc && resolveFunc(false);\r\n                    return;\r\n                }\r\n                var xhr = openXhr(STR_POST_METHOD, endPointUrl, _sendCredentials, true, sync, payload[_DYN_TIMEOUT /* @min:%2etimeout */]);\r\n                if (!_isOneDs) {\r\n                    // application/json should NOT add to 1ds post by default\r\n                    xhr[_DYN_SET_REQUEST_HEADER /* @min:%2esetRequestHeader */](\"Content-type\", \"application/json\");\r\n                }\r\n                arrForEach(objKeys(headers), function (headerName) {\r\n                    xhr[_DYN_SET_REQUEST_HEADER /* @min:%2esetRequestHeader */](headerName, headers[headerName]);\r\n                });\r\n                xhr.onreadystatechange = function () {\r\n                    if (!_isOneDs) {\r\n                        _doOnReadyFunc(xhr);\r\n                        if (xhr.readyState === 4) {\r\n                            resolveFunc && resolveFunc(true);\r\n                        }\r\n                    }\r\n                };\r\n                xhr.onload = function () {\r\n                    if (_isOneDs) {\r\n                        _doOnReadyFunc(xhr);\r\n                    }\r\n                };\r\n                function _doOnReadyFunc(xhr) {\r\n                    var onReadyFunc = _onCompleteFuncs && _onCompleteFuncs.xhrOnComplete;\r\n                    var onReadyFuncExist = onReadyFunc && isFunction(onReadyFunc);\r\n                    if (onReadyFuncExist) {\r\n                        onReadyFunc(xhr, oncomplete, payload);\r\n                    }\r\n                    else {\r\n                        var response = getResponseText(xhr);\r\n                        _doOnComplete(oncomplete, xhr[_DYN_STATUS /* @min:%2estatus */], _getAllResponseHeaders(xhr, _isOneDs), response);\r\n                    }\r\n                }\r\n                xhr.onerror = function (event) {\r\n                    _doOnComplete(oncomplete, _isOneDs ? xhr[_DYN_STATUS /* @min:%2estatus */] : 400, _getAllResponseHeaders(xhr, _isOneDs), _isOneDs ? STR_EMPTY : formatErrorMessageXhr(xhr));\r\n                    rejectFunc && rejectFunc(event);\r\n                };\r\n                xhr.ontimeout = function () {\r\n                    _doOnComplete(oncomplete, _isOneDs ? xhr[_DYN_STATUS /* @min:%2estatus */] : 500, _getAllResponseHeaders(xhr, _isOneDs), _isOneDs ? STR_EMPTY : formatErrorMessageXhr(xhr));\r\n                    resolveFunc && resolveFunc(false);\r\n                };\r\n                xhr.send(payload[_DYN_DATA /* @min:%2edata */]);\r\n                return thePromise;\r\n            }\r\n            /**\r\n             * Send fetch API request\r\n             * @param payload - {string} - The data payload to be sent.\r\n             * @param sync - {boolean} - For fetch this identifies whether we are \"unloading\" (false) or a normal request\r\n             */\r\n            function _doFetchSender(payload, oncomplete, sync) {\r\n                var _a;\r\n                var endPointUrl = payload[_DYN_URL_STRING /* @min:%2eurlString */];\r\n                var batch = payload[_DYN_DATA /* @min:%2edata */];\r\n                var plainTextBatch = _isOneDs ? batch : new Blob([batch], { type: \"application/json\" });\r\n                var thePromise;\r\n                var resolveFunc;\r\n                var rejectFunc;\r\n                var requestHeaders = new Headers();\r\n                var batchLength = batch[_DYN_LENGTH /* @min:%2elength */];\r\n                var ignoreResponse = false;\r\n                var responseHandled = false;\r\n                var headers = payload[_DYN_HEADERS /* @min:%2eheaders */] || {};\r\n                //TODO: handle time out for 1ds\r\n                var init = (_a = {\r\n                        method: STR_POST_METHOD,\r\n                        body: plainTextBatch\r\n                    },\r\n                    _a[DisabledPropertyName] = true // Mark so we don't attempt to track this request\r\n                ,\r\n                    _a);\r\n                // Only add headers if there are headers to add, due to issue with some polyfills\r\n                if (payload.headers && objKeys(payload.headers)[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    arrForEach(objKeys(headers), function (headerName) {\r\n                        requestHeaders.append(headerName, headers[headerName]);\r\n                    });\r\n                    init[_DYN_HEADERS /* @min:%2eheaders */] = requestHeaders;\r\n                }\r\n                if (_fetchCredentials) { // if user passed in this value via post channel (1ds), then use it\r\n                    init.credentials = _fetchCredentials;\r\n                }\r\n                else if (_sendCredentials && _isOneDs) {\r\n                    // for 1ds, Don't send credentials when URL is file://\r\n                    init.credentials = \"include\";\r\n                }\r\n                if (sync) {\r\n                    init.keepalive = true;\r\n                    _syncFetchPayload += batchLength;\r\n                    if (_isOneDs) {\r\n                        if (payload[\"_sendReason\"] === 2 /* SendRequestReason.Unload */) {\r\n                            // As a sync request (during unload), it is unlikely that we will get a chance to process the response so\r\n                            // just like beacon send assume that the events have been accepted and processed\r\n                            ignoreResponse = true;\r\n                            if (_addNoResponse) {\r\n                                endPointUrl += _noResponseQs;\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        // for appinsights, set to true for all sync request\r\n                        ignoreResponse = true;\r\n                    }\r\n                }\r\n                var request = new Request(endPointUrl, init);\r\n                try {\r\n                    // Also try and tag the request (just in case the value in init is not copied over)\r\n                    request[DisabledPropertyName] = true;\r\n                }\r\n                catch (e) {\r\n                    // If the environment has locked down the XMLHttpRequest (preventExtensions and/or freeze), this would\r\n                    // cause the request to fail and we no telemetry would be sent\r\n                }\r\n                if (!sync && _enableSendPromise) {\r\n                    thePromise = createPromise(function (resolve, reject) {\r\n                        resolveFunc = resolve;\r\n                        rejectFunc = reject;\r\n                    });\r\n                }\r\n                if (!endPointUrl) {\r\n                    _onNoPayloadUrl(oncomplete);\r\n                    resolveFunc && resolveFunc(false);\r\n                    return;\r\n                }\r\n                function _handleError(res) {\r\n                    // In case there is an error in the request. Set the status to 0 for 1ds and 400 for appInsights\r\n                    // so that the events can be retried later.\r\n                    _doOnComplete(oncomplete, _isOneDs ? 0 : 400, {}, _isOneDs ? STR_EMPTY : res);\r\n                }\r\n                function _onFetchComplete(response, payload, value) {\r\n                    var status = response[_DYN_STATUS /* @min:%2estatus */];\r\n                    var onCompleteFunc = _onCompleteFuncs.fetchOnComplete;\r\n                    if (onCompleteFunc && isFunction(onCompleteFunc)) {\r\n                        onCompleteFunc(response, oncomplete, value || STR_EMPTY, payload);\r\n                    }\r\n                    else {\r\n                        _doOnComplete(oncomplete, status, {}, value || STR_EMPTY);\r\n                    }\r\n                }\r\n                try {\r\n                    doAwaitResponse(fetch(_isOneDs ? endPointUrl : request, _isOneDs ? init : null), function (result) {\r\n                        if (sync) {\r\n                            _syncFetchPayload -= batchLength;\r\n                            batchLength = 0;\r\n                        }\r\n                        if (!responseHandled) {\r\n                            responseHandled = true;\r\n                            if (!result.rejected) {\r\n                                var response_1 = result[_DYN_VALUE /* @min:%2evalue */];\r\n                                try {\r\n                                    /**\r\n                                     * The Promise returned from fetch() wont reject on HTTP error status even if the response is an HTTP 404 or 500.\r\n                                     * Instead, it will resolve normally (with ok status set to false), and it will only reject on network failure\r\n                                     * or if anything prevented the request from completing.\r\n                                     */\r\n                                    if (!_isOneDs && !response_1.ok) {\r\n                                        // this is for appInsights only\r\n                                        _handleError(response_1.statusText);\r\n                                        resolveFunc && resolveFunc(false);\r\n                                    }\r\n                                    else {\r\n                                        if (_isOneDs && !response_1.body) {\r\n                                            _onFetchComplete(response_1, null, STR_EMPTY);\r\n                                            resolveFunc && resolveFunc(true);\r\n                                        }\r\n                                        else {\r\n                                            doAwaitResponse(response_1.text(), function (resp) {\r\n                                                _onFetchComplete(response_1, payload, resp[_DYN_VALUE /* @min:%2evalue */]);\r\n                                                resolveFunc && resolveFunc(true);\r\n                                            });\r\n                                        }\r\n                                    }\r\n                                }\r\n                                catch (e) {\r\n                                    _handleError(dumpObj(e));\r\n                                    rejectFunc && rejectFunc(e);\r\n                                }\r\n                            }\r\n                            else {\r\n                                _handleError(result.reason && result.reason[_DYN_MESSAGE /* @min:%2emessage */]);\r\n                                rejectFunc && rejectFunc(result.reason);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n                catch (e) {\r\n                    if (!responseHandled) {\r\n                        _handleError(dumpObj(e));\r\n                        rejectFunc && rejectFunc(e);\r\n                    }\r\n                }\r\n                if (ignoreResponse && !responseHandled) {\r\n                    // Assume success during unload processing as we most likely won't get the response\r\n                    responseHandled = true;\r\n                    _doOnComplete(oncomplete, 200, {});\r\n                    resolveFunc && resolveFunc(true);\r\n                }\r\n                if (_isOneDs && !responseHandled && payload[_DYN_TIMEOUT /* @min:%2etimeout */] > 0) {\r\n                    // Simulate timeout\r\n                    _timeoutWrapper && _timeoutWrapper.set(function () {\r\n                        if (!responseHandled) {\r\n                            // Assume a 500 response (which will cause a retry)\r\n                            responseHandled = true;\r\n                            _doOnComplete(oncomplete, 500, {});\r\n                            resolveFunc && resolveFunc(true);\r\n                        }\r\n                    }, payload[_DYN_TIMEOUT /* @min:%2etimeout */]);\r\n                }\r\n                return thePromise;\r\n            }\r\n            /**\r\n             * Send XDomainRequest\r\n             * @param payload - {string} - The data payload to be sent.\r\n             * @param sync - {boolean} - Indicates if the request should be sent synchronously\r\n             *\r\n             * Note: XDomainRequest does not support sync requests. This 'isAsync' parameter is added\r\n             * to maintain consistency with the xhrSender's contract\r\n             * Note: XDomainRequest does not support custom headers and we are not able to get\r\n             * appId from the backend for the correct correlation.\r\n             */\r\n            function _xdrSender(payload, oncomplete, sync) {\r\n                // It doesn't support custom headers, so no action is taken with current requestHeaders\r\n                var _window = getWindow();\r\n                var xdr = new XDomainRequest();\r\n                var data = payload[_DYN_DATA /* @min:%2edata */];\r\n                xdr.onload = function () {\r\n                    var response = getResponseText(xdr);\r\n                    var onloadFunc = _onCompleteFuncs && _onCompleteFuncs.xdrOnComplete;\r\n                    if (onloadFunc && isFunction(onloadFunc)) {\r\n                        onloadFunc(xdr, oncomplete, payload);\r\n                    }\r\n                    else {\r\n                        _doOnComplete(oncomplete, 200, {}, response);\r\n                    }\r\n                };\r\n                xdr.onerror = function () {\r\n                    _doOnComplete(oncomplete, 400, {}, _isOneDs ? STR_EMPTY : formatErrorMessageXdr(xdr));\r\n                };\r\n                xdr.ontimeout = function () {\r\n                    _doOnComplete(oncomplete, 500, {});\r\n                };\r\n                xdr.onprogress = function () { };\r\n                // XDomainRequest requires the same protocol as the hosting page.\r\n                // If the protocol doesn't match, we can't send the telemetry :(.\r\n                var hostingProtocol = _window && _window.location && _window.location[_DYN_PROTOCOL /* @min:%2eprotocol */] || \"\";\r\n                var endpoint = payload[_DYN_URL_STRING /* @min:%2eurlString */];\r\n                if (!endpoint) {\r\n                    _onNoPayloadUrl(oncomplete);\r\n                    return;\r\n                }\r\n                if (!_isOneDs && endpoint.lastIndexOf(hostingProtocol, 0) !== 0) {\r\n                    var msg = \"Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.\";\r\n                    _throwInternal(_diagLog, 2 /* eLoggingSeverity.WARNING */, 40 /* _eInternalMessageId.TransmissionFailed */, \". \" + msg);\r\n                    _onError(msg, oncomplete);\r\n                    return;\r\n                }\r\n                var endpointUrl = _isOneDs ? endpoint : endpoint[_DYN_REPLACE /* @min:%2ereplace */](/^(https?:)/, \"\");\r\n                xdr.open(STR_POST_METHOD, endpointUrl);\r\n                if (payload[_DYN_TIMEOUT /* @min:%2etimeout */]) {\r\n                    xdr[_DYN_TIMEOUT /* @min:%2etimeout */] = payload[_DYN_TIMEOUT /* @min:%2etimeout */];\r\n                }\r\n                xdr.send(data);\r\n                if (_isOneDs && sync) {\r\n                    _timeoutWrapper && _timeoutWrapper.set(function () {\r\n                        xdr.send(data);\r\n                    }, 0);\r\n                }\r\n                else {\r\n                    xdr.send(data);\r\n                }\r\n            }\r\n            function _initDefaults() {\r\n                _syncFetchPayload = 0;\r\n                _isInitialized = false;\r\n                _enableSendPromise = false;\r\n                _diagLog = null;\r\n                _isOneDs = null;\r\n                _onCompleteFuncs = null;\r\n                _disableCredentials = null;\r\n                _fetchCredentials = null;\r\n                _fallbackInst = null;\r\n                _disableXhr = false;\r\n                _disableBeacon = false;\r\n                _disableBeaconSync = false;\r\n                _disableFetchKeepAlive = false;\r\n                _addNoResponse = false;\r\n                _timeoutWrapper = null;\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for SenderPostManager.prototype.initialize.\r\n// Removed Stub for SenderPostManager.prototype.getSyncFetchPayload.\r\n// Removed Stub for SenderPostManager.prototype.SetConfig.\r\n// Removed Stub for SenderPostManager.prototype.getSenderInst.\r\n// Removed Stub for SenderPostManager.prototype.getFallbackInst.\r\n// Removed Stub for SenderPostManager.prototype._doTeardown.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    SenderPostManager.__ieDyn=1;\n\n    return SenderPostManager;\r\n}());\r\nexport { SenderPostManager };\r\n//# sourceMappingURL=SenderPostManager.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n\"use strict\";\r\nimport { arrForEach, isFunction } from \"@nevware21/ts-utils\";\r\nimport { _DYN_GET_NEXT, _DYN_GET_PLUGIN, _DYN_INITIALIZE, _DYN_IS_INITIALIZED, _DYN_LENGTH, _DYN_NAME, _DYN_PUSH, _DYN_SET_NEXT_PLUGIN, _DYN_SPAN_ID, _DYN_TEARDOWN, _DYN_TRACE_FLAGS, _DYN_TRACE_ID, _DYN__DO_TEARDOWN } from \"../__DynamicConstants\";\r\nimport { createElmNodeData } from \"./DataCacheHelper\";\r\nimport { STR_CORE, STR_PRIORITY, STR_PROCESS_TELEMETRY } from \"./InternalConstants\";\r\nimport { isValidSpanId, isValidTraceId } from \"./W3cTraceParent\";\r\nvar pluginStateData = createElmNodeData(\"plugin\");\r\nexport function _getPluginState(plugin) {\r\n    return pluginStateData.get(plugin, \"state\", {}, true);\r\n}\r\n/**\r\n * Initialize the queue of plugins\r\n * @param plugins - The array of plugins to initialize and setting of the next plugin\r\n * @param config - The current config for the instance\r\n * @param core - THe current core instance\r\n * @param extensions - The extensions\r\n */\r\nexport function initializePlugins(processContext, extensions) {\r\n    // Set the next plugin and identified the uninitialized plugins\r\n    var initPlugins = [];\r\n    var lastPlugin = null;\r\n    var proxy = processContext[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n    var pluginState;\r\n    while (proxy) {\r\n        var thePlugin = proxy[_DYN_GET_PLUGIN /* @min:%2egetPlugin */]();\r\n        if (thePlugin) {\r\n            if (lastPlugin && lastPlugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */] && thePlugin[STR_PROCESS_TELEMETRY /* @min:%2eprocessTelemetry */]) {\r\n                // Set this plugin as the next for the previous one\r\n                lastPlugin[_DYN_SET_NEXT_PLUGIN /* @min:%2esetNextPlugin */](thePlugin);\r\n            }\r\n            pluginState = _getPluginState(thePlugin);\r\n            var isInitialized = !!pluginState[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */];\r\n            if (thePlugin[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */]) {\r\n                isInitialized = thePlugin[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */]();\r\n            }\r\n            if (!isInitialized) {\r\n                initPlugins[_DYN_PUSH /* @min:%2epush */](thePlugin);\r\n            }\r\n            lastPlugin = thePlugin;\r\n            proxy = proxy[_DYN_GET_NEXT /* @min:%2egetNext */]();\r\n        }\r\n    }\r\n    // Now initialize the plugins\r\n    arrForEach(initPlugins, function (thePlugin) {\r\n        var core = processContext[STR_CORE /* @min:%2ecore */]();\r\n        thePlugin[_DYN_INITIALIZE /* @min:%2einitialize */](processContext.getCfg(), core, extensions, processContext[_DYN_GET_NEXT /* @min:%2egetNext */]());\r\n        pluginState = _getPluginState(thePlugin);\r\n        // Only add the core to the state if the plugin didn't set it (doesn't extend from BaseTelemetryPlugin)\r\n        if (!thePlugin[STR_CORE] && !pluginState[STR_CORE]) {\r\n            pluginState[STR_CORE] = core;\r\n        }\r\n        pluginState[_DYN_IS_INITIALIZED /* @min:%2eisInitialized */] = true;\r\n        delete pluginState[_DYN_TEARDOWN /* @min:%2eteardown */];\r\n    });\r\n}\r\nexport function sortPlugins(plugins) {\r\n    // Sort by priority\r\n    return plugins.sort(function (extA, extB) {\r\n        var result = 0;\r\n        if (extB) {\r\n            var bHasProcess = extB[STR_PROCESS_TELEMETRY];\r\n            if (extA[STR_PROCESS_TELEMETRY]) {\r\n                result = bHasProcess ? extA[STR_PRIORITY] - extB[STR_PRIORITY] : 1;\r\n            }\r\n            else if (bHasProcess) {\r\n                result = -1;\r\n            }\r\n        }\r\n        else {\r\n            result = extA ? 1 : -1;\r\n        }\r\n        return result;\r\n    });\r\n    // sort complete\r\n}\r\n/**\r\n * Teardown / Unload helper to perform teardown/unloading operations for the provided components synchronously or asynchronously, this will call any\r\n * _doTeardown() or _doUnload() functions on the provided components to allow them to finish removal.\r\n * @param components - The components you want to unload\r\n * @param unloadCtx - This is the context that should be used during unloading.\r\n * @param unloadState - The details / state of the unload process, it holds details like whether it should be unloaded synchronously or asynchronously and the reason for the unload.\r\n * @param asyncCallback - An optional callback that the plugin must call if it returns true to inform the caller that it has completed any async unload/teardown operations.\r\n * @returns boolean - true if the plugin has or will call asyncCallback, this allows the plugin to perform any asynchronous operations.\r\n */\r\nexport function unloadComponents(components, unloadCtx, unloadState, asyncCallback) {\r\n    var idx = 0;\r\n    function _doUnload() {\r\n        while (idx < components[_DYN_LENGTH /* @min:%2elength */]) {\r\n            var component = components[idx++];\r\n            if (component) {\r\n                var func = component._doUnload || component[_DYN__DO_TEARDOWN /* @min:%2e_doTeardown */];\r\n                if (isFunction(func)) {\r\n                    if (func.call(component, unloadCtx, unloadState, _doUnload) === true) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return _doUnload();\r\n}\r\n/**\r\n * Creates a IDistributedTraceContext which optionally also \"sets\" the value on a parent\r\n * @param parentCtx - An optional parent distributed trace instance\r\n * @returns A new IDistributedTraceContext instance that uses an internal temporary object\r\n */\r\nexport function createDistributedTraceContext(parentCtx) {\r\n    var trace = {};\r\n    return {\r\n        getName: function () {\r\n            return trace[_DYN_NAME /* @min:%2ename */];\r\n        },\r\n        setName: function (newValue) {\r\n            parentCtx && parentCtx.setName(newValue);\r\n            trace[_DYN_NAME /* @min:%2ename */] = newValue;\r\n        },\r\n        getTraceId: function () {\r\n            return trace[_DYN_TRACE_ID /* @min:%2etraceId */];\r\n        },\r\n        setTraceId: function (newValue) {\r\n            parentCtx && parentCtx.setTraceId(newValue);\r\n            if (isValidTraceId(newValue)) {\r\n                trace[_DYN_TRACE_ID /* @min:%2etraceId */] = newValue;\r\n            }\r\n        },\r\n        getSpanId: function () {\r\n            return trace[_DYN_SPAN_ID /* @min:%2espanId */];\r\n        },\r\n        setSpanId: function (newValue) {\r\n            parentCtx && parentCtx.setSpanId(newValue);\r\n            if (isValidSpanId(newValue)) {\r\n                trace[_DYN_SPAN_ID /* @min:%2espanId */] = newValue;\r\n            }\r\n        },\r\n        getTraceFlags: function () {\r\n            return trace[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */];\r\n        },\r\n        setTraceFlags: function (newTraceFlags) {\r\n            parentCtx && parentCtx.setTraceFlags(newTraceFlags);\r\n            trace[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */] = newTraceFlags;\r\n        }\r\n    };\r\n}\r\n//# sourceMappingURL=TelemetryHelpers.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { arrForEach, dumpObj } from \"@nevware21/ts-utils\";\r\nimport { _DYN_DIAG_LOG, _DYN_PUSH } from \"../__DynamicConstants\";\r\nimport { _throwInternal } from \"./DiagnosticLogger\";\r\nexport function createUnloadHandlerContainer() {\r\n    var handlers = [];\r\n    function _addHandler(handler) {\r\n        if (handler) {\r\n            handlers[_DYN_PUSH /* @min:%2epush */](handler);\r\n        }\r\n    }\r\n    function _runHandlers(unloadCtx, unloadState) {\r\n        arrForEach(handlers, function (handler) {\r\n            try {\r\n                handler(unloadCtx, unloadState);\r\n            }\r\n            catch (e) {\r\n                _throwInternal(unloadCtx[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 2 /* eLoggingSeverity.WARNING */, 73 /* _eInternalMessageId.PluginException */, \"Unexpected error calling unload handler - \" + dumpObj(e));\r\n            }\r\n        });\r\n        handlers = [];\r\n    }\r\n    return {\r\n        add: _addHandler,\r\n        run: _runHandlers\r\n    };\r\n}\r\n//# sourceMappingURL=UnloadHandlerContainer.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { arrAppend, arrForEach, dumpObj } from \"@nevware21/ts-utils\";\r\nimport { _DYN_LENGTH } from \"../__DynamicConstants\";\r\nimport { _throwInternal } from \"./DiagnosticLogger\";\r\nvar _maxHooks;\r\nvar _hookAddMonitor;\r\n/**\r\n * Test hook for setting the maximum number of unload hooks and calling a monitor function when the hooks are added or removed\r\n * This allows for automatic test failure when the maximum number of unload hooks is exceeded\r\n * @param maxHooks - The maximum number of unload hooks\r\n * @param addMonitor - The monitor function to call when hooks are added or removed\r\n */\r\nexport function _testHookMaxUnloadHooksCb(maxHooks, addMonitor) {\r\n    _maxHooks = maxHooks;\r\n    _hookAddMonitor = addMonitor;\r\n}\r\n/**\r\n * Create a IUnloadHookContainer which can be used to remember unload hook functions to be executed during the component unloading\r\n * process.\r\n * @returns A new IUnloadHookContainer instance\r\n */\r\nexport function createUnloadHookContainer() {\r\n    var _hooks = [];\r\n    function _doUnload(logger) {\r\n        var oldHooks = _hooks;\r\n        _hooks = [];\r\n        // Remove all registered unload hooks\r\n        arrForEach(oldHooks, function (fn) {\r\n            // allow either rm or remove callback function\r\n            try {\r\n                (fn.rm || fn.remove).call(fn);\r\n            }\r\n            catch (e) {\r\n                _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 73 /* _eInternalMessageId.PluginException */, \"Unloading:\" + dumpObj(e));\r\n            }\r\n        });\r\n        if (_maxHooks && oldHooks[_DYN_LENGTH /* @min:%2elength */] > _maxHooks) {\r\n            _hookAddMonitor ? _hookAddMonitor(\"doUnload\", oldHooks) : _throwInternal(null, 1 /* eLoggingSeverity.CRITICAL */, 48 /* _eInternalMessageId.MaxUnloadHookExceeded */, \"Max unload hooks exceeded. An excessive number of unload hooks has been detected.\");\r\n        }\r\n    }\r\n    function _addHook(hooks) {\r\n        if (hooks) {\r\n            arrAppend(_hooks, hooks);\r\n            if (_maxHooks && _hooks[_DYN_LENGTH /* @min:%2elength */] > _maxHooks) {\r\n                _hookAddMonitor ? _hookAddMonitor(\"Add\", _hooks) : _throwInternal(null, 1 /* eLoggingSeverity.CRITICAL */, 48 /* _eInternalMessageId.MaxUnloadHookExceeded */, \"Max unload hooks exceeded. An excessive number of unload hooks has been detected.\");\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        run: _doUnload,\r\n        add: _addHook\r\n    };\r\n}\r\n//# sourceMappingURL=UnloadHookContainer.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { arrForEach, isArray, isString, strLeft, strTrim } from \"@nevware21/ts-utils\";\r\nimport { _DYN_GET_ATTRIBUTE, _DYN_LENGTH, _DYN_PUSH, _DYN_SPAN_ID, _DYN_SPLIT, _DYN_TO_LOWER_CASE, _DYN_TRACE_FLAGS, _DYN_TRACE_ID, _DYN_VERSION } from \"../__DynamicConstants\";\r\nimport { generateW3CId } from \"./CoreUtils\";\r\nimport { findMetaTag, findNamedServerTiming } from \"./EnvUtils\";\r\nimport { STR_EMPTY } from \"./InternalConstants\";\r\n// using {0,16} for leading and trailing whitespace just to constrain the possible runtime of a random string\r\nvar TRACE_PARENT_REGEX = /^([\\da-f]{2})-([\\da-f]{32})-([\\da-f]{16})-([\\da-f]{2})(-[^\\s]{1,64})?$/i;\r\nvar DEFAULT_VERSION = \"00\";\r\nvar INVALID_VERSION = \"ff\";\r\nvar INVALID_TRACE_ID = \"00000000000000000000000000000000\";\r\nvar INVALID_SPAN_ID = \"0000000000000000\";\r\nvar SAMPLED_FLAG = 0x01;\r\nfunction _isValid(value, len, invalidValue) {\r\n    if (value && value[_DYN_LENGTH /* @min:%2elength */] === len && value !== invalidValue) {\r\n        return !!value.match(/^[\\da-f]*$/i);\r\n    }\r\n    return false;\r\n}\r\nfunction _formatValue(value, len, defValue) {\r\n    if (_isValid(value, len)) {\r\n        return value;\r\n    }\r\n    return defValue;\r\n}\r\nfunction _formatFlags(value) {\r\n    if (isNaN(value) || value < 0 || value > 255) {\r\n        value = 0x01;\r\n    }\r\n    var result = value.toString(16);\r\n    while (result[_DYN_LENGTH /* @min:%2elength */] < 2) {\r\n        result = \"0\" + result;\r\n    }\r\n    return result;\r\n}\r\n/**\r\n * Create a new ITraceParent instance using the provided values.\r\n * @param traceId - The traceId to use, when invalid a new random W3C id will be generated.\r\n * @param spanId - The parent/span id to use, a new random value will be generated if it is invalid.\r\n * @param flags - The traceFlags to use, defaults to zero (0) if not supplied or invalid\r\n * @param version - The version to used, defaults to version \"01\" if not supplied or invalid.\r\n * @returns\r\n */\r\nexport function createTraceParent(traceId, spanId, flags, version) {\r\n    var _a;\r\n    return _a = {},\r\n        _a[_DYN_VERSION /* @min:version */] = _isValid(version, 2, INVALID_VERSION) ? version : DEFAULT_VERSION,\r\n        _a[_DYN_TRACE_ID /* @min:traceId */] = isValidTraceId(traceId) ? traceId : generateW3CId(),\r\n        _a[_DYN_SPAN_ID /* @min:spanId */] = isValidSpanId(spanId) ? spanId : strLeft(generateW3CId(), 16),\r\n        _a.traceFlags = flags >= 0 && flags <= 0xFF ? flags : 1,\r\n        _a;\r\n}\r\n/**\r\n * Attempt to parse the provided string as a W3C TraceParent header value (https://www.w3.org/TR/trace-context/#traceparent-header)\r\n *\r\n * @param value - The value to be parsed\r\n * @param selectIdx - If the found value is comma separated which is the preferred entry to select, defaults to the first\r\n * @returns\r\n */\r\nexport function parseTraceParent(value, selectIdx) {\r\n    var _a;\r\n    if (!value) {\r\n        // Don't pass a null/undefined or empty string\r\n        return null;\r\n    }\r\n    if (isArray(value)) {\r\n        // The value may have been encoded on the page into an array so handle this automatically\r\n        value = value[0] || \"\";\r\n    }\r\n    if (!value || !isString(value) || value[_DYN_LENGTH /* @min:%2elength */] > 8192) {\r\n        // limit potential processing based on total length\r\n        return null;\r\n    }\r\n    if (value.indexOf(\",\") !== -1) {\r\n        var values = value[_DYN_SPLIT /* @min:%2esplit */](\",\");\r\n        value = values[selectIdx > 0 && values[_DYN_LENGTH /* @min:%2elength */] > selectIdx ? selectIdx : 0];\r\n    }\r\n    // See https://www.w3.org/TR/trace-context/#versioning-of-traceparent\r\n    var match = TRACE_PARENT_REGEX.exec(strTrim(value));\r\n    if (!match || // No match\r\n        match[1] === INVALID_VERSION || // version ff is forbidden\r\n        match[2] === INVALID_TRACE_ID || // All zeros is considered to be invalid\r\n        match[3] === INVALID_SPAN_ID) { // All zeros is considered to be invalid\r\n        return null;\r\n    }\r\n    return _a = {\r\n            version: (match[1] || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */](),\r\n            traceId: (match[2] || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */](),\r\n            spanId: (match[3] || STR_EMPTY)[_DYN_TO_LOWER_CASE /* @min:%2etoLowerCase */]()\r\n        },\r\n        _a[_DYN_TRACE_FLAGS /* @min:traceFlags */] = parseInt(match[4], 16),\r\n        _a;\r\n}\r\n/**\r\n * Is the provided W3c Trace Id a valid string representation, it must be a 32-character string\r\n * of lowercase hexadecimal characters for example, 4bf92f3577b34da6a3ce929d0e0e4736.\r\n * If all characters as zero (00000000000000000000000000000000) it will be considered an invalid value.\r\n * @param value - The W3c trace Id to be validated\r\n * @returns true if valid otherwise false\r\n */\r\nexport function isValidTraceId(value) {\r\n    return _isValid(value, 32, INVALID_TRACE_ID);\r\n}\r\n/**\r\n * Is the provided W3c span id (aka. parent id) a valid string representation, it must be a 16-character\r\n * string of lowercase hexadecimal characters, for example, 00f067aa0ba902b7.\r\n * If all characters are zero (0000000000000000) this is considered an invalid value.\r\n * @param value - The W3c span id to be validated\r\n * @returns true if valid otherwise false\r\n */\r\nexport function isValidSpanId(value) {\r\n    return _isValid(value, 16, INVALID_SPAN_ID);\r\n}\r\n/**\r\n * Validates that the provided ITraceParent instance conforms to the currently supported specifications\r\n * @param value\r\n * @returns\r\n */\r\nexport function isValidTraceParent(value) {\r\n    if (!value ||\r\n        !_isValid(value[_DYN_VERSION /* @min:%2eversion */], 2, INVALID_VERSION) ||\r\n        !_isValid(value[_DYN_TRACE_ID /* @min:%2etraceId */], 32, INVALID_TRACE_ID) ||\r\n        !_isValid(value[_DYN_SPAN_ID /* @min:%2espanId */], 16, INVALID_SPAN_ID) ||\r\n        !_isValid(_formatFlags(value[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */]), 2)) {\r\n        // Each known field must contain a valid value\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Is the parsed traceParent indicating that the trace is currently sampled.\r\n * @param value - The parsed traceParent value\r\n * @returns\r\n */\r\nexport function isSampledFlag(value) {\r\n    if (isValidTraceParent(value)) {\r\n        return (value[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */] & SAMPLED_FLAG) === SAMPLED_FLAG;\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Format the ITraceParent value as a string using the supported and know version formats.\r\n * So even if the passed traceParent is a later version the string value returned from this\r\n * function will convert it to only the known version formats.\r\n * This currently only supports version \"00\" and invalid \"ff\"\r\n * @param value - The parsed traceParent value\r\n * @returns\r\n */\r\nexport function formatTraceParent(value) {\r\n    if (value) {\r\n        // Special Note: This only supports formatting as version 00, future versions should encode any known supported version\r\n        // So parsing a future version will populate the correct version value but reformatting will reduce it to version 00.\r\n        var flags = _formatFlags(value[_DYN_TRACE_FLAGS /* @min:%2etraceFlags */]);\r\n        if (!_isValid(flags, 2)) {\r\n            flags = \"01\";\r\n        }\r\n        var version = value[_DYN_VERSION /* @min:%2eversion */] || DEFAULT_VERSION;\r\n        if (version !== \"00\" && version !== \"ff\") {\r\n            // Reduce version to \"00\"\r\n            version = DEFAULT_VERSION;\r\n        }\r\n        // Format as version 00\r\n        return \"\".concat(version.toLowerCase(), \"-\").concat(_formatValue(value.traceId, 32, INVALID_TRACE_ID).toLowerCase(), \"-\").concat(_formatValue(value.spanId, 16, INVALID_SPAN_ID).toLowerCase(), \"-\").concat(flags.toLowerCase());\r\n    }\r\n    return \"\";\r\n}\r\n/**\r\n * Helper function to fetch the passed traceparent from the page, looking for it as a meta-tag or a Server-Timing header.\r\n * @param selectIdx - If the found value is comma separated which is the preferred entry to select, defaults to the first\r\n * @returns\r\n */\r\nexport function findW3cTraceParent(selectIdx) {\r\n    var name = \"traceparent\";\r\n    var traceParent = parseTraceParent(findMetaTag(name), selectIdx);\r\n    if (!traceParent) {\r\n        traceParent = parseTraceParent(findNamedServerTiming(name), selectIdx);\r\n    }\r\n    return traceParent;\r\n}\r\n/**\r\n * Find all script tags in the provided document and return the information about them.\r\n * @param doc\r\n * @returns\r\n */\r\nexport function findAllScripts(doc) {\r\n    var scripts = doc.getElementsByTagName(\"script\");\r\n    var result = [];\r\n    arrForEach(scripts, function (script) {\r\n        var src = script[_DYN_GET_ATTRIBUTE /* @min:%2egetAttribute */](\"src\");\r\n        if (src) {\r\n            var crossOrigin = script[_DYN_GET_ATTRIBUTE /* @min:%2egetAttribute */](\"crossorigin\");\r\n            var async = script.hasAttribute(\"async\") === true;\r\n            var defer = script.hasAttribute(\"defer\") === true;\r\n            var referrerPolicy = script[_DYN_GET_ATTRIBUTE /* @min:%2egetAttribute */](\"referrerpolicy\");\r\n            var info = { url: src };\r\n            if (crossOrigin) {\r\n                info.crossOrigin = crossOrigin;\r\n            }\r\n            if (async) {\r\n                info.async = async;\r\n            }\r\n            if (defer) {\r\n                info.defer = defer;\r\n            }\r\n            if (referrerPolicy) {\r\n                info.referrerPolicy = referrerPolicy;\r\n            }\r\n            result[_DYN_PUSH /* @min:%2epush */](info);\r\n        }\r\n    });\r\n    return result;\r\n}\r\n//# sourceMappingURL=W3cTraceParent.js.map","/*\n * Application Insights JavaScript SDK - Core, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n// @skip-file-minify\r\n// ##############################################################\r\n// AUTO GENERATED FILE: This file is Auto Generated during build.\r\n// ##############################################################\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\nexport var _DYN_TO_LOWER_CASE = \"toLowerCase\"; // Count: 11\r\nexport var _DYN_BLK_VAL = \"blkVal\"; // Count: 5\r\nexport var _DYN_LENGTH = \"length\"; // Count: 55\r\nexport var _DYN_RD_ONLY = \"rdOnly\"; // Count: 4\r\nexport var _DYN_NOTIFY = \"notify\"; // Count: 4\r\nexport var _DYN_WARN_TO_CONSOLE = \"warnToConsole\"; // Count: 4\r\nexport var _DYN_THROW_INTERNAL = \"throwInternal\"; // Count: 5\r\nexport var _DYN_SET_DF = \"setDf\"; // Count: 6\r\nexport var _DYN_WATCH = \"watch\"; // Count: 8\r\nexport var _DYN_LOGGER = \"logger\"; // Count: 21\r\nexport var _DYN_APPLY = \"apply\"; // Count: 7\r\nexport var _DYN_PUSH = \"push\"; // Count: 35\r\nexport var _DYN_SPLICE = \"splice\"; // Count: 8\r\nexport var _DYN_HDLR = \"hdlr\"; // Count: 6\r\nexport var _DYN_CANCEL = \"cancel\"; // Count: 6\r\nexport var _DYN_INITIALIZE = \"initialize\"; // Count: 5\r\nexport var _DYN_IDENTIFIER = \"identifier\"; // Count: 8\r\nexport var _DYN_REMOVE_NOTIFICATION_0 = \"removeNotificationListener\"; // Count: 4\r\nexport var _DYN_ADD_NOTIFICATION_LIS1 = \"addNotificationListener\"; // Count: 4\r\nexport var _DYN_IS_INITIALIZED = \"isInitialized\"; // Count: 10\r\nexport var _DYN_INSTRUMENTATION_KEY = \"instrumentationKey\"; // Count: 2\r\nexport var _DYN__INACTIVE = \"INACTIVE\"; // Count: 3\r\nexport var _DYN_VALUE = \"value\"; // Count: 5\r\nexport var _DYN_GET_NOTIFY_MGR = \"getNotifyMgr\"; // Count: 5\r\nexport var _DYN_GET_PLUGIN = \"getPlugin\"; // Count: 6\r\nexport var _DYN_NAME = \"name\"; // Count: 12\r\nexport var _DYN_I_KEY = \"iKey\"; // Count: 5\r\nexport var _DYN_TIME = \"time\"; // Count: 6\r\nexport var _DYN_PROCESS_NEXT = \"processNext\"; // Count: 15\r\nexport var _DYN_GET_PROCESS_TEL_CONT2 = \"getProcessTelContext\"; // Count: 2\r\nexport var _DYN_POLL_INTERNAL_LOGS = \"pollInternalLogs\"; // Count: 2\r\nexport var _DYN_ENABLED = \"enabled\"; // Count: 6\r\nexport var _DYN_STOP_POLLING_INTERNA3 = \"stopPollingInternalLogs\"; // Count: 2\r\nexport var _DYN_UNLOAD = \"unload\"; // Count: 9\r\nexport var _DYN_ON_COMPLETE = \"onComplete\"; // Count: 5\r\nexport var _DYN_VERSION = \"version\"; // Count: 6\r\nexport var _DYN_LOGGING_LEVEL_CONSOL4 = \"loggingLevelConsole\"; // Count: 2\r\nexport var _DYN_CREATE_NEW = \"createNew\"; // Count: 7\r\nexport var _DYN_TEARDOWN = \"teardown\"; // Count: 9\r\nexport var _DYN_MESSAGE_ID = \"messageId\"; // Count: 4\r\nexport var _DYN_MESSAGE = \"message\"; // Count: 7\r\nexport var _DYN_IS_ASYNC = \"isAsync\"; // Count: 6\r\nexport var _DYN_DIAG_LOG = \"diagLog\"; // Count: 10\r\nexport var _DYN__DO_TEARDOWN = \"_doTeardown\"; // Count: 5\r\nexport var _DYN_UPDATE = \"update\"; // Count: 6\r\nexport var _DYN_GET_NEXT = \"getNext\"; // Count: 12\r\nexport var _DYN_SET_NEXT_PLUGIN = \"setNextPlugin\"; // Count: 5\r\nexport var _DYN_PROTOCOL = \"protocol\"; // Count: 3\r\nexport var _DYN_USER_AGENT = \"userAgent\"; // Count: 5\r\nexport var _DYN_SPLIT = \"split\"; // Count: 7\r\nexport var _DYN_NODE_TYPE = \"nodeType\"; // Count: 3\r\nexport var _DYN_REPLACE = \"replace\"; // Count: 9\r\nexport var _DYN_LOG_INTERNAL_MESSAGE = \"logInternalMessage\"; // Count: 2\r\nexport var _DYN_TYPE = \"type\"; // Count: 14\r\nexport var _DYN_HANDLER = \"handler\"; // Count: 5\r\nexport var _DYN_STATUS = \"status\"; // Count: 5\r\nexport var _DYN_GET_RESPONSE_HEADER = \"getResponseHeader\"; // Count: 2\r\nexport var _DYN_GET_ALL_RESPONSE_HEA5 = \"getAllResponseHeaders\"; // Count: 2\r\nexport var _DYN_IS_CHILD_EVT = \"isChildEvt\"; // Count: 3\r\nexport var _DYN_DATA = \"data\"; // Count: 7\r\nexport var _DYN_GET_CTX = \"getCtx\"; // Count: 6\r\nexport var _DYN_SET_CTX = \"setCtx\"; // Count: 10\r\nexport var _DYN_COMPLETE = \"complete\"; // Count: 3\r\nexport var _DYN_ITEMS_RECEIVED = \"itemsReceived\"; // Count: 3\r\nexport var _DYN_URL_STRING = \"urlString\"; // Count: 5\r\nexport var _DYN_SEND_POST = \"sendPOST\"; // Count: 3\r\nexport var _DYN_HEADERS = \"headers\"; // Count: 5\r\nexport var _DYN_TIMEOUT = \"timeout\"; // Count: 6\r\nexport var _DYN_SET_REQUEST_HEADER = \"setRequestHeader\"; // Count: 2\r\nexport var _DYN_TRACE_ID = \"traceId\"; // Count: 5\r\nexport var _DYN_SPAN_ID = \"spanId\"; // Count: 5\r\nexport var _DYN_TRACE_FLAGS = \"traceFlags\"; // Count: 6\r\nexport var _DYN_GET_ATTRIBUTE = \"getAttribute\"; // Count: 3\r\n//# sourceMappingURL=__DynamicConstants.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nexport var strShimFunction = \"function\";\r\nexport var strShimObject = \"object\";\r\nexport var strShimUndefined = \"undefined\";\r\nexport var strShimPrototype = \"prototype\";\r\nexport var strDefault = \"default\";\r\nexport var ObjClass = Object;\r\nexport var ObjProto = ObjClass[strShimPrototype];\r\n//# sourceMappingURL=Constants.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { getGlobal, objAssign, objCreate, objDefineProp, objHasOwnProperty, throwTypeError } from \"@nevware21/ts-utils\";\r\nimport { ObjClass, ObjProto, strDefault, strShimFunction, strShimPrototype } from \"./Constants\";\r\n// Most of these functions have been directly shamelessly \"lifted\" from the https://github.com/@microsoft/tslib and\r\n// modified to be ES5 compatible and applying several minification and tree-shaking techniques so that Application Insights\r\n// can successfully use TypeScript \"importHelpers\" which imports tslib during compilation but it will use these at runtime\r\n// Which is also why all of the functions have not been included as Application Insights currently doesn't use or require\r\n// them.\r\nexport var SymbolObj = (getGlobal() || {})[\"Symbol\"];\r\nexport var ReflectObj = (getGlobal() || {})[\"Reflect\"];\r\nexport var __hasReflect = !!ReflectObj;\r\nvar strDecorate = \"decorate\";\r\nvar strMetadata = \"metadata\";\r\nvar strGetOwnPropertySymbols = \"getOwnPropertySymbols\";\r\nvar strIterator = \"iterator\";\r\nvar strHasOwnProperty = \"hasOwnProperty\";\r\nexport var __objAssignFnImpl = function (t) {\r\n    // tslint:disable-next-line: ban-comma-operator\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) {\r\n            if (ObjProto[strHasOwnProperty].call(s, p)) {\r\n                t[p] = s[p];\r\n            }\r\n        }\r\n    }\r\n    return t;\r\n};\r\nexport var __assignFn = objAssign || __objAssignFnImpl;\r\n// tslint:disable-next-line: only-arrow-functions\r\nvar extendStaticsFn = function (d, b) {\r\n    extendStaticsFn = ObjClass[\"setPrototypeOf\"] ||\r\n        // tslint:disable-next-line: only-arrow-functions\r\n        ({ __proto__: [] } instanceof Array && function (d, b) {\r\n            d.__proto__ = b;\r\n        }) ||\r\n        // tslint:disable-next-line: only-arrow-functions\r\n        function (d, b) {\r\n            for (var p in b) {\r\n                if (b[strHasOwnProperty](p)) {\r\n                    d[p] = b[p];\r\n                }\r\n            }\r\n        };\r\n    return extendStaticsFn(d, b);\r\n};\r\nexport function __extendsFn(d, b) {\r\n    if (typeof b !== strShimFunction && b !== null) {\r\n        throwTypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    }\r\n    extendStaticsFn(d, b);\r\n    function __() {\r\n        this.constructor = d;\r\n    }\r\n    // tslint:disable-next-line: ban-comma-operator\r\n    d[strShimPrototype] = b === null ? objCreate(b) : (__[strShimPrototype] = b[strShimPrototype], new __());\r\n}\r\nexport function __restFn(s, e) {\r\n    var t = {};\r\n    for (var k in s) {\r\n        if (objHasOwnProperty(s, k) && e.indexOf(k) < 0) {\r\n            t[k] = s[k];\r\n        }\r\n    }\r\n    if (s != null && typeof ObjClass[strGetOwnPropertySymbols] === strShimFunction) {\r\n        for (var i = 0, p = ObjClass[strGetOwnPropertySymbols](s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && ObjProto[\"propertyIsEnumerable\"].call(s, p[i])) {\r\n                t[p[i]] = s[p[i]];\r\n            }\r\n        }\r\n    }\r\n    return t;\r\n}\r\nexport function __decorateFn(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = ObjClass[\"getOwnPropertyDescriptor\"](target, key) : desc, d;\r\n    if (__hasReflect && typeof ReflectObj[strDecorate] === strShimFunction) {\r\n        r = ReflectObj[strDecorate](decorators, target, key, desc);\r\n    }\r\n    else {\r\n        for (var i = decorators.length - 1; i >= 0; i--) {\r\n            // eslint-disable-next-line no-cond-assign\r\n            if (d = decorators[i]) {\r\n                r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n            }\r\n        }\r\n    }\r\n    // tslint:disable-next-line:ban-comma-operator\r\n    return c > 3 && r && objDefineProp(target, key, r), r;\r\n}\r\nexport function __paramFn(paramIndex, decorator) {\r\n    return function (target, key) {\r\n        decorator(target, key, paramIndex);\r\n    };\r\n}\r\nexport function __metadataFn(metadataKey, metadataValue) {\r\n    if (__hasReflect && ReflectObj[strMetadata] === strShimFunction) {\r\n        return ReflectObj[strMetadata](metadataKey, metadataValue);\r\n    }\r\n}\r\nexport function __exportStarFn(m, o) {\r\n    for (var p in m) {\r\n        if (p !== strDefault && !objHasOwnProperty(o, p)) {\r\n            __createBindingFn(o, m, p);\r\n        }\r\n    }\r\n}\r\nexport function __createBindingFn(o, m, k, k2) {\r\n    if (k2 === undefined) {\r\n        k2 = k;\r\n    }\r\n    if (!!objDefineProp) {\r\n        objDefineProp(o, k2, {\r\n            enumerable: true,\r\n            get: function () {\r\n                return m[k];\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        o[k2] = m[k];\r\n    }\r\n}\r\nexport function __valuesFn(o) {\r\n    var s = typeof SymbolObj === strShimFunction && SymbolObj[strIterator], m = s && o[s], i = 0;\r\n    if (m) {\r\n        return m.call(o);\r\n    }\r\n    if (o && typeof o.length === \"number\") {\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) {\r\n                    o = void 0;\r\n                }\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    }\r\n    throwTypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\nexport function __readFn(o, n) {\r\n    var m = typeof SymbolObj === strShimFunction && o[SymbolObj[strIterator]];\r\n    if (!m) {\r\n        return o;\r\n    }\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) {\r\n            ar.push(r.value);\r\n        }\r\n    }\r\n    catch (error) {\r\n        e = {\r\n            error: error\r\n        };\r\n    }\r\n    finally {\r\n        try {\r\n            // tslint:disable-next-line:no-conditional-assignment\r\n            if (r && !r.done && (m = i[\"return\"])) {\r\n                m.call(i);\r\n            }\r\n        }\r\n        finally {\r\n            if (e) {\r\n                // eslint-disable-next-line no-unsafe-finally\r\n                throw e.error;\r\n            }\r\n        }\r\n    }\r\n    return ar;\r\n}\r\n/** @deprecated */\r\nexport function __spreadArraysFn() {\r\n    var theArgs = arguments;\r\n    // Calculate new total size\r\n    for (var s = 0, i = 0, il = theArgs.length; i < il; i++) {\r\n        s += theArgs[i].length;\r\n    }\r\n    // Create new full array\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++) {\r\n        for (var a = theArgs[i], j = 0, jl = a.length; j < jl; j++, k++) {\r\n            r[k] = a[j];\r\n        }\r\n    }\r\n    return r;\r\n}\r\nexport function __spreadArrayFn(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\r\n        to[j] = from[i];\r\n    }\r\n    return to;\r\n}\r\nexport function __makeTemplateObjectFn(cooked, raw) {\r\n    if (objDefineProp) {\r\n        objDefineProp(cooked, \"raw\", { value: raw });\r\n    }\r\n    else {\r\n        cooked.raw = raw;\r\n    }\r\n    return cooked;\r\n}\r\nexport function __importStarFn(mod) {\r\n    if (mod && mod.__esModule) {\r\n        return mod;\r\n    }\r\n    var result = {};\r\n    if (mod != null) {\r\n        for (var k in mod) {\r\n            if (k !== strDefault && Object.prototype.hasOwnProperty.call(mod, k)) {\r\n                __createBindingFn(result, mod, k);\r\n            }\r\n        }\r\n    }\r\n    // Set default module\r\n    if (!!objDefineProp) {\r\n        objDefineProp(result, strDefault, { enumerable: true, value: mod });\r\n    }\r\n    else {\r\n        result[strDefault] = mod;\r\n    }\r\n    return result;\r\n}\r\nexport function __importDefaultFn(mod) {\r\n    return (mod && mod.__esModule) ? mod : { strDefault: mod };\r\n}\r\n//# sourceMappingURL=TsLibShims.js.map","/*\n * Application Insights JavaScript SDK - Channel, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n// ###################################################################################################################################################\r\n// Note: DON'T Export these const from the package as we are still targeting IE/ES5 this will export a mutable variables that someone could change ###\r\n// ###################################################################################################################################################\r\n// Generally you should only put values that are used more than 2 times and then only if not already exposed as a constant (such as SdkCoreNames)\r\n// as when using \"short\" named values from here they will be will be minified smaller than the SdkCoreNames[eSdkCoreNames.xxxx] value.\r\nexport var STR_DURATION = \"duration\";\r\n//# sourceMappingURL=InternalConstants.js.map","/*\n * Application Insights JavaScript SDK - Channel, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n// @skip-file-minify\r\n// ##############################################################\r\n// AUTO GENERATED FILE: This file is Auto Generated during build.\r\n// ##############################################################\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\nexport var _DYN_TAGS = \"tags\"; // Count: 17\r\nexport var _DYN_DEVICE_TYPE = \"deviceType\"; // Count: 3\r\nexport var _DYN_DATA = \"data\"; // Count: 15\r\nexport var _DYN_NAME = \"name\"; // Count: 8\r\nexport var _DYN_TRACE_ID = \"traceID\"; // Count: 5\r\nexport var _DYN_LENGTH = \"length\"; // Count: 38\r\nexport var _DYN_STRINGIFY = \"stringify\"; // Count: 5\r\nexport var _DYN_MEASUREMENTS = \"measurements\"; // Count: 7\r\nexport var _DYN_DATA_TYPE = \"dataType\"; // Count: 10\r\nexport var _DYN_ENVELOPE_TYPE = \"envelopeType\"; // Count: 7\r\nexport var _DYN_TO_STRING = \"toString\"; // Count: 7\r\nexport var _DYN__GET = \"_get\"; // Count: 5\r\nexport var _DYN_ENQUEUE = \"enqueue\"; // Count: 7\r\nexport var _DYN_COUNT = \"count\"; // Count: 7\r\nexport var _DYN_EVENTS_LIMIT_IN_MEM = \"eventsLimitInMem\"; // Count: 2\r\nexport var _DYN_PUSH = \"push\"; // Count: 9\r\nexport var _DYN_ITEM = \"item\"; // Count: 6\r\nexport var _DYN_EMIT_LINE_DELIMITED_0 = \"emitLineDelimitedJson\"; // Count: 3\r\nexport var _DYN_CLEAR = \"clear\"; // Count: 6\r\nexport var _DYN_CREATE_NEW = \"createNew\"; // Count: 3\r\nexport var _DYN_MARK_AS_SENT = \"markAsSent\"; // Count: 4\r\nexport var _DYN_CLEAR_SENT = \"clearSent\"; // Count: 5\r\nexport var _DYN_BUFFER_OVERRIDE = \"bufferOverride\"; // Count: 3\r\nexport var _DYN__BUFFER__KEY = \"BUFFER_KEY\"; // Count: 5\r\nexport var _DYN__SENT__BUFFER__KEY = \"SENT_BUFFER_KEY\"; // Count: 8\r\nexport var _DYN_CONCAT = \"concat\"; // Count: 6\r\nexport var _DYN__MAX__BUFFER__SIZE = \"MAX_BUFFER_SIZE\"; // Count: 5\r\nexport var _DYN_TRIGGER_SEND = \"triggerSend\"; // Count: 5\r\nexport var _DYN_DIAG_LOG = \"diagLog\"; // Count: 16\r\nexport var _DYN_INITIALIZE = \"initialize\"; // Count: 3\r\nexport var _DYN__SENDER = \"_sender\"; // Count: 5\r\nexport var _DYN_ENDPOINT_URL = \"endpointUrl\"; // Count: 5\r\nexport var _DYN_INSTRUMENTATION_KEY = \"instrumentationKey\"; // Count: 5\r\nexport var _DYN_CUSTOM_HEADERS = \"customHeaders\"; // Count: 3\r\nexport var _DYN_MAX_BATCH_SIZE_IN_BY1 = \"maxBatchSizeInBytes\"; // Count: 2\r\nexport var _DYN_ONUNLOAD_DISABLE_BEA2 = \"onunloadDisableBeacon\"; // Count: 3\r\nexport var _DYN_IS_BEACON_API_DISABL3 = \"isBeaconApiDisabled\"; // Count: 3\r\nexport var _DYN_ALWAYS_USE_XHR_OVERR4 = \"alwaysUseXhrOverride\"; // Count: 2\r\nexport var _DYN_DISABLE_XHR = \"disableXhr\"; // Count: 3\r\nexport var _DYN_ENABLE_SESSION_STORA5 = \"enableSessionStorageBuffer\"; // Count: 2\r\nexport var _DYN__BUFFER = \"_buffer\"; // Count: 9\r\nexport var _DYN_ONUNLOAD_DISABLE_FET6 = \"onunloadDisableFetch\"; // Count: 2\r\nexport var _DYN_DISABLE_SEND_BEACON_7 = \"disableSendBeaconSplit\"; // Count: 2\r\nexport var _DYN_ENABLE_SEND_PROMISE = \"enableSendPromise\"; // Count: 2\r\nexport var _DYN_GET_SENDER_INST = \"getSenderInst\"; // Count: 4\r\nexport var _DYN_UNLOAD_TRANSPORTS = \"unloadTransports\"; // Count: 2\r\nexport var _DYN_CONVERT_UNDEFINED = \"convertUndefined\"; // Count: 2\r\nexport var _DYN_MAX_BATCH_INTERVAL = \"maxBatchInterval\"; // Count: 2\r\nexport var _DYN_SERIALIZE = \"serialize\"; // Count: 4\r\nexport var _DYN__ON_ERROR = \"_onError\"; // Count: 7\r\nexport var _DYN__ON_PARTIAL_SUCCESS = \"_onPartialSuccess\"; // Count: 3\r\nexport var _DYN__ON_SUCCESS = \"_onSuccess\"; // Count: 6\r\nexport var _DYN_ITEMS_RECEIVED = \"itemsReceived\"; // Count: 3\r\nexport var _DYN_ITEMS_ACCEPTED = \"itemsAccepted\"; // Count: 3\r\nexport var _DYN_ORI_PAYLOAD = \"oriPayload\"; // Count: 3\r\nexport var _DYN_BASE_TYPE = \"baseType\"; // Count: 4\r\nexport var _DYN_SAMPLE_RATE = \"sampleRate\"; // Count: 4\r\nexport var _DYN_EVENTS_SEND_REQUEST = \"eventsSendRequest\"; // Count: 2\r\nexport var _DYN_GET_SAMPLING_SCORE = \"getSamplingScore\"; // Count: 2\r\nexport var _DYN_GET_HASH_CODE_SCORE = \"getHashCodeScore\"; // Count: 4\r\n//# sourceMappingURL=__DynamicConstants.js.map","/*\n * Application Insights JavaScript SDK - Channel, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { __assignFn as __assign } from \"@microsoft/applicationinsights-shims\";\r\nimport { CtxTagKeys, Data, Envelope, Event, Exception, HttpMethod, Metric, PageView, PageViewPerformance, RemoteDependencyData, SampleRate, Trace, dataSanitizeString } from \"@microsoft/applicationinsights-common\";\r\nimport { _throwInternal, _warnToConsole, getJSON, hasJSON, isNullOrUndefined, isNumber, isString, isTruthy, objForEachKey, optimizeObject, setValue, toISOString } from \"@microsoft/applicationinsights-core-js\";\r\nimport { STR_DURATION } from \"./InternalConstants\";\r\nimport { _DYN_DATA, _DYN_DATA_TYPE, _DYN_DEVICE_TYPE, _DYN_ENVELOPE_TYPE, _DYN_LENGTH, _DYN_MEASUREMENTS, _DYN_NAME, _DYN_STRINGIFY, _DYN_TAGS, _DYN_TO_STRING, _DYN_TRACE_ID } from \"./__DynamicConstants\";\r\n// these two constants are used to filter out properties not needed when trying to extract custom properties and measurements from the incoming payload\r\nvar strBaseType = \"baseType\";\r\nvar strBaseData = \"baseData\";\r\nvar strProperties = \"properties\";\r\nvar strTrue = \"true\";\r\nfunction _setValueIf(target, field, value) {\r\n    return setValue(target, field, value, isTruthy);\r\n}\r\n/*\r\n * Maps Part A data from CS 4.0\r\n */\r\nfunction _extractPartAExtensions(logger, item, env) {\r\n    // todo: switch to keys from common in this method\r\n    var envTags = env[_DYN_TAGS /* @min:%2etags */] = env[_DYN_TAGS /* @min:%2etags */] || {};\r\n    var itmExt = item.ext = item.ext || {};\r\n    var itmTags = item[_DYN_TAGS /* @min:%2etags */] = item[_DYN_TAGS /* @min:%2etags */] || [];\r\n    var extUser = itmExt.user;\r\n    if (extUser) {\r\n        _setValueIf(envTags, CtxTagKeys.userAuthUserId, extUser.authId);\r\n        _setValueIf(envTags, CtxTagKeys.userId, extUser.id || extUser.localId);\r\n    }\r\n    var extApp = itmExt.app;\r\n    if (extApp) {\r\n        _setValueIf(envTags, CtxTagKeys.sessionId, extApp.sesId);\r\n    }\r\n    var extDevice = itmExt.device;\r\n    if (extDevice) {\r\n        _setValueIf(envTags, CtxTagKeys.deviceId, extDevice.id || extDevice.localId);\r\n        _setValueIf(envTags, CtxTagKeys[_DYN_DEVICE_TYPE /* @min:%2edeviceType */], extDevice.deviceClass);\r\n        _setValueIf(envTags, CtxTagKeys.deviceIp, extDevice.ip);\r\n        _setValueIf(envTags, CtxTagKeys.deviceModel, extDevice.model);\r\n        _setValueIf(envTags, CtxTagKeys[_DYN_DEVICE_TYPE /* @min:%2edeviceType */], extDevice[_DYN_DEVICE_TYPE /* @min:%2edeviceType */]);\r\n    }\r\n    var web = item.ext.web;\r\n    if (web) {\r\n        _setValueIf(envTags, CtxTagKeys.deviceLanguage, web.browserLang);\r\n        _setValueIf(envTags, CtxTagKeys.deviceBrowserVersion, web.browserVer);\r\n        _setValueIf(envTags, CtxTagKeys.deviceBrowser, web.browser);\r\n        var envData = env[_DYN_DATA /* @min:%2edata */] = env[_DYN_DATA /* @min:%2edata */] || {};\r\n        var envBaseData = envData[strBaseData] = envData[strBaseData] || {};\r\n        var envProps = envBaseData[strProperties] = envBaseData[strProperties] || {};\r\n        _setValueIf(envProps, \"domain\", web.domain);\r\n        _setValueIf(envProps, \"isManual\", web.isManual ? strTrue : null);\r\n        _setValueIf(envProps, \"screenRes\", web.screenRes);\r\n        _setValueIf(envProps, \"userConsent\", web.userConsent ? strTrue : null);\r\n    }\r\n    var extOs = itmExt.os;\r\n    if (extOs) {\r\n        _setValueIf(envTags, CtxTagKeys.deviceOS, extOs[_DYN_NAME /* @min:%2ename */]);\r\n        _setValueIf(envTags, CtxTagKeys.deviceOSVersion, extOs.osVer);\r\n    }\r\n    // No support for mapping Trace.traceState to 2.0 as it is currently empty\r\n    var extTrace = itmExt.trace;\r\n    if (extTrace) {\r\n        _setValueIf(envTags, CtxTagKeys.operationParentId, extTrace.parentID);\r\n        _setValueIf(envTags, CtxTagKeys.operationName, dataSanitizeString(logger, extTrace[_DYN_NAME /* @min:%2ename */]));\r\n        _setValueIf(envTags, CtxTagKeys.operationId, extTrace[_DYN_TRACE_ID /* @min:%2etraceID */]);\r\n    }\r\n    // Sample 4.0 schema\r\n    //  {\r\n    //     \"time\" : \"2018-09-05T22:51:22.4936Z\",\r\n    //     \"name\" : \"MetricWithNamespace\",\r\n    //     \"iKey\" : \"ABC-5a4cbd20-e601-4ef5-a3c6-5d6577e4398e\",\r\n    //     \"ext\": {  \"cloud\": {\r\n    //          \"role\": \"WATSON3\",\r\n    //          \"roleInstance\": \"CO4AEAP00000260\"\r\n    //      },\r\n    //      \"device\": {}, \"correlation\": {} },\r\n    //      \"tags\": [\r\n    //        { \"amazon.region\" : \"east2\" },\r\n    //        { \"os.expid\" : \"wp:02df239\" }\r\n    //     ]\r\n    //   }\r\n    var tgs = {};\r\n    // deals with tags.push({object})\r\n    for (var i = itmTags[_DYN_LENGTH /* @min:%2elength */] - 1; i >= 0; i--) {\r\n        var tg = itmTags[i];\r\n        objForEachKey(tg, function (key, value) {\r\n            tgs[key] = value;\r\n        });\r\n        itmTags.splice(i, 1);\r\n    }\r\n    // deals with tags[key]=value (and handles hasOwnProperty)\r\n    objForEachKey(itmTags, function (tg, value) {\r\n        tgs[tg] = value;\r\n    });\r\n    var theTags = __assign(__assign({}, envTags), tgs);\r\n    if (!theTags[CtxTagKeys.internalSdkVersion]) {\r\n        // Append a version in case it is not already set\r\n        theTags[CtxTagKeys.internalSdkVersion] = dataSanitizeString(logger, \"javascript:\".concat(EnvelopeCreator.Version), 64);\r\n    }\r\n    env[_DYN_TAGS /* @min:%2etags */] = optimizeObject(theTags);\r\n}\r\nfunction _extractPropsAndMeasurements(data, properties, measurements) {\r\n    if (!isNullOrUndefined(data)) {\r\n        objForEachKey(data, function (key, value) {\r\n            if (isNumber(value)) {\r\n                measurements[key] = value;\r\n            }\r\n            else if (isString(value)) {\r\n                properties[key] = value;\r\n            }\r\n            else if (hasJSON()) {\r\n                properties[key] = getJSON()[_DYN_STRINGIFY /* @min:%2estringify */](value);\r\n            }\r\n        });\r\n    }\r\n}\r\nfunction _convertPropsUndefinedToCustomDefinedValue(properties, customUndefinedValue) {\r\n    if (!isNullOrUndefined(properties)) {\r\n        objForEachKey(properties, function (key, value) {\r\n            properties[key] = value || customUndefinedValue;\r\n        });\r\n    }\r\n}\r\n// TODO: Do we want this to take logger as arg or use this._logger as nonstatic?\r\nfunction _createEnvelope(logger, envelopeType, telemetryItem, data) {\r\n    var envelope = new Envelope(logger, data, envelopeType);\r\n    _setValueIf(envelope, \"sampleRate\", telemetryItem[SampleRate]);\r\n    if ((telemetryItem[strBaseData] || {}).startTime) {\r\n        // Starting from Version 3.0.3, the time property will be assigned by the startTime value,\r\n        // which records the loadEvent time for the pageView event.\r\n        envelope.time = toISOString(telemetryItem[strBaseData].startTime);\r\n    }\r\n    envelope.iKey = telemetryItem.iKey;\r\n    var iKeyNoDashes = telemetryItem.iKey.replace(/-/g, \"\");\r\n    envelope[_DYN_NAME /* @min:%2ename */] = envelope[_DYN_NAME /* @min:%2ename */].replace(\"{0}\", iKeyNoDashes);\r\n    // extract all extensions from ctx\r\n    _extractPartAExtensions(logger, telemetryItem, envelope);\r\n    // loop through the envelope tags (extension of Part A) and pick out the ones that should go in outgoing envelope tags\r\n    telemetryItem[_DYN_TAGS /* @min:%2etags */] = telemetryItem[_DYN_TAGS /* @min:%2etags */] || [];\r\n    return optimizeObject(envelope);\r\n}\r\nfunction EnvelopeCreatorInit(logger, telemetryItem) {\r\n    if (isNullOrUndefined(telemetryItem[strBaseData])) {\r\n        _throwInternal(logger, 1 /* eLoggingSeverity.CRITICAL */, 46 /* _eInternalMessageId.TelemetryEnvelopeInvalid */, \"telemetryItem.baseData cannot be null.\");\r\n    }\r\n}\r\nexport var EnvelopeCreator = {\r\n    Version: '3.3.4'\r\n};\r\nexport function DependencyEnvelopeCreator(logger, telemetryItem, customUndefinedValue) {\r\n    EnvelopeCreatorInit(logger, telemetryItem);\r\n    var customMeasurements = telemetryItem[strBaseData][_DYN_MEASUREMENTS /* @min:%2emeasurements */] || {};\r\n    var customProperties = telemetryItem[strBaseData][strProperties] || {};\r\n    _extractPropsAndMeasurements(telemetryItem[_DYN_DATA /* @min:%2edata */], customProperties, customMeasurements);\r\n    if (!isNullOrUndefined(customUndefinedValue)) {\r\n        _convertPropsUndefinedToCustomDefinedValue(customProperties, customUndefinedValue);\r\n    }\r\n    var bd = telemetryItem[strBaseData];\r\n    if (isNullOrUndefined(bd)) {\r\n        _warnToConsole(logger, \"Invalid input for dependency data\");\r\n        return null;\r\n    }\r\n    var method = bd[strProperties] && bd[strProperties][HttpMethod] ? bd[strProperties][HttpMethod] : \"GET\";\r\n    var remoteDepData = new RemoteDependencyData(logger, bd.id, bd.target, bd[_DYN_NAME /* @min:%2ename */], bd[STR_DURATION /* @min:%2eduration */], bd.success, bd.responseCode, method, bd.type, bd.correlationContext, customProperties, customMeasurements);\r\n    var data = new Data(RemoteDependencyData[_DYN_DATA_TYPE /* @min:%2edataType */], remoteDepData);\r\n    return _createEnvelope(logger, RemoteDependencyData[_DYN_ENVELOPE_TYPE /* @min:%2eenvelopeType */], telemetryItem, data);\r\n}\r\nexport function EventEnvelopeCreator(logger, telemetryItem, customUndefinedValue) {\r\n    EnvelopeCreatorInit(logger, telemetryItem);\r\n    var customProperties = {};\r\n    var customMeasurements = {};\r\n    if (telemetryItem[strBaseType] !== Event[_DYN_DATA_TYPE /* @min:%2edataType */]) {\r\n        customProperties[\"baseTypeSource\"] = telemetryItem[strBaseType]; // save the passed in base type as a property\r\n    }\r\n    if (telemetryItem[strBaseType] === Event[_DYN_DATA_TYPE /* @min:%2edataType */]) { // take collection\r\n        customProperties = telemetryItem[strBaseData][strProperties] || {};\r\n        customMeasurements = telemetryItem[strBaseData][_DYN_MEASUREMENTS /* @min:%2emeasurements */] || {};\r\n    }\r\n    else { // if its not a known type, convert to custom event\r\n        if (telemetryItem[strBaseData]) {\r\n            _extractPropsAndMeasurements(telemetryItem[strBaseData], customProperties, customMeasurements);\r\n        }\r\n    }\r\n    // Extract root level properties from part C telemetryItem.data\r\n    _extractPropsAndMeasurements(telemetryItem[_DYN_DATA /* @min:%2edata */], customProperties, customMeasurements);\r\n    if (!isNullOrUndefined(customUndefinedValue)) {\r\n        _convertPropsUndefinedToCustomDefinedValue(customProperties, customUndefinedValue);\r\n    }\r\n    var eventName = telemetryItem[strBaseData][_DYN_NAME /* @min:%2ename */];\r\n    var eventData = new Event(logger, eventName, customProperties, customMeasurements);\r\n    var data = new Data(Event[_DYN_DATA_TYPE /* @min:%2edataType */], eventData);\r\n    return _createEnvelope(logger, Event[_DYN_ENVELOPE_TYPE /* @min:%2eenvelopeType */], telemetryItem, data);\r\n}\r\nexport function ExceptionEnvelopeCreator(logger, telemetryItem, customUndefinedValue) {\r\n    EnvelopeCreatorInit(logger, telemetryItem);\r\n    // Extract root level properties from part C telemetryItem.data\r\n    var customMeasurements = telemetryItem[strBaseData][_DYN_MEASUREMENTS /* @min:%2emeasurements */] || {};\r\n    var customProperties = telemetryItem[strBaseData][strProperties] || {};\r\n    _extractPropsAndMeasurements(telemetryItem[_DYN_DATA /* @min:%2edata */], customProperties, customMeasurements);\r\n    if (!isNullOrUndefined(customUndefinedValue)) {\r\n        _convertPropsUndefinedToCustomDefinedValue(customProperties, customUndefinedValue);\r\n    }\r\n    var bd = telemetryItem[strBaseData];\r\n    var exData = Exception.CreateFromInterface(logger, bd, customProperties, customMeasurements);\r\n    var data = new Data(Exception[_DYN_DATA_TYPE /* @min:%2edataType */], exData);\r\n    return _createEnvelope(logger, Exception[_DYN_ENVELOPE_TYPE /* @min:%2eenvelopeType */], telemetryItem, data);\r\n}\r\nexport function MetricEnvelopeCreator(logger, telemetryItem, customUndefinedValue) {\r\n    EnvelopeCreatorInit(logger, telemetryItem);\r\n    var baseData = telemetryItem[strBaseData];\r\n    var props = baseData[strProperties] || {};\r\n    var measurements = baseData[_DYN_MEASUREMENTS /* @min:%2emeasurements */] || {};\r\n    _extractPropsAndMeasurements(telemetryItem[_DYN_DATA /* @min:%2edata */], props, measurements);\r\n    if (!isNullOrUndefined(customUndefinedValue)) {\r\n        _convertPropsUndefinedToCustomDefinedValue(props, customUndefinedValue);\r\n    }\r\n    var baseMetricData = new Metric(logger, baseData[_DYN_NAME /* @min:%2ename */], baseData.average, baseData.sampleCount, baseData.min, baseData.max, baseData.stdDev, props, measurements);\r\n    var data = new Data(Metric[_DYN_DATA_TYPE /* @min:%2edataType */], baseMetricData);\r\n    return _createEnvelope(logger, Metric[_DYN_ENVELOPE_TYPE /* @min:%2eenvelopeType */], telemetryItem, data);\r\n}\r\nexport function PageViewEnvelopeCreator(logger, telemetryItem, customUndefinedValue) {\r\n    EnvelopeCreatorInit(logger, telemetryItem);\r\n    // Since duration is not part of the domain properties in Common Schema, extract it from part C\r\n    var duration;\r\n    var baseData = telemetryItem[strBaseData];\r\n    if (!isNullOrUndefined(baseData) &&\r\n        !isNullOrUndefined(baseData[strProperties]) &&\r\n        !isNullOrUndefined(baseData[strProperties][STR_DURATION])) { // from part B properties\r\n        duration = baseData[strProperties][STR_DURATION];\r\n        delete baseData[strProperties][STR_DURATION];\r\n    }\r\n    else if (!isNullOrUndefined(telemetryItem[_DYN_DATA /* @min:%2edata */]) &&\r\n        !isNullOrUndefined(telemetryItem[_DYN_DATA /* @min:%2edata */][STR_DURATION])) { // from custom properties\r\n        duration = telemetryItem[_DYN_DATA /* @min:%2edata */][STR_DURATION];\r\n        delete telemetryItem[_DYN_DATA /* @min:%2edata */][STR_DURATION];\r\n    }\r\n    var bd = telemetryItem[strBaseData];\r\n    // special case: pageview.id is grabbed from current operation id. Analytics plugin is decoupled from properties plugin, so this is done here instead. This can be made a default telemetry intializer instead if needed to be decoupled from channel\r\n    var currentContextId;\r\n    if (((telemetryItem.ext || {}).trace || {})[_DYN_TRACE_ID /* @min:%2etraceID */]) {\r\n        currentContextId = telemetryItem.ext.trace[_DYN_TRACE_ID /* @min:%2etraceID */];\r\n    }\r\n    var id = bd.id || currentContextId;\r\n    var name = bd[_DYN_NAME /* @min:%2ename */];\r\n    var url = bd.uri;\r\n    var properties = bd[strProperties] || {};\r\n    var measurements = bd[_DYN_MEASUREMENTS /* @min:%2emeasurements */] || {};\r\n    // refUri is a field that Breeze still does not recognize as part of Part B. For now, put it in Part C until it supports it as a domain property\r\n    if (!isNullOrUndefined(bd.refUri)) {\r\n        properties[\"refUri\"] = bd.refUri;\r\n    }\r\n    // pageType is a field that Breeze still does not recognize as part of Part B. For now, put it in Part C until it supports it as a domain property\r\n    if (!isNullOrUndefined(bd.pageType)) {\r\n        properties[\"pageType\"] = bd.pageType;\r\n    }\r\n    // isLoggedIn is a field that Breeze still does not recognize as part of Part B. For now, put it in Part C until it supports it as a domain property\r\n    if (!isNullOrUndefined(bd.isLoggedIn)) {\r\n        properties[\"isLoggedIn\"] = bd.isLoggedIn[_DYN_TO_STRING /* @min:%2etoString */]();\r\n    }\r\n    // pageTags is a field that Breeze still does not recognize as part of Part B. For now, put it in Part C until it supports it as a domain property\r\n    if (!isNullOrUndefined(bd[strProperties])) {\r\n        var pageTags = bd[strProperties];\r\n        objForEachKey(pageTags, function (key, value) {\r\n            properties[key] = value;\r\n        });\r\n    }\r\n    _extractPropsAndMeasurements(telemetryItem[_DYN_DATA /* @min:%2edata */], properties, measurements);\r\n    if (!isNullOrUndefined(customUndefinedValue)) {\r\n        _convertPropsUndefinedToCustomDefinedValue(properties, customUndefinedValue);\r\n    }\r\n    var pageViewData = new PageView(logger, name, url, duration, properties, measurements, id);\r\n    var data = new Data(PageView[_DYN_DATA_TYPE /* @min:%2edataType */], pageViewData);\r\n    return _createEnvelope(logger, PageView[_DYN_ENVELOPE_TYPE /* @min:%2eenvelopeType */], telemetryItem, data);\r\n}\r\nexport function PageViewPerformanceEnvelopeCreator(logger, telemetryItem, customUndefinedValue) {\r\n    EnvelopeCreatorInit(logger, telemetryItem);\r\n    var bd = telemetryItem[strBaseData];\r\n    var name = bd[_DYN_NAME /* @min:%2ename */];\r\n    var url = bd.uri || bd.url;\r\n    var properties = bd[strProperties] || {};\r\n    var measurements = bd[_DYN_MEASUREMENTS /* @min:%2emeasurements */] || {};\r\n    _extractPropsAndMeasurements(telemetryItem[_DYN_DATA /* @min:%2edata */], properties, measurements);\r\n    if (!isNullOrUndefined(customUndefinedValue)) {\r\n        _convertPropsUndefinedToCustomDefinedValue(properties, customUndefinedValue);\r\n    }\r\n    var baseData = new PageViewPerformance(logger, name, url, undefined, properties, measurements, bd);\r\n    var data = new Data(PageViewPerformance[_DYN_DATA_TYPE /* @min:%2edataType */], baseData);\r\n    return _createEnvelope(logger, PageViewPerformance[_DYN_ENVELOPE_TYPE /* @min:%2eenvelopeType */], telemetryItem, data);\r\n}\r\nexport function TraceEnvelopeCreator(logger, telemetryItem, customUndefinedValue) {\r\n    EnvelopeCreatorInit(logger, telemetryItem);\r\n    var message = telemetryItem[strBaseData].message;\r\n    var severityLevel = telemetryItem[strBaseData].severityLevel;\r\n    var props = telemetryItem[strBaseData][strProperties] || {};\r\n    var measurements = telemetryItem[strBaseData][_DYN_MEASUREMENTS /* @min:%2emeasurements */] || {};\r\n    _extractPropsAndMeasurements(telemetryItem[_DYN_DATA /* @min:%2edata */], props, measurements);\r\n    if (!isNullOrUndefined(customUndefinedValue)) {\r\n        _convertPropsUndefinedToCustomDefinedValue(props, customUndefinedValue);\r\n    }\r\n    var baseData = new Trace(logger, message, severityLevel, props, measurements);\r\n    var data = new Data(Trace[_DYN_DATA_TYPE /* @min:%2edataType */], baseData);\r\n    return _createEnvelope(logger, Trace[_DYN_ENVELOPE_TYPE /* @min:%2eenvelopeType */], telemetryItem, data);\r\n}\r\n//# sourceMappingURL=EnvelopeCreator.js.map","/*\n * Application Insights JavaScript SDK - Channel, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport { __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { utlGetSessionStorage, utlRemoveSessionStorage, utlSetSessionStorage } from \"@microsoft/applicationinsights-common\";\r\nimport { _throwInternal, arrForEach, arrIndexOf, dumpObj, getExceptionName, getJSON, isArray, isFunction, isNullOrUndefined, isString } from \"@microsoft/applicationinsights-core-js\";\r\nimport { _DYN_BUFFER_OVERRIDE, _DYN_CLEAR, _DYN_CLEAR_SENT, _DYN_CONCAT, _DYN_COUNT, _DYN_CREATE_NEW, _DYN_EMIT_LINE_DELIMITED_0, _DYN_ENQUEUE, _DYN_EVENTS_LIMIT_IN_MEM, _DYN_ITEM, _DYN_LENGTH, _DYN_MARK_AS_SENT, _DYN_PUSH, _DYN_STRINGIFY, _DYN__BUFFER__KEY, _DYN__GET, _DYN__MAX__BUFFER__SIZE, _DYN__SENT__BUFFER__KEY } from \"./__DynamicConstants\";\r\nvar BaseSendBuffer = /** @class */ (function () {\r\n    function BaseSendBuffer(logger, config) {\r\n        var _buffer = [];\r\n        var _bufferFullMessageSent = false;\r\n        var _maxRetryCnt = config.maxRetryCnt;\r\n        this[_DYN__GET /* @min:%2e_get */] = function () {\r\n            return _buffer;\r\n        };\r\n        this._set = function (buffer) {\r\n            _buffer = buffer;\r\n            return _buffer;\r\n        };\r\n        dynamicProto(BaseSendBuffer, this, function (_self) {\r\n            _self[_DYN_ENQUEUE /* @min:%2eenqueue */] = function (payload) {\r\n                if (_self[_DYN_COUNT /* @min:%2ecount */]() >= config[_DYN_EVENTS_LIMIT_IN_MEM /* @min:%2eeventsLimitInMem */]) {\r\n                    // sent internal log only once per page view\r\n                    if (!_bufferFullMessageSent) {\r\n                        _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 105 /* _eInternalMessageId.InMemoryStorageBufferFull */, \"Maximum in-memory buffer size reached: \" + _self[_DYN_COUNT /* @min:%2ecount */](), true);\r\n                        _bufferFullMessageSent = true;\r\n                    }\r\n                    return;\r\n                }\r\n                payload.cnt = payload.cnt || 0;\r\n                // max retry is defined, and max retry is reached, do not add the payload to buffer\r\n                if (!isNullOrUndefined(_maxRetryCnt)) {\r\n                    if (payload.cnt > _maxRetryCnt) {\r\n                        // TODO: add log here on dropping payloads\r\n                        return;\r\n                    }\r\n                }\r\n                _buffer[_DYN_PUSH /* @min:%2epush */](payload);\r\n                return;\r\n            };\r\n            _self[_DYN_COUNT /* @min:%2ecount */] = function () {\r\n                return _buffer[_DYN_LENGTH /* @min:%2elength */];\r\n            };\r\n            _self.size = function () {\r\n                var size = _buffer[_DYN_LENGTH /* @min:%2elength */];\r\n                for (var lp = 0; lp < _buffer[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n                    size += (_buffer[lp].item)[_DYN_LENGTH /* @min:%2elength */];\r\n                }\r\n                if (!config[_DYN_EMIT_LINE_DELIMITED_0 /* @min:%2eemitLineDelimitedJson */]) {\r\n                    size += 2;\r\n                }\r\n                return size;\r\n            };\r\n            _self[_DYN_CLEAR /* @min:%2eclear */] = function () {\r\n                _buffer = [];\r\n                _bufferFullMessageSent = false;\r\n            };\r\n            _self.getItems = function () {\r\n                return _buffer.slice(0);\r\n            };\r\n            _self.batchPayloads = function (payloads) {\r\n                if (payloads && payloads[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var payloadStr_1 = [];\r\n                    arrForEach(payloads, function (payload) {\r\n                        payloadStr_1[_DYN_PUSH /* @min:%2epush */](payload[_DYN_ITEM /* @min:%2eitem */]);\r\n                    });\r\n                    var batch = config[_DYN_EMIT_LINE_DELIMITED_0 /* @min:%2eemitLineDelimitedJson */] ?\r\n                        payloadStr_1.join(\"\\n\") :\r\n                        \"[\" + payloadStr_1.join(\",\") + \"]\";\r\n                    return batch;\r\n                }\r\n                return null;\r\n            };\r\n            _self[_DYN_CREATE_NEW /* @min:%2ecreateNew */] = function (newLogger, newConfig, canUseSessionStorage) {\r\n                var items = _buffer.slice(0);\r\n                newLogger = newLogger || logger;\r\n                newConfig = newConfig || {};\r\n                var newBuffer = !!canUseSessionStorage ? new SessionStorageSendBuffer(newLogger, newConfig) : new ArraySendBuffer(newLogger, newConfig);\r\n                arrForEach(items, function (payload) {\r\n                    newBuffer[_DYN_ENQUEUE /* @min:%2eenqueue */](payload);\r\n                });\r\n                return newBuffer;\r\n            };\r\n        });\r\n    }\r\n// Removed Stub for BaseSendBuffer.prototype.enqueue.\r\n// Removed Stub for BaseSendBuffer.prototype.count.\r\n// Removed Stub for BaseSendBuffer.prototype.size.\r\n// Removed Stub for BaseSendBuffer.prototype.clear.\r\n// Removed Stub for BaseSendBuffer.prototype.getItems.\r\n// Removed Stub for BaseSendBuffer.prototype.batchPayloads.\r\n// Removed Stub for BaseSendBuffer.prototype.createNew.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    BaseSendBuffer.__ieDyn=1;\n\n    return BaseSendBuffer;\r\n}());\r\n/*\r\n * An array based send buffer.\r\n */\r\nvar ArraySendBuffer = /** @class */ (function (_super) {\r\n    __extends(ArraySendBuffer, _super);\r\n    function ArraySendBuffer(logger, config) {\r\n        var _this = _super.call(this, logger, config) || this;\r\n        dynamicProto(ArraySendBuffer, _this, function (_self, _base) {\r\n            _self[_DYN_MARK_AS_SENT /* @min:%2emarkAsSent */] = function (payload) {\r\n                _base[_DYN_CLEAR /* @min:%2eclear */]();\r\n            };\r\n            _self[_DYN_CLEAR_SENT /* @min:%2eclearSent */] = function (payload) {\r\n                // not supported\r\n            };\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for ArraySendBuffer.prototype.markAsSent.\r\n// Removed Stub for ArraySendBuffer.prototype.clearSent.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    ArraySendBuffer.__ieDyn=1;\n\n    return ArraySendBuffer;\r\n}(BaseSendBuffer));\r\nexport { ArraySendBuffer };\r\nvar PREVIOUS_KEYS = [\"AI_buffer\", \"AI_sentBuffer\"];\r\n/*\r\n * Session storage buffer holds a copy of all unsent items in the browser session storage.\r\n */\r\nvar SessionStorageSendBuffer = /** @class */ (function (_super) {\r\n    __extends(SessionStorageSendBuffer, _super);\r\n    function SessionStorageSendBuffer(logger, config) {\r\n        var _this = _super.call(this, logger, config) || this;\r\n        var _bufferFullMessageSent = false;\r\n        //Note: should not use config.namePrefix directly, because it will always refers to the latest namePrefix\r\n        var _namePrefix = config === null || config === void 0 ? void 0 : config.namePrefix;\r\n        // TODO: add remove buffer override as well\r\n        var _b = config[_DYN_BUFFER_OVERRIDE /* @min:%2ebufferOverride */] || { getItem: utlGetSessionStorage, setItem: utlSetSessionStorage }, getItem = _b.getItem, setItem = _b.setItem;\r\n        var _maxRetryCnt = config.maxRetryCnt;\r\n        dynamicProto(SessionStorageSendBuffer, _this, function (_self, _base) {\r\n            var bufferItems = _getBuffer(SessionStorageSendBuffer[_DYN__BUFFER__KEY /* @min:%2eBUFFER_KEY */]);\r\n            var itemsInSentBuffer = _getBuffer(SessionStorageSendBuffer[_DYN__SENT__BUFFER__KEY /* @min:%2eSENT_BUFFER_KEY */]);\r\n            var previousItems = _getPreviousEvents();\r\n            var notDeliveredItems = itemsInSentBuffer[_DYN_CONCAT /* @min:%2econcat */](previousItems);\r\n            var buffer = _self._set(bufferItems[_DYN_CONCAT /* @min:%2econcat */](notDeliveredItems));\r\n            // If the buffer has too many items, drop items from the end.\r\n            if (buffer[_DYN_LENGTH /* @min:%2elength */] > SessionStorageSendBuffer[_DYN__MAX__BUFFER__SIZE /* @min:%2eMAX_BUFFER_SIZE */]) {\r\n                buffer[_DYN_LENGTH /* @min:%2elength */] = SessionStorageSendBuffer[_DYN__MAX__BUFFER__SIZE /* @min:%2eMAX_BUFFER_SIZE */];\r\n            }\r\n            _setBuffer(SessionStorageSendBuffer[_DYN__SENT__BUFFER__KEY /* @min:%2eSENT_BUFFER_KEY */], []);\r\n            _setBuffer(SessionStorageSendBuffer[_DYN__BUFFER__KEY /* @min:%2eBUFFER_KEY */], buffer);\r\n            _self[_DYN_ENQUEUE /* @min:%2eenqueue */] = function (payload) {\r\n                if (_self[_DYN_COUNT /* @min:%2ecount */]() >= SessionStorageSendBuffer[_DYN__MAX__BUFFER__SIZE /* @min:%2eMAX_BUFFER_SIZE */]) {\r\n                    // sent internal log only once per page view\r\n                    if (!_bufferFullMessageSent) {\r\n                        _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 67 /* _eInternalMessageId.SessionStorageBufferFull */, \"Maximum buffer size reached: \" + _self[_DYN_COUNT /* @min:%2ecount */](), true);\r\n                        _bufferFullMessageSent = true;\r\n                    }\r\n                    return;\r\n                }\r\n                payload.cnt = payload.cnt || 0;\r\n                // max retry is defined, and max retry is reached, do not add the payload to buffer\r\n                if (!isNullOrUndefined(_maxRetryCnt)) {\r\n                    if (payload.cnt > _maxRetryCnt) {\r\n                        // TODO: add log here on dropping payloads\r\n                        return;\r\n                    }\r\n                }\r\n                _base[_DYN_ENQUEUE /* @min:%2eenqueue */](payload);\r\n                _setBuffer(SessionStorageSendBuffer.BUFFER_KEY, _self[_DYN__GET /* @min:%2e_get */]());\r\n            };\r\n            _self[_DYN_CLEAR /* @min:%2eclear */] = function () {\r\n                _base[_DYN_CLEAR /* @min:%2eclear */]();\r\n                _setBuffer(SessionStorageSendBuffer.BUFFER_KEY, _self[_DYN__GET /* @min:%2e_get */]());\r\n                _setBuffer(SessionStorageSendBuffer[_DYN__SENT__BUFFER__KEY /* @min:%2eSENT_BUFFER_KEY */], []);\r\n                _bufferFullMessageSent = false;\r\n            };\r\n            _self[_DYN_MARK_AS_SENT /* @min:%2emarkAsSent */] = function (payload) {\r\n                _setBuffer(SessionStorageSendBuffer[_DYN__BUFFER__KEY /* @min:%2eBUFFER_KEY */], _self._set(_removePayloadsFromBuffer(payload, _self[_DYN__GET /* @min:%2e_get */]())));\r\n                var sentElements = _getBuffer(SessionStorageSendBuffer[_DYN__SENT__BUFFER__KEY /* @min:%2eSENT_BUFFER_KEY */]);\r\n                if (sentElements instanceof Array && payload instanceof Array) {\r\n                    sentElements = sentElements[_DYN_CONCAT /* @min:%2econcat */](payload);\r\n                    if (sentElements[_DYN_LENGTH /* @min:%2elength */] > SessionStorageSendBuffer[_DYN__MAX__BUFFER__SIZE /* @min:%2eMAX_BUFFER_SIZE */]) {\r\n                        // We send telemetry normally. If the SENT_BUFFER is too big we don't add new elements\r\n                        // until we receive a response from the backend and the buffer has free space again (see clearSent method)\r\n                        _throwInternal(logger, 1 /* eLoggingSeverity.CRITICAL */, 67 /* _eInternalMessageId.SessionStorageBufferFull */, \"Sent buffer reached its maximum size: \" + sentElements[_DYN_LENGTH /* @min:%2elength */], true);\r\n                        sentElements[_DYN_LENGTH /* @min:%2elength */] = SessionStorageSendBuffer[_DYN__MAX__BUFFER__SIZE /* @min:%2eMAX_BUFFER_SIZE */];\r\n                    }\r\n                    _setBuffer(SessionStorageSendBuffer[_DYN__SENT__BUFFER__KEY /* @min:%2eSENT_BUFFER_KEY */], sentElements);\r\n                }\r\n            };\r\n            _self[_DYN_CLEAR_SENT /* @min:%2eclearSent */] = function (payload) {\r\n                var sentElements = _getBuffer(SessionStorageSendBuffer[_DYN__SENT__BUFFER__KEY /* @min:%2eSENT_BUFFER_KEY */]);\r\n                sentElements = _removePayloadsFromBuffer(payload, sentElements);\r\n                _setBuffer(SessionStorageSendBuffer[_DYN__SENT__BUFFER__KEY /* @min:%2eSENT_BUFFER_KEY */], sentElements);\r\n            };\r\n            _self[_DYN_CREATE_NEW /* @min:%2ecreateNew */] = function (newLogger, newConfig, canUseSessionStorage) {\r\n                canUseSessionStorage = !!canUseSessionStorage;\r\n                var unsentItems = _self[_DYN__GET /* @min:%2e_get */]().slice(0);\r\n                var sentItems = _getBuffer(SessionStorageSendBuffer[_DYN__SENT__BUFFER__KEY /* @min:%2eSENT_BUFFER_KEY */]).slice(0);\r\n                newLogger = newLogger || logger;\r\n                newConfig = newConfig || {};\r\n                // to make sure that we do not send duplicated payloads when it is switched back to previous one\r\n                _self[_DYN_CLEAR /* @min:%2eclear */]();\r\n                var newBuffer = canUseSessionStorage ? new SessionStorageSendBuffer(newLogger, newConfig) : new ArraySendBuffer(newLogger, newConfig);\r\n                arrForEach(unsentItems, function (payload) {\r\n                    newBuffer[_DYN_ENQUEUE /* @min:%2eenqueue */](payload);\r\n                });\r\n                if (canUseSessionStorage) {\r\n                    // arr buffer will clear all payloads if markAsSent() is called\r\n                    newBuffer[_DYN_MARK_AS_SENT /* @min:%2emarkAsSent */](sentItems);\r\n                }\r\n                return newBuffer;\r\n            };\r\n            function _removePayloadsFromBuffer(payloads, buffer) {\r\n                var remaining = [];\r\n                var payloadStr = [];\r\n                arrForEach(payloads, function (payload) {\r\n                    payloadStr[_DYN_PUSH /* @min:%2epush */](payload[_DYN_ITEM /* @min:%2eitem */]);\r\n                });\r\n                arrForEach(buffer, function (value) {\r\n                    if (!isFunction(value) && arrIndexOf(payloadStr, value[_DYN_ITEM /* @min:%2eitem */]) === -1) {\r\n                        remaining[_DYN_PUSH /* @min:%2epush */](value);\r\n                    }\r\n                });\r\n                return remaining;\r\n            }\r\n            function _getBuffer(key) {\r\n                var prefixedKey = key;\r\n                prefixedKey = _namePrefix ? _namePrefix + \"_\" + prefixedKey : prefixedKey;\r\n                return _getBufferBase(prefixedKey);\r\n            }\r\n            function _getBufferBase(key) {\r\n                try {\r\n                    var bufferJson = getItem(logger, key);\r\n                    if (bufferJson) {\r\n                        var buffer_1 = getJSON().parse(bufferJson);\r\n                        if (isString(buffer_1)) {\r\n                            // When using some version prototype.js the stringify / parse cycle does not decode array's correctly\r\n                            buffer_1 = getJSON().parse(buffer_1);\r\n                        }\r\n                        if (buffer_1 && isArray(buffer_1)) {\r\n                            return buffer_1;\r\n                        }\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    _throwInternal(logger, 1 /* eLoggingSeverity.CRITICAL */, 42 /* _eInternalMessageId.FailedToRestoreStorageBuffer */, \" storage key: \" + key + \", \" + getExceptionName(e), { exception: dumpObj(e) });\r\n                }\r\n                return [];\r\n            }\r\n            function _setBuffer(key, buffer) {\r\n                var prefixedKey = key;\r\n                try {\r\n                    prefixedKey = _namePrefix ? _namePrefix + \"_\" + prefixedKey : prefixedKey;\r\n                    var bufferJson = JSON[_DYN_STRINGIFY /* @min:%2estringify */](buffer);\r\n                    setItem(logger, prefixedKey, bufferJson);\r\n                }\r\n                catch (e) {\r\n                    // if there was an error, clear the buffer\r\n                    // telemetry is stored in the _buffer array so we won't loose any items\r\n                    setItem(logger, prefixedKey, JSON[_DYN_STRINGIFY /* @min:%2estringify */]([]));\r\n                    _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 41 /* _eInternalMessageId.FailedToSetStorageBuffer */, \" storage key: \" + prefixedKey + \", \" + getExceptionName(e) + \". Buffer cleared\", { exception: dumpObj(e) });\r\n                }\r\n            }\r\n            // this removes buffer with prefix+key\r\n            function _getPreviousEvents() {\r\n                var items = [];\r\n                try {\r\n                    arrForEach(PREVIOUS_KEYS, function (key) {\r\n                        var events = _getItemsFromPreviousKey(key);\r\n                        items = items[_DYN_CONCAT /* @min:%2econcat */](events);\r\n                        // to make sure that we also transfer items from old prefixed + key buffer\r\n                        if (_namePrefix) {\r\n                            var prefixedKey = _namePrefix + \"_\" + key;\r\n                            var prefixEvents = _getItemsFromPreviousKey(prefixedKey);\r\n                            items = items[_DYN_CONCAT /* @min:%2econcat */](prefixEvents);\r\n                        }\r\n                    });\r\n                    return items;\r\n                }\r\n                catch (e) {\r\n                    _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 41 /* _eInternalMessageId.FailedToSetStorageBuffer */, \"Transfer events from previous buffers: \" + getExceptionName(e) + \". previous Buffer items can not be removed\", { exception: dumpObj(e) });\r\n                }\r\n                return [];\r\n            }\r\n            // transform string[] to IInternalStorageItem[]\r\n            function _getItemsFromPreviousKey(key) {\r\n                try {\r\n                    var items = _getBufferBase(key);\r\n                    var transFormedItems_1 = [];\r\n                    arrForEach(items, function (item) {\r\n                        var internalItem = {\r\n                            item: item,\r\n                            cnt: 0 // previous events will be default to 0 count\r\n                        };\r\n                        transFormedItems_1[_DYN_PUSH /* @min:%2epush */](internalItem);\r\n                    });\r\n                    // remove the session storage if we can add events back\r\n                    utlRemoveSessionStorage(logger, key);\r\n                    return transFormedItems_1;\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return [];\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n// Removed Stub for SessionStorageSendBuffer.prototype.enqueue.\r\n// Removed Stub for SessionStorageSendBuffer.prototype.clear.\r\n// Removed Stub for SessionStorageSendBuffer.prototype.markAsSent.\r\n// Removed Stub for SessionStorageSendBuffer.prototype.clearSent.\r\n// Removed Stub for SessionStorageSendBuffer.prototype.createNew.\r\n    var _a;\r\n    _a = SessionStorageSendBuffer;\r\n    SessionStorageSendBuffer.VERSION = \"_1\";\r\n    SessionStorageSendBuffer.BUFFER_KEY = \"AI_buffer\" + _a.VERSION;\r\n    SessionStorageSendBuffer.SENT_BUFFER_KEY = \"AI_sentBuffer\" + _a.VERSION;\r\n    // Maximum number of payloads stored in the buffer. If the buffer is full, new elements will be dropped.\r\n    SessionStorageSendBuffer.MAX_BUFFER_SIZE = 2000;\r\n    return SessionStorageSendBuffer;\r\n}(BaseSendBuffer));\r\nexport { SessionStorageSendBuffer };\r\n//# sourceMappingURL=SendBuffer.js.map","/*\n * Application Insights JavaScript SDK - Channel, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nvar _a, _b;\r\nimport { __assignFn as __assign, __extendsFn as __extends } from \"@microsoft/applicationinsights-shims\";\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { BreezeChannelIdentifier, DEFAULT_BREEZE_ENDPOINT, DEFAULT_BREEZE_PATH, Event, Exception, Metric, PageView, PageViewPerformance, ProcessLegacy, RemoteDependencyData, RequestHeaders, SampleRate, Trace, createOfflineListener, isInternalApplicationInsightsEndpoint, utlCanUseSessionStorage, utlSetStoragePrefix } from \"@microsoft/applicationinsights-common\";\r\nimport { ActiveStatus, BaseTelemetryPlugin, SenderPostManager, _throwInternal, _warnToConsole, arrForEach, cfgDfBoolean, cfgDfValidate, createProcessTelemetryContext, createUniqueNamespace, dateNow, dumpObj, formatErrorMessageXdr, formatErrorMessageXhr, getExceptionName, getIEVersion, isArray, isBeaconsSupported, isFetchSupported, isNullOrUndefined, mergeEvtNamespace, objExtend, onConfigChange, parseResponse, prependTransports, runTargetUnload } from \"@microsoft/applicationinsights-core-js\";\r\nimport { isNumber, isPromiseLike, isString, isTruthy, objDeepFreeze, objDefine, scheduleTimeout } from \"@nevware21/ts-utils\";\r\nimport { DependencyEnvelopeCreator, EventEnvelopeCreator, ExceptionEnvelopeCreator, MetricEnvelopeCreator, PageViewEnvelopeCreator, PageViewPerformanceEnvelopeCreator, TraceEnvelopeCreator } from \"./EnvelopeCreator\";\r\nimport { ArraySendBuffer, SessionStorageSendBuffer } from \"./SendBuffer\";\r\nimport { Serializer } from \"./Serializer\";\r\nimport { Sample } from \"./TelemetryProcessors/Sample\";\r\nimport { _DYN_ALWAYS_USE_XHR_OVERR4, _DYN_BASE_TYPE, _DYN_BUFFER_OVERRIDE, _DYN_CLEAR, _DYN_CLEAR_SENT, _DYN_CONVERT_UNDEFINED, _DYN_COUNT, _DYN_CREATE_NEW, _DYN_CUSTOM_HEADERS, _DYN_DATA, _DYN_DIAG_LOG, _DYN_DISABLE_SEND_BEACON_7, _DYN_DISABLE_XHR, _DYN_EMIT_LINE_DELIMITED_0, _DYN_ENABLE_SEND_PROMISE, _DYN_ENABLE_SESSION_STORA5, _DYN_ENDPOINT_URL, _DYN_ENQUEUE, _DYN_EVENTS_LIMIT_IN_MEM, _DYN_EVENTS_SEND_REQUEST, _DYN_GET_SENDER_INST, _DYN_INITIALIZE, _DYN_INSTRUMENTATION_KEY, _DYN_IS_BEACON_API_DISABL3, _DYN_ITEM, _DYN_ITEMS_ACCEPTED, _DYN_ITEMS_RECEIVED, _DYN_LENGTH, _DYN_MARK_AS_SENT, _DYN_MAX_BATCH_INTERVAL, _DYN_MAX_BATCH_SIZE_IN_BY1, _DYN_ONUNLOAD_DISABLE_BEA2, _DYN_ONUNLOAD_DISABLE_FET6, _DYN_ORI_PAYLOAD, _DYN_PUSH, _DYN_SAMPLE_RATE, _DYN_SERIALIZE, _DYN_TAGS, _DYN_TRIGGER_SEND, _DYN_UNLOAD_TRANSPORTS, _DYN__BUFFER, _DYN__ON_ERROR, _DYN__ON_PARTIAL_SUCCESS, _DYN__ON_SUCCESS, _DYN__SENDER } from \"./__DynamicConstants\";\r\nvar UNDEFINED_VALUE = undefined;\r\nvar EMPTY_STR = \"\";\r\nvar FetchSyncRequestSizeLimitBytes = 65000; // approx 64kb (the current Edge, Firefox and Chrome max limit)\r\nfunction _getResponseText(xhr) {\r\n    try {\r\n        return xhr.responseText;\r\n    }\r\n    catch (e) {\r\n        // Best effort, as XHR may throw while XDR wont so just ignore\r\n    }\r\n    return null;\r\n}\r\nfunction isOverrideFn(httpXHROverride) {\r\n    return httpXHROverride && httpXHROverride.sendPOST;\r\n}\r\nvar defaultAppInsightsChannelConfig = objDeepFreeze((_a = {\r\n        // Use the default value (handles empty string in the configuration)\r\n        endpointUrl: cfgDfValidate(isTruthy, DEFAULT_BREEZE_ENDPOINT + DEFAULT_BREEZE_PATH)\r\n    },\r\n    _a[_DYN_EMIT_LINE_DELIMITED_0 /* @min:emitLineDelimitedJson */] = cfgDfBoolean(),\r\n    _a[_DYN_MAX_BATCH_INTERVAL /* @min:maxBatchInterval */] = 15000,\r\n    _a[_DYN_MAX_BATCH_SIZE_IN_BY1 /* @min:maxBatchSizeInBytes */] = 102400,\r\n    _a.disableTelemetry = cfgDfBoolean(),\r\n    _a[_DYN_ENABLE_SESSION_STORA5 /* @min:enableSessionStorageBuffer */] = cfgDfBoolean(true),\r\n    _a.isRetryDisabled = cfgDfBoolean(),\r\n    _a[_DYN_IS_BEACON_API_DISABL3 /* @min:isBeaconApiDisabled */] = cfgDfBoolean(true),\r\n    _a[_DYN_DISABLE_SEND_BEACON_7 /* @min:disableSendBeaconSplit */] = cfgDfBoolean(true),\r\n    _a[_DYN_DISABLE_XHR /* @min:disableXhr */] = cfgDfBoolean(),\r\n    _a[_DYN_ONUNLOAD_DISABLE_FET6 /* @min:onunloadDisableFetch */] = cfgDfBoolean(),\r\n    _a[_DYN_ONUNLOAD_DISABLE_BEA2 /* @min:onunloadDisableBeacon */] = cfgDfBoolean(),\r\n    _a[_DYN_INSTRUMENTATION_KEY /* @min:instrumentationKey */] = UNDEFINED_VALUE,\r\n    _a.namePrefix = UNDEFINED_VALUE,\r\n    _a.samplingPercentage = cfgDfValidate(_chkSampling, 100),\r\n    _a[_DYN_CUSTOM_HEADERS /* @min:customHeaders */] = UNDEFINED_VALUE,\r\n    _a[_DYN_CONVERT_UNDEFINED /* @min:convertUndefined */] = UNDEFINED_VALUE,\r\n    _a[_DYN_EVENTS_LIMIT_IN_MEM /* @min:eventsLimitInMem */] = 10000,\r\n    _a[_DYN_BUFFER_OVERRIDE /* @min:bufferOverride */] = false,\r\n    _a.httpXHROverride = { isVal: isOverrideFn, v: UNDEFINED_VALUE },\r\n    _a[_DYN_ALWAYS_USE_XHR_OVERR4 /* @min:alwaysUseXhrOverride */] = cfgDfBoolean(),\r\n    _a.transports = UNDEFINED_VALUE,\r\n    _a.retryCodes = UNDEFINED_VALUE,\r\n    _a.maxRetryCnt = { isVal: isNumber, v: 10 },\r\n    _a));\r\nfunction _chkSampling(value) {\r\n    return !isNaN(value) && value > 0 && value <= 100;\r\n}\r\nvar EnvelopeTypeCreator = (_b = {},\r\n    _b[Event.dataType] = EventEnvelopeCreator,\r\n    _b[Trace.dataType] = TraceEnvelopeCreator,\r\n    _b[PageView.dataType] = PageViewEnvelopeCreator,\r\n    _b[PageViewPerformance.dataType] = PageViewPerformanceEnvelopeCreator,\r\n    _b[Exception.dataType] = ExceptionEnvelopeCreator,\r\n    _b[Metric.dataType] = MetricEnvelopeCreator,\r\n    _b[RemoteDependencyData.dataType] = DependencyEnvelopeCreator,\r\n    _b);\r\nvar Sender = /** @class */ (function (_super) {\r\n    __extends(Sender, _super);\r\n    function Sender() {\r\n        var _this = _super.call(this) || this;\r\n        _this.priority = 1001;\r\n        _this.identifier = BreezeChannelIdentifier;\r\n        // Don't set the defaults here, set them in the _initDefaults() as this is also called during unload\r\n        var _consecutiveErrors; // How many times in a row a retryable error condition has occurred.\r\n        var _retryAt; // The time to retry at in milliseconds from 1970/01/01 (this makes the timer calculation easy).\r\n        var _lastSend; // The time of the last send operation.\r\n        var _paused; // Flag indicating that the sending should be paused\r\n        var _timeoutHandle; // Handle to the timer for delayed sending of batches of data.\r\n        var _serializer;\r\n        var _stamp_specific_redirects;\r\n        var _headers;\r\n        var _syncFetchPayload = 0; // Keep track of the outstanding sync fetch payload total (as sync fetch has limits)\r\n        var _syncUnloadSender; // The identified sender to use for the synchronous unload stage\r\n        var _offlineListener;\r\n        var _evtNamespace;\r\n        var _endpointUrl;\r\n        var _orgEndpointUrl;\r\n        var _maxBatchSizeInBytes;\r\n        var _beaconSupported;\r\n        var _beaconOnUnloadSupported;\r\n        var _beaconNormalSupported;\r\n        var _customHeaders;\r\n        var _disableTelemetry;\r\n        var _instrumentationKey;\r\n        var _convertUndefined;\r\n        var _isRetryDisabled;\r\n        var _maxBatchInterval;\r\n        var _sessionStorageUsed;\r\n        var _bufferOverrideUsed;\r\n        var _namePrefix;\r\n        var _enableSendPromise;\r\n        var _alwaysUseCustomSend;\r\n        var _disableXhr;\r\n        var _fetchKeepAlive;\r\n        var _xhrSend;\r\n        var _fallbackSend;\r\n        var _disableBeaconSplit;\r\n        var _sendPostMgr;\r\n        var _retryCodes;\r\n        dynamicProto(Sender, _this, function (_self, _base) {\r\n            _initDefaults();\r\n            _self.pause = function () {\r\n                _clearScheduledTimer();\r\n                _paused = true;\r\n            };\r\n            _self.resume = function () {\r\n                if (_paused) {\r\n                    _paused = false;\r\n                    _retryAt = null;\r\n                    // flush if we have exceeded the max-size already\r\n                    _checkMaxSize();\r\n                    _setupTimer();\r\n                }\r\n            };\r\n            _self.flush = function (isAsync, callBack, sendReason) {\r\n                if (isAsync === void 0) { isAsync = true; }\r\n                if (!_paused) {\r\n                    // Clear the normal schedule timer as we are going to try and flush ASAP\r\n                    _clearScheduledTimer();\r\n                    try {\r\n                        return _self[_DYN_TRIGGER_SEND /* @min:%2etriggerSend */](isAsync, null, sendReason || 1 /* SendRequestReason.ManualFlush */);\r\n                    }\r\n                    catch (e) {\r\n                        _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 1 /* eLoggingSeverity.CRITICAL */, 22 /* _eInternalMessageId.FlushFailed */, \"flush failed, telemetry will not be collected: \" + getExceptionName(e), { exception: dumpObj(e) });\r\n                    }\r\n                }\r\n            };\r\n            _self.onunloadFlush = function () {\r\n                if (!_paused) {\r\n                    if (_beaconSupported || _alwaysUseCustomSend) {\r\n                        try {\r\n                            return _self[_DYN_TRIGGER_SEND /* @min:%2etriggerSend */](true, _doUnloadSend, 2 /* SendRequestReason.Unload */);\r\n                        }\r\n                        catch (e) {\r\n                            _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 1 /* eLoggingSeverity.CRITICAL */, 20 /* _eInternalMessageId.FailedToSendQueuedTelemetry */, \"failed to flush with beacon sender on page unload, telemetry will not be collected: \" + getExceptionName(e), { exception: dumpObj(e) });\r\n                        }\r\n                    }\r\n                    else {\r\n                        _self.flush(false);\r\n                    }\r\n                }\r\n            };\r\n            _self.addHeader = function (name, value) {\r\n                _headers[name] = value;\r\n            };\r\n            _self[_DYN_INITIALIZE /* @min:%2einitialize */] = function (config, core, extensions, pluginChain) {\r\n                if (_self.isInitialized()) {\r\n                    _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 1 /* eLoggingSeverity.CRITICAL */, 28 /* _eInternalMessageId.SenderNotInitialized */, \"Sender is already initialized\");\r\n                }\r\n                _base[_DYN_INITIALIZE /* @min:%2einitialize */](config, core, extensions, pluginChain);\r\n                var identifier = _self.identifier;\r\n                _serializer = new Serializer(core.logger);\r\n                _consecutiveErrors = 0;\r\n                _retryAt = null;\r\n                _lastSend = 0;\r\n                _self[_DYN__SENDER /* @min:%2e_sender */] = null;\r\n                _stamp_specific_redirects = 0;\r\n                var diagLog = _self[_DYN_DIAG_LOG /* @min:%2ediagLog */]();\r\n                _evtNamespace = mergeEvtNamespace(createUniqueNamespace(\"Sender\"), core.evtNamespace && core.evtNamespace());\r\n                _offlineListener = createOfflineListener(_evtNamespace);\r\n                // This function will be re-called whenever any referenced configuration is changed\r\n                _self._addHook(onConfigChange(config, function (details) {\r\n                    var config = details.cfg;\r\n                    if (config.storagePrefix) {\r\n                        utlSetStoragePrefix(config.storagePrefix);\r\n                    }\r\n                    var ctx = createProcessTelemetryContext(null, config, core);\r\n                    // getExtCfg only finds undefined values from core\r\n                    var senderConfig = ctx.getExtCfg(identifier, defaultAppInsightsChannelConfig);\r\n                    var curExtUrl = senderConfig[_DYN_ENDPOINT_URL /* @min:%2eendpointUrl */];\r\n                    // if it is not inital change (_endpointUrl has value)\r\n                    // if current sender endpoint url is not changed directly\r\n                    // means ExtCfg is not changed directly\r\n                    // then we need to monitor endpoint url changes from core\r\n                    if (_endpointUrl && curExtUrl === _endpointUrl) {\r\n                        var coreUrl = config[_DYN_ENDPOINT_URL /* @min:%2eendpointUrl */];\r\n                        // if core endpoint url is changed\r\n                        if (coreUrl && coreUrl !== curExtUrl) {\r\n                            // and endpoint promise changes is handled by this as well\r\n                            senderConfig[_DYN_ENDPOINT_URL /* @min:%2eendpointUrl */] = coreUrl;\r\n                        }\r\n                    }\r\n                    if (isPromiseLike(senderConfig[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */])) {\r\n                        // if it is promise, means the endpoint url is from core.endpointurl\r\n                        senderConfig[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */] = config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */];\r\n                    }\r\n                    objDefine(_self, \"_senderConfig\", {\r\n                        g: function () {\r\n                            return senderConfig;\r\n                        }\r\n                    });\r\n                    // Only update the endpoint if the original config !== the current config\r\n                    // This is so any redirect endpointUrl is not overwritten\r\n                    if (_orgEndpointUrl !== senderConfig[_DYN_ENDPOINT_URL /* @min:%2eendpointUrl */]) {\r\n                        if (_orgEndpointUrl) {\r\n                            // TODO: add doc to remind users to flush before changing endpoint, otherwise all unsent payload will be sent to new endpoint\r\n                        }\r\n                        _endpointUrl = _orgEndpointUrl = senderConfig[_DYN_ENDPOINT_URL /* @min:%2eendpointUrl */];\r\n                    }\r\n                    // or is not string\r\n                    if (core.activeStatus() === ActiveStatus.PENDING) {\r\n                        // waiting for core promises to be resolved\r\n                        // NOTE: if active status is set to pending, stop sending, clear timer here\r\n                        _self.pause();\r\n                    }\r\n                    else if (core.activeStatus() === ActiveStatus.ACTIVE) {\r\n                        // core status changed from pending to other status\r\n                        _self.resume();\r\n                    }\r\n                    if (_customHeaders && _customHeaders !== senderConfig[_DYN_CUSTOM_HEADERS /* @min:%2ecustomHeaders */]) {\r\n                        // Removing any previously defined custom headers as they have changed\r\n                        arrForEach(_customHeaders, function (customHeader) {\r\n                            delete _headers[customHeader.header];\r\n                        });\r\n                    }\r\n                    _maxBatchSizeInBytes = senderConfig[_DYN_MAX_BATCH_SIZE_IN_BY1 /* @min:%2emaxBatchSizeInBytes */];\r\n                    _beaconSupported = (senderConfig[_DYN_ONUNLOAD_DISABLE_BEA2 /* @min:%2eonunloadDisableBeacon */] === false || senderConfig[_DYN_IS_BEACON_API_DISABL3 /* @min:%2eisBeaconApiDisabled */] === false) && isBeaconsSupported();\r\n                    _beaconOnUnloadSupported = senderConfig[_DYN_ONUNLOAD_DISABLE_BEA2 /* @min:%2eonunloadDisableBeacon */] === false && isBeaconsSupported();\r\n                    _beaconNormalSupported = senderConfig[_DYN_IS_BEACON_API_DISABL3 /* @min:%2eisBeaconApiDisabled */] === false && isBeaconsSupported();\r\n                    _alwaysUseCustomSend = senderConfig[_DYN_ALWAYS_USE_XHR_OVERR4 /* @min:%2ealwaysUseXhrOverride */];\r\n                    _disableXhr = !!senderConfig[_DYN_DISABLE_XHR /* @min:%2edisableXhr */];\r\n                    _retryCodes = senderConfig.retryCodes;\r\n                    var bufferOverride = senderConfig[_DYN_BUFFER_OVERRIDE /* @min:%2ebufferOverride */];\r\n                    var canUseSessionStorage = !!senderConfig[_DYN_ENABLE_SESSION_STORA5 /* @min:%2eenableSessionStorageBuffer */] &&\r\n                        (!!bufferOverride || utlCanUseSessionStorage());\r\n                    var namePrefix = senderConfig.namePrefix;\r\n                    //Note: emitLineDelimitedJson and eventsLimitInMem is directly accessed via config in senderBuffer\r\n                    //Therefore, if canUseSessionStorage is not changed, we do not need to re initialize a new one\r\n                    var shouldUpdate = (canUseSessionStorage !== _sessionStorageUsed)\r\n                        || (canUseSessionStorage && (_namePrefix !== namePrefix)) // prefixName is only used in session storage\r\n                        || (canUseSessionStorage && (_bufferOverrideUsed !== bufferOverride));\r\n                    if (_self[_DYN__BUFFER /* @min:%2e_buffer */]) {\r\n                        // case1 (Pre and Now enableSessionStorageBuffer settings are same)\r\n                        // if namePrefix changes, transfer current buffer to new buffer\r\n                        // else no action needed\r\n                        //case2 (Pre and Now enableSessionStorageBuffer settings are changed)\r\n                        // transfer current buffer to new buffer\r\n                        if (shouldUpdate) {\r\n                            try {\r\n                                _self._buffer = _self._buffer[_DYN_CREATE_NEW /* @min:%2ecreateNew */](diagLog, senderConfig, canUseSessionStorage);\r\n                            }\r\n                            catch (e) {\r\n                                _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 1 /* eLoggingSeverity.CRITICAL */, 12 /* _eInternalMessageId.FailedAddingTelemetryToBuffer */, \"failed to transfer telemetry to different buffer storage, telemetry will be lost: \" + getExceptionName(e), { exception: dumpObj(e) });\r\n                            }\r\n                        }\r\n                        _checkMaxSize();\r\n                    }\r\n                    else {\r\n                        _self[_DYN__BUFFER /* @min:%2e_buffer */] = canUseSessionStorage\r\n                            ? new SessionStorageSendBuffer(diagLog, senderConfig) : new ArraySendBuffer(diagLog, senderConfig);\r\n                    }\r\n                    _namePrefix = namePrefix;\r\n                    _sessionStorageUsed = canUseSessionStorage;\r\n                    _bufferOverrideUsed = bufferOverride;\r\n                    _fetchKeepAlive = !senderConfig[_DYN_ONUNLOAD_DISABLE_FET6 /* @min:%2eonunloadDisableFetch */] && isFetchSupported(true);\r\n                    _disableBeaconSplit = !!senderConfig[_DYN_DISABLE_SEND_BEACON_7 /* @min:%2edisableSendBeaconSplit */];\r\n                    _self._sample = new Sample(senderConfig.samplingPercentage, diagLog);\r\n                    _instrumentationKey = senderConfig[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */];\r\n                    if (!isPromiseLike(_instrumentationKey) && !_validateInstrumentationKey(_instrumentationKey, config)) {\r\n                        _throwInternal(diagLog, 1 /* eLoggingSeverity.CRITICAL */, 100 /* _eInternalMessageId.InvalidInstrumentationKey */, \"Invalid Instrumentation key \" + _instrumentationKey);\r\n                    }\r\n                    _customHeaders = senderConfig[_DYN_CUSTOM_HEADERS /* @min:%2ecustomHeaders */];\r\n                    if (isString(_endpointUrl) && !isInternalApplicationInsightsEndpoint(_endpointUrl) && _customHeaders && _customHeaders[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                        arrForEach(_customHeaders, function (customHeader) {\r\n                            _this.addHeader(customHeader.header, customHeader.value);\r\n                        });\r\n                    }\r\n                    else {\r\n                        _customHeaders = null;\r\n                    }\r\n                    _enableSendPromise = senderConfig[_DYN_ENABLE_SEND_PROMISE /* @min:%2eenableSendPromise */];\r\n                    var sendPostConfig = _getSendPostMgrConfig();\r\n                    // only init it once\r\n                    if (!_sendPostMgr) {\r\n                        _sendPostMgr = new SenderPostManager();\r\n                        _sendPostMgr[_DYN_INITIALIZE /* @min:%2einitialize */](sendPostConfig, diagLog);\r\n                    }\r\n                    else {\r\n                        _sendPostMgr.SetConfig(sendPostConfig);\r\n                    }\r\n                    var customInterface = senderConfig.httpXHROverride;\r\n                    var httpInterface = null;\r\n                    var syncInterface = null;\r\n                    // User requested transport(s) values > Beacon > Fetch > XHR\r\n                    // Beacon would be filtered out if user has set disableBeaconApi to true at _getSenderInterface\r\n                    var theTransports = prependTransports([3 /* TransportType.Beacon */, 1 /* TransportType.Xhr */, 2 /* TransportType.Fetch */], senderConfig.transports);\r\n                    httpInterface = _sendPostMgr && _sendPostMgr[_DYN_GET_SENDER_INST /* @min:%2egetSenderInst */](theTransports, false);\r\n                    var xhrInterface = _sendPostMgr && _sendPostMgr.getFallbackInst();\r\n                    _xhrSend = function (payload, isAsync) {\r\n                        return _doSend(xhrInterface, payload, isAsync);\r\n                    };\r\n                    _fallbackSend = function (payload, isAsync) {\r\n                        return _doSend(xhrInterface, payload, isAsync, false);\r\n                    };\r\n                    httpInterface = _alwaysUseCustomSend ? customInterface : (httpInterface || customInterface || xhrInterface);\r\n                    _self[_DYN__SENDER /* @min:%2e_sender */] = function (payload, isAsync) {\r\n                        return _doSend(httpInterface, payload, isAsync);\r\n                    };\r\n                    if (_fetchKeepAlive) {\r\n                        // Try and use the fetch with keepalive\r\n                        _syncUnloadSender = _fetchKeepAliveSender;\r\n                    }\r\n                    var syncTransports = prependTransports([3 /* TransportType.Beacon */, 1 /* TransportType.Xhr */], senderConfig[_DYN_UNLOAD_TRANSPORTS /* @min:%2eunloadTransports */]);\r\n                    if (!_fetchKeepAlive) {\r\n                        // remove fetch from theTransports\r\n                        syncTransports = syncTransports.filter(function (transport) { return transport !== 2 /* TransportType.Fetch */; });\r\n                    }\r\n                    syncInterface = _sendPostMgr && _sendPostMgr[_DYN_GET_SENDER_INST /* @min:%2egetSenderInst */](syncTransports, true);\r\n                    syncInterface = _alwaysUseCustomSend ? customInterface : (syncInterface || customInterface);\r\n                    if ((_alwaysUseCustomSend || senderConfig[_DYN_UNLOAD_TRANSPORTS /* @min:%2eunloadTransports */] || !_syncUnloadSender) && syncInterface) {\r\n                        _syncUnloadSender = function (payload, isAsync) {\r\n                            return _doSend(syncInterface, payload, isAsync);\r\n                        };\r\n                    }\r\n                    if (!_syncUnloadSender) {\r\n                        _syncUnloadSender = _xhrSend;\r\n                    }\r\n                    _disableTelemetry = senderConfig.disableTelemetry;\r\n                    _convertUndefined = senderConfig[_DYN_CONVERT_UNDEFINED /* @min:%2econvertUndefined */] || UNDEFINED_VALUE;\r\n                    _isRetryDisabled = senderConfig.isRetryDisabled;\r\n                    _maxBatchInterval = senderConfig[_DYN_MAX_BATCH_INTERVAL /* @min:%2emaxBatchInterval */];\r\n                }));\r\n            };\r\n            _self.processTelemetry = function (telemetryItem, itemCtx) {\r\n                var _a;\r\n                itemCtx = _self._getTelCtx(itemCtx);\r\n                var diagLogger = itemCtx[_DYN_DIAG_LOG /* @min:%2ediagLog */]();\r\n                try {\r\n                    var isValidate = _validate(telemetryItem, diagLogger);\r\n                    if (!isValidate) {\r\n                        return;\r\n                    }\r\n                    var aiEnvelope = _getEnvelope(telemetryItem, diagLogger);\r\n                    if (!aiEnvelope) {\r\n                        return;\r\n                    }\r\n                    // check if the incoming payload is too large, truncate if necessary\r\n                    var payload = _serializer[_DYN_SERIALIZE /* @min:%2eserialize */](aiEnvelope);\r\n                    // flush if we would exceed the max-size limit by adding this item\r\n                    var buffer = _self[_DYN__BUFFER /* @min:%2e_buffer */];\r\n                    _checkMaxSize(payload);\r\n                    var payloadItem = (_a = {},\r\n                        _a[_DYN_ITEM /* @min:item */] = payload,\r\n                        _a.cnt = 0 // inital cnt will always be 0\r\n                    ,\r\n                        _a);\r\n                    // enqueue the payload\r\n                    buffer[_DYN_ENQUEUE /* @min:%2eenqueue */](payloadItem);\r\n                    // ensure an invocation timeout is set\r\n                    _setupTimer();\r\n                }\r\n                catch (e) {\r\n                    _throwInternal(diagLogger, 2 /* eLoggingSeverity.WARNING */, 12 /* _eInternalMessageId.FailedAddingTelemetryToBuffer */, \"Failed adding telemetry to the sender's buffer, some telemetry will be lost: \" + getExceptionName(e), { exception: dumpObj(e) });\r\n                }\r\n                // hand off the telemetry item to the next plugin\r\n                _self.processNext(telemetryItem, itemCtx);\r\n            };\r\n            _self.isCompletelyIdle = function () {\r\n                return !_paused && _syncFetchPayload === 0 && _self._buffer[_DYN_COUNT /* @min:%2ecount */]() === 0;\r\n            };\r\n            _self.getOfflineListener = function () {\r\n                return _offlineListener;\r\n            };\r\n            /**\r\n             * xhr state changes\r\n             */\r\n            _self._xhrReadyStateChange = function (xhr, payload, countOfItemsInPayload) {\r\n                // since version 3.2.0, this function is no-op\r\n                if (_isStringArr(payload)) {\r\n                    return;\r\n                }\r\n                return _xhrReadyStateChange(xhr, payload, countOfItemsInPayload);\r\n            };\r\n            /**\r\n             * Immediately send buffered data\r\n             * @param async - {boolean} - Indicates if the events should be sent asynchronously\r\n             * @param forcedSender - {SenderFunction} - Indicates the forcedSender, undefined if not passed\r\n             */\r\n            _self[_DYN_TRIGGER_SEND /* @min:%2etriggerSend */] = function (async, forcedSender, sendReason) {\r\n                if (async === void 0) { async = true; }\r\n                var result;\r\n                if (!_paused) {\r\n                    try {\r\n                        var buffer = _self[_DYN__BUFFER /* @min:%2e_buffer */];\r\n                        // Send data only if disableTelemetry is false\r\n                        if (!_disableTelemetry) {\r\n                            if (buffer[_DYN_COUNT /* @min:%2ecount */]() > 0) {\r\n                                var payload = buffer.getItems();\r\n                                _notifySendRequest(sendReason || 0 /* SendRequestReason.Undefined */, async);\r\n                                // invoke send\r\n                                if (forcedSender) {\r\n                                    result = forcedSender.call(_self, payload, async);\r\n                                }\r\n                                else {\r\n                                    result = _self[_DYN__SENDER /* @min:%2e_sender */](payload, async);\r\n                                }\r\n                            }\r\n                            // update lastSend time to enable throttling\r\n                            _lastSend = +new Date;\r\n                        }\r\n                        else {\r\n                            buffer[_DYN_CLEAR /* @min:%2eclear */]();\r\n                        }\r\n                        _clearScheduledTimer();\r\n                    }\r\n                    catch (e) {\r\n                        /* Ignore this error for IE under v10 */\r\n                        var ieVer = getIEVersion();\r\n                        if (!ieVer || ieVer > 9) {\r\n                            _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 1 /* eLoggingSeverity.CRITICAL */, 40 /* _eInternalMessageId.TransmissionFailed */, \"Telemetry transmission failed, some telemetry will be lost: \" + getExceptionName(e), { exception: dumpObj(e) });\r\n                        }\r\n                    }\r\n                }\r\n                return result;\r\n            };\r\n            _self.getOfflineSupport = function () {\r\n                var _a;\r\n                return _a = {\r\n                        getUrl: function () {\r\n                            return _endpointUrl;\r\n                        },\r\n                        createPayload: _createPayload\r\n                    },\r\n                    _a[_DYN_SERIALIZE /* @min:serialize */] = _serialize,\r\n                    _a.batch = _batch,\r\n                    _a.shouldProcess = function (evt) {\r\n                        return !!_validate(evt);\r\n                    },\r\n                    _a;\r\n            };\r\n            _self._doTeardown = function (unloadCtx, unloadState) {\r\n                _self.onunloadFlush();\r\n                runTargetUnload(_offlineListener, false);\r\n                _initDefaults();\r\n            };\r\n            /**\r\n             * error handler\r\n             */\r\n            _self[_DYN__ON_ERROR /* @min:%2e_onError */] = function (payload, message, event) {\r\n                // since version 3.1.3, string[] is no-op\r\n                if (_isStringArr(payload)) {\r\n                    return;\r\n                }\r\n                return _onError(payload, message, event);\r\n            };\r\n            /**\r\n             * partial success handler\r\n             */\r\n            _self[_DYN__ON_PARTIAL_SUCCESS /* @min:%2e_onPartialSuccess */] = function (payload, results) {\r\n                // since version 3.1.3, string[] is no-op\r\n                if (_isStringArr(payload)) {\r\n                    return;\r\n                }\r\n                return _onPartialSuccess(payload, results);\r\n            };\r\n            /**\r\n             * success handler\r\n             */\r\n            _self[_DYN__ON_SUCCESS /* @min:%2e_onSuccess */] = function (payload, countOfItemsInPayload) {\r\n                // since version 3.1.3, string[] is no-op\r\n                if (_isStringArr(payload)) {\r\n                    return;\r\n                }\r\n                return _onSuccess(payload, countOfItemsInPayload);\r\n                //_self._buffer && _self._buffer.clearSent(payload);\r\n            };\r\n            /**\r\n             * xdr state changes\r\n             */\r\n            _self._xdrOnLoad = function (xdr, payload) {\r\n                // since version 3.1.3, string[] is no-op\r\n                if (_isStringArr(payload)) {\r\n                    return;\r\n                }\r\n                return _xdrOnLoad(xdr, payload);\r\n            };\r\n            function _xdrOnLoad(xdr, payload) {\r\n                var responseText = _getResponseText(xdr);\r\n                if (xdr && (responseText + \"\" === \"200\" || responseText === \"\")) {\r\n                    _consecutiveErrors = 0;\r\n                    _self[_DYN__ON_SUCCESS /* @min:%2e_onSuccess */](payload, 0);\r\n                }\r\n                else {\r\n                    var results = parseResponse(responseText);\r\n                    if (results && results[_DYN_ITEMS_RECEIVED /* @min:%2eitemsReceived */] && results[_DYN_ITEMS_RECEIVED /* @min:%2eitemsReceived */] > results[_DYN_ITEMS_ACCEPTED /* @min:%2eitemsAccepted */]\r\n                        && !_isRetryDisabled) {\r\n                        _self[_DYN__ON_PARTIAL_SUCCESS /* @min:%2e_onPartialSuccess */](payload, results);\r\n                    }\r\n                    else {\r\n                        _self[_DYN__ON_ERROR /* @min:%2e_onError */](payload, formatErrorMessageXdr(xdr));\r\n                    }\r\n                }\r\n            }\r\n            function _getSendPostMgrConfig() {\r\n                var _a;\r\n                try {\r\n                    var onCompleteFuncs = {\r\n                        xdrOnComplete: function (xdr, oncomplete, payload) {\r\n                            var data = _getPayloadArr(payload);\r\n                            if (!data) {\r\n                                return;\r\n                            }\r\n                            return _xdrOnLoad(xdr, data);\r\n                        },\r\n                        fetchOnComplete: function (response, onComplete, resValue, payload) {\r\n                            var data = _getPayloadArr(payload);\r\n                            if (!data) {\r\n                                return;\r\n                            }\r\n                            return _checkResponsStatus(response.status, data, response.url, data[_DYN_LENGTH /* @min:%2elength */], response.statusText, resValue || \"\");\r\n                        },\r\n                        xhrOnComplete: function (request, oncomplete, payload) {\r\n                            var data = _getPayloadArr(payload);\r\n                            if (!data) {\r\n                                return;\r\n                            }\r\n                            return _xhrReadyStateChange(request, data, data[_DYN_LENGTH /* @min:%2elength */]);\r\n                        },\r\n                        beaconOnRetry: function (data, onComplete, canSend) {\r\n                            return _onBeaconRetry(data, onComplete, canSend);\r\n                        }\r\n                    };\r\n                    var config = (_a = {},\r\n                        _a[_DYN_ENABLE_SEND_PROMISE /* @min:enableSendPromise */] = _enableSendPromise,\r\n                        _a.isOneDs = false,\r\n                        _a.disableCredentials = false,\r\n                        _a[_DYN_DISABLE_XHR /* @min:disableXhr */] = _disableXhr,\r\n                        _a.disableBeacon = !_beaconNormalSupported,\r\n                        _a.disableBeaconSync = !_beaconOnUnloadSupported,\r\n                        _a.senderOnCompleteCallBack = onCompleteFuncs,\r\n                        _a);\r\n                    return config;\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return null;\r\n            }\r\n            /**\r\n             * xhr state changes\r\n             */\r\n            function _xhrReadyStateChange(xhr, payload, countOfItemsInPayload) {\r\n                if (xhr.readyState === 4) {\r\n                    _checkResponsStatus(xhr.status, payload, xhr.responseURL, countOfItemsInPayload, formatErrorMessageXhr(xhr), _getResponseText(xhr) || xhr.response);\r\n                }\r\n            }\r\n            /**\r\n             * error handler\r\n             */\r\n            function _onError(payload, message, event) {\r\n                _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 2 /* eLoggingSeverity.WARNING */, 26 /* _eInternalMessageId.OnError */, \"Failed to send telemetry.\", { message: message });\r\n                _self._buffer && _self._buffer[_DYN_CLEAR_SENT /* @min:%2eclearSent */](payload);\r\n            }\r\n            /**\r\n             * partial success handler\r\n             */\r\n            function _onPartialSuccess(payload, results) {\r\n                var failed = [];\r\n                var retry = [];\r\n                // Iterate through the reversed array of errors so that splicing doesn't have invalid indexes after the first item.\r\n                var errors = results.errors.reverse();\r\n                for (var _i = 0, errors_1 = errors; _i < errors_1.length; _i++) {\r\n                    var error = errors_1[_i];\r\n                    var extracted = payload.splice(error.index, 1)[0];\r\n                    if (_isRetriable(error.statusCode)) {\r\n                        retry[_DYN_PUSH /* @min:%2epush */](extracted);\r\n                    }\r\n                    else {\r\n                        // All other errors, including: 402 (Monthly quota exceeded) and 439 (Too many requests and refresh cache).\r\n                        failed[_DYN_PUSH /* @min:%2epush */](extracted);\r\n                    }\r\n                }\r\n                if (payload[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    _self[_DYN__ON_SUCCESS /* @min:%2e_onSuccess */](payload, results[_DYN_ITEMS_ACCEPTED /* @min:%2eitemsAccepted */]);\r\n                }\r\n                if (failed[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    _self[_DYN__ON_ERROR /* @min:%2e_onError */](failed, formatErrorMessageXhr(null, [\"partial success\", results[_DYN_ITEMS_ACCEPTED /* @min:%2eitemsAccepted */], \"of\", results.itemsReceived].join(\" \")));\r\n                }\r\n                if (retry[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    _resendPayload(retry);\r\n                    _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 2 /* eLoggingSeverity.WARNING */, 40 /* _eInternalMessageId.TransmissionFailed */, \"Partial success. \" +\r\n                        \"Delivered: \" + payload[_DYN_LENGTH /* @min:%2elength */] + \", Failed: \" + failed[_DYN_LENGTH /* @min:%2elength */] +\r\n                        \". Will retry to send \" + retry[_DYN_LENGTH /* @min:%2elength */] + \" our of \" + results[_DYN_ITEMS_RECEIVED /* @min:%2eitemsReceived */] + \" items\");\r\n                }\r\n            }\r\n            /**\r\n             * success handler\r\n             */\r\n            function _onSuccess(payload, countOfItemsInPayload) {\r\n                _self._buffer && _self._buffer[_DYN_CLEAR_SENT /* @min:%2eclearSent */](payload);\r\n            }\r\n            function _getPayloadArr(payload) {\r\n                try {\r\n                    if (payload) {\r\n                        var internalPayload = payload;\r\n                        var arr = internalPayload[_DYN_ORI_PAYLOAD /* @min:%2eoriPayload */];\r\n                        if (arr && arr[_DYN_LENGTH /* @min:%2elength */]) {\r\n                            return arr;\r\n                        }\r\n                        return null;\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return null;\r\n            }\r\n            function _validate(telemetryItem, diagLogger) {\r\n                if (_disableTelemetry) {\r\n                    // Do not send/save data\r\n                    return false;\r\n                }\r\n                // validate input\r\n                if (!telemetryItem) {\r\n                    diagLogger && _throwInternal(diagLogger, 1 /* eLoggingSeverity.CRITICAL */, 7 /* _eInternalMessageId.CannotSendEmptyTelemetry */, \"Cannot send empty telemetry\");\r\n                    return false;\r\n                }\r\n                // validate event\r\n                if (telemetryItem.baseData && !telemetryItem[_DYN_BASE_TYPE /* @min:%2ebaseType */]) {\r\n                    diagLogger && _throwInternal(diagLogger, 1 /* eLoggingSeverity.CRITICAL */, 70 /* _eInternalMessageId.InvalidEvent */, \"Cannot send telemetry without baseData and baseType\");\r\n                    return false;\r\n                }\r\n                if (!telemetryItem[_DYN_BASE_TYPE /* @min:%2ebaseType */]) {\r\n                    // Default\r\n                    telemetryItem[_DYN_BASE_TYPE /* @min:%2ebaseType */] = \"EventData\";\r\n                }\r\n                // ensure a sender was constructed\r\n                if (!_self[_DYN__SENDER /* @min:%2e_sender */]) {\r\n                    diagLogger && _throwInternal(diagLogger, 1 /* eLoggingSeverity.CRITICAL */, 28 /* _eInternalMessageId.SenderNotInitialized */, \"Sender was not initialized\");\r\n                    return false;\r\n                }\r\n                // check if this item should be sampled in, else add sampleRate tag\r\n                if (!_isSampledIn(telemetryItem)) {\r\n                    // Item is sampled out, do not send it\r\n                    diagLogger && _throwInternal(diagLogger, 2 /* eLoggingSeverity.WARNING */, 33 /* _eInternalMessageId.TelemetrySampledAndNotSent */, \"Telemetry item was sampled out and not sent\", { SampleRate: _self._sample[_DYN_SAMPLE_RATE /* @min:%2esampleRate */] });\r\n                    return false;\r\n                }\r\n                else {\r\n                    telemetryItem[SampleRate] = _self._sample[_DYN_SAMPLE_RATE /* @min:%2esampleRate */];\r\n                }\r\n                return true;\r\n            }\r\n            function _getEnvelope(telemetryItem, diagLogger) {\r\n                // construct an envelope that Application Insights endpoint can understand\r\n                // if ikey of telemetry is provided and not empty, envelope will use this iKey instead of senderConfig iKey\r\n                var defaultEnvelopeIkey = telemetryItem.iKey || _instrumentationKey;\r\n                var aiEnvelope = Sender.constructEnvelope(telemetryItem, defaultEnvelopeIkey, diagLogger, _convertUndefined);\r\n                if (!aiEnvelope) {\r\n                    _throwInternal(diagLogger, 1 /* eLoggingSeverity.CRITICAL */, 47 /* _eInternalMessageId.CreateEnvelopeError */, \"Unable to create an AppInsights envelope\");\r\n                    return;\r\n                }\r\n                var doNotSendItem = false;\r\n                // this is for running in legacy mode, where customer may already have a custom initializer present\r\n                if (telemetryItem[_DYN_TAGS /* @min:%2etags */] && telemetryItem[_DYN_TAGS /* @min:%2etags */][ProcessLegacy]) {\r\n                    arrForEach(telemetryItem[_DYN_TAGS /* @min:%2etags */][ProcessLegacy], function (callBack) {\r\n                        try {\r\n                            if (callBack && callBack(aiEnvelope) === false) {\r\n                                doNotSendItem = true;\r\n                                _warnToConsole(diagLogger, \"Telemetry processor check returns false\");\r\n                            }\r\n                        }\r\n                        catch (e) {\r\n                            // log error but dont stop executing rest of the telemetry initializers\r\n                            // doNotSendItem = true;\r\n                            _throwInternal(diagLogger, 1 /* eLoggingSeverity.CRITICAL */, 64 /* _eInternalMessageId.TelemetryInitializerFailed */, \"One of telemetry initializers failed, telemetry item will not be sent: \" + getExceptionName(e), { exception: dumpObj(e) }, true);\r\n                        }\r\n                    });\r\n                    delete telemetryItem[_DYN_TAGS /* @min:%2etags */][ProcessLegacy];\r\n                }\r\n                if (doNotSendItem) {\r\n                    return; // do not send, no need to execute next plugin\r\n                }\r\n                return aiEnvelope;\r\n            }\r\n            function _serialize(item) {\r\n                var rlt = EMPTY_STR;\r\n                var diagLogger = _self[_DYN_DIAG_LOG /* @min:%2ediagLog */]();\r\n                try {\r\n                    var valid = _validate(item, diagLogger);\r\n                    var envelope = null;\r\n                    if (valid) {\r\n                        envelope = _getEnvelope(item, diagLogger);\r\n                    }\r\n                    if (envelope) {\r\n                        rlt = _serializer[_DYN_SERIALIZE /* @min:%2eserialize */](envelope);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return rlt;\r\n            }\r\n            function _batch(arr) {\r\n                var rlt = EMPTY_STR;\r\n                if (arr && arr[_DYN_LENGTH /* @min:%2elength */]) {\r\n                    rlt = \"[\" + arr.join(\",\") + \"]\";\r\n                }\r\n                return rlt;\r\n            }\r\n            function _createPayload(data) {\r\n                var _a;\r\n                var headers = _getHeaders();\r\n                return _a = {\r\n                        urlString: _endpointUrl\r\n                    },\r\n                    _a[_DYN_DATA /* @min:data */] = data,\r\n                    _a.headers = headers,\r\n                    _a;\r\n            }\r\n            function _isSampledIn(envelope) {\r\n                return _self._sample.isSampledIn(envelope);\r\n            }\r\n            function _getOnComplete(payload, status, headers, response) {\r\n                // ***********************************************************************************************\r\n                //TODO: handle other status codes\r\n                if (status === 200 && payload) {\r\n                    _self._onSuccess(payload, payload[_DYN_LENGTH /* @min:%2elength */]);\r\n                }\r\n                else {\r\n                    response && _self[_DYN__ON_ERROR /* @min:%2e_onError */](payload, response);\r\n                }\r\n            }\r\n            function _doSend(sendInterface, payload, isAsync, markAsSent) {\r\n                if (markAsSent === void 0) { markAsSent = true; }\r\n                var onComplete = function (status, headers, response) {\r\n                    return _getOnComplete(payload, status, headers, response);\r\n                };\r\n                var payloadData = _getPayload(payload);\r\n                var sendPostFunc = sendInterface && sendInterface.sendPOST;\r\n                if (sendPostFunc && payloadData) {\r\n                    // ***********************************************************************************************\r\n                    // mark payload as sent at the beginning of calling each send function\r\n                    if (markAsSent) {\r\n                        _self._buffer[_DYN_MARK_AS_SENT /* @min:%2emarkAsSent */](payload);\r\n                    }\r\n                    return sendPostFunc(payloadData, onComplete, !isAsync);\r\n                }\r\n                return null;\r\n            }\r\n            function _getPayload(payload) {\r\n                var _a;\r\n                if (isArray(payload) && payload[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                    var batch = _self[_DYN__BUFFER /* @min:%2e_buffer */].batchPayloads(payload);\r\n                    var headers = _getHeaders();\r\n                    var payloadData = (_a = {},\r\n                        _a[_DYN_DATA /* @min:data */] = batch,\r\n                        _a.urlString = _endpointUrl,\r\n                        _a.headers = headers,\r\n                        _a.disableXhrSync = _disableXhr,\r\n                        _a.disableFetchKeepAlive = !_fetchKeepAlive,\r\n                        _a[_DYN_ORI_PAYLOAD /* @min:oriPayload */] = payload,\r\n                        _a);\r\n                    return payloadData;\r\n                }\r\n                return null;\r\n            }\r\n            function _getHeaders() {\r\n                try {\r\n                    var headers = _headers || {};\r\n                    if (isInternalApplicationInsightsEndpoint(_endpointUrl)) {\r\n                        headers[RequestHeaders[6 /* eRequestHeaders.sdkContextHeader */]] = RequestHeaders[7 /* eRequestHeaders.sdkContextHeaderAppIdRequest */];\r\n                    }\r\n                    return headers;\r\n                }\r\n                catch (e) {\r\n                    // eslint-disable-next-line no-empty\r\n                }\r\n                return null;\r\n            }\r\n            function _checkMaxSize(incomingPayload) {\r\n                var incomingSize = incomingPayload ? incomingPayload[_DYN_LENGTH /* @min:%2elength */] : 0;\r\n                if ((_self[_DYN__BUFFER /* @min:%2e_buffer */].size() + incomingSize) > _maxBatchSizeInBytes) {\r\n                    if (!_offlineListener || _offlineListener.isOnline()) { // only trigger send when currently online\r\n                        _self[_DYN_TRIGGER_SEND /* @min:%2etriggerSend */](true, null, 10 /* SendRequestReason.MaxBatchSize */);\r\n                    }\r\n                    return true;\r\n                }\r\n                return false;\r\n            }\r\n            function _checkResponsStatus(status, payload, responseUrl, countOfItemsInPayload, errorMessage, res) {\r\n                var response = null;\r\n                if (!_self._appId) {\r\n                    response = parseResponse(res);\r\n                    if (response && response.appId) {\r\n                        _self._appId = response.appId;\r\n                    }\r\n                }\r\n                if ((status < 200 || status >= 300) && status !== 0) {\r\n                    // Update End Point url if permanent redirect or moved permanently\r\n                    // Updates the end point url before retry\r\n                    if (status === 301 || status === 307 || status === 308) {\r\n                        if (!_checkAndUpdateEndPointUrl(responseUrl)) {\r\n                            _self[_DYN__ON_ERROR /* @min:%2e_onError */](payload, errorMessage);\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (_offlineListener && !_offlineListener.isOnline()) { // offline\r\n                        // Note: Don't check for status == 0, since adblock gives this code\r\n                        if (!_isRetryDisabled) {\r\n                            var offlineBackOffMultiplier = 10; // arbritrary number\r\n                            _resendPayload(payload, offlineBackOffMultiplier);\r\n                            _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 2 /* eLoggingSeverity.WARNING */, 40 /* _eInternalMessageId.TransmissionFailed */, \". Offline - Response Code: \".concat(status, \". Offline status: \").concat(!_offlineListener.isOnline(), \". Will retry to send \").concat(payload.length, \" items.\"));\r\n                        }\r\n                        return;\r\n                    }\r\n                    if (!_isRetryDisabled && _isRetriable(status)) {\r\n                        _resendPayload(payload);\r\n                        _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 2 /* eLoggingSeverity.WARNING */, 40 /* _eInternalMessageId.TransmissionFailed */, \". \" +\r\n                            \"Response code \" + status + \". Will retry to send \" + payload[_DYN_LENGTH /* @min:%2elength */] + \" items.\");\r\n                    }\r\n                    else {\r\n                        _self[_DYN__ON_ERROR /* @min:%2e_onError */](payload, errorMessage);\r\n                    }\r\n                }\r\n                else {\r\n                    // check if the xhr's responseURL or fetch's response.url is same as endpoint url\r\n                    // TODO after 10 redirects force send telemetry with 'redirect=false' as query parameter.\r\n                    _checkAndUpdateEndPointUrl(responseUrl);\r\n                    if (status === 206) {\r\n                        if (!response) {\r\n                            response = parseResponse(res);\r\n                        }\r\n                        if (response && !_isRetryDisabled) {\r\n                            _self[_DYN__ON_PARTIAL_SUCCESS /* @min:%2e_onPartialSuccess */](payload, response);\r\n                        }\r\n                        else {\r\n                            _self[_DYN__ON_ERROR /* @min:%2e_onError */](payload, errorMessage);\r\n                        }\r\n                    }\r\n                    else {\r\n                        _consecutiveErrors = 0;\r\n                        _self[_DYN__ON_SUCCESS /* @min:%2e_onSuccess */](payload, countOfItemsInPayload);\r\n                    }\r\n                }\r\n            }\r\n            function _checkAndUpdateEndPointUrl(responseUrl) {\r\n                // Maximum stamp specific redirects allowed(uncomment this when breeze is ready with not allowing redirects feature)\r\n                if (_stamp_specific_redirects >= 10) {\r\n                    //  _self._senderConfig.endpointUrl = () => Sender._getDefaultAppInsightsChannelConfig().endpointUrl()+\"/?redirect=false\";\r\n                    //  _stamp_specific_redirects = 0;\r\n                    return false;\r\n                }\r\n                if (!isNullOrUndefined(responseUrl) && responseUrl !== \"\") {\r\n                    if (responseUrl !== _endpointUrl) {\r\n                        _endpointUrl = responseUrl;\r\n                        ++_stamp_specific_redirects;\r\n                        return true;\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n            function _doUnloadSend(payload, isAsync) {\r\n                if (_syncUnloadSender) {\r\n                    // We are unloading so always call the sender with sync set to false\r\n                    _syncUnloadSender(payload, false);\r\n                }\r\n                else {\r\n                    // Fallback to the previous beacon Sender (which causes a CORB warning on chrome now)\r\n                    var beaconInst = _sendPostMgr && _sendPostMgr[_DYN_GET_SENDER_INST /* @min:%2egetSenderInst */]([3 /* TransportType.Beacon */], true);\r\n                    return _doSend(beaconInst, payload, isAsync);\r\n                }\r\n            }\r\n            function _onBeaconRetry(payload, onComplete, canSend) {\r\n                var internalPayload = payload;\r\n                var data = internalPayload && internalPayload[_DYN_ORI_PAYLOAD /* @min:%2eoriPayload */];\r\n                if (!_disableBeaconSplit) {\r\n                    // Failed to send entire payload so try and split data and try to send as much events as possible\r\n                    var droppedPayload = [];\r\n                    for (var lp = 0; lp < data[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n                        var thePayload = data[lp];\r\n                        var arr = [thePayload];\r\n                        var item = _getPayload(arr);\r\n                        if (!canSend(item, onComplete)) {\r\n                            // Can't send anymore, so split the batch and drop the rest\r\n                            droppedPayload[_DYN_PUSH /* @min:%2epush */](thePayload);\r\n                        }\r\n                        else {\r\n                            _self._onSuccess(arr, arr[_DYN_LENGTH /* @min:%2elength */]);\r\n                        }\r\n                    }\r\n                    if (droppedPayload[_DYN_LENGTH /* @min:%2elength */] > 0) {\r\n                        _fallbackSend && _fallbackSend(droppedPayload, true);\r\n                        _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 2 /* eLoggingSeverity.WARNING */, 40 /* _eInternalMessageId.TransmissionFailed */, \". \" + \"Failed to send telemetry with Beacon API, retried with normal sender.\");\r\n                    }\r\n                }\r\n                else {\r\n                    _fallbackSend && _fallbackSend(data, true);\r\n                    _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 2 /* eLoggingSeverity.WARNING */, 40 /* _eInternalMessageId.TransmissionFailed */, \". \" + \"Failed to send telemetry with Beacon API, retried with normal sender.\");\r\n                }\r\n            }\r\n            function _isStringArr(arr) {\r\n                try {\r\n                    if (arr && arr[_DYN_LENGTH /* @min:%2elength */]) {\r\n                        return (isString(arr[0]));\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    //TODO: log, sender use IInternalStorageItem instead of string since 3.1.3\r\n                }\r\n                return null;\r\n            }\r\n            function _fetchKeepAliveSender(payload, isAsync) {\r\n                var transport = null;\r\n                if (isArray(payload)) {\r\n                    var payloadSize = payload[_DYN_LENGTH /* @min:%2elength */];\r\n                    for (var lp = 0; lp < payload[_DYN_LENGTH /* @min:%2elength */]; lp++) {\r\n                        payloadSize += payload[lp].item[_DYN_LENGTH /* @min:%2elength */];\r\n                    }\r\n                    var syncFetchPayload = _sendPostMgr.getSyncFetchPayload();\r\n                    if ((syncFetchPayload + payloadSize) <= FetchSyncRequestSizeLimitBytes) {\r\n                        transport = 2 /* TransportType.Fetch */;\r\n                    }\r\n                    else if (isBeaconsSupported()) {\r\n                        // Fallback to beacon sender as we at least get told which events can't be scheduled\r\n                        transport = 3 /* TransportType.Beacon */;\r\n                    }\r\n                    else {\r\n                        // Payload is going to be too big so just try and send via XHR\r\n                        transport = 1 /* TransportType.Xhr */;\r\n                        _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 2 /* eLoggingSeverity.WARNING */, 40 /* _eInternalMessageId.TransmissionFailed */, \". \" + \"Failed to send telemetry with Beacon API, retried with xhrSender.\");\r\n                    }\r\n                    var inst = _sendPostMgr && _sendPostMgr[_DYN_GET_SENDER_INST /* @min:%2egetSenderInst */]([transport], true);\r\n                    return _doSend(inst, payload, isAsync);\r\n                }\r\n                return null;\r\n            }\r\n            /**\r\n             * Resend payload. Adds payload back to the send buffer and setup a send timer (with exponential backoff).\r\n             * @param payload\r\n             */\r\n            function _resendPayload(payload, linearFactor) {\r\n                if (linearFactor === void 0) { linearFactor = 1; }\r\n                if (!payload || payload[_DYN_LENGTH /* @min:%2elength */] === 0) {\r\n                    return;\r\n                }\r\n                var buffer = _self[_DYN__BUFFER /* @min:%2e_buffer */];\r\n                buffer[_DYN_CLEAR_SENT /* @min:%2eclearSent */](payload);\r\n                _consecutiveErrors++;\r\n                for (var _i = 0, payload_1 = payload; _i < payload_1.length; _i++) {\r\n                    var item = payload_1[_i];\r\n                    item.cnt = item.cnt || 0; // to make sure we have cnt for each payload\r\n                    item.cnt++; // when resend, increase cnt\r\n                    buffer[_DYN_ENQUEUE /* @min:%2eenqueue */](item);\r\n                }\r\n                // setup timer\r\n                _setRetryTime(linearFactor);\r\n                _setupTimer();\r\n            }\r\n            /**\r\n             * Calculates the time to wait before retrying in case of an error based on\r\n             * http://en.wikipedia.org/wiki/Exponential_backoff\r\n             */\r\n            function _setRetryTime(linearFactor) {\r\n                var SlotDelayInSeconds = 10;\r\n                var delayInSeconds;\r\n                if (_consecutiveErrors <= 1) {\r\n                    delayInSeconds = SlotDelayInSeconds;\r\n                }\r\n                else {\r\n                    var backOffSlot = (Math.pow(2, _consecutiveErrors) - 1) / 2;\r\n                    // tslint:disable-next-line:insecure-random\r\n                    var backOffDelay = Math.floor(Math.random() * backOffSlot * SlotDelayInSeconds) + 1;\r\n                    backOffDelay = linearFactor * backOffDelay;\r\n                    delayInSeconds = Math.max(Math.min(backOffDelay, 3600), SlotDelayInSeconds);\r\n                }\r\n                // TODO: Log the backoff time like the C# version does.\r\n                var retryAfterTimeSpan = dateNow() + (delayInSeconds * 1000);\r\n                // TODO: Log the retry at time like the C# version does.\r\n                _retryAt = retryAfterTimeSpan;\r\n            }\r\n            /**\r\n             * Sets up the timer which triggers actually sending the data.\r\n             */\r\n            function _setupTimer() {\r\n                if (!_timeoutHandle && !_paused) {\r\n                    var retryInterval = _retryAt ? Math.max(0, _retryAt - dateNow()) : 0;\r\n                    var timerValue = Math.max(_maxBatchInterval, retryInterval);\r\n                    _timeoutHandle = scheduleTimeout(function () {\r\n                        _timeoutHandle = null;\r\n                        _self[_DYN_TRIGGER_SEND /* @min:%2etriggerSend */](true, null, 1 /* SendRequestReason.NormalSchedule */);\r\n                    }, timerValue);\r\n                }\r\n            }\r\n            function _clearScheduledTimer() {\r\n                _timeoutHandle && _timeoutHandle.cancel();\r\n                _timeoutHandle = null;\r\n                _retryAt = null;\r\n            }\r\n            /**\r\n             * Checks if the SDK should resend the payload after receiving this status code from the backend.\r\n             * @param statusCode\r\n             */\r\n            function _isRetriable(statusCode) {\r\n                // retryCodes = [] means should not retry\r\n                if (!isNullOrUndefined(_retryCodes)) {\r\n                    return _retryCodes[_DYN_LENGTH /* @min:%2elength */] && _retryCodes.indexOf(statusCode) > -1;\r\n                }\r\n                return statusCode === 401 // Unauthorized\r\n                    // Removing as private links can return a 403 which causes excessive retries and session storage usage\r\n                    // || statusCode === 403 // Forbidden\r\n                    || statusCode === 408 // Timeout\r\n                    || statusCode === 429 // Too many requests.\r\n                    || statusCode === 500 // Internal server error.\r\n                    || statusCode === 502 // Bad Gateway.\r\n                    || statusCode === 503 // Service unavailable.\r\n                    || statusCode === 504; // Gateway timeout.\r\n            }\r\n            // Using function lookups for backward compatibility as the getNotifyMgr() did not exist until after v2.5.6\r\n            function _getNotifyMgr() {\r\n                var func = \"getNotifyMgr\";\r\n                if (_self.core[func]) {\r\n                    return _self.core[func]();\r\n                }\r\n                // using _self.core['_notificationManager'] for backward compatibility\r\n                return _self.core[\"_notificationManager\"];\r\n            }\r\n            function _notifySendRequest(sendRequest, isAsync) {\r\n                var manager = _getNotifyMgr();\r\n                if (manager && manager[_DYN_EVENTS_SEND_REQUEST /* @min:%2eeventsSendRequest */]) {\r\n                    try {\r\n                        manager[_DYN_EVENTS_SEND_REQUEST /* @min:%2eeventsSendRequest */](sendRequest, isAsync);\r\n                    }\r\n                    catch (e) {\r\n                        _throwInternal(_self[_DYN_DIAG_LOG /* @min:%2ediagLog */](), 1 /* eLoggingSeverity.CRITICAL */, 74 /* _eInternalMessageId.NotificationException */, \"send request notification failed: \" + getExceptionName(e), { exception: dumpObj(e) });\r\n                    }\r\n                }\r\n            }\r\n            /**\r\n             * Validate UUID Format\r\n             * Specs taken from https://tools.ietf.org/html/rfc4122 and breeze repo\r\n             */\r\n            function _validateInstrumentationKey(instrumentationKey, config) {\r\n                var disableValidation = config.disableInstrumentationKeyValidation;\r\n                var disableIKeyValidationFlag = isNullOrUndefined(disableValidation) ? false : disableValidation;\r\n                if (disableIKeyValidationFlag) {\r\n                    return true;\r\n                }\r\n                var UUID_Regex = \"^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$\";\r\n                var regexp = new RegExp(UUID_Regex);\r\n                return regexp.test(instrumentationKey);\r\n            }\r\n            function _initDefaults() {\r\n                _self[_DYN__SENDER /* @min:%2e_sender */] = null;\r\n                _self[_DYN__BUFFER /* @min:%2e_buffer */] = null;\r\n                _self._appId = null;\r\n                _self._sample = null;\r\n                _headers = {};\r\n                _offlineListener = null;\r\n                _consecutiveErrors = 0;\r\n                _retryAt = null;\r\n                _lastSend = null;\r\n                _paused = false;\r\n                _timeoutHandle = null;\r\n                _serializer = null;\r\n                _stamp_specific_redirects = 0;\r\n                _syncFetchPayload = 0;\r\n                _syncUnloadSender = null;\r\n                _evtNamespace = null;\r\n                _endpointUrl = null;\r\n                _orgEndpointUrl = null;\r\n                _maxBatchSizeInBytes = 0;\r\n                _beaconSupported = false;\r\n                _customHeaders = null;\r\n                _disableTelemetry = false;\r\n                _instrumentationKey = null;\r\n                _convertUndefined = UNDEFINED_VALUE;\r\n                _isRetryDisabled = false;\r\n                _sessionStorageUsed = null;\r\n                _namePrefix = UNDEFINED_VALUE;\r\n                _disableXhr = false;\r\n                _fetchKeepAlive = false;\r\n                _disableBeaconSplit = false;\r\n                _xhrSend = null;\r\n                _fallbackSend = null;\r\n                _sendPostMgr = null;\r\n                objDefine(_self, \"_senderConfig\", {\r\n                    g: function () {\r\n                        return objExtend({}, defaultAppInsightsChannelConfig);\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        return _this;\r\n    }\r\n    Sender.constructEnvelope = function (orig, iKey, logger, convertUndefined) {\r\n        var envelope;\r\n        if (iKey !== orig.iKey && !isNullOrUndefined(iKey)) {\r\n            envelope = __assign(__assign({}, orig), { iKey: iKey });\r\n        }\r\n        else {\r\n            envelope = orig;\r\n        }\r\n        var creator = EnvelopeTypeCreator[envelope.baseType] || EventEnvelopeCreator;\r\n        return creator(logger, envelope, convertUndefined);\r\n    };\r\n// Removed Stub for Sender.prototype.pause.\r\n// Removed Stub for Sender.prototype.resume.\r\n// Removed Stub for Sender.prototype.flush.\r\n// Removed Stub for Sender.prototype.onunloadFlush.\r\n// Removed Stub for Sender.prototype.initialize.\r\n// Removed Stub for Sender.prototype.processTelemetry.\r\n// Removed Stub for Sender.prototype._xhrReadyStateChange.\r\n// Removed Stub for Sender.prototype.triggerSend.\r\n// Removed Stub for Sender.prototype._onError.\r\n// Removed Stub for Sender.prototype._onPartialSuccess.\r\n// Removed Stub for Sender.prototype._onSuccess.\r\n// Removed Stub for Sender.prototype._xdrOnLoad.\r\n// Removed Stub for Sender.prototype.addHeader.\r\n// Removed Stub for Sender.prototype.isCompletelyIdle.\r\n// Removed Stub for Sender.prototype.getOfflineSupport.\r\n// Removed Stub for Sender.prototype.getOfflineListener.\r\n    return Sender;\r\n}(BaseTelemetryPlugin));\r\nexport { Sender };\r\n//# sourceMappingURL=Sender.js.map","/*\n * Application Insights JavaScript SDK - Channel, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { _throwInternal, getJSON, isArray, isFunction, isObject, objForEachKey } from \"@microsoft/applicationinsights-core-js\";\r\nimport { _DYN_LENGTH, _DYN_PUSH, _DYN_SERIALIZE, _DYN_STRINGIFY, _DYN_TO_STRING } from \"./__DynamicConstants\";\r\nvar Serializer = /** @class */ (function () {\r\n    function Serializer(logger) {\r\n        dynamicProto(Serializer, this, function (_self) {\r\n            /**\r\n             * Serializes the current object to a JSON string.\r\n             */\r\n            _self[_DYN_SERIALIZE /* @min:%2eserialize */] = function (input) {\r\n                var output = _serializeObject(input, \"root\");\r\n                try {\r\n                    return getJSON()[_DYN_STRINGIFY /* @min:%2estringify */](output);\r\n                }\r\n                catch (e) {\r\n                    // if serialization fails return an empty string\r\n                    _throwInternal(logger, 1 /* eLoggingSeverity.CRITICAL */, 48 /* _eInternalMessageId.CannotSerializeObject */, (e && isFunction(e[_DYN_TO_STRING /* @min:%2etoString */])) ? e[_DYN_TO_STRING /* @min:%2etoString */]() : \"Error serializing object\", null, true);\r\n                }\r\n            };\r\n            function _serializeObject(source, name) {\r\n                var circularReferenceCheck = \"__aiCircularRefCheck\";\r\n                var output = {};\r\n                if (!source) {\r\n                    _throwInternal(logger, 1 /* eLoggingSeverity.CRITICAL */, 48 /* _eInternalMessageId.CannotSerializeObject */, \"cannot serialize object because it is null or undefined\", { name: name }, true);\r\n                    return output;\r\n                }\r\n                if (source[circularReferenceCheck]) {\r\n                    _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 50 /* _eInternalMessageId.CircularReferenceDetected */, \"Circular reference detected while serializing object\", { name: name }, true);\r\n                    return output;\r\n                }\r\n                if (!source.aiDataContract) {\r\n                    // special case for measurements/properties/tags\r\n                    if (name === \"measurements\") {\r\n                        output = _serializeStringMap(source, \"number\", name);\r\n                    }\r\n                    else if (name === \"properties\") {\r\n                        output = _serializeStringMap(source, \"string\", name);\r\n                    }\r\n                    else if (name === \"tags\") {\r\n                        output = _serializeStringMap(source, \"string\", name);\r\n                    }\r\n                    else if (isArray(source)) {\r\n                        output = _serializeArray(source, name);\r\n                    }\r\n                    else {\r\n                        _throwInternal(logger, 2 /* eLoggingSeverity.WARNING */, 49 /* _eInternalMessageId.CannotSerializeObjectNonSerializable */, \"Attempting to serialize an object which does not implement ISerializable\", { name: name }, true);\r\n                        try {\r\n                            // verify that the object can be stringified\r\n                            getJSON()[_DYN_STRINGIFY /* @min:%2estringify */](source);\r\n                            output = source;\r\n                        }\r\n                        catch (e) {\r\n                            // if serialization fails return an empty string\r\n                            _throwInternal(logger, 1 /* eLoggingSeverity.CRITICAL */, 48 /* _eInternalMessageId.CannotSerializeObject */, (e && isFunction(e[_DYN_TO_STRING /* @min:%2etoString */])) ? e[_DYN_TO_STRING /* @min:%2etoString */]() : \"Error serializing object\", null, true);\r\n                        }\r\n                    }\r\n                    return output;\r\n                }\r\n                source[circularReferenceCheck] = true;\r\n                objForEachKey(source.aiDataContract, function (field, contract) {\r\n                    var isRequired = (isFunction(contract)) ? (contract() & 1 /* FieldType.Required */) : (contract & 1 /* FieldType.Required */);\r\n                    var isHidden = (isFunction(contract)) ? (contract() & 4 /* FieldType.Hidden */) : (contract & 4 /* FieldType.Hidden */);\r\n                    var isArray = contract & 2 /* FieldType.Array */;\r\n                    var isPresent = source[field] !== undefined;\r\n                    var isObj = isObject(source[field]) && source[field] !== null;\r\n                    if (isRequired && !isPresent && !isArray) {\r\n                        _throwInternal(logger, 1 /* eLoggingSeverity.CRITICAL */, 24 /* _eInternalMessageId.MissingRequiredFieldSpecification */, \"Missing required field specification. The field is required but not present on source\", { field: field, name: name });\r\n                        // If not in debug mode, continue and hope the error is permissible\r\n                    }\r\n                    else if (!isHidden) { // Don't serialize hidden fields\r\n                        var value = void 0;\r\n                        if (isObj) {\r\n                            if (isArray) {\r\n                                // special case; recurse on each object in the source array\r\n                                value = _serializeArray(source[field], field);\r\n                            }\r\n                            else {\r\n                                // recurse on the source object in this field\r\n                                value = _serializeObject(source[field], field);\r\n                            }\r\n                        }\r\n                        else {\r\n                            // assign the source field to the output even if undefined or required\r\n                            value = source[field];\r\n                        }\r\n                        // only emit this field if the value is defined\r\n                        if (value !== undefined) {\r\n                            output[field] = value;\r\n                        }\r\n                    }\r\n                });\r\n                delete source[circularReferenceCheck];\r\n                return output;\r\n            }\r\n            function _serializeArray(sources, name) {\r\n                var output;\r\n                if (!!sources) {\r\n                    if (!isArray(sources)) {\r\n                        _throwInternal(logger, 1 /* eLoggingSeverity.CRITICAL */, 54 /* _eInternalMessageId.ItemNotInArray */, \"This field was specified as an array in the contract but the item is not an array.\\r\\n\", { name: name }, true);\r\n                    }\r\n                    else {\r\n                        output = [];\r\n                        for (var i = 0; i < sources[_DYN_LENGTH /* @min:%2elength */]; i++) {\r\n                            var source = sources[i];\r\n                            var item = _serializeObject(source, name + \"[\" + i + \"]\");\r\n                            output[_DYN_PUSH /* @min:%2epush */](item);\r\n                        }\r\n                    }\r\n                }\r\n                return output;\r\n            }\r\n            function _serializeStringMap(map, expectedType, name) {\r\n                var output;\r\n                if (map) {\r\n                    output = {};\r\n                    objForEachKey(map, function (field, value) {\r\n                        if (expectedType === \"string\") {\r\n                            if (value === undefined) {\r\n                                output[field] = \"undefined\";\r\n                            }\r\n                            else if (value === null) {\r\n                                output[field] = \"null\";\r\n                            }\r\n                            else if (!value[_DYN_TO_STRING /* @min:%2etoString */]) {\r\n                                output[field] = \"invalid field: toString() is not defined.\";\r\n                            }\r\n                            else {\r\n                                output[field] = value[_DYN_TO_STRING /* @min:%2etoString */]();\r\n                            }\r\n                        }\r\n                        else if (expectedType === \"number\") {\r\n                            if (value === undefined) {\r\n                                output[field] = \"undefined\";\r\n                            }\r\n                            else if (value === null) {\r\n                                output[field] = \"null\";\r\n                            }\r\n                            else {\r\n                                var num = parseFloat(value);\r\n                                output[field] = num;\r\n                            }\r\n                        }\r\n                        else {\r\n                            output[field] = \"invalid field: \" + name + \" is of unknown type.\";\r\n                            _throwInternal(logger, 1 /* eLoggingSeverity.CRITICAL */, output[field], null, true);\r\n                        }\r\n                    });\r\n                }\r\n                return output;\r\n            }\r\n        });\r\n    }\r\n// Removed Stub for Serializer.prototype.serialize.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    Serializer.__ieDyn=1;\n\n    return Serializer;\r\n}());\r\nexport { Serializer };\r\n//# sourceMappingURL=Serializer.js.map","/*\n * Application Insights JavaScript SDK - Channel, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { _DYN_CONCAT, _DYN_LENGTH } from \"../../__DynamicConstants\";\r\n// (Magic number) DJB algorithm can't work on shorter strings (results in poor distribution\r\nvar MIN_INPUT_LENGTH = 8;\r\nvar HashCodeScoreGenerator = /** @class */ (function () {\r\n    function HashCodeScoreGenerator() {\r\n    }\r\n    HashCodeScoreGenerator.prototype.getHashCodeScore = function (key) {\r\n        var score = this.getHashCode(key) / HashCodeScoreGenerator.INT_MAX_VALUE;\r\n        return score * 100;\r\n    };\r\n    HashCodeScoreGenerator.prototype.getHashCode = function (input) {\r\n        if (input === \"\") {\r\n            return 0;\r\n        }\r\n        while (input[_DYN_LENGTH /* @min:%2elength */] < MIN_INPUT_LENGTH) {\r\n            input = input[_DYN_CONCAT /* @min:%2econcat */](input);\r\n        }\r\n        // 5381 is a magic number: http://stackoverflow.com/questions/10696223/reason-for-5381-number-in-djb-hash-function\r\n        var hash = 5381;\r\n        for (var i = 0; i < input[_DYN_LENGTH /* @min:%2elength */]; ++i) {\r\n            hash = ((hash << 5) + hash) + input.charCodeAt(i);\r\n            // 'hash' is of number type which means 53 bit integer (http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types-number-type)\r\n            // 'hash & hash' will keep it 32 bit integer - just to make it clearer what the result is.\r\n            hash = hash & hash;\r\n        }\r\n        return Math.abs(hash);\r\n    };\r\n    // We're using 32 bit math, hence max value is (2^31 - 1)\r\n    HashCodeScoreGenerator.INT_MAX_VALUE = 2147483647;\r\n    return HashCodeScoreGenerator;\r\n}());\r\nexport { HashCodeScoreGenerator };\r\n//# sourceMappingURL=HashCodeScoreGenerator.js.map","/*\n * Application Insights JavaScript SDK - Channel, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { ContextTagKeys } from \"@microsoft/applicationinsights-common\";\r\nimport { _DYN_GET_HASH_CODE_SCORE, _DYN_GET_SAMPLING_SCORE, _DYN_TAGS, _DYN_TRACE_ID } from \"../../__DynamicConstants\";\r\nimport { HashCodeScoreGenerator } from \"./HashCodeScoreGenerator\";\r\nvar SamplingScoreGenerator = /** @class */ (function () {\r\n    function SamplingScoreGenerator() {\r\n        var _self = this;\r\n        var hashCodeGenerator = new HashCodeScoreGenerator();\r\n        var keys = new ContextTagKeys();\r\n        _self[_DYN_GET_SAMPLING_SCORE /* @min:%2egetSamplingScore */] = function (item) {\r\n            var score = 0;\r\n            if (item[_DYN_TAGS /* @min:%2etags */] && item[_DYN_TAGS /* @min:%2etags */][keys.userId]) { // search in tags first, then ext\r\n                score = hashCodeGenerator.getHashCodeScore(item[_DYN_TAGS /* @min:%2etags */][keys.userId]);\r\n            }\r\n            else if (item.ext && item.ext.user && item.ext.user.id) {\r\n                score = hashCodeGenerator[_DYN_GET_HASH_CODE_SCORE /* @min:%2egetHashCodeScore */](item.ext.user.id);\r\n            }\r\n            else if (item[_DYN_TAGS /* @min:%2etags */] && item[_DYN_TAGS /* @min:%2etags */][keys.operationId]) { // search in tags first, then ext\r\n                score = hashCodeGenerator.getHashCodeScore(item[_DYN_TAGS /* @min:%2etags */][keys.operationId]);\r\n            }\r\n            else if (item.ext && item.ext.telemetryTrace && item.ext.telemetryTrace[_DYN_TRACE_ID /* @min:%2etraceID */]) {\r\n                score = hashCodeGenerator.getHashCodeScore(item.ext.telemetryTrace[_DYN_TRACE_ID /* @min:%2etraceID */]);\r\n            }\r\n            else {\r\n                // tslint:disable-next-line:insecure-random\r\n                score = (Math.random() * 100);\r\n            }\r\n            return score;\r\n        };\r\n    }\r\n    return SamplingScoreGenerator;\r\n}());\r\nexport { SamplingScoreGenerator };\r\n//# sourceMappingURL=SamplingScoreGenerator.js.map","/*\n * Application Insights JavaScript SDK - Channel, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nimport { Metric } from \"@microsoft/applicationinsights-common\";\r\nimport { safeGetLogger } from \"@microsoft/applicationinsights-core-js\";\r\nimport { _DYN_DATA_TYPE, _DYN_GET_SAMPLING_SCORE, _DYN_SAMPLE_RATE } from \"../__DynamicConstants\";\r\nimport { SamplingScoreGenerator } from \"./SamplingScoreGenerators/SamplingScoreGenerator\";\r\nvar Sample = /** @class */ (function () {\r\n    function Sample(sampleRate, logger) {\r\n        // We're using 32 bit math, hence max value is (2^31 - 1)\r\n        this.INT_MAX_VALUE = 2147483647;\r\n        var _logger = logger || safeGetLogger(null);\r\n        if (sampleRate > 100 || sampleRate < 0) {\r\n            _logger.throwInternal(2 /* eLoggingSeverity.WARNING */, 58 /* _eInternalMessageId.SampleRateOutOfRange */, \"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.\", { samplingRate: sampleRate }, true);\r\n            sampleRate = 100;\r\n        }\r\n        this[_DYN_SAMPLE_RATE /* @min:%2esampleRate */] = sampleRate;\r\n        this.samplingScoreGenerator = new SamplingScoreGenerator();\r\n    }\r\n    /**\r\n    * Determines if an envelope is sampled in (i.e. will be sent) or not (i.e. will be dropped).\r\n    */\r\n    Sample.prototype.isSampledIn = function (envelope) {\r\n        var samplingPercentage = this[_DYN_SAMPLE_RATE /* @min:%2esampleRate */]; // 0 - 100\r\n        var isSampledIn = false;\r\n        if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\r\n            return true;\r\n        }\r\n        else if (envelope.baseType === Metric[_DYN_DATA_TYPE /* @min:%2edataType */]) {\r\n            // exclude MetricData telemetry from sampling\r\n            return true;\r\n        }\r\n        isSampledIn = this.samplingScoreGenerator[_DYN_GET_SAMPLING_SCORE /* @min:%2egetSamplingScore */](envelope) < samplingPercentage;\r\n        return isSampledIn;\r\n    };\r\n    return Sample;\r\n}());\r\nexport { Sample };\r\n//# sourceMappingURL=Sample.js.map","/*\n * Application Insights JavaScript Web SDK - Basic, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\nvar _a;\r\nimport dynamicProto from \"@microsoft/dynamicproto-js\";\r\nimport { Sender } from \"@microsoft/applicationinsights-channel-js\";\r\nimport { DEFAULT_BREEZE_PATH, parseConnectionString } from \"@microsoft/applicationinsights-common\";\r\nimport { AppInsightsCore, cfgDfValidate, createDynamicConfig, onConfigChange, proxyFunctions } from \"@microsoft/applicationinsights-core-js\";\r\nimport { createSyncPromise, doAwaitResponse } from \"@nevware21/ts-async\";\r\nimport { isNullOrUndefined, isPromiseLike, isString, objDefine, throwError } from \"@nevware21/ts-utils\";\r\nimport { _DYN_CONNECTION_STRING, _DYN_ENDPOINT_URL, _DYN_INGESTIONENDPOINT, _DYN_INSTRUMENTATIONKEY0, _DYN_INSTRUMENTATION_KEY, _DYN_USER_OVERRIDE_ENDPOI1 } from \"./__DynamicConstants\";\r\nvar UNDEFINED_VALUE = undefined;\r\nvar defaultConfigValues = (_a = {\r\n        diagnosticLogInterval: cfgDfValidate(_chkDiagLevel, 10000)\r\n    },\r\n    _a[_DYN_CONNECTION_STRING /* @min:connectionString */] = UNDEFINED_VALUE,\r\n    _a[_DYN_ENDPOINT_URL /* @min:endpointUrl */] = UNDEFINED_VALUE,\r\n    _a[_DYN_INSTRUMENTATION_KEY /* @min:instrumentationKey */] = UNDEFINED_VALUE,\r\n    _a.extensionConfig = {},\r\n    _a);\r\nfunction _chkDiagLevel(value) {\r\n    // Make sure we have a value > 0\r\n    return value && value > 0;\r\n}\r\n/**\r\n * @export\r\n * @class ApplicationInsights\r\n */\r\nvar ApplicationInsights = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ApplicationInsights.\r\n     * @param config\r\n     * @memberof ApplicationInsights\r\n     */\r\n    function ApplicationInsights(config) {\r\n        var core = new AppInsightsCore();\r\n        var _config;\r\n        // initialize the queue and config in case they are undefined\r\n        if (isNullOrUndefined(config) ||\r\n            (isNullOrUndefined(config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */]) && isNullOrUndefined(config[_DYN_CONNECTION_STRING /* @min:%2econnectionString */]))) {\r\n            throwError(\"Invalid input configuration\");\r\n        }\r\n        dynamicProto(ApplicationInsights, this, function (_self) {\r\n            // Define _self.config\r\n            objDefine(_self, \"config\", {\r\n                g: function () { return _config; }\r\n            });\r\n            _initialize();\r\n            _self.initialize = _initialize;\r\n            _self.track = _track;\r\n            proxyFunctions(_self, core, [\r\n                \"flush\",\r\n                \"pollInternalLogs\",\r\n                \"stopPollingInternalLogs\",\r\n                \"unload\",\r\n                \"getPlugin\",\r\n                \"addPlugin\",\r\n                \"evtNamespace\",\r\n                \"addUnloadCb\",\r\n                \"onCfgChange\",\r\n                \"getTraceCtx\",\r\n                \"updateCfg\",\r\n                \"addTelemetryInitializer\"\r\n            ]);\r\n            function _initialize() {\r\n                var cfgHandler = createDynamicConfig(config || {}, defaultConfigValues);\r\n                _config = cfgHandler.cfg;\r\n                core.addUnloadHook(onConfigChange(cfgHandler, function () {\r\n                    var configCs = _config[_DYN_CONNECTION_STRING /* @min:%2econnectionString */];\r\n                    if (isPromiseLike(configCs)) {\r\n                        var ikeyPromise = createSyncPromise(function (resolve, reject) {\r\n                            doAwaitResponse(configCs, function (res) {\r\n                                var curCs = res.value;\r\n                                var ikey = _config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */];\r\n                                if (!res.rejected && curCs) {\r\n                                    // replace cs with resolved values in case of circular promises\r\n                                    _config[_DYN_CONNECTION_STRING /* @min:%2econnectionString */] = curCs;\r\n                                    var resolvedCs = parseConnectionString(curCs);\r\n                                    ikey = resolvedCs[_DYN_INSTRUMENTATIONKEY0 /* @min:%2einstrumentationkey */] || ikey;\r\n                                }\r\n                                resolve(ikey);\r\n                            });\r\n                        });\r\n                        var urlPromise = createSyncPromise(function (resolve, reject) {\r\n                            doAwaitResponse(configCs, function (res) {\r\n                                var curCs = res.value;\r\n                                var url = _config[_DYN_ENDPOINT_URL /* @min:%2eendpointUrl */];\r\n                                if (!res.rejected && curCs) {\r\n                                    var resolvedCs = parseConnectionString(curCs);\r\n                                    var ingest = resolvedCs[_DYN_INGESTIONENDPOINT /* @min:%2eingestionendpoint */];\r\n                                    url = ingest ? ingest + DEFAULT_BREEZE_PATH : url;\r\n                                }\r\n                                resolve(url);\r\n                            });\r\n                        });\r\n                        _config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */] = ikeyPromise;\r\n                        _config[_DYN_ENDPOINT_URL /* @min:%2eendpointUrl */] = _config[_DYN_USER_OVERRIDE_ENDPOI1 /* @min:%2euserOverrideEndpointUrl */] || urlPromise;\r\n                    }\r\n                    if (isString(configCs)) {\r\n                        var cs = parseConnectionString(configCs);\r\n                        var ingest = cs[_DYN_INGESTIONENDPOINT /* @min:%2eingestionendpoint */];\r\n                        _config[_DYN_ENDPOINT_URL /* @min:%2eendpointUrl */] = _config[_DYN_USER_OVERRIDE_ENDPOI1 /* @min:%2euserOverrideEndpointUrl */] ? _config[_DYN_USER_OVERRIDE_ENDPOI1 /* @min:%2euserOverrideEndpointUrl */] : (ingest + DEFAULT_BREEZE_PATH); // only add /v2/track when from connectionstring\r\n                        _config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */] = cs[_DYN_INSTRUMENTATIONKEY0 /* @min:%2einstrumentationkey */] || _config[_DYN_INSTRUMENTATION_KEY /* @min:%2einstrumentationKey */];\r\n                    }\r\n                    // userOverrideEndpointUrl have the highest priority\r\n                    _config[_DYN_ENDPOINT_URL /* @min:%2eendpointUrl */] = _config[_DYN_USER_OVERRIDE_ENDPOI1 /* @min:%2euserOverrideEndpointUrl */] ? _config[_DYN_USER_OVERRIDE_ENDPOI1 /* @min:%2euserOverrideEndpointUrl */] : _config[_DYN_ENDPOINT_URL /* @min:%2eendpointUrl */];\r\n                }));\r\n                // initialize core\r\n                core.initialize(_config, [new Sender()]);\r\n            }\r\n        });\r\n        function _track(item) {\r\n            if (item) {\r\n                // to pass sender.processTelemetry()\r\n                item.baseData = item.baseData || {};\r\n                item.baseType = item.baseType || \"EventData\";\r\n            }\r\n            core.track(item);\r\n        }\r\n    }\r\n// Removed Stub for ApplicationInsights.prototype.initialize.\r\n// Removed Stub for ApplicationInsights.prototype.track.\r\n// Removed Stub for ApplicationInsights.prototype.flush.\r\n// Removed Stub for ApplicationInsights.prototype.pollInternalLogs.\r\n// Removed Stub for ApplicationInsights.prototype.stopPollingInternalLogs.\r\n// Removed Stub for ApplicationInsights.prototype.unload.\r\n// Removed Stub for ApplicationInsights.prototype.getPlugin.\r\n// Removed Stub for ApplicationInsights.prototype.addPlugin.\r\n// Removed Stub for ApplicationInsights.prototype.evtNamespace.\r\n// Removed Stub for ApplicationInsights.prototype.addUnloadCb.\r\n// Removed Stub for ApplicationInsights.prototype.getTraceCtx.\r\n// Removed Stub for ApplicationInsights.prototype.addTelemetryInitializer.\r\n// Removed Stub for ApplicationInsights.prototype.updateCfg.\r\n// Removed Stub for ApplicationInsights.prototype.onCfgChange.\r\n    // This is a workaround for an IE bug when using dynamicProto() with classes that don't have any\n    // non-dynamic functions or static properties/functions when using uglify-js to minify the resulting code.\n    ApplicationInsights.__ieDyn=1;\n\n    return ApplicationInsights;\r\n}());\r\nexport { ApplicationInsights };\r\nexport { AppInsightsCore, arrForEach, isNullOrUndefined, throwError, proxyFunctions } from \"@microsoft/applicationinsights-core-js\";\r\nexport { SeverityLevel } from \"@microsoft/applicationinsights-common\";\r\nexport { Sender } from \"@microsoft/applicationinsights-channel-js\";\r\n//# sourceMappingURL=index.js.map","/*\n * Application Insights JavaScript Web SDK - Basic, 3.3.4\n * Copyright (c) Microsoft and contributors. All rights reserved.\n */\n\r\n\r\n// @skip-file-minify\r\n// ##############################################################\r\n// AUTO GENERATED FILE: This file is Auto Generated during build.\r\n// ##############################################################\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\n// Note: DON'T Export these const from the package as we are still targeting ES3 this will export a mutable variables that someone could change!!!\r\n// !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\r\nexport var _DYN_INSTRUMENTATION_KEY = \"instrumentationKey\"; // Count: 6\r\nexport var _DYN_CONNECTION_STRING = \"connectionString\"; // Count: 4\r\nexport var _DYN_INSTRUMENTATIONKEY0 = \"instrumentationkey\"; // Count: 2\r\nexport var _DYN_ENDPOINT_URL = \"endpointUrl\"; // Count: 6\r\nexport var _DYN_INGESTIONENDPOINT = \"ingestionendpoint\"; // Count: 2\r\nexport var _DYN_USER_OVERRIDE_ENDPOI1 = \"userOverrideEndpointUrl\"; // Count: 5\r\n//# sourceMappingURL=__DynamicConstants.js.map","// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nvar _a;\r\nimport { getGlobal, objCreate, objHasOwnProperty, throwTypeError } from \"@nevware21/ts-utils\";\r\n;\r\nvar UNDEFINED = \"undefined\";\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar Constructor = 'constructor';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar Prototype = 'prototype';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strFunction = 'function';\r\n/**\r\n * Used to define the name of the instance function lookup table\r\n * @ignore\r\n */\r\nvar DynInstFuncTable = '_dynInstFuncs';\r\n/**\r\n * Name used to tag the dynamic prototype function\r\n * @ignore\r\n */\r\nvar DynProxyTag = '_isDynProxy';\r\n/**\r\n * Name added to a prototype to define the dynamic prototype \"class\" name used to lookup the function table\r\n * @ignore\r\n */\r\nvar DynClassName = '_dynClass';\r\n/**\r\n * Prefix added to the classname to avoid any name clashes with other instance level properties\r\n * @ignore\r\n */\r\nvar DynClassNamePrefix = '_dynCls$';\r\n/**\r\n * A tag which is used to check if we have already to attempted to set the instance function if one is not present\r\n * @ignore\r\n */\r\nvar DynInstChkTag = '_dynInstChk';\r\n/**\r\n * A tag which is used to check if we are allows to try and set an instance function is one is not present. Using the same\r\n * tag name as the function level but a different const name for readability only.\r\n */\r\nvar DynAllowInstChkTag = DynInstChkTag;\r\n/**\r\n * The global (imported) instances where the global performance options are stored\r\n */\r\nvar DynProtoDefaultOptions = '_dfOpts';\r\n/**\r\n * Value used as the name of a class when it cannot be determined\r\n * @ignore\r\n */\r\nvar UnknownValue = '_unknown_';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar str__Proto = \"__proto__\";\r\n/**\r\n * The polyfill version of __proto__ so that it doesn't cause issues for anyone not expecting it to exist\r\n */\r\nvar DynProtoBaseProto = \"_dyn\" + str__Proto;\r\n/**\r\n * Runtime Global holder for dynamicProto settings\r\n */\r\nvar DynProtoGlobalSettings = \"__dynProto$Gbl\";\r\n/**\r\n * Track the current prototype for IE8 as you can't look back to get the prototype\r\n */\r\nvar DynProtoCurrent = \"_dynInstProto\";\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strUseBaseInst = 'useBaseInst';\r\n/**\r\n * Constant string defined to support minimization\r\n * @ignore\r\n */\r\nvar strSetInstFuncs = 'setInstFuncs';\r\nvar Obj = Object;\r\n/**\r\n * Pre-lookup to check if we are running on a modern browser (i.e. not IE8)\r\n * @ignore\r\n */\r\nvar _objGetPrototypeOf = Obj[\"getPrototypeOf\"];\r\n/**\r\n * Pre-lookup to check for the existence of this function\r\n */\r\nvar _objGetOwnProps = Obj[\"getOwnPropertyNames\"];\r\n// Since 1.1.7 moving these to the runtime global to work around mixed version and module issues\r\n// See Issue https://github.com/microsoft/DynamicProto-JS/issues/57 for details\r\nvar _gbl = getGlobal();\r\nvar _gblInst = _gbl[DynProtoGlobalSettings] || (_gbl[DynProtoGlobalSettings] = {\r\n    o: (_a = {},\r\n        _a[strSetInstFuncs] = true,\r\n        _a[strUseBaseInst] = true,\r\n        _a),\r\n    n: 1000 // Start new global index @ 1000 so we \"fix\" some cases when mixed with 1.1.6 or earlier\r\n});\r\n/**\r\n * Helper used to check whether the target is an Object prototype or Array prototype\r\n * @ignore\r\n */\r\nfunction _isObjectOrArrayPrototype(target) {\r\n    return target && (target === Obj[Prototype] || target === Array[Prototype]);\r\n}\r\n/**\r\n * Helper used to check whether the target is an Object prototype, Array prototype or Function prototype\r\n * @ignore\r\n */\r\nfunction _isObjectArrayOrFunctionPrototype(target) {\r\n    return _isObjectOrArrayPrototype(target) || target === Function[Prototype];\r\n}\r\n/**\r\n * Helper used to get the prototype of the target object as getPrototypeOf is not available in an ES3 environment.\r\n * @ignore\r\n */\r\nfunction _getObjProto(target) {\r\n    var newProto;\r\n    if (target) {\r\n        // This method doesn't exist in older browsers (e.g. IE8)\r\n        if (_objGetPrototypeOf) {\r\n            return _objGetPrototypeOf(target);\r\n        }\r\n        var curProto = target[str__Proto] || target[Prototype] || (target[Constructor] ? target[Constructor][Prototype] : null);\r\n        // Using the pre-calculated value as IE8 doesn't support looking up the prototype of a prototype and thus fails for more than 1 base class\r\n        newProto = target[DynProtoBaseProto] || curProto;\r\n        if (!objHasOwnProperty(target, DynProtoBaseProto)) {\r\n            // As this prototype doesn't have this property then this is from an inherited class so newProto is the base to return so save it\r\n            // so we can look it up value (which for a multiple hierarchy dynamicProto will be the base class)\r\n            delete target[DynProtoCurrent]; // Delete any current value allocated to this instance so we pick up the value from prototype hierarchy\r\n            newProto = target[DynProtoBaseProto] = target[DynProtoCurrent] || target[DynProtoBaseProto];\r\n            target[DynProtoCurrent] = curProto;\r\n        }\r\n    }\r\n    return newProto;\r\n}\r\n/**\r\n * Helper to get the properties of an object, including none enumerable ones as functions on a prototype in ES6\r\n * are not enumerable.\r\n * @param target\r\n */\r\nfunction _forEachProp(target, func) {\r\n    var props = [];\r\n    if (_objGetOwnProps) {\r\n        props = _objGetOwnProps(target);\r\n    }\r\n    else {\r\n        for (var name_1 in target) {\r\n            if (typeof name_1 === \"string\" && objHasOwnProperty(target, name_1)) {\r\n                props.push(name_1);\r\n            }\r\n        }\r\n    }\r\n    if (props && props.length > 0) {\r\n        for (var lp = 0; lp < props.length; lp++) {\r\n            func(props[lp]);\r\n        }\r\n    }\r\n}\r\n/**\r\n * Helper function to check whether the provided function name is a potential candidate for dynamic\r\n * callback and prototype generation.\r\n * @param target The target object, may be a prototype or class object\r\n * @param funcName The function name\r\n * @param skipOwn Skips the check for own property\r\n * @ignore\r\n */\r\nfunction _isDynamicCandidate(target, funcName, skipOwn) {\r\n    return (funcName !== Constructor && typeof target[funcName] === strFunction && (skipOwn || objHasOwnProperty(target, funcName)) && funcName !== str__Proto && funcName !== Prototype);\r\n}\r\n/**\r\n * Helper to throw a TypeError exception\r\n * @param message the message\r\n * @ignore\r\n */\r\nfunction _throwTypeError(message) {\r\n    throwTypeError(\"DynamicProto: \" + message);\r\n}\r\n/**\r\n * Returns a collection of the instance functions that are defined directly on the thisTarget object, it does\r\n * not return any inherited functions\r\n * @param thisTarget The object to get the instance functions from\r\n * @ignore\r\n */\r\nfunction _getInstanceFuncs(thisTarget) {\r\n    // Get the base proto\r\n    var instFuncs = objCreate(null);\r\n    // Save any existing instance functions\r\n    _forEachProp(thisTarget, function (name) {\r\n        // Don't include any dynamic prototype instances - as we only want the real functions\r\n        if (!instFuncs[name] && _isDynamicCandidate(thisTarget, name, false)) {\r\n            // Create an instance callback for passing the base function to the caller\r\n            instFuncs[name] = thisTarget[name];\r\n        }\r\n    });\r\n    return instFuncs;\r\n}\r\n/**\r\n * Returns whether the value is included in the array\r\n * @param values The array of values\r\n * @param value  The value\r\n */\r\nfunction _hasVisited(values, value) {\r\n    for (var lp = values.length - 1; lp >= 0; lp--) {\r\n        if (values[lp] === value) {\r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n}\r\n/**\r\n * Returns an object that contains callback functions for all \"base/super\" functions, this is used to \"save\"\r\n * enabling calling super.xxx() functions without requiring that the base \"class\" has defined a prototype references\r\n * @param target The current instance\r\n * @ignore\r\n */\r\nfunction _getBaseFuncs(classProto, thisTarget, instFuncs, useBaseInst) {\r\n    function _instFuncProxy(target, funcHost, funcName) {\r\n        var theFunc = funcHost[funcName];\r\n        if (theFunc[DynProxyTag] && useBaseInst) {\r\n            // grab and reuse the hosted looking function (if available) otherwise the original passed function\r\n            var instFuncTable = target[DynInstFuncTable] || {};\r\n            if (instFuncTable[DynAllowInstChkTag] !== false) {\r\n                theFunc = (instFuncTable[funcHost[DynClassName]] || {})[funcName] || theFunc;\r\n            }\r\n        }\r\n        return function () {\r\n            // eslint-disable-next-line prefer-rest-params\r\n            return theFunc.apply(target, arguments);\r\n        };\r\n    }\r\n    // Start creating a new baseFuncs by creating proxies for the instance functions (as they may get replaced)\r\n    var baseFuncs = objCreate(null);\r\n    _forEachProp(instFuncs, function (name) {\r\n        // Create an instance callback for passing the base function to the caller\r\n        baseFuncs[name] = _instFuncProxy(thisTarget, instFuncs, name);\r\n    });\r\n    // Get the base prototype functions\r\n    var baseProto = _getObjProto(classProto);\r\n    var visited = [];\r\n    // Don't include base object functions for Object, Array or Function\r\n    while (baseProto && !_isObjectArrayOrFunctionPrototype(baseProto) && !_hasVisited(visited, baseProto)) {\r\n        // look for prototype functions\r\n        _forEachProp(baseProto, function (name) {\r\n            // Don't include any dynamic prototype instances - as we only want the real functions\r\n            // For IE 7/8 the prototype lookup doesn't provide the full chain so we need to bypass the \r\n            // hasOwnProperty check we get all of the methods, main difference is that IE7/8 doesn't return\r\n            // the Object prototype methods while bypassing the check\r\n            if (!baseFuncs[name] && _isDynamicCandidate(baseProto, name, !_objGetPrototypeOf)) {\r\n                // Create an instance callback for passing the base function to the caller\r\n                baseFuncs[name] = _instFuncProxy(thisTarget, baseProto, name);\r\n            }\r\n        });\r\n        // We need to find all possible functions that might be overloaded by walking the entire prototype chain\r\n        // This avoids the caller from needing to check whether it's direct base class implements the function or not\r\n        // by walking the entire chain it simplifies the usage and issues from upgrading any of the base classes.\r\n        visited.push(baseProto);\r\n        baseProto = _getObjProto(baseProto);\r\n    }\r\n    return baseFuncs;\r\n}\r\nfunction _getInstFunc(target, funcName, proto, currentDynProtoProxy) {\r\n    var instFunc = null;\r\n    // We need to check whether the class name is defined directly on this prototype otherwise\r\n    // it will walk the proto chain and return any parent proto classname.\r\n    if (target && objHasOwnProperty(proto, DynClassName)) {\r\n        var instFuncTable = target[DynInstFuncTable] || objCreate(null);\r\n        instFunc = (instFuncTable[proto[DynClassName]] || objCreate(null))[funcName];\r\n        if (!instFunc) {\r\n            // Avoid stack overflow from recursive calling the same function\r\n            _throwTypeError(\"Missing [\" + funcName + \"] \" + strFunction);\r\n        }\r\n        // We have the instance function, lets check it we can speed up further calls\r\n        // by adding the instance function back directly on the instance (avoiding the dynamic func lookup)\r\n        if (!instFunc[DynInstChkTag] && instFuncTable[DynAllowInstChkTag] !== false) {\r\n            // If the instance already has an instance function we can't replace it\r\n            var canAddInst = !objHasOwnProperty(target, funcName);\r\n            // Get current prototype\r\n            var objProto = _getObjProto(target);\r\n            var visited = [];\r\n            // Lookup the function starting at the top (instance level prototype) and traverse down, if the first matching function\r\n            // if nothing is found or if the first hit is a dynamic proto instance then we can safely add an instance shortcut\r\n            while (canAddInst && objProto && !_isObjectArrayOrFunctionPrototype(objProto) && !_hasVisited(visited, objProto)) {\r\n                var protoFunc = objProto[funcName];\r\n                if (protoFunc) {\r\n                    canAddInst = (protoFunc === currentDynProtoProxy);\r\n                    break;\r\n                }\r\n                // We need to find all possible initial functions to ensure that we don't bypass a valid override function\r\n                visited.push(objProto);\r\n                objProto = _getObjProto(objProto);\r\n            }\r\n            try {\r\n                if (canAddInst) {\r\n                    // This instance doesn't have an instance func and the class hierarchy does have a higher level prototype version\r\n                    // so it's safe to directly assign for any subsequent calls (for better performance)\r\n                    target[funcName] = instFunc;\r\n                }\r\n                // Block further attempts to set the instance function for any\r\n                instFunc[DynInstChkTag] = 1;\r\n            }\r\n            catch (e) {\r\n                // Don't crash if the object is readonly or the runtime doesn't allow changing this\r\n                // And set a flag so we don't try again for any function\r\n                instFuncTable[DynAllowInstChkTag] = false;\r\n            }\r\n        }\r\n    }\r\n    return instFunc;\r\n}\r\nfunction _getProtoFunc(funcName, proto, currentDynProtoProxy) {\r\n    var protoFunc = proto[funcName];\r\n    // Check that the prototype function is not a self reference -- try to avoid stack overflow!\r\n    if (protoFunc === currentDynProtoProxy) {\r\n        // It is so lookup the base prototype\r\n        protoFunc = _getObjProto(proto)[funcName];\r\n    }\r\n    if (typeof protoFunc !== strFunction) {\r\n        _throwTypeError(\"[\" + funcName + \"] is not a \" + strFunction);\r\n    }\r\n    return protoFunc;\r\n}\r\n/**\r\n * Add the required dynamic prototype methods to the the class prototype\r\n * @param proto - The class prototype\r\n * @param className - The instance classname\r\n * @param target - The target instance\r\n * @param baseInstFuncs - The base instance functions\r\n * @param setInstanceFunc - Flag to allow prototype function to reset the instance function if one does not exist\r\n * @ignore\r\n */\r\nfunction _populatePrototype(proto, className, target, baseInstFuncs, setInstanceFunc) {\r\n    function _createDynamicPrototype(proto, funcName) {\r\n        var dynProtoProxy = function () {\r\n            // Use the instance or prototype function\r\n            var instFunc = _getInstFunc(this, funcName, proto, dynProtoProxy) || _getProtoFunc(funcName, proto, dynProtoProxy);\r\n            // eslint-disable-next-line prefer-rest-params\r\n            return instFunc.apply(this, arguments);\r\n        };\r\n        // Tag this function as a proxy to support replacing dynamic proxy elements (primary use case is for unit testing\r\n        // via which can dynamically replace the prototype function reference)\r\n        dynProtoProxy[DynProxyTag] = 1;\r\n        return dynProtoProxy;\r\n    }\r\n    if (!_isObjectOrArrayPrototype(proto)) {\r\n        var instFuncTable = target[DynInstFuncTable] = target[DynInstFuncTable] || objCreate(null);\r\n        if (!_isObjectOrArrayPrototype(instFuncTable)) {\r\n            var instFuncs_1 = instFuncTable[className] = (instFuncTable[className] || objCreate(null)); // fetch and assign if as it may not exist yet\r\n            // Set whether we are allow to lookup instances, if someone has set to false then do not re-enable\r\n            if (instFuncTable[DynAllowInstChkTag] !== false) {\r\n                instFuncTable[DynAllowInstChkTag] = !!setInstanceFunc;\r\n            }\r\n            if (!_isObjectOrArrayPrototype(instFuncs_1)) {\r\n                _forEachProp(target, function (name) {\r\n                    // Only add overridden functions\r\n                    if (_isDynamicCandidate(target, name, false) && target[name] !== baseInstFuncs[name]) {\r\n                        // Save the instance Function to the lookup table and remove it from the instance as it's not a dynamic proto function\r\n                        instFuncs_1[name] = target[name];\r\n                        delete target[name];\r\n                        // Add a dynamic proto if one doesn't exist or if a prototype function exists and it's not a dynamic one\r\n                        if (!objHasOwnProperty(proto, name) || (proto[name] && !proto[name][DynProxyTag])) {\r\n                            proto[name] = _createDynamicPrototype(proto, name);\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n}\r\n/**\r\n * Checks whether the passed prototype object appears to be correct by walking the prototype hierarchy of the instance\r\n * @param classProto The class prototype instance\r\n * @param thisTarget The current instance that will be checked whether the passed prototype instance is in the hierarchy\r\n * @ignore\r\n */\r\nfunction _checkPrototype(classProto, thisTarget) {\r\n    // This method doesn't existing in older browsers (e.g. IE8)\r\n    if (_objGetPrototypeOf) {\r\n        // As this is primarily a coding time check, don't bother checking if running in IE8 or lower\r\n        var visited = [];\r\n        var thisProto = _getObjProto(thisTarget);\r\n        while (thisProto && !_isObjectArrayOrFunctionPrototype(thisProto) && !_hasVisited(visited, thisProto)) {\r\n            if (thisProto === classProto) {\r\n                return true;\r\n            }\r\n            // This avoids the caller from needing to check whether it's direct base class implements the function or not\r\n            // by walking the entire chain it simplifies the usage and issues from upgrading any of the base classes.\r\n            visited.push(thisProto);\r\n            thisProto = _getObjProto(thisProto);\r\n        }\r\n        return false;\r\n    }\r\n    // If objGetPrototypeOf doesn't exist then just assume everything is ok.\r\n    return true;\r\n}\r\n/**\r\n * Gets the current prototype name using the ES6 name if available otherwise falling back to a use unknown as the name.\r\n * It's not critical for this to return a name, it's used to decorate the generated unique name for easier debugging only.\r\n * @param target\r\n * @param unknownValue\r\n * @ignore\r\n */\r\nfunction _getObjName(target, unknownValue) {\r\n    if (objHasOwnProperty(target, Prototype)) {\r\n        // Look like a prototype\r\n        return target.name || unknownValue || UnknownValue;\r\n    }\r\n    return (((target || {})[Constructor]) || {}).name || unknownValue || UnknownValue;\r\n}\r\n/**\r\n * Helper function when creating dynamic (inline) functions for classes, this helper performs the following tasks :-\r\n * - Saves references to all defined base class functions\r\n * - Calls the delegateFunc with the current target (this) and a base object reference that can be used to call all \"super\" functions.\r\n * - Will populate the class prototype for all overridden functions to support class extension that call the prototype instance.\r\n * Callers should use this helper when declaring all function within the constructor of a class, as mentioned above the delegateFunc is\r\n * passed both the target \"this\" and an object that can be used to call any base (super) functions, using this based object in place of\r\n * super.XXX() (which gets expanded to _super.prototype.XXX()) provides a better minification outcome and also ensures the correct \"this\"\r\n * context is maintained as TypeScript creates incorrect references using super.XXXX() for dynamically defined functions i.e. Functions\r\n * defined in the constructor or some other function (rather than declared as complete typescript functions).\r\n * ### Usage\r\n * ```typescript\r\n * import dynamicProto from \"@microsoft/dynamicproto-js\";\r\n * class ExampleClass extends BaseClass {\r\n *     constructor() {\r\n *         dynamicProto(ExampleClass, this, (_self, base) => {\r\n *             // This will define a function that will be converted to a prototype function\r\n *             _self.newFunc = () => {\r\n *                 // Access any \"this\" instance property\r\n *                 if (_self.someProperty) {\r\n *                     ...\r\n *                 }\r\n *             }\r\n *             // This will define a function that will be converted to a prototype function\r\n *             _self.myFunction = () => {\r\n *                 // Access any \"this\" instance property\r\n *                 if (_self.someProperty) {\r\n *                     // Call the base version of the function that we are overriding\r\n *                     base.myFunction();\r\n *                 }\r\n *                 ...\r\n *             }\r\n *             _self.initialize = () => {\r\n *                 ...\r\n *             }\r\n *             // Warnings: While the following will work as _self is simply a reference to\r\n *             // this, if anyone overrides myFunction() the overridden will be called first\r\n *             // as the normal JavaScript method resolution will occur and the defined\r\n *             // _self.initialize() function is actually gets removed from the instance and\r\n *             // a proxy prototype version is created to reference the created method.\r\n *             _self.initialize();\r\n *         });\r\n *     }\r\n * }\r\n * ```\r\n * @typeparam DPType This is the generic type of the class, used to keep intellisense valid\r\n * @typeparam DPCls The type that contains the prototype of the current class\r\n * @param theClass - This is the current class instance which contains the prototype for the current class\r\n * @param target - The current \"this\" (target) reference, when the class has been extended this.prototype will not be the 'theClass' value.\r\n * @param delegateFunc - The callback function (closure) that will create the dynamic function\r\n * @param options - Additional options to configure how the dynamic prototype operates\r\n */\r\nexport default function dynamicProto(theClass, target, delegateFunc, options) {\r\n    // Make sure that the passed theClass argument looks correct\r\n    if (!objHasOwnProperty(theClass, Prototype)) {\r\n        _throwTypeError(\"theClass is an invalid class definition.\");\r\n    }\r\n    // Quick check to make sure that the passed theClass argument looks correct (this is a common copy/paste error)\r\n    var classProto = theClass[Prototype];\r\n    if (!_checkPrototype(classProto, target)) {\r\n        _throwTypeError(\"[\" + _getObjName(theClass) + \"] not in hierarchy of [\" + _getObjName(target) + \"]\");\r\n    }\r\n    var className = null;\r\n    if (objHasOwnProperty(classProto, DynClassName)) {\r\n        // Only grab the class name if it's defined on this prototype (i.e. don't walk the prototype chain)\r\n        className = classProto[DynClassName];\r\n    }\r\n    else {\r\n        // As not all browser support name on the prototype creating a unique dynamic one if we have not already\r\n        // assigned one, so we can use a simple string as the lookup rather than an object for the dynamic instance\r\n        // function table lookup.\r\n        className = DynClassNamePrefix + _getObjName(theClass, \"_\") + \"$\" + _gblInst.n;\r\n        _gblInst.n++;\r\n        classProto[DynClassName] = className;\r\n    }\r\n    var perfOptions = dynamicProto[DynProtoDefaultOptions];\r\n    var useBaseInst = !!perfOptions[strUseBaseInst];\r\n    if (useBaseInst && options && options[strUseBaseInst] !== undefined) {\r\n        useBaseInst = !!options[strUseBaseInst];\r\n    }\r\n    // Get the current instance functions\r\n    var instFuncs = _getInstanceFuncs(target);\r\n    // Get all of the functions for any base instance (before they are potentially overridden)\r\n    var baseFuncs = _getBaseFuncs(classProto, target, instFuncs, useBaseInst);\r\n    // Execute the delegate passing in both the current target \"this\" and \"base\" function references\r\n    // Note casting the same type as we don't actually have the base class here and this will provide some intellisense support\r\n    delegateFunc(target, baseFuncs);\r\n    // Don't allow setting instance functions for older IE instances\r\n    var setInstanceFunc = !!_objGetPrototypeOf && !!perfOptions[strSetInstFuncs];\r\n    if (setInstanceFunc && options) {\r\n        setInstanceFunc = !!options[strSetInstFuncs];\r\n    }\r\n    // Populate the Prototype for any overridden instance functions\r\n    _populatePrototype(classProto, className, target, instFuncs, setInstanceFunc !== false);\r\n}\r\n/**\r\n * Exposes the default global options to allow global configuration, if the global values are disabled these will override\r\n * any passed values. This is primarily exposed to support unit-testing without the need for individual classes to expose\r\n * their internal usage of dynamic proto.\r\n */\r\ndynamicProto[DynProtoDefaultOptions] = _gblInst.o;\r\n//# sourceMappingURL=DynamicProto.js.map","/*!\n * NevWare21 Solutions LLC - ts-async, 0.5.4\n * https://github.com/nevware21/ts-async\n * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.\n * Licensed under the MIT license.\n */\nimport { isPromiseLike, objDefineProperties, getDocument, createCachedValue, safe, getInst, dumpObj, arrSlice, objDefineProp, hasSymbol, getKnownSymbol, isFunction, throwTypeError, iterForOf, scheduleTimeout, isNode, getWindow, getGlobal, objDefine, objToString, isUndefined, isArray, arrForEach, isIterable, createCustomError, isNumber, scheduleIdleCallback, utcNow, getLength, isIterator, fnCall, arrIndexOf } from '@nevware21/ts-utils';\n\nvar STR_PROMISE = \"Promise\";\nvar DONE = \"done\";\nvar VALUE = \"value\";\nvar RETURN = \"return\";\nvar REJECTED = \"rejected\";\n\nfunction doAwaitResponse(value, cb) {\n    return doAwait(value, function (value) {\n        return cb ? cb({\n            status: \"fulfilled\",\n            rejected: false,\n            value: value\n        }) : value;\n    }, function (reason) {\n        return cb ? cb({\n            status: REJECTED,\n            rejected: true,\n            reason: reason\n        }) : reason;\n    });\n}\nfunction doAwait(value, resolveFn, rejectFn, finallyFn) {\n    var result = value;\n    try {\n        if (isPromiseLike(value)) {\n            if (resolveFn || rejectFn) {\n                result = value.then(resolveFn, rejectFn);\n            }\n        }\n        else {\n            try {\n                if (resolveFn) {\n                    result = resolveFn(value);\n                }\n            }\n            catch (err) {\n                if (rejectFn) {\n                    result = rejectFn(err);\n                }\n                else {\n                    throw err;\n                }\n            }\n        }\n    }\n    finally {\n        if (finallyFn) {\n            doFinally(result, finallyFn);\n        }\n    }\n    return result;\n}\nfunction doFinally(value, finallyFn) {\n    var result = value;\n    if (finallyFn) {\n        if (isPromiseLike(value)) {\n            if (value.finally) {\n                result = value.finally(finallyFn);\n            }\n            else {\n                result = value.then(function (value) {\n                    finallyFn();\n                    return value;\n                }, function (reason) {\n                    finallyFn();\n                    throw reason;\n                });\n            }\n        }\n        else {\n            finallyFn();\n        }\n    }\n    return result;\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction _pureAssign(func1, func2) {\n    return func1 || func2;\n}\n\nvar _debugState;\nvar _debugResult;\nvar _debugHandled;\nvar _promiseDebugEnabled = false;\nfunction _addDebugState$1(thePromise, stateFn, resultFn, handledFn) {\n    _debugState = _debugState || { toString: function () { return \"[[PromiseState]]\"; } };\n    _debugResult = _debugResult || { toString: function () { return \"[[PromiseResult]]\"; } };\n    _debugHandled = _debugHandled || { toString: function () { return \"[[PromiseIsHandled]]\"; } };\n    var props = {};\n    props[_debugState] = { get: stateFn };\n    props[_debugResult] = { get: resultFn };\n    props[_debugHandled] = { get: handledFn };\n    objDefineProperties(thePromise, props);\n}\nfunction setPromiseDebugState(enabled, logger) {\n    _promiseDebugEnabled = enabled;\n}\n\nvar STRING_STATES =  [\n    \"pending\", \"resolving\", \"resolved\", REJECTED\n];\n\nvar DISPATCH_EVENT = \"dispatchEvent\";\nvar _hasInitEvent;\nfunction _hasInitEventFn(doc) {\n    var evt;\n    if (doc && doc.createEvent) {\n        evt = doc.createEvent(\"Event\");\n    }\n    return (!!evt && evt.initEvent);\n}\nfunction emitEvent(target, evtName, populateEvent, useNewEvent) {\n    var doc = getDocument();\n    !_hasInitEvent && (_hasInitEvent = createCachedValue(!!safe(_hasInitEventFn, [doc]).v));\n    var theEvt = _hasInitEvent.v ? doc.createEvent(\"Event\") : (useNewEvent ? new Event(evtName) : {});\n    populateEvent && populateEvent(theEvt);\n    if (_hasInitEvent.v) {\n        theEvt.initEvent(evtName, false, true);\n    }\n    if (theEvt && target[DISPATCH_EVENT]) {\n        target[DISPATCH_EVENT](theEvt);\n    }\n    else {\n        var handler = target[\"on\" + evtName];\n        if (handler) {\n            handler(theEvt);\n        }\n        else {\n            var theConsole = getInst(\"console\");\n            theConsole && (theConsole[\"error\"] || theConsole[\"log\"])(evtName, dumpObj(theEvt));\n        }\n    }\n}\n\nvar NODE_UNHANDLED_REJECTION = \"unhandledRejection\";\nvar UNHANDLED_REJECTION = NODE_UNHANDLED_REJECTION.toLowerCase();\nvar _currentPromiseId = [];\nvar _uniquePromiseId = 0;\nvar _unhandledRejectionTimeout = 10;\nvar _aggregationError;\nvar _hasPromiseRejectionEvent;\nfunction dumpFnObj(value) {\n    if (isFunction(value)) {\n        return value.toString();\n    }\n    return dumpObj(value);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createAggregationError(values) {\n    !_aggregationError && (_aggregationError = createCachedValue(safe(getInst, [\"AggregationError\"]).v || createCustomError(\"AggregationError\", function (self, args) {\n        self.errors = args[0];\n    })));\n    return new _aggregationError.v(values);\n}\nfunction _createPromise(newPromise, processor, executor) {\n    var additionalArgs = arrSlice(arguments, 3);\n    var _state = 0 ;\n    var _hasResolved = false;\n    var _settledValue;\n    var _queue = [];\n    var _id = _uniquePromiseId++;\n    var _parentId = _currentPromiseId.length > 0 ? _currentPromiseId[_currentPromiseId.length - 1] : undefined;\n    var _handled = false;\n    var _unHandledRejectionHandler = null;\n    var _thePromise;\n    function _then(onResolved, onRejected) {\n        try {\n            _currentPromiseId.push(_id);\n            _handled = true;\n            _unHandledRejectionHandler && _unHandledRejectionHandler.cancel();\n            _unHandledRejectionHandler = null;\n            var thenPromise = newPromise(function (resolve, reject) {\n                _queue.push(function () {\n                    try {\n                        var handler = _state === 2  ? onResolved : onRejected;\n                        var value = isUndefined(handler) ? _settledValue : (isFunction(handler) ? handler(_settledValue) : handler);\n                        if (isPromiseLike(value)) {\n                            value.then(resolve, reject);\n                        }\n                        else if (handler) {\n                            resolve(value);\n                        }\n                        else if (_state === 3 ) {\n                            reject(value);\n                        }\n                        else {\n                            resolve(value);\n                        }\n                    }\n                    catch (e) {\n                        reject(e);\n                    }\n                });\n                if (_hasResolved) {\n                    _processQueue();\n                }\n            }, additionalArgs);\n            return thenPromise;\n        }\n        finally {\n            _currentPromiseId.pop();\n        }\n    }\n    function _catch(onRejected) {\n        return _then(undefined, onRejected);\n    }\n    function _finally(onFinally) {\n        var thenFinally = onFinally;\n        var catchFinally = onFinally;\n        if (isFunction(onFinally)) {\n            thenFinally = function (value) {\n                onFinally && onFinally();\n                return value;\n            };\n            catchFinally = function (reason) {\n                onFinally && onFinally();\n                throw reason;\n            };\n        }\n        return _then(thenFinally, catchFinally);\n    }\n    function _strState() {\n        return STRING_STATES[_state];\n    }\n    function _processQueue() {\n        if (_queue.length > 0) {\n            var pending = _queue.slice();\n            _queue = [];\n            _handled = true;\n            _unHandledRejectionHandler && _unHandledRejectionHandler.cancel();\n            _unHandledRejectionHandler = null;\n            processor(pending);\n        }\n    }\n    function _createSettleIfFn(newState, allowState) {\n        return function (theValue) {\n            if (_state === allowState) {\n                if (newState === 2  && isPromiseLike(theValue)) {\n                    _state = 1 ;\n                    theValue.then(_createSettleIfFn(2 , 1 ), _createSettleIfFn(3 , 1 ));\n                    return;\n                }\n                _state = newState;\n                _hasResolved = true;\n                _settledValue = theValue;\n                _processQueue();\n                if (!_handled && newState === 3  && !_unHandledRejectionHandler) {\n                    _unHandledRejectionHandler = scheduleTimeout(_notifyUnhandledRejection, _unhandledRejectionTimeout);\n                }\n            }\n        };\n    }\n    function _notifyUnhandledRejection() {\n        if (!_handled) {\n            _handled = true;\n            if (isNode()) {\n                process.emit(NODE_UNHANDLED_REJECTION, _settledValue, _thePromise);\n            }\n            else {\n                var gbl = getWindow() || getGlobal();\n                !_hasPromiseRejectionEvent && (_hasPromiseRejectionEvent = createCachedValue(safe((getInst), [STR_PROMISE + \"RejectionEvent\"]).v));\n                emitEvent(gbl, UNHANDLED_REJECTION, function (theEvt) {\n                    objDefine(theEvt, \"promise\", { g: function () { return _thePromise; } });\n                    theEvt.reason = _settledValue;\n                    return theEvt;\n                }, !!_hasPromiseRejectionEvent.v);\n            }\n        }\n    }\n    _thePromise = {\n        then: _then,\n        \"catch\": _catch,\n        finally: _finally\n    };\n    objDefineProp(_thePromise, \"state\", {\n        get: _strState\n    });\n    if (_promiseDebugEnabled) {\n        _addDebugState$1(_thePromise, _strState, function () { return objToString(_settledValue); }, function () { return _handled; });\n    }\n    if (hasSymbol()) {\n        _thePromise[getKnownSymbol(11 )] = \"IPromise\";\n    }\n    function _toString() {\n        return \"IPromise\" + (_promiseDebugEnabled ? \"[\" + _id + (!isUndefined(_parentId) ? (\":\" + _parentId) : \"\") + \"]\" : \"\") + \" \" + _strState() + (_hasResolved ? (\" - \" + dumpFnObj(_settledValue)) : \"\") + (\"\");\n    }\n    _thePromise.toString = _toString;\n    (function _initialize() {\n        if (!isFunction(executor)) {\n            throwTypeError(STR_PROMISE + \": executor is not a function - \" + dumpFnObj(executor));\n        }\n        var _rejectFn = _createSettleIfFn(3 , 0 );\n        try {\n            executor.call(_thePromise, _createSettleIfFn(2 , 0 ), _rejectFn);\n        }\n        catch (e) {\n            _rejectFn(e);\n        }\n    })();\n    return _thePromise;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createAllPromise(newPromise) {\n    return function (input) {\n        var additionalArgs = arrSlice(arguments, 1);\n        return newPromise(function (resolve, reject) {\n            try {\n                var values_1 = [];\n                var pending_1 = 1;\n                iterForOf(input, function (item, idx) {\n                    if (item) {\n                        pending_1++;\n                        doAwait(item, function (value) {\n                            values_1[idx] = value;\n                            if (--pending_1 === 0) {\n                                resolve(values_1);\n                            }\n                        }, reject);\n                    }\n                });\n                pending_1--;\n                if (pending_1 === 0) {\n                    resolve(values_1);\n                }\n            }\n            catch (e) {\n                reject(e);\n            }\n        }, additionalArgs);\n    };\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createResolvedPromise(newPromise) {\n    return function (value) {\n        var additionalArgs = arrSlice(arguments, 1);\n        if (isPromiseLike(value)) {\n            return value;\n        }\n        return newPromise(function (resolve) {\n            resolve(value);\n        }, additionalArgs);\n    };\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createRejectedPromise(newPromise) {\n    return function (reason) {\n        var additionalArgs = arrSlice(arguments, 1);\n        return newPromise(function (_resolve, reject) {\n            reject(reason);\n        }, additionalArgs);\n    };\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createAllSettledPromise(newPromise) {\n    return createCachedValue(function (input) {\n        var additionalArgs = arrSlice(arguments, 1);\n        return newPromise(function (resolve, reject) {\n            var values = [];\n            var pending = 1;\n            function processItem(item, idx) {\n                pending++;\n                doAwaitResponse(item, function (value) {\n                    if (value.rejected) {\n                        values[idx] = {\n                            status: REJECTED,\n                            reason: value.reason\n                        };\n                    }\n                    else {\n                        values[idx] = {\n                            status: \"fulfilled\",\n                            value: value.value\n                        };\n                    }\n                    if (--pending === 0) {\n                        resolve(values);\n                    }\n                });\n            }\n            try {\n                if (isArray(input)) {\n                    arrForEach(input, processItem);\n                }\n                else if (isIterable(input)) {\n                    iterForOf(input, processItem);\n                }\n                else {\n                    throwTypeError(\"Input is not an iterable\");\n                }\n                pending--;\n                if (pending === 0) {\n                    resolve(values);\n                }\n            }\n            catch (e) {\n                reject(e);\n            }\n        }, additionalArgs);\n    });\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createRacePromise(newPromise) {\n    return createCachedValue(function (input) {\n        var additionalArgs = arrSlice(arguments, 1);\n        return newPromise(function (resolve, reject) {\n            var isDone = false;\n            function processItem(item) {\n                doAwaitResponse(item, function (value) {\n                    if (!isDone) {\n                        isDone = true;\n                        if (value.rejected) {\n                            reject(value.reason);\n                        }\n                        else {\n                            resolve(value.value);\n                        }\n                    }\n                });\n            }\n            try {\n                if (isArray(input)) {\n                    arrForEach(input, processItem);\n                }\n                else if (isIterable(input)) {\n                    iterForOf(input, processItem);\n                }\n                else {\n                    throwTypeError(\"Input is not an iterable\");\n                }\n            }\n            catch (e) {\n                reject(e);\n            }\n        }, additionalArgs);\n    });\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createAnyPromise(newPromise) {\n    return createCachedValue(function (input) {\n        var additionalArgs = arrSlice(arguments, 1);\n        return newPromise(function (resolve, reject) {\n            var theErros = [];\n            var pending = 1;\n            var isDone = false;\n            function processItem(item, idx) {\n                pending++;\n                doAwaitResponse(item, function (value) {\n                    if (!value.rejected) {\n                        isDone = true;\n                        resolve(value.value);\n                        return;\n                    }\n                    else {\n                        theErros[idx] = value.reason;\n                    }\n                    if (--pending === 0 && !isDone) {\n                        reject(_createAggregationError(theErros));\n                    }\n                });\n            }\n            try {\n                if (isArray(input)) {\n                    arrForEach(input, processItem);\n                }\n                else if (isIterable(input)) {\n                    iterForOf(input, processItem);\n                }\n                else {\n                    throwTypeError(\"Input is not an iterable\");\n                }\n                pending--;\n                if (pending === 0 && !isDone) {\n                    reject(_createAggregationError(theErros));\n                }\n            }\n            catch (e) {\n                reject(e);\n            }\n        }, additionalArgs);\n    });\n}\n\nfunction syncItemProcessor(pending) {\n    arrForEach(pending, function (fn) {\n        try {\n            fn();\n        }\n        catch (e) {\n        }\n    });\n}\nfunction timeoutItemProcessor(timeout) {\n    var callbackTimeout = isNumber(timeout) ? timeout : 0;\n    return function (pending) {\n        scheduleTimeout(function () {\n            syncItemProcessor(pending);\n        }, callbackTimeout);\n    };\n}\nfunction idleItemProcessor(timeout) {\n    var options;\n    if (timeout >= 0) {\n        options = {\n            timeout: +timeout\n        };\n    }\n    return function (pending) {\n        scheduleIdleCallback(function (deadline) {\n            syncItemProcessor(pending);\n        }, options);\n    };\n}\n\nvar _allAsyncSettledCreator;\nvar _raceAsyncCreator;\nvar _anyAsyncCreator;\nfunction createAsyncPromise(executor, timeout) {\n    return _createPromise(createAsyncPromise, timeoutItemProcessor(timeout), executor, timeout);\n}\nvar createAsyncAllPromise = /*#__PURE__*/ _createAllPromise(createAsyncPromise);\nvar createAsyncResolvedPromise = /*#__PURE__*/ _createResolvedPromise(createAsyncPromise);\nvar createAsyncRejectedPromise = /*#__PURE__*/ _createRejectedPromise(createAsyncPromise);\nfunction createAsyncAllSettledPromise(input, timeout) {\n    !_allAsyncSettledCreator && (_allAsyncSettledCreator = _createAllSettledPromise(createAsyncPromise));\n    return _allAsyncSettledCreator.v(input, timeout);\n}\nfunction createAsyncRacePromise(values, timeout) {\n    !_raceAsyncCreator && (_raceAsyncCreator = _createRacePromise(createAsyncPromise));\n    return _raceAsyncCreator.v(values, timeout);\n}\nfunction createAsyncAnyPromise(values, timeout) {\n    !_anyAsyncCreator && (_anyAsyncCreator = _createAnyPromise(createAsyncPromise));\n    return _anyAsyncCreator.v(values, timeout);\n}\n\nvar _promiseCls;\nvar _allCreator;\nvar _allNativeSettledCreator;\nvar _raceNativeCreator;\nvar _anyNativeCreator;\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createNativePromiseHelper(name, func) {\n    !_promiseCls && (_promiseCls = createCachedValue((safe(getInst, [STR_PROMISE]).v) || null));\n    if (_promiseCls.v && _promiseCls.v[name]) {\n        return createCachedValue(function (input, timeout) {\n            return createNativePromise(function (resolve, reject) {\n                _promiseCls.v[name](input).then(resolve, reject);\n            });\n        });\n    }\n    return func();\n}\nfunction createNativePromise(executor, timeout) {\n    !_promiseCls && (_promiseCls = createCachedValue((safe(getInst, [STR_PROMISE]).v) || null));\n    var PrmCls = _promiseCls.v;\n    if (!PrmCls) {\n        return createAsyncPromise(executor);\n    }\n    if (!isFunction(executor)) {\n        throwTypeError(STR_PROMISE + \": executor is not a function - \" + dumpObj(executor));\n    }\n    var _state = 0 ;\n    function _strState() {\n        return STRING_STATES[_state];\n    }\n    var thePromise = new PrmCls(function (resolve, reject) {\n        function _resolve(value) {\n            _state = 2 ;\n            resolve(value);\n        }\n        function _reject(reason) {\n            _state = 3 ;\n            reject(reason);\n        }\n        executor(_resolve, _reject);\n    });\n    objDefineProp(thePromise, \"state\", {\n        get: _strState\n    });\n    return thePromise;\n}\nfunction createNativeAllPromise(input, timeout) {\n    !_allCreator && (_allCreator = _createNativePromiseHelper(\"all\", function () { return createCachedValue(_createAllPromise(createNativePromise)); }));\n    return _allCreator.v(input, timeout);\n}\nvar createNativeResolvedPromise = /*#__PURE__*/ _createResolvedPromise(createNativePromise);\nvar createNativeRejectedPromise = /*#__PURE__*/ _createRejectedPromise(createNativePromise);\nfunction createNativeAllSettledPromise(input, timeout) {\n    !_allNativeSettledCreator && (_allNativeSettledCreator = _createNativePromiseHelper(\"allSettled\", function () { return _createAllSettledPromise(createNativePromise); }));\n    return _allNativeSettledCreator.v(input, timeout);\n}\nfunction createNativeRacePromise(values, timeout) {\n    !_raceNativeCreator && (_raceNativeCreator = _createNativePromiseHelper(\"race\", function () { return _createRacePromise(createNativePromise); }));\n    return _raceNativeCreator.v(values, timeout);\n}\nfunction createNativeAnyPromise(values, timeout) {\n    !_anyNativeCreator && (_anyNativeCreator = _createNativePromiseHelper(\"any\", function () { return _createAnyPromise(createNativePromise); }));\n    return _anyNativeCreator.v(values, timeout);\n}\n\nvar _allSyncSettledCreator;\nvar _raceSyncCreator;\nvar _anySyncCreator;\nfunction createSyncPromise(executor) {\n    return _createPromise(createSyncPromise, syncItemProcessor, executor);\n}\nvar createSyncAllPromise = /*#__PURE__*/ _createAllPromise(createSyncPromise);\nvar createSyncResolvedPromise = /*#__PURE__*/ _createResolvedPromise(createSyncPromise);\nvar createSyncRejectedPromise = /*#__PURE__*/ _createRejectedPromise(createSyncPromise);\nfunction createSyncAllSettledPromise(input, timeout) {\n    !_allSyncSettledCreator && (_allSyncSettledCreator = _createAllSettledPromise(createSyncPromise));\n    return _allSyncSettledCreator.v(input, timeout);\n}\nfunction createSyncRacePromise(values, timeout) {\n    !_raceSyncCreator && (_raceSyncCreator = _createRacePromise(createSyncPromise));\n    return _raceSyncCreator.v(values, timeout);\n}\nfunction createSyncAnyPromise(values, timeout) {\n    !_anySyncCreator && (_anySyncCreator = _createAnyPromise(createSyncPromise));\n    return _anySyncCreator.v(values, timeout);\n}\n\nvar _defaultIdleTimeout;\nvar _allIdleSettledCreator;\nvar _raceIdleCreator;\nvar _anyIdleCreator;\nfunction setDefaultIdlePromiseTimeout(idleDeadline) {\n    _defaultIdleTimeout = idleDeadline;\n}\nvar setDefaultIdleTimeout = ( /*#__PURE__*/_pureAssign(setDefaultIdlePromiseTimeout));\nfunction createIdlePromise(executor, timeout) {\n    var theTimeout = isUndefined(timeout) ? _defaultIdleTimeout : timeout;\n    return _createPromise(createIdlePromise, idleItemProcessor(theTimeout), executor, theTimeout);\n}\nvar createIdleAllPromise = /*#__PURE__*/ _createAllPromise(createIdlePromise);\nvar createIdleResolvedPromise = /*#__PURE__*/ _createResolvedPromise(createIdlePromise);\nvar createIdleRejectedPromise = /*#__PURE__*/ _createRejectedPromise(createIdlePromise);\nfunction createIdleAllSettledPromise(input, timeout) {\n    !_allIdleSettledCreator && (_allIdleSettledCreator = _createAllSettledPromise(createIdlePromise));\n    return _allIdleSettledCreator.v(input, timeout);\n}\nfunction createIdleRacePromise(values, timeout) {\n    !_raceIdleCreator && (_raceIdleCreator = _createRacePromise(createIdlePromise));\n    return _raceIdleCreator.v(values, timeout);\n}\nfunction createIdleAnyPromise(values, timeout) {\n    !_anyIdleCreator && (_anyIdleCreator = _createAnyPromise(createIdlePromise));\n    return _anyIdleCreator.v(values, timeout);\n}\n\nvar _promiseCreator;\nvar _allSettledCreator;\nvar _raceCreator;\nvar _anyCreator;\nfunction setCreatePromiseImpl(creator) {\n    _promiseCreator = creator ? createCachedValue(creator) : null;\n}\nfunction createPromise(executor, timeout) {\n    !_promiseCreator && (_promiseCreator = createCachedValue(createNativePromise));\n    return _promiseCreator.v.call(this, executor, timeout);\n}\nvar createAllPromise = /*#__PURE__*/ _createAllPromise(createPromise);\nvar createResolvedPromise = /*#__PURE__*/ _createResolvedPromise(createPromise);\nvar createRejectedPromise = /*#__PURE__*/ _createRejectedPromise(createPromise);\nfunction createAllSettledPromise(input, timeout) {\n    !_allSettledCreator && (_allSettledCreator = _createAllSettledPromise(createPromise));\n    return _allSettledCreator.v(input, timeout);\n}\nfunction createRacePromise(values, timeout) {\n    !_raceCreator && (_raceCreator = _createRacePromise(createPromise));\n    return _raceCreator.v(values, timeout);\n}\nfunction createAnyPromise(values, timeout) {\n    !_anyCreator && (_anyCreator = _createAnyPromise(createPromise));\n    return _anyCreator.v(values, timeout);\n}\n\nfunction createTimeoutPromise(timeout, resolveReject, message) {\n    return createPromise(function (resolve, reject) {\n        scheduleTimeout(function () {\n            (resolveReject ? resolve : reject)(!isUndefined(message) ? message : \"Timeout of \" + timeout + \"ms exceeded\");\n        }, timeout);\n    });\n}\n\nfunction _doneChk(isDone, state, value, thisArg) {\n    var result = isDone;\n    state.res = value;\n    if (!result) {\n        if (state.isDone && isFunction(state.isDone)) {\n            return doAwait(state.isDone.call(thisArg, state), function (done) {\n                state.iter++;\n                return !!done;\n            });\n        }\n        else {\n            result = !!state.isDone;\n        }\n    }\n    state.iter++;\n    return result;\n}\nfunction doWhileAsync(callbackFn, isDoneFn, thisArg) {\n    var promise;\n    var resolve;\n    var reject = function (reason) {\n        isDone = true;\n        throw reason;\n    };\n    var isDone = false;\n    var state = {\n        st: utcNow(),\n        iter: 0,\n        isDone: isDoneFn || false\n    };\n    if (callbackFn) {\n        var _createPromise_1 = function () {\n            return createPromise(function (res, rej) {\n                resolve = res;\n                reject = rej;\n            });\n        };\n        var _handleAsyncDone_1 = function (done) {\n            isDone = !!done;\n            if (!isDone) {\n                _processNext_1();\n            }\n            else {\n                resolve(state.res);\n            }\n        };\n        var _processNext_1 = function () {\n            while (!isDone) {\n                try {\n                    var cbResult = callbackFn.call(thisArg, state);\n                    if (isPromiseLike(cbResult)) {\n                        promise = promise || _createPromise_1();\n                        doAwait(cbResult, function (res) {\n                            try {\n                                doAwait(_doneChk(isDone, state, res, thisArg), _handleAsyncDone_1, reject);\n                            }\n                            catch (e) {\n                                reject(e);\n                            }\n                        }, reject);\n                        return promise;\n                    }\n                    else {\n                        var dnRes = _doneChk(isDone, state, cbResult, thisArg);\n                        if (isPromiseLike(dnRes)) {\n                            promise = promise || _createPromise_1();\n                            doAwait(dnRes, _handleAsyncDone_1, reject);\n                            return promise;\n                        }\n                        else {\n                            isDone = !!dnRes;\n                        }\n                    }\n                }\n                catch (e) {\n                    reject(e);\n                    return promise;\n                }\n            }\n            if (isDone && resolve) {\n                resolve(state.res);\n            }\n            return promise || state.res;\n        };\n        return _processNext_1();\n    }\n}\n\nfunction arrForEachAsync(theArray, callbackFn, thisArg) {\n    if (theArray) {\n        var len_1 = getLength(theArray);\n        if (len_1) {\n            var isDone = function (state) {\n                if (state.iter >= len_1 || state.res === -1) {\n                    return true;\n                }\n            };\n            return doWhileAsync(function (state) {\n                var idx = state.iter;\n                if (idx in theArray) {\n                    return callbackFn.call(thisArg || theArray, theArray[idx], idx, theArray);\n                }\n            }, isDone);\n        }\n    }\n}\n\nvar _iterSymbol;\nvar _iterAsyncSymbol;\nfunction iterForOfAsync(iter, callbackFn, thisArg) {\n    var err;\n    var iterResult;\n    var theIter = iter;\n    function onFailed(failed) {\n        err = { e: failed };\n        if (theIter.throw) {\n            iterResult = null;\n            theIter.throw(err);\n        }\n        throw failed;\n    }\n    function onFinally() {\n        try {\n            if (iterResult && !iterResult[DONE]) {\n                theIter[RETURN] && theIter[RETURN](iterResult);\n            }\n        }\n        finally {\n            if (err) {\n                throw err.e;\n            }\n        }\n    }\n    if (iter) {\n        if (!isIterator(iter)) {\n            !_iterAsyncSymbol && (_iterAsyncSymbol = createCachedValue(getKnownSymbol(0 )));\n            theIter = iter[_iterAsyncSymbol.v] ? iter[_iterAsyncSymbol.v]() : null;\n            if (!theIter) {\n                !_iterSymbol && (_iterSymbol = createCachedValue(getKnownSymbol(3 )));\n                theIter = iter[_iterSymbol.v] ? iter[_iterSymbol.v]() : null;\n            }\n        }\n        if (theIter && isIterator(theIter)) {\n            var result = void 0;\n            try {\n                result = doWhileAsync(function (state) {\n                    return doAwait(theIter.next(), function (res) {\n                        iterResult = res;\n                        if (!res[DONE]) {\n                            return fnCall(callbackFn, thisArg || theIter, iterResult[VALUE], state.iter, theIter);\n                        }\n                    }, function (reason) {\n                        state.isDone = true;\n                        onFailed(reason);\n                    });\n                }, function (state) {\n                    if (!iterResult || iterResult[DONE] || state.res === -1) {\n                        onFinally();\n                        return true;\n                    }\n                }, thisArg || theIter);\n                if (isPromiseLike(result)) {\n                    result = doFinally(result.catch(onFailed), onFinally);\n                }\n                return result;\n            }\n            catch (failed) {\n                onFailed(failed);\n            }\n            finally {\n                if (result && !isPromiseLike(result)) {\n                    onFinally();\n                }\n            }\n        }\n    }\n}\n\nvar REJECT = \"reject\";\nvar REJECTED_ERROR = \"Rejected\";\nvar _schedulerId = 0;\nvar _debugName;\nvar _debugIntState;\nvar _customErrors = {};\nfunction _rejectDone() {\n}\nfunction _createError(type, evt, message) {\n    !_customErrors[type] && (_customErrors[type] = createCustomError(type));\n    var now = utcNow();\n    return new (_customErrors[type])(\"Task [\".concat(evt.id, \"] \").concat(message || \"\", \"- \").concat((evt.st ? \"Running\" : \"Waiting\"), \": \").concat(_calcTime(now, evt.st || evt.cr)));\n}\nfunction _calcTime(now, start) {\n    return ((now - start) || \"0\") + \" ms\";\n}\nfunction _abortStaleTasks(taskQueue, staleTimeoutPeriod) {\n    var now = utcNow();\n    var expired = now - staleTimeoutPeriod;\n    arrForEach(taskQueue, function (evt) {\n        if (evt && !evt.rj && (evt.st && evt.st < expired) || (!evt.st && evt.cr && evt.cr < expired)) {\n            evt && evt[REJECT](evt.rj || _createError(\"Aborted\", evt, \"Stale \"));\n        }\n    });\n}\nfunction _removeTask(queue, taskDetail) {\n    var idx = arrIndexOf(queue, taskDetail);\n    if (idx !== -1) {\n        queue.splice(idx, 1);\n    }\n}\nfunction _addDebugState(theScheduler, nameFn, stateFn) {\n    _debugName = _debugName || { toString: function () { return \"[[SchedulerName]]\"; } };\n    _debugIntState = _debugIntState || { toString: function () { return \"[[SchedulerState]]\"; } };\n    objDefineProp(theScheduler, _debugName, { get: nameFn });\n    objDefineProp(theScheduler, _debugIntState, { get: stateFn });\n}\nfunction createTaskScheduler(newPromise, name) {\n    var _theTask;\n    var _running = [];\n    var _waiting = [];\n    var _staleTimeoutPeriod = 600000;\n    var _staleTimeoutCheckPeriod = _staleTimeoutPeriod / 10;\n    var _taskCount = 0;\n    var _schedulerName = (name ? (name + \".\") : \"\") + _schedulerId++;\n    var _blockedTimer;\n    newPromise = newPromise || createPromise;\n    var _startBlockedTimer = function () {\n        var hasTasks = (getLength(_running) + getLength(_waiting)) > 0;\n        if (_staleTimeoutPeriod > 0) {\n            if (!_blockedTimer) {\n                _blockedTimer = scheduleTimeout(function () {\n                    _abortStaleTasks(_running, _staleTimeoutPeriod);\n                    _abortStaleTasks(_waiting, _staleTimeoutPeriod);\n                    _blockedTimer && (_blockedTimer.enabled = ((getLength(_running) + getLength(_waiting)) > 0));\n                }, _staleTimeoutCheckPeriod);\n                _blockedTimer.unref();\n            }\n            _blockedTimer && (_blockedTimer.enabled = hasTasks);\n        }\n    };\n    var _queueTask = function (startAction, taskName, timeout) {\n        var _a;\n        var taskId = _schedulerName + \".\" + _taskCount++;\n        if (taskName) {\n            taskId += \"-(\" + taskName + \")\";\n        }\n        var newTask = (_a = {\n                id: taskId,\n                cr: utcNow(),\n                to: timeout\n            },\n            _a[REJECT] = function (reason) {\n                newTask.rj = reason || _createError(REJECTED_ERROR, newTask);\n                newTask[REJECT] = _rejectDone;\n            },\n            _a);\n        if (!_theTask) {\n            newTask.p = newPromise(_runTask(newTask, startAction));\n        }\n        else {\n            newTask.p = _waitForPreviousTask(newTask, _theTask, startAction);\n        }\n        _theTask = newTask;\n        return newTask.p;\n    };\n    var _runTask = function (taskDetail, startAction) {\n        taskDetail.st = utcNow();\n        _running.push(taskDetail);\n        _startBlockedTimer();\n        return function (onTaskResolve, onTaskReject) {\n            var _promiseReject = function (reason) {\n                taskDetail.rj = taskDetail.rj || reason || _createError(REJECTED_ERROR, taskDetail);\n                taskDetail[REJECT] = _rejectDone;\n                _doCleanup(taskDetail);\n                onTaskResolve = null;\n                onTaskReject && onTaskReject(reason);\n                onTaskReject = null;\n            };\n            var taskId = taskDetail.id;\n            if (taskDetail.rj) {\n                _promiseReject(taskDetail.rj);\n            }\n            else {\n                taskDetail[REJECT] = _promiseReject;\n                try {\n                    var startResult = startAction(taskId);\n                    if (taskDetail.to && isPromiseLike(startResult)) {\n                        taskDetail.t = scheduleTimeout(function () {\n                            _promiseReject(_createError(\"Timeout\", taskDetail));\n                        }, taskDetail.to);\n                    }\n                    doAwait(startResult, function (theResult) {\n                        _doCleanup(taskDetail);\n                        try {\n                            onTaskResolve && onTaskResolve(theResult);\n                        }\n                        catch (e) {\n                            onTaskReject && onTaskReject(e);\n                        }\n                        onTaskReject = null;\n                        onTaskResolve = null;\n                    }, _promiseReject);\n                }\n                catch (e) {\n                    _promiseReject(e);\n                }\n            }\n        };\n    };\n    var _waitForPreviousTask = function (taskDetail, prevTask, startAction) {\n        _waiting.push(taskDetail);\n        _startBlockedTimer();\n        return newPromise(function (onWaitResolve, onWaitReject) {\n            doAwaitResponse(prevTask.p, function () {\n                _removeTask(_waiting, taskDetail);\n                _runTask(taskDetail, startAction)(onWaitResolve, onWaitReject);\n            });\n        });\n    };\n    var _doCleanup = function (taskDetail) {\n        _removeTask(_running, taskDetail);\n        taskDetail.t && taskDetail.t.cancel();\n        taskDetail.t = null;\n        if (_theTask && _theTask === taskDetail) {\n            _theTask = null;\n            if (getLength(_running) + getLength(_waiting) === 0) {\n                _blockedTimer && _blockedTimer.cancel();\n                _blockedTimer = null;\n            }\n        }\n    };\n    var theScheduler = {\n        idle: true,\n        queue: _queueTask,\n        setStaleTimeout: function (staleTimeout, staleCheckPeriod) {\n            _blockedTimer && _blockedTimer.cancel();\n            _blockedTimer = null;\n            _staleTimeoutPeriod = staleTimeout;\n            _staleTimeoutCheckPeriod = staleCheckPeriod || staleTimeout / 10;\n            _startBlockedTimer();\n        }\n    };\n    objDefine(theScheduler, \"idle\", {\n        g: function () {\n            return getLength(_running) + getLength(_waiting) === 0;\n        }\n    });\n    _addDebugState(theScheduler, function () { return _schedulerName; }, function () {\n        return {\n            l: _theTask,\n            r: _running,\n            w: _waiting\n        };\n    });\n    return theScheduler;\n}\n\nvar toStringTagSymbol = getKnownSymbol(11 );\nvar PolyPromise = /*#__PURE__*/ (function () {\n    function PolyPromiseImpl(executor) {\n        this._$ = createAsyncPromise(executor);\n        if (toStringTagSymbol) {\n            this[toStringTagSymbol] = \"Promise\";\n        }\n        objDefineProp(this, \"state\", {\n            get: function () {\n                return this._$.state;\n            }\n        });\n    }\n    PolyPromiseImpl.all = createAsyncAllPromise;\n    PolyPromiseImpl.race = createAsyncRacePromise;\n    PolyPromiseImpl.any = createAsyncAnyPromise;\n    PolyPromiseImpl.reject = createAsyncRejectedPromise;\n    PolyPromiseImpl.resolve = createAsyncResolvedPromise;\n    PolyPromiseImpl.allSettled = createAsyncAllSettledPromise;\n    var theProto = PolyPromiseImpl.prototype;\n    theProto.then = function (onResolved, onRejected) {\n        return this._$.then(onResolved, onRejected);\n    };\n    theProto.catch = function (onRejected) {\n        return this._$.catch(onRejected);\n    };\n    theProto.finally = function (onfinally) {\n        return this._$.finally(onfinally);\n    };\n    return PolyPromiseImpl;\n}());\n\nexport { PolyPromise, arrForEachAsync, createAllPromise, createAllSettledPromise, createAnyPromise, createAsyncAllPromise, createAsyncAllSettledPromise, createAsyncAnyPromise, createAsyncPromise, createAsyncRacePromise, createAsyncRejectedPromise, createAsyncResolvedPromise, createIdleAllPromise, createIdleAllSettledPromise, createIdleAnyPromise, createIdlePromise, createIdleRacePromise, createIdleRejectedPromise, createIdleResolvedPromise, createNativeAllPromise, createNativeAllSettledPromise, createNativeAnyPromise, createNativePromise, createNativeRacePromise, createNativeRejectedPromise, createNativeResolvedPromise, createPromise, createRacePromise, createRejectedPromise, createResolvedPromise, createSyncAllPromise, createSyncAllSettledPromise, createSyncAnyPromise, createSyncPromise, createSyncRacePromise, createSyncRejectedPromise, createSyncResolvedPromise, createTaskScheduler, createTimeoutPromise, doAwait, doAwaitResponse, doFinally, doWhileAsync, iterForOfAsync, setCreatePromiseImpl, setDefaultIdlePromiseTimeout, setDefaultIdleTimeout, setPromiseDebugState };\n//# sourceMappingURL=ts-async.js.map\n","/*! https://github.com/nevware21/ts-utils v0.11.6 */\n/*\n * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.\n * Licensed under the MIT license.\n */\n/*#__NO_SIDE_EFFECTS__*/\nfunction _pureAssign(func1, func2) {\n    return func1 || func2;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _pureRef(value, name) {\n    return value[name];\n}\n\nvar UNDEF_VALUE = undefined;\nvar NULL_VALUE = null;\nvar EMPTY = \"\";\nvar FUNCTION = \"function\";\nvar OBJECT = \"object\";\nvar PROTOTYPE = \"prototype\";\nvar __PROTO__ = \"__proto__\";\nvar UNDEFINED = \"undefined\";\nvar CONSTRUCTOR = \"constructor\";\nvar SYMBOL = \"Symbol\";\nvar POLYFILL_TAG = \"_polyfill\";\nvar LENGTH = \"length\";\nvar NAME = \"name\";\nvar CALL = \"call\";\nvar TO_STRING = \"toString\";\nvar ObjClass = ( /*#__PURE__*/_pureAssign(Object));\nvar ObjProto = ( /*#__PURE__*/_pureRef(ObjClass, PROTOTYPE));\nvar StrCls = ( /*#__PURE__*/_pureAssign(String));\nvar StrProto = ( /*#__PURE__*/_pureRef(StrCls, PROTOTYPE));\nvar MathCls = ( /*#__PURE__*/_pureAssign(Math));\nvar ArrCls = ( /*#__PURE__*/_pureAssign(Array));\nvar ArrProto = ( /*#__PURE__*/_pureRef(ArrCls, PROTOTYPE));\nvar ArrSlice = ( /*#__PURE__*/_pureRef(ArrProto, \"slice\"));\n\nfunction safe(func, argArray) {\n    try {\n        return {\n            v: func.apply(this, argArray)\n        };\n    }\n    catch (e) {\n        return { e: e };\n    }\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction safeGet(cb, defValue) {\n    var result = safe(cb);\n    return result.e ? defValue : result.v;\n}\n\nvar _primitiveTypes;\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createIs(theType) {\n    return function (value) {\n        return typeof value === theType;\n    };\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createObjIs(theName) {\n    var theType = \"[object \" + theName + \"]\";\n    return function (value) {\n        return !!(value && objToString(value) === theType);\n    };\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction objToString(value) {\n    return ObjProto[TO_STRING].call(value);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction isTypeof(value, theType) {\n    return typeof value === theType;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction isUndefined(value) {\n    return typeof value === UNDEFINED || value === UNDEFINED;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction isStrictUndefined(arg) {\n    return !isDefined(arg);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction isNullOrUndefined(value) {\n    return value === NULL_VALUE || isUndefined(value);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction isStrictNullOrUndefined(value) {\n    return value === NULL_VALUE || !isDefined(value);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction isDefined(arg) {\n    return !!arg || arg !== UNDEF_VALUE;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction isPrimitive(value) {\n    return value === NULL_VALUE || isPrimitiveType(typeof value);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction isPrimitiveType(theType) {\n    !_primitiveTypes && (_primitiveTypes = [\"string\", \"number\", \"boolean\", UNDEFINED, \"symbol\", \"bigint\"]);\n    return !!(theType !== OBJECT && _primitiveTypes.indexOf(theType) !== -1);\n}\nvar isString = ( /*#__PURE__*/_createIs(\"string\"));\nvar isFunction = ( /*#__PURE__*/_createIs(FUNCTION));\n/*#__NO_SIDE_EFFECTS__*/\nfunction isObject(value) {\n    if (!value && isNullOrUndefined(value)) {\n        return false;\n    }\n    return !!value && typeof value === OBJECT;\n}\nvar isArray = ( /* #__PURE__*/_pureRef(ArrCls, \"isArray\"));\nvar isDate = ( /*#__PURE__*/_createObjIs(\"Date\"));\nvar isNumber = ( /*#__PURE__*/_createIs(\"number\"));\nvar isBoolean = ( /*#__PURE__*/_createIs(\"boolean\"));\nvar isRegExp = ( /*#__PURE__*/_createObjIs(\"RegExp\"));\nvar isFile = ( /*#__PURE__*/_createObjIs(\"File\"));\nvar isFormData = ( /*#__PURE__*/_createObjIs(\"FormData\"));\nvar isBlob = ( /*#__PURE__*/_createObjIs(\"Blob\"));\nvar isArrayBuffer = ( /*#__PURE__*/_createObjIs(\"ArrayBuffer\"));\nvar isError = ( /*#__PURE__*/_createObjIs(\"Error\"));\n/*#__NO_SIDE_EFFECTS__*/\nfunction isPromiseLike(value) {\n    return !!(value && value.then && isFunction(value.then));\n}\nvar isThenable = isPromiseLike;\n/*#__NO_SIDE_EFFECTS__*/\nfunction isPromise(value) {\n    return !!(value && value.then && value.catch && isFunction(value.then) && isFunction(value.catch));\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction isNotTruthy(value) {\n    return !value || !isTruthy(value);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction isTruthy(value) {\n    return !(!value || safeGet(function () { return !(value && (0 + value)); }, !value));\n}\n\nvar objGetOwnPropertyDescriptor = ( /* #__PURE__ */_pureRef(ObjClass, \"getOwnPropertyDescriptor\"));\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction objHasOwnProperty(obj, prop) {\n    return !!obj && ObjProto.hasOwnProperty[CALL](obj, prop);\n}\n\nvar objHasOwn = ( /*#__PURE__*/_pureAssign(( /* #__PURE__ */_pureRef(ObjClass, \"hasOwn\")), polyObjHasOwn));\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyObjHasOwn(obj, prop) {\n    return objHasOwnProperty(obj, prop) || !!objGetOwnPropertyDescriptor(obj, prop);\n}\n\nfunction objForEachKey(theObject, callbackfn, thisArg) {\n    if (theObject && isObject(theObject)) {\n        for (var prop in theObject) {\n            if (objHasOwn(theObject, prop)) {\n                if (callbackfn[CALL](thisArg || theObject, prop, theObject[prop]) === -1) {\n                    break;\n                }\n            }\n        }\n    }\n}\n\nvar propMap = {\n    e: \"enumerable\",\n    c: \"configurable\",\n    v: \"value\",\n    w: \"writable\",\n    g: \"get\",\n    s: \"set\"\n};\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createProp(value) {\n    var prop = {};\n    prop[propMap[\"c\"]] = true;\n    prop[propMap[\"e\"]] = true;\n    if (value.l) {\n        prop.get = function () { return value.l.v; };\n        var desc = objGetOwnPropertyDescriptor(value.l, \"v\");\n        if (desc && desc.set) {\n            prop.set = function (newValue) {\n                value.l.v = newValue;\n            };\n        }\n    }\n    objForEachKey(value, function (key, value) {\n        prop[propMap[key]] = isStrictUndefined(value) ? prop[propMap[key]] : value;\n    });\n    return prop;\n}\nvar objDefineProp = ( /*#__PURE__*/_pureRef(ObjClass, \"defineProperty\"));\nvar objDefineProperties = ( /*#__PURE__*/_pureRef(ObjClass, \"defineProperties\"));\nfunction objDefineGet(target, key, value, configurable, enumerable) {\n    var _a;\n    return objDefineProp(target, key, _createProp((_a = {\n            e: enumerable,\n            c: configurable\n        },\n        _a[isFunction(value) ? \"g\" : \"v\"] = value,\n        _a)));\n}\nfunction objDefineAccessors(target, prop, getProp, setProp, configurable, enumerable) {\n    var desc = {\n        e: enumerable,\n        c: configurable\n    };\n    if (getProp) {\n        desc.g = getProp;\n    }\n    if (setProp) {\n        desc.s = setProp;\n    }\n    return objDefineProp(target, prop, _createProp(desc));\n}\nfunction objDefine(target, key, propDesc) {\n    return objDefineProp(target, key, _createProp(propDesc));\n}\nfunction objDefineProps(target, propDescMap) {\n    var props = {};\n    objForEachKey(propDescMap, function (key, value) {\n        props[key] = _createProp(value);\n    });\n    return objDefineProperties(target, props);\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createKeyValueMap(values, keyType, valueType, completeFn, writable) {\n    var theMap = {};\n    objForEachKey(values, function (key, value) {\n        _assignMapValue(theMap, key, keyType ? value : key, writable);\n        _assignMapValue(theMap, value, valueType ? value : key, writable);\n    });\n    return completeFn ? completeFn(theMap) : theMap;\n}\nfunction _assignMapValue(theMap, key, value, writable) {\n    objDefineProp(theMap, key, {\n        value: value,\n        enumerable: true,\n        writable: !!writable\n    });\n}\n\nvar asString = ( /* #__PURE__ */_pureAssign(StrCls));\n\nvar ERROR_TYPE = \"[object Error]\";\n/*#__NO_SIDE_EFFECTS__*/\nfunction dumpObj(object, format) {\n    var propertyValueDump = EMPTY;\n    var objType = ObjProto[TO_STRING][CALL](object);\n    if (objType === ERROR_TYPE) {\n        object = { stack: asString(object.stack), message: asString(object.message), name: asString(object.name) };\n    }\n    try {\n        propertyValueDump = JSON.stringify(object, NULL_VALUE, format ? ((typeof format === \"number\") ? format : 4) : UNDEF_VALUE);\n        propertyValueDump = (propertyValueDump ? propertyValueDump.replace(/\"(\\w+)\"\\s*:\\s{0,1}/g, \"$1: \") : NULL_VALUE) || asString(object);\n    }\n    catch (e) {\n        propertyValueDump = \" - \" + dumpObj(e, format);\n    }\n    return objType + \": \" + propertyValueDump;\n}\n\nfunction throwError(message) {\n    throw new Error(message);\n}\nfunction throwTypeError(message) {\n    throw new TypeError(message);\n}\nfunction throwRangeError(message) {\n    throw new RangeError(message);\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyObjKeys(obj) {\n    if (!isObject(obj) || obj === NULL_VALUE) {\n        throwTypeError(\"non-object \" + dumpObj(obj));\n    }\n    var result = [];\n    for (var prop in obj) {\n        if (objHasOwn(obj, prop)) {\n            result.push(prop);\n        }\n    }\n    return result;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyObjEntries(value) {\n    var result = [];\n    objForEachKey(value, function (key, value) {\n        result.push([key, value]);\n    });\n    return result;\n}\n\nvar _objFreeze = ( /* #__PURE__ */_pureRef(ObjClass, \"freeze\"));\nfunction _doNothing(value) {\n    return value;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _getProto(value) {\n    return value[__PROTO__] || NULL_VALUE;\n}\nvar objAssign = ( /*#__PURE__*/_pureRef(ObjClass, \"assign\"));\nvar objKeys = ( /*#__PURE__*/_pureRef(ObjClass, \"keys\"));\nfunction objDeepFreeze(value) {\n    if (_objFreeze) {\n        objForEachKey(value, function (key, value) {\n            if (isArray(value) || isObject(value)) {\n                objDeepFreeze(value);\n            }\n        });\n    }\n    return objFreeze(value);\n}\nvar objFreeze = ( /* #__PURE__*/_pureAssign(_objFreeze, _doNothing));\nvar objSeal = ( /* #__PURE__*/_pureAssign(( /* #__PURE__*/_pureRef(ObjClass, \"seal\")), _doNothing));\nvar objGetPrototypeOf = ( /* #__PURE__*/_pureAssign(( /* #__PURE__*/_pureRef(ObjClass, \"getPrototypeOf\")), _getProto));\nvar objEntries = ( /* #__PURE__*/_pureAssign(( /* #__PURE__*/_pureRef(ObjClass, \"entries\")), polyObjEntries));\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction createEnum(values) {\n    return _createKeyValueMap(values, 1 , 0 , objFreeze);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction createEnumKeyMap(values) {\n    return _createKeyValueMap(values, 0 , 0 , objFreeze);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction createEnumValueMap(values) {\n    return _createKeyValueMap(values, 1 , 1 , objFreeze);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction createSimpleMap(values) {\n    var mapClass = {};\n    objForEachKey(values, function (key, value) {\n        _assignMapValue(mapClass, key, value[1]);\n        _assignMapValue(mapClass, value[0], value[1]);\n    });\n    return objFreeze(mapClass);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction createTypeMap(values) {\n    return createSimpleMap(values);\n}\n\nvar _wellKnownSymbolMap = /*#__PURE__*/ createEnumKeyMap({\n    asyncIterator: 0 ,\n    hasInstance: 1 ,\n    isConcatSpreadable: 2 ,\n    iterator: 3 ,\n    match: 4 ,\n    matchAll: 5 ,\n    replace: 6 ,\n    search: 7 ,\n    species: 8 ,\n    split: 9 ,\n    toPrimitive: 10 ,\n    toStringTag: 11 ,\n    unscopables: 12\n});\n\nvar GLOBAL_CONFIG_KEY = \"__tsUtils$gblCfg\";\nvar _globalCfg;\n/*#__NO_SIDE_EFFECTS__*/\nfunction _getGlobalValue() {\n    var result;\n    if (typeof globalThis !== UNDEFINED) {\n        result = globalThis;\n    }\n    if (!result && typeof self !== UNDEFINED) {\n        result = self;\n    }\n    if (!result && typeof window !== UNDEFINED) {\n        result = window;\n    }\n    if (!result && typeof global !== UNDEFINED) {\n        result = global;\n    }\n    return result;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _getGlobalConfig() {\n    if (!_globalCfg) {\n        var gbl = safe(_getGlobalValue).v || {};\n        _globalCfg = gbl[GLOBAL_CONFIG_KEY] = gbl[GLOBAL_CONFIG_KEY] || {};\n    }\n    return _globalCfg;\n}\n\nvar _unwrapFunction = ( _unwrapFunctionWithPoly);\n/*#__NO_SIDE_EFFECTS__*/\nfunction _unwrapFunctionWithPoly(funcName, clsProto, polyFunc) {\n    var clsFn = clsProto ? clsProto[funcName] : NULL_VALUE;\n    return function (thisArg) {\n        var theFunc = (thisArg ? thisArg[funcName] : NULL_VALUE) || clsFn;\n        if (theFunc || polyFunc) {\n            var theArgs = arguments;\n            return (theFunc || polyFunc).apply(thisArg, theFunc ? ArrSlice[CALL](theArgs, 1) : theArgs);\n        }\n        throwTypeError(\"\\\"\" + asString(funcName) + \"\\\" not defined for \" + dumpObj(thisArg));\n    };\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _unwrapProp(propName) {\n    return function (thisArg) {\n        return thisArg[propName];\n    };\n}\n\nvar mathMin = ( /*#__PURE__*/_pureRef(MathCls, \"min\"));\nvar mathMax = ( /*#__PURE__*/_pureRef(MathCls, \"max\"));\n\nvar strSlice = ( /*#__PURE__*/_unwrapFunction(\"slice\", StrProto));\n\nvar strSubstring = ( /*#__PURE__*/_unwrapFunction(\"substring\", StrProto));\nvar strSubstr = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"substr\", StrProto, polyStrSubstr));\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyStrSubstr(value, start, length) {\n    if (isNullOrUndefined(value)) {\n        throwTypeError(\"Invalid \" + dumpObj(value));\n    }\n    if (length < 0) {\n        return EMPTY;\n    }\n    start = start || 0;\n    if (start < 0) {\n        start = mathMax(start + value[LENGTH], 0);\n    }\n    if (isUndefined(length)) {\n        return strSlice(value, start);\n    }\n    return strSlice(value, start, start + length);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction strLeft(value, count) {\n    return strSubstring(value, 0, count);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction strRight(value, count) {\n    return count <= 0 ? EMPTY : (value[LENGTH] > count ? strSlice(value, -count) : value);\n}\n\nvar UNIQUE_REGISTRY_ID = \"_urid\";\nvar _polySymbols;\n/*#__NO_SIDE_EFFECTS__*/\nfunction _globalSymbolRegistry() {\n    if (!_polySymbols) {\n        var gblCfg = _getGlobalConfig();\n        _polySymbols = gblCfg.gblSym = gblCfg.gblSym || { k: {}, s: {} };\n    }\n    return _polySymbols;\n}\nvar _wellKnownSymbolCache;\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyNewSymbol(description) {\n    var theSymbol = {\n        description: asString(description),\n        toString: function () { return SYMBOL + \"(\" + description + \")\"; }\n    };\n    theSymbol[POLYFILL_TAG] = true;\n    return theSymbol;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction polySymbolFor(key) {\n    var registry = _globalSymbolRegistry();\n    if (!objHasOwn(registry.k, key)) {\n        var newSymbol_1 = polyNewSymbol(key);\n        var regId_1 = objKeys(registry.s).length;\n        newSymbol_1[UNIQUE_REGISTRY_ID] = function () { return regId_1 + \"_\" + newSymbol_1[TO_STRING](); };\n        registry.k[key] = newSymbol_1;\n        registry.s[newSymbol_1[UNIQUE_REGISTRY_ID]()] = asString(key);\n    }\n    return registry.k[key];\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction polySymbolKeyFor(sym) {\n    if (!sym || !sym[TO_STRING] || strSubstring(sym[TO_STRING](), 0, 6) != SYMBOL) {\n        throwTypeError(sym + \" is not a symbol\");\n    }\n    var regId = sym[POLYFILL_TAG] && sym[UNIQUE_REGISTRY_ID] && sym[UNIQUE_REGISTRY_ID]();\n    return regId ? _globalSymbolRegistry().s[regId] : undefined;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyGetKnownSymbol(name) {\n    !_wellKnownSymbolCache && (_wellKnownSymbolCache = {});\n    var result;\n    var knownName = _wellKnownSymbolMap[name];\n    if (knownName) {\n        result = _wellKnownSymbolCache[knownName] = _wellKnownSymbolCache[knownName] || polyNewSymbol(SYMBOL + \".\" + knownName);\n    }\n    return result;\n}\n\nvar _globalLazyTestHooks;\nfunction _initTestHooks() {\n    _globalLazyTestHooks = _getGlobalConfig();\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction getLazy(cb) {\n    var lazyValue = {};\n    !_globalLazyTestHooks && _initTestHooks();\n    lazyValue.b = _globalLazyTestHooks.lzy;\n    objDefineProp(lazyValue, \"v\", {\n        configurable: true,\n        get: function () {\n            var result = cb();\n            if (!_globalLazyTestHooks.lzy) {\n                objDefineProp(lazyValue, \"v\", {\n                    value: result\n                });\n            }\n            lazyValue.b = _globalLazyTestHooks.lzy;\n            return result;\n        }\n    });\n    return lazyValue;\n}\nfunction setBypassLazyCache(newValue) {\n    !_globalLazyTestHooks && _initTestHooks();\n    _globalLazyTestHooks.lzy = newValue;\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction createCachedValue(value) {\n    return objDefineProp({\n        toJSON: function () { return value; }\n    }, \"v\", { value: value });\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction createDeferredCachedValue(cb) {\n    var theValue = {\n        toJSON: function () { return theValue.v; }\n    };\n    return objDefineProp(theValue, \"v\", {\n        get: function () {\n            var result = cb();\n            cb = NULL_VALUE;\n            objDefineProp(theValue, \"v\", { value: result });\n            return result;\n        },\n        configurable: true\n    });\n}\n\nvar WINDOW = \"window\";\nvar _cachedGlobal;\nfunction _getGlobalInstFn(getFn, theArgs) {\n    var cachedValue;\n    return function () {\n        !_globalLazyTestHooks && _initTestHooks();\n        if (!cachedValue || _globalLazyTestHooks.lzy) {\n            cachedValue = createCachedValue(safe(getFn, theArgs).v);\n        }\n        return cachedValue.v;\n    };\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction lazySafeGetInst(name) {\n    return getLazy(function () { return safe((getInst), [name]).v || UNDEF_VALUE; });\n}\nfunction getGlobal(useCached) {\n    !_globalLazyTestHooks && _initTestHooks();\n    if (!_cachedGlobal || useCached === false || _globalLazyTestHooks.lzy) {\n        _cachedGlobal = createCachedValue(safe(_getGlobalValue).v || NULL_VALUE);\n    }\n    return _cachedGlobal.v;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction getInst(name, useCached) {\n    var gbl;\n    if (!_cachedGlobal || useCached === false) {\n        gbl = getGlobal(useCached);\n    }\n    else {\n        gbl = _cachedGlobal.v;\n    }\n    if (gbl && gbl[name]) {\n        return gbl[name];\n    }\n    if (name === WINDOW) {\n        try {\n            return window;\n        }\n        catch (e) {\n        }\n    }\n    return NULL_VALUE;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction hasDocument() {\n    return !!( /*#__PURE__*/getDocument());\n}\nvar getDocument = ( /*#__PURE__*/_getGlobalInstFn(getInst, [\"document\"]));\n/*#__NO_SIDE_EFFECTS__*/\nfunction hasWindow() {\n    return !!( /*#__PURE__*/getWindow());\n}\nvar getWindow = ( /*#__PURE__*/_getGlobalInstFn(getInst, [WINDOW]));\n/*#__NO_SIDE_EFFECTS__*/\nfunction hasNavigator() {\n    return !!( /*#__PURE__*/getNavigator());\n}\nvar getNavigator = ( /*#__PURE__*/_getGlobalInstFn(getInst, [\"navigator\"]));\n/*#__NO_SIDE_EFFECTS__*/\nfunction hasHistory() {\n    return !!( /*#__PURE__*/getHistory());\n}\nvar getHistory = ( /*#__PURE__*/_getGlobalInstFn(getInst, [\"history\"]));\nvar isNode = ( /*#__PURE__*/_getGlobalInstFn(function () {\n    return !!( /*#__PURE__*/safe(function () { return (process && (process.versions || {}).node); }).v);\n}));\nvar isWebWorker = ( /*#__PURE__*/_getGlobalInstFn(function () {\n    return !!( /*#__PURE__*/safe(function () { return self && self instanceof WorkerGlobalScope; }).v);\n}));\n\nvar _symbol;\nvar _symbolFor;\nvar _symbolKeyFor;\n/*#__NO_SIDE_EFFECTS__*/\nfunction _initSymbol() {\n    _symbol = ( /*#__PURE__*/createCachedValue(safe((getInst), [SYMBOL]).v));\n    return _symbol;\n}\nfunction _getSymbolKey(key) {\n    var gblSym = ((!_globalLazyTestHooks.lzy ? _symbol : 0) || _initSymbol());\n    return (gblSym.v ? gblSym.v[key] : UNDEF_VALUE);\n}\nvar isSymbol = ( /*#__PURE__*/_createIs(\"symbol\"));\n/*#__NO_SIDE_EFFECTS__*/\nfunction hasSymbol() {\n    return !!( /*#__PURE__*/getSymbol());\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction getSymbol() {\n    !_globalLazyTestHooks && _initTestHooks();\n    return ((!_globalLazyTestHooks.lzy ? _symbol : 0) || _initSymbol()).v;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction getKnownSymbol(name, noPoly) {\n    var knownName = _wellKnownSymbolMap[name];\n    !_globalLazyTestHooks && _initTestHooks();\n    var sym = ((!_globalLazyTestHooks.lzy ? _symbol : 0) || _initSymbol());\n    return sym.v ? sym.v[knownName || name] : (!noPoly ? polyGetKnownSymbol(name) : UNDEF_VALUE);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction newSymbol(description, noPoly) {\n    !_globalLazyTestHooks && _initTestHooks();\n    var sym = ((!_globalLazyTestHooks.lzy ? _symbol : 0) || _initSymbol());\n    return sym.v ? sym.v(description) : (!noPoly ? polyNewSymbol(description) : NULL_VALUE);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction symbolFor(key) {\n    !_globalLazyTestHooks && _initTestHooks();\n    _symbolFor = ((!_globalLazyTestHooks.lzy ? _symbolFor : 0) || ( /*#__PURE__*/createCachedValue(safe((_getSymbolKey), [\"for\"]).v)));\n    return (_symbolFor.v || polySymbolFor)(key);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction symbolKeyFor(sym) {\n    !_globalLazyTestHooks && _initTestHooks();\n    _symbolKeyFor = ((!_globalLazyTestHooks.lzy ? _symbolKeyFor : 0) || ( /*#__PURE__*/createCachedValue(safe((_getSymbolKey), [\"keyFor\"]).v)));\n    return (_symbolKeyFor.v || polySymbolKeyFor)(sym);\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction isIterator(value) {\n    return !!value && isFunction(value.next);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction isIterable(value) {\n    return !isStrictNullOrUndefined(value) && isFunction(value[getKnownSymbol(3 )]);\n}\n\nvar _iterSymbol$1;\nfunction iterForOf(iter, callbackfn, thisArg) {\n    if (iter) {\n        if (!isIterator(iter)) {\n            !_iterSymbol$1 && (_iterSymbol$1 = createCachedValue(getKnownSymbol(3 )));\n            iter = iter[_iterSymbol$1.v] ? iter[_iterSymbol$1.v]() : NULL_VALUE;\n        }\n        if (isIterator(iter)) {\n            var err = UNDEF_VALUE;\n            var iterResult = UNDEF_VALUE;\n            try {\n                var count = 0;\n                while (!(iterResult = iter.next()).done) {\n                    if (callbackfn[CALL](thisArg || iter, iterResult.value, count, iter) === -1) {\n                        break;\n                    }\n                    count++;\n                }\n            }\n            catch (failed) {\n                err = { e: failed };\n                if (iter.throw) {\n                    iterResult = NULL_VALUE;\n                    iter.throw(err);\n                }\n            }\n            finally {\n                try {\n                    if (iterResult && !iterResult.done) {\n                        iter.return && iter.return(iterResult);\n                    }\n                }\n                finally {\n                    if (err) {\n                        // eslint-disable-next-line no-unsafe-finally\n                        throw err.e;\n                    }\n                }\n            }\n        }\n    }\n}\n\nfunction fnApply(fn, thisArg, argArray) {\n    return fn.apply(thisArg, argArray);\n}\nfunction fnCall(fn, thisArg) {\n    return fn.apply(thisArg, ArrSlice[CALL](arguments, 2));\n}\nfunction fnBind(fn, thisArg) {\n    return fn.bind.apply(fn, ArrSlice[CALL](arguments, 1));\n}\n\nfunction arrAppend(target, elms) {\n    if (!isUndefined(elms) && target) {\n        if (isArray(elms)) {\n            fnApply(target.push, target, elms);\n        }\n        else if (isIterator(elms) || isIterable(elms)) {\n            iterForOf(elms, function (elm) {\n                target.push(elm);\n            });\n        }\n        else {\n            target.push(elms);\n        }\n    }\n    return target;\n}\n\nvar arrEvery = /*#__PURE__*/ _unwrapFunction(\"every\", ArrProto);\nvar arrFilter = /*#__PURE__*/ _unwrapFunction(\"filter\", ArrProto);\n\nfunction arrForEach(theArray, callbackfn, thisArg) {\n    if (theArray) {\n        var len = theArray[LENGTH] >>> 0;\n        for (var idx = 0; idx < len; idx++) {\n            if (idx in theArray) {\n                if (callbackfn[CALL](thisArg || theArray, theArray[idx], idx, theArray) === -1) {\n                    break;\n                }\n            }\n        }\n    }\n}\n\nvar arrIndexOf = ( /*#__PURE__*/_unwrapFunction(\"indexOf\", ArrProto));\nvar arrLastIndexOf = ( /*#__PURE__*/_unwrapFunction(\"lastIndexOf\", ArrProto));\n\nvar arrMap = ( /*#__PURE__*/_unwrapFunction(\"map\", ArrProto));\n\nfunction arrSlice(theArray, start, end) {\n    return ((theArray ? theArray[\"slice\"] : NULL_VALUE) || ArrSlice).apply(theArray, ArrSlice[CALL](arguments, 1));\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyIsArray(value) {\n    if (isNullOrUndefined(value)) {\n        return false;\n    }\n    return objToString(value) === \"[object Array]\";\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyArrIncludes(theArray, searchElement, fromIndex) {\n    return arrIndexOf(theArray, searchElement, fromIndex) !== -1;\n}\nfunction polyArrFind(theArray, callbackFn, thisArg) {\n    var result;\n    var idx = polyArrFindIndex(theArray, callbackFn, thisArg);\n    return idx !== -1 ? theArray[idx] : result;\n}\nfunction polyArrFindIndex(theArray, callbackFn, thisArg) {\n    var result = -1;\n    arrForEach(theArray, function (value, index) {\n        if (callbackFn[CALL](thisArg | theArray, value, index, theArray)) {\n            result = index;\n            return -1;\n        }\n    });\n    return result;\n}\nfunction polyArrFindLast(theArray, callbackFn, thisArg) {\n    var result;\n    var idx = polyArrFindLastIndex(theArray, callbackFn, thisArg);\n    return idx !== -1 ? theArray[idx] : result;\n}\nfunction polyArrFindLastIndex(theArray, callbackFn, thisArg) {\n    var result = -1;\n    var len = theArray[LENGTH] >>> 0;\n    for (var idx = len - 1; idx >= 0; idx--) {\n        if (idx in theArray && callbackFn[CALL](thisArg | theArray, theArray[idx], idx, theArray)) {\n            result = idx;\n            break;\n        }\n    }\n    return result;\n}\nfunction polyArrFrom(theValue, mapFn, thisArg) {\n    if (isArray(theValue)) {\n        var result_1 = arrSlice(theValue);\n        return mapFn ? arrMap(result_1, mapFn, thisArg) : result_1;\n    }\n    var result = [];\n    iterForOf(theValue, function (value, cnt) {\n        return result.push(mapFn ? mapFn[CALL](thisArg, value, cnt) : value);\n    });\n    return result;\n}\n\nvar arrFind = /*#__PURE__*/ _unwrapFunctionWithPoly(\"find\", ArrProto, polyArrFind);\nvar arrFindIndex = /*#__PURE__*/ _unwrapFunctionWithPoly(\"findIndex\", ArrProto, polyArrFindIndex);\nvar arrFindLast = /*#__PURE__*/ _unwrapFunctionWithPoly(\"findLast\", ArrProto, polyArrFindLast);\nvar arrFindLastIndex = /*#__PURE__*/ _unwrapFunctionWithPoly(\"findLastIndex\", ArrProto, polyArrFindLastIndex);\n\nvar arrFrom = ( /* #__PURE__*/_pureAssign(( /* #__PURE__*/_pureRef(ArrCls, \"from\")), polyArrFrom));\n\nvar arrIncludes = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"includes\", ArrProto, polyArrIncludes));\nvar arrContains = arrIncludes;\n\nvar arrReduce = ( /*#__PURE__*/_unwrapFunction(\"reduce\", ArrProto));\n\nvar arrSome = ( /*#__PURE__*/_unwrapFunction(\"some\", ArrProto));\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction createFnDeferredProxy(hostFn, funcName) {\n    return function () {\n        var theArgs = ArrSlice[CALL](arguments);\n        var theHost = hostFn();\n        return fnApply(theHost[funcName], theHost, theArgs);\n    };\n}\nfunction createProxyFuncs(target, host, funcDefs) {\n    if (target && host && isArray(funcDefs)) {\n        var isDeferred_1 = isFunction(host);\n        arrForEach(funcDefs, function (funcDef) {\n            var targetName = (funcDef.as || funcDef.n);\n            if (funcDef.rp === false && target[targetName]) {\n                return;\n            }\n            target[targetName] = isDeferred_1 ?\n                createFnDeferredProxy(host, funcDef.n) :\n                fnBind(host[funcDef.n], host);\n        });\n    }\n    return target;\n}\n\nvar _iterSymbol;\n/*#__NO_SIDE_EFFECTS__*/\nfunction readArgs(theArgs, start, end) {\n    if (!objHasOwn(theArgs, LENGTH)) {\n        !_iterSymbol && (_iterSymbol = createCachedValue(hasSymbol() && getKnownSymbol(3 )));\n        var iterFn = void 0;\n        if (_iterSymbol.v) {\n            iterFn = theArgs[_iterSymbol.v];\n        }\n        if (iterFn) {\n            var values_1 = [];\n            var from_1 = (start === UNDEF_VALUE || start < 0) ? 0 : start;\n            var to_1 = end < 0 || start < 0 ? UNDEF_VALUE : end;\n            iterForOf(iterFn[CALL](theArgs), function (value, cnt) {\n                if (to_1 !== UNDEF_VALUE && cnt >= to_1) {\n                    return -1;\n                }\n                if (cnt >= from_1) {\n                    values_1.push(value);\n                }\n            });\n            if ((start === UNDEF_VALUE || start >= 0) && (end === UNDEF_VALUE || end >= 0)) {\n                return values_1;\n            }\n            theArgs = values_1;\n        }\n    }\n    return arrSlice(theArgs, start, end);\n}\n\nvar objCreate = ( /* #__PURE__*/_pureAssign(( /* #__PURE__*/_pureRef(ObjClass, \"create\")), polyObjCreate));\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyObjCreate(obj) {\n    if (!obj) {\n        return {};\n    }\n    var type = typeof obj;\n    if (type !== OBJECT && type !== FUNCTION) {\n        throwTypeError(\"Prototype must be an Object or function: \" + dumpObj(obj));\n    }\n    function tempFunc() { }\n    tempFunc[PROTOTYPE] = obj;\n    return new tempFunc();\n}\n\nvar _isProtoArray;\nfunction objSetPrototypeOf(obj, proto) {\n    var fn = ObjClass[\"setPrototypeOf\"] ||\n        function (d, b) {\n            var _a;\n            !_isProtoArray && (_isProtoArray = createCachedValue((_a = {}, _a[__PROTO__] = [], _a) instanceof Array));\n            _isProtoArray.v ? d[__PROTO__] = b : objForEachKey(b, function (key, value) { return d[key] = value; });\n        };\n    return fn(obj, proto);\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createCustomError(name, d, b) {\n    safe(objDefine, [d, NAME, { v: name, c: true, e: false }]);\n    d = objSetPrototypeOf(d, b);\n    function __() {\n        this[CONSTRUCTOR] = d;\n        safe(objDefine, [this, NAME, { v: name, c: true, e: false }]);\n    }\n    d[PROTOTYPE] = b === NULL_VALUE ? objCreate(b) : (__[PROTOTYPE] = b[PROTOTYPE], new __());\n    return d;\n}\nfunction _setName(baseClass, name) {\n    name && (baseClass[NAME] = name);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction createCustomError(name, constructCb, errorBase) {\n    var theBaseClass = errorBase || Error;\n    var orgName = theBaseClass[PROTOTYPE][NAME];\n    var captureFn = Error.captureStackTrace;\n    return _createCustomError(name, function () {\n        var _this = this;\n        var theArgs = arguments;\n        try {\n            safe(_setName, [theBaseClass, name]);\n            var _self = fnApply(theBaseClass, _this, ArrSlice[CALL](theArgs)) || _this;\n            if (_self !== _this) {\n                var orgProto = objGetPrototypeOf(_this);\n                if (orgProto !== objGetPrototypeOf(_self)) {\n                    objSetPrototypeOf(_self, orgProto);\n                }\n            }\n            captureFn && captureFn(_self, _this[CONSTRUCTOR]);\n            constructCb && constructCb(_self, theArgs);\n            return _self;\n        }\n        finally {\n            safe(_setName, [theBaseClass, orgName]);\n        }\n    }, theBaseClass);\n}\nvar _unsupportedError;\nfunction throwUnsupported(message) {\n    if (!_unsupportedError) {\n        _unsupportedError = createCustomError(\"UnsupportedError\");\n    }\n    throw new _unsupportedError(message);\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction utcNow() {\n    return (Date.now || polyUtcNow)();\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyUtcNow() {\n    return new Date().getTime();\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createTrimFn(exp) {\n    return function _doTrim(value) {\n        if (isNullOrUndefined(value)) {\n            throwTypeError(\"strTrim called [\" + dumpObj(value) + \"]\");\n        }\n        if (value && value.replace) {\n            value = value.replace(exp, EMPTY);\n        }\n        return value;\n    };\n}\nvar polyStrTrim = ( /*#__PURE__*/_createTrimFn(/^\\s+|(?=\\s)\\s+$/g));\nvar polyStrTrimStart = ( /*#__PURE__*/_createTrimFn(/^\\s+/g));\nvar polyStrTrimEnd = ( /*#__PURE__*/_createTrimFn(/(?=\\s)\\s+$/g));\n\nvar strTrim = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"trim\", StrProto, polyStrTrim));\nvar strTrimStart = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"trimStart\", StrProto, polyStrTrimStart));\nvar strTrimLeft = ( /*#__PURE__*/_pureAssign(strTrimStart));\nvar strTrimEnd = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"trimEnd\", StrProto, polyStrTrimEnd));\nvar strTrimRight = ( /*#__PURE__*/_pureAssign(strTrimEnd));\n\nvar strUpper = ( /*#__PURE__*/_unwrapFunction(\"toUpperCase\", StrProto));\nvar strLower = ( /*#__PURE__*/_unwrapFunction(\"toLowerCase\", StrProto));\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction _convertCase(value, newPrefix, upperWord) {\n    return strTrim(asString(value)).replace(/((_|\\W)+(\\w){0,1}|([a-z])([A-Z]))/g, function (_match, _g1, _g2, wordStart, upperPrefix, upperLetter) {\n        var convertMatch = wordStart || upperLetter || EMPTY;\n        if (upperWord) {\n            convertMatch = strUpper(convertMatch);\n        }\n        return (upperPrefix || EMPTY) + newPrefix + convertMatch;\n    });\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction strLetterCase(value) {\n    return asString(value).replace(/(_|\\b)\\w/g, strUpper);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction strCamelCase(value, upperFirst) {\n    var result = _convertCase(value, \"\", true);\n    return result.replace(/^\\w/, upperFirst ? strUpper : strLower);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction strKebabCase(value, scream) {\n    var result = _convertCase(value, \"-\");\n    return (scream ? strUpper : strLower)(result);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction strSnakeCase(value, scream) {\n    var result = _convertCase(value, \"_\");\n    return (scream ? strUpper : strLower)(result);\n}\n\nvar mathFloor = ( /*#__PURE__*/_pureRef(MathCls, \"floor\"));\nvar mathCeil = ( /*#__PURE__*/_pureRef(MathCls, \"ceil\"));\n\nvar mathTrunc = ( /* #__PURE__*/_pureAssign(( /* #__PURE__*/_pureRef(MathCls, \"trunc\")), polyMathTrunc));\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyMathTrunc(value) {\n    var theValue = +value;\n    return (theValue > 0 ? mathFloor : mathCeil)(theValue);\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction mathToInt(value, throwInfinity) {\n    var result = +value;\n    if (result == Infinity && throwInfinity) {\n        throwRangeError(\"invalid value [\" + dumpObj(value) + \"]\");\n    }\n    return result !== result || result === 0 ? 0 : mathTrunc(result);\n}\n\nvar strRepeat = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"repeat\", StrProto, polyStrRepeat));\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyStrRepeat(value, count) {\n    if (isNullOrUndefined(value)) {\n        throwTypeError(\"can't convert [\" + dumpObj(value) + \"]\");\n    }\n    count = mathToInt(count, true);\n    if (count < 0) {\n        throwRangeError(\"invalid count must be >= 0 && < Infinity\");\n    }\n    var pad = isString(value) ? value : asString(value);\n    var result = EMPTY;\n    for (; count > 0; (count >>>= 1) && (pad += pad)) {\n        if (count & 1) {\n            result += pad;\n        }\n    }\n    return result;\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction _padValue(value, targetLength, padString) {\n    var result = EMPTY;\n    targetLength = mathToInt(targetLength, true);\n    targetLength >>= 0;\n    var len = value[LENGTH];\n    if (len < targetLength) {\n        result = isNullOrUndefined(padString) ? \" \" : asString(padString);\n        targetLength = targetLength - len;\n        if (targetLength > result[LENGTH]) {\n            result = strRepeat(result, mathCeil(targetLength / result[LENGTH]));\n        }\n        if (result[LENGTH] > targetLength) {\n            result = strSubstring(result, 0, targetLength);\n        }\n    }\n    return result;\n}\nvar strPadStart = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"padStart\", StrProto, polyStrPadStart));\nvar strPadEnd = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"padEnd\", StrProto, polyStrPadEnd));\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyStrPadStart(value, targetLength, padString) {\n    return _padValue(value, targetLength, padString) + value;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyStrPadEnd(value, targetLength, padString) {\n    return value + _padValue(value, targetLength, padString);\n}\n\nvar DBL_QUOTE = \"\\\"\";\nvar INVALID_JS_NAME = /([^\\w\\d_$])/g;\nvar _htmlEntityCache;\n/*#__NO_SIDE_EFFECTS__*/\nfunction normalizeJsName(jsName, camelCase) {\n    var result = asString(jsName).replace(INVALID_JS_NAME, \"_\");\n    return !isUndefined(camelCase) ? strCamelCase(result, !camelCase) : result;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction encodeAsJson(value, format) {\n    var result;\n    if (isString(value)) {\n        result = DBL_QUOTE + value.replace(/[^\\w .,\\-!@#$%\\^&*\\(\\)_+={}\\[\\]:;|<>?]/g, function (match) {\n            if (match === DBL_QUOTE || match === \"\\\\\") {\n                return \"\\\\\" + match;\n            }\n            var hex = match.charCodeAt(0)[TO_STRING](16);\n            return \"\\\\u\" + strPadStart(strUpper(hex), 4, \"0\");\n        }) + DBL_QUOTE;\n    }\n    else {\n        try {\n            result = JSON.stringify(value, NULL_VALUE, format ? (isNumber(format) ? format : 4) : UNDEF_VALUE);\n        }\n        catch (e) {\n            result = DBL_QUOTE + dumpObj(e) + DBL_QUOTE;\n        }\n    }\n    return result;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction encodeAsHtml(value) {\n    !_htmlEntityCache && (_htmlEntityCache = {\n        \"&\": \"amp\",\n        \"<\": \"lt\",\n        \">\": \"gt\",\n        \"\\\"\": \"quot\",\n        \"'\": \"#39\"\n    });\n    return asString(value).replace(/[&<>\"']/g, function (match) { return \"&\" + _htmlEntityCache[match] + \";\"; });\n}\n\nvar _fnToString;\nvar _objCtrFnString;\nvar _gblWindow;\n/*#__NO_SIDE_EFFECTS__*/\nfunction isPlainObject(value) {\n    if (!value || typeof value !== OBJECT) {\n        return false;\n    }\n    if (!_gblWindow) {\n        _gblWindow = hasWindow() ? getWindow() : true;\n    }\n    var result = false;\n    if (value !== _gblWindow) {\n        if (!_objCtrFnString) {\n            _fnToString = Function[PROTOTYPE][TO_STRING];\n            _objCtrFnString = _fnToString[CALL](ObjClass);\n        }\n        try {\n            var proto = objGetPrototypeOf(value);\n            result = !proto;\n            if (!result) {\n                if (objHasOwnProperty(proto, CONSTRUCTOR)) {\n                    proto = proto[CONSTRUCTOR];\n                }\n                result = !!(proto && typeof proto === FUNCTION && _fnToString[CALL](proto) === _objCtrFnString);\n            }\n        }\n        catch (ex) {\n        }\n    }\n    return result;\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction _defaultDeepCopyHandler(details) {\n    details.value && plainObjDeepCopyHandler(details);\n    return true;\n}\nvar defaultDeepCopyHandlers = [\n    arrayDeepCopyHandler,\n    plainObjDeepCopyHandler,\n    functionDeepCopyHandler,\n    dateDeepCopyHandler\n];\n/*#__NO_SIDE_EFFECTS__*/\nfunction _getSetVisited(visitMap, source, newPath, cb) {\n    var theEntry;\n    arrForEach(visitMap, function (entry) {\n        if (entry.k === source) {\n            theEntry = entry;\n            return -1;\n        }\n    });\n    if (!theEntry) {\n        theEntry = { k: source, v: source };\n        visitMap.push(theEntry);\n        cb(theEntry);\n    }\n    return theEntry.v;\n}\nfunction _deepCopy(visitMap, value, ctx, key) {\n    var userHandler = ctx.handler;\n    var newPath = ctx.path ? (key ? ctx.path.concat(key) : ctx.path) : [];\n    var newCtx = {\n        handler: ctx.handler,\n        src: ctx.src,\n        path: newPath\n    };\n    var theType = typeof value;\n    var isPlain = false;\n    var isPrim = value === NULL_VALUE;\n    if (!isPrim) {\n        if (value && theType === OBJECT) {\n            isPlain = isPlainObject(value);\n        }\n        else {\n            isPrim = isPrimitiveType(theType);\n        }\n    }\n    var details = {\n        type: theType,\n        isPrim: isPrim,\n        isPlain: isPlain,\n        value: value,\n        result: value,\n        path: newPath,\n        origin: ctx.src,\n        copy: function (source, newKey) {\n            return _deepCopy(visitMap, source, newKey ? newCtx : ctx, newKey);\n        },\n        copyTo: function (target, source) {\n            return _copyProps(visitMap, target, source, newCtx);\n        }\n    };\n    if (!details.isPrim) {\n        return _getSetVisited(visitMap, value, newPath, function (newEntry) {\n            objDefine(details, \"result\", {\n                g: function () {\n                    return newEntry.v;\n                },\n                s: function (newValue) {\n                    newEntry.v = newValue;\n                }\n            });\n            var idx = 0;\n            var handler = userHandler;\n            while (!(handler || (idx < defaultDeepCopyHandlers.length ? defaultDeepCopyHandlers[idx++] : _defaultDeepCopyHandler))[CALL](ctx, details)) {\n                handler = NULL_VALUE;\n            }\n        });\n    }\n    if (userHandler && userHandler[CALL](ctx, details)) {\n        return details.result;\n    }\n    return value;\n}\nfunction _copyProps(visitMap, target, source, ctx) {\n    if (!isNullOrUndefined(source)) {\n        for (var key in source) {\n            target[key] = _deepCopy(visitMap, source[key], ctx, key);\n        }\n    }\n    return target;\n}\nfunction objCopyProps(target, source, handler) {\n    var ctx = {\n        handler: handler,\n        src: source,\n        path: []\n    };\n    return _copyProps([], target, source, ctx);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction objDeepCopy(source, handler) {\n    var ctx = {\n        handler: handler,\n        src: source\n    };\n    return _deepCopy([], source, ctx);\n}\nfunction arrayDeepCopyHandler(details) {\n    var value = details.value;\n    if (isArray(value)) {\n        var target = details.result = [];\n        target.length = value.length;\n        details.copyTo(target, value);\n        return true;\n    }\n    return false;\n}\nfunction dateDeepCopyHandler(details) {\n    var value = details.value;\n    if (isDate(value)) {\n        details.result = new Date(value.getTime());\n        return true;\n    }\n    return false;\n}\nfunction functionDeepCopyHandler(details) {\n    if (details.type === FUNCTION) {\n        return true;\n    }\n    return false;\n}\nfunction plainObjDeepCopyHandler(details) {\n    var value = details.value;\n    if (value && details.isPlain) {\n        var target = details.result = {};\n        details.copyTo(target, value);\n        return true;\n    }\n    return false;\n}\n\nfunction _doExtend(target, theArgs) {\n    arrForEach(theArgs, function (theArg) {\n        objCopyProps(target, theArg);\n    });\n    return target;\n}\nfunction deepExtend(target, obj1, obj2, obj3, obj4, obj5, obj6) {\n    return _doExtend(objDeepCopy(target) || {}, ArrSlice[CALL](arguments));\n}\nfunction objExtend(target, obj1, obj2, obj3, obj4, obj5, obj6) {\n    return _doExtend(target || {}, ArrSlice[CALL](arguments));\n}\n\nvar getLength = ( /*#__PURE__*/_unwrapProp(LENGTH));\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction getIntValue(value, defValue) {\n    if (!isNullOrUndefined(value)) {\n        if (isNumber(value)) {\n            return value;\n        }\n        var theValue = parseInt(value, 10);\n        return isNaN(theValue) ? defValue : theValue;\n    }\n    return defValue;\n}\n\nvar _perf;\n/*#__NO_SIDE_EFFECTS__*/\nfunction hasPerformance() {\n    return !!getPerformance();\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction getPerformance() {\n    !_globalLazyTestHooks && _initTestHooks();\n    if (!_perf || _globalLazyTestHooks.lzy) {\n        _perf = createCachedValue(safe((getInst), [\"performance\"]).v);\n    }\n    return _perf.v;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction perfNow() {\n    var perf = getPerformance();\n    if (perf && perf.now) {\n        return perf.now();\n    }\n    return utcNow();\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction elapsedTime(startTime) {\n    return perfNow() - startTime;\n}\n\nvar MATCH_ANY = \"(.*)\";\nvar MATCH_SINGLE = \"(.)\";\nfunction _createRegExp(value, escapeRgx, replaceFn, ignoreCase, fullMatch) {\n    // eslint-disable-next-line security/detect-non-literal-regexp\n    return new RegExp((fullMatch ? \"^\" : EMPTY) + replaceFn(value.replace(escapeRgx, \"\\\\$1\")) + (fullMatch ? \"$\" : EMPTY), ignoreCase ? \"i\" : \"\");\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction createWildcardRegex(value, ignoreCase, fullMatch) {\n    return _createRegExp(asString(value), /([-+|^$#.\\?{}()\\[\\]\\\\/\\\"\\'])/g, function (value) {\n        return value.replace(/\\*/g, MATCH_ANY);\n    }, !!ignoreCase, fullMatch);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction createFilenameRegex(value, ignoreCase, fullMatch) {\n    return _createRegExp(asString(value), /([-+|^$#.{}()\\\\\\/\\[\\]\\\"\\'])/g, function (value) {\n        return value.replace(/(\\\\\\\\|\\\\\\/|\\*|\\?)/g, function (_all, g1) {\n            if (g1 == \"\\\\/\" || g1 == \"\\\\\\\\\") {\n                return \"[\\\\\\\\\\\\/]{1}\";\n            }\n            return g1 == \"*\" ? MATCH_ANY : MATCH_SINGLE;\n        });\n    }, !!ignoreCase, fullMatch);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction makeGlobRegex(value, ignoreCase, fullMatch) {\n    return _createRegExp(asString(value), /([-+|^$#.{}()\\\\\\/\\[\\]\\\"\\'])/g, function (value) {\n        return value.replace(/(\\*\\*\\\\[\\\\\\/]|\\\\\\\\|\\\\\\/|\\*\\*|\\*|\\?)/g, function (_all, g1) {\n            if (g1 == \"**\\\\/\" || g1 == \"**\\\\\\\\\") {\n                return \"(.*[\\\\\\\\\\\\/])*\";\n            }\n            if (g1 === \"\\\\/\" || g1 == \"\\\\\\\\\") {\n                return \"[\\\\\\\\\\\\/]{1}\";\n            }\n            if (g1 === \"**\") {\n                return MATCH_ANY;\n            }\n            return g1 === \"*\" ? \"([^\\\\\\\\\\\\/]*)\" : \"([^\\\\\\\\\\\\/]{1})\";\n        });\n    }, !!ignoreCase, fullMatch);\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction safeGetLazy(cb, defValue) {\n    return getLazy(function () {\n        var result = safe(cb);\n        return result.e ? defValue : result.v;\n    });\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction _checkLength(value, props) {\n    var result;\n    arrForEach(props, function (prop) {\n        if (prop in value) {\n            var propValue = value[prop];\n            result = (isFunction(propValue) ? propValue() : propValue) > 0;\n            return -1;\n        }\n    });\n    return result;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction _hasValue(value, depth) {\n    var result = value === false || value === 0;\n    if (!result && !isNullOrUndefined(value)) {\n        if (isArray(value)) {\n            result = value[LENGTH] > 0;\n        }\n        else if (isDate(value)) {\n            result = !isNaN(value.getTime());\n        }\n        else if (isBoolean(value)) {\n            return true;\n        }\n        else if (isObject(value)) {\n            try {\n                var chkValue = _checkLength(value, [LENGTH, \"byteLength\", \"size\", \"count\"]);\n                if (isBoolean(chkValue)) {\n                    return chkValue;\n                }\n                if (isFunction(value.valueOf) && depth < 5) {\n                    return _hasValue(value.valueOf(), ++depth);\n                }\n            }\n            catch (e) {\n            }\n            return !!objKeys(value)[LENGTH];\n        }\n        else {\n            result = isTruthy(value);\n        }\n    }\n    return result;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction hasValue(value) {\n    return _hasValue(value, 0);\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction createIterable(ctx) {\n    return makeIterable({}, ctx);\n}\nfunction makeIterable(target, ctx) {\n    var itSymbol = getKnownSymbol(3 );\n    function _createIterator() {\n        return createIterator(ctx);\n    }\n    target[itSymbol] = _createIterator;\n    return target;\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction createIterator(ctx) {\n    var isDone = false;\n    function _value() {\n        return ctx.v;\n    }\n    function _next() {\n        if (!isDone) {\n            isDone = (ctx.n ? ctx.n(arguments) : true);\n        }\n        var result = {\n            done: isDone\n        };\n        if (!isDone) {\n            objDefine(result, \"value\", { g: _value });\n        }\n        return result;\n    }\n    function _return(value) {\n        isDone = true;\n        return {\n            done: true,\n            value: ctx.r && ctx.r(value)\n        };\n    }\n    function _throw(e) {\n        isDone = true;\n        return {\n            done: true,\n            value: ctx.t && ctx.t(e)\n        };\n    }\n    var theIterator = {\n        next: _next\n    };\n    if (ctx.r) {\n        theIterator.return = _return;\n    }\n    if (ctx.t) {\n        theIterator.throw = _throw;\n    }\n    return theIterator;\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction createArrayIterator(values) {\n    var idx = -1;\n    var theValues = values ? values.slice() : [];\n    var len = theValues[LENGTH];\n    function _value() {\n        if (idx >= 0 && idx < len) {\n            return theValues[idx];\n        }\n    }\n    function _getNext() {\n        idx++;\n        return idx >= len;\n    }\n    var ctx = {\n        n: _getNext\n    };\n    objDefine(ctx, \"v\", { g: _value });\n    return createIterator(ctx);\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction createRangeIterator(start, end, step) {\n    var nextValue = start;\n    var theValue = UNDEF_VALUE;\n    if (isNullOrUndefined(end)) {\n        end = start;\n    }\n    var theStep = step;\n    if (!theStep) {\n        theStep = (start <= end) ? 1 : -1;\n    }\n    function _value() {\n        return theValue;\n    }\n    function _getNext() {\n        var isDone = (theStep > 0) ? (nextValue > end) : (nextValue < end);\n        if (!isDone) {\n            theValue = nextValue;\n            nextValue += theStep;\n        }\n        return isDone;\n    }\n    return createIterator(objDefine({\n        n: _getNext\n    }, \"v\", { g: _value }));\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyStrSymSplit(value, splitter, limit) {\n    var splitFn = splitter ? splitter[getKnownSymbol(9 )] : UNDEF_VALUE;\n    return splitFn ? splitFn(value, limit) : [value];\n}\n\nvar strSplit = ( /*#__PURE__*/_unwrapFunction(\"split\", StrProto));\nvar strSymSplit = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"split\", StrProto, !hasSymbol() ? polyStrSymSplit : NULL_VALUE));\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction getValueByKey(target, path, defValue) {\n    if (!path || !target) {\n        return defValue;\n    }\n    var parts = strSplit(path, \".\");\n    var cnt = parts.length;\n    for (var lp = 0; lp < cnt && !isNullOrUndefined(target); lp++) {\n        target = target[parts[lp]];\n    }\n    return (!isNullOrUndefined(target) ? target : defValue);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction getValueByIter(target, iter, defValue) {\n    if (!iter || !target) {\n        return defValue;\n    }\n    iterForOf(iter, function (value) {\n        if (isNullOrUndefined(target)) {\n            return -1;\n        }\n        target = target[value];\n    });\n    return (!isNullOrUndefined(target) ? target : defValue);\n}\nfunction setValueByKey(target, path, value) {\n    if (target && path) {\n        var parts = strSplit(path, \".\");\n        var lastKey = parts.pop();\n        arrForEach(parts, function (key) {\n            if (isNullOrUndefined(target[key])) {\n                target[key] = {};\n            }\n            target = target[key];\n        });\n        target[lastKey] = value;\n    }\n}\nfunction setValueByIter(target, iter, value) {\n    if (target && iter) {\n        var lastKey_1;\n        iterForOf(iter, function (key) {\n            if (lastKey_1) {\n                if (isNullOrUndefined(target[lastKey_1])) {\n                    target[lastKey_1] = {};\n                }\n                target = target[lastKey_1];\n            }\n            lastKey_1 = key;\n        });\n        target[lastKey_1] = value;\n    }\n}\n\nvar strEndsWith = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"endsWith\", StrProto, polyStrEndsWith));\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyStrEndsWith(value, searchString, length) {\n    if (!isString(value)) {\n        throwTypeError(\"'\" + dumpObj(value) + \"' is not a string\");\n    }\n    var searchValue = isString(searchString) ? searchString : asString(searchString);\n    var end = (!isUndefined(length) && length < value[LENGTH]) ? length : value[LENGTH];\n    return strSubstring(value, end - searchValue[LENGTH], end) === searchValue;\n}\n\nvar strIndexOf = ( /*#__PURE__*/_unwrapFunction(\"indexOf\", StrProto));\nvar strLastIndexOf = ( /*#__PURE__*/_unwrapFunction(\"lastIndexOf\", StrProto));\n\nvar strIncludes = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"includes\", StrProto, polyStrIncludes));\nvar strContains = ( /*#__PURE__*/_pureAssign(strIncludes));\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyStrIncludes(value, searchString, position) {\n    if (isRegExp(searchString)) {\n        throwTypeError(\"'searchString' must not be a regular expression\" + dumpObj(searchString));\n    }\n    return strIndexOf(value, asString(searchString), position) !== -1;\n}\n\n/*#__NO_SIDE_EFFECTS__*/\nfunction strIsNullOrWhiteSpace(value) {\n    if (isString(value)) {\n        return value.replace(/[\\s\\t\\r\\n\\f]+/g, EMPTY) === EMPTY;\n    }\n    return isNullOrUndefined(value);\n}\n/*#__NO_SIDE_EFFECTS__*/\nfunction strIsNullOrEmpty(value) {\n    if (isString(value)) {\n        return value === EMPTY;\n    }\n    return isNullOrUndefined(value);\n}\n\nvar strStartsWith = ( /*#__PURE__*/_unwrapFunctionWithPoly(\"startsWith\", StrProto, polyStrStartsWith));\n/*#__NO_SIDE_EFFECTS__*/\nfunction polyStrStartsWith(value, searchString, position) {\n    if (!isString(value)) {\n        throwTypeError(\"'\" + dumpObj(value) + \"' is not a string\");\n    }\n    var searchValue = isString(searchString) ? searchString : asString(searchString);\n    var pos = position > 0 ? position : 0;\n    return strSubstring(value, pos, pos + searchValue[LENGTH]) === searchValue;\n}\n\nvar REF = \"ref\";\nvar UNREF = \"unref\";\nvar HAS_REF = \"hasRef\";\nvar ENABLED = \"enabled\";\n/*#__NO_SIDE_EFFECTS__*/\nfunction _createTimerHandler(startTimer, refreshFn, cancelFn) {\n    var ref = true;\n    var timerId = startTimer ? refreshFn(NULL_VALUE) : NULL_VALUE;\n    var theTimerHandler;\n    function _unref() {\n        ref = false;\n        timerId && timerId[UNREF] && timerId[UNREF]();\n        return theTimerHandler;\n    }\n    function _cancel() {\n        timerId && cancelFn(timerId);\n        timerId = NULL_VALUE;\n    }\n    function _refresh() {\n        timerId = refreshFn(timerId);\n        if (!ref) {\n            _unref();\n        }\n        return theTimerHandler;\n    }\n    function _setEnabled(value) {\n        !value && timerId && _cancel();\n        value && !timerId && _refresh();\n    }\n    theTimerHandler = {\n        cancel: _cancel,\n        refresh: _refresh\n    };\n    theTimerHandler[HAS_REF] = function () {\n        if (timerId && timerId[HAS_REF]) {\n            return timerId[HAS_REF]();\n        }\n        return ref;\n    };\n    theTimerHandler[REF] = function () {\n        ref = true;\n        timerId && timerId[REF] && timerId[REF]();\n        return theTimerHandler;\n    };\n    theTimerHandler[UNREF] = _unref;\n    theTimerHandler = objDefineProp(theTimerHandler, ENABLED, {\n        get: function () { return !!timerId; },\n        set: _setEnabled\n    });\n    return {\n        h: theTimerHandler,\n        dn: function () {\n            timerId = NULL_VALUE;\n        }\n    };\n}\n\nfunction _createTimeoutWith(startTimer, overrideFn, theArgs) {\n    var isArr = isArray(overrideFn);\n    var len = isArr ? overrideFn.length : 0;\n    var setFn = (len > 0 ? overrideFn[0] : (!isArr ? overrideFn : UNDEF_VALUE)) || setTimeout;\n    var clearFn = (len > 1 ? overrideFn[1] : UNDEF_VALUE) || clearTimeout;\n    var timerFn = theArgs[0];\n    theArgs[0] = function () {\n        handler.dn();\n        fnApply(timerFn, UNDEF_VALUE, ArrSlice[CALL](arguments));\n    };\n    var handler = _createTimerHandler(startTimer, function (timerId) {\n        if (timerId) {\n            if (timerId.refresh) {\n                timerId.refresh();\n                return timerId;\n            }\n            fnApply(clearFn, UNDEF_VALUE, [timerId]);\n        }\n        return fnApply(setFn, UNDEF_VALUE, theArgs);\n    }, function (timerId) {\n        fnApply(clearFn, UNDEF_VALUE, [timerId]);\n    });\n    return handler.h;\n}\nfunction scheduleTimeout(callback, timeout) {\n    return _createTimeoutWith(true, UNDEF_VALUE, ArrSlice[CALL](arguments));\n}\nfunction scheduleTimeoutWith(overrideFn, callback, timeout) {\n    return _createTimeoutWith(true, overrideFn, ArrSlice[CALL](arguments, 1));\n}\nfunction createTimeout(callback, timeout) {\n    return _createTimeoutWith(false, UNDEF_VALUE, ArrSlice[CALL](arguments));\n}\nfunction createTimeoutWith(overrideFn, callback, timeout) {\n    return _createTimeoutWith(false, overrideFn, ArrSlice[CALL](arguments, 1));\n}\n\nvar _defaultIdleTimeout = 100;\nvar _maxExecutionTime = 50;\n/*#__NO_SIDE_EFFECTS__*/\nfunction hasIdleCallback() {\n    return !!( /*#__PURE__*/getIdleCallback());\n}\nvar getIdleCallback = ( /*#__PURE__*/_getGlobalInstFn(getInst, [\"requestIdleCallback\"]));\nvar getCancelIdleCallback = ( /*#__PURE__*/_getGlobalInstFn(getInst, [\"cancelIdleCallback\"]));\nfunction setDefaultIdleTimeout(timeout) {\n    _defaultIdleTimeout = timeout;\n}\nfunction setDefaultMaxExecutionTime(maxTime) {\n    _maxExecutionTime = maxTime;\n}\nfunction scheduleIdleCallback(callback, options) {\n    function _createDeadline(timedOut) {\n        var startTime = perfNow();\n        return {\n            didTimeout: timedOut,\n            timeRemaining: function () {\n                return _maxExecutionTime - elapsedTime(startTime);\n            }\n        };\n    }\n    if (hasIdleCallback()) {\n        var handler_1 = _createTimerHandler(true, function (idleId) {\n            idleId && getCancelIdleCallback()(idleId);\n            return getIdleCallback()(function (deadline) {\n                handler_1.dn();\n                callback(deadline || _createDeadline(false));\n            }, options);\n        }, function (idleId) {\n            getCancelIdleCallback()(idleId);\n        });\n        return handler_1.h;\n    }\n    var timeout = (options || {}).timeout;\n    if (isUndefined(timeout)) {\n        timeout = _defaultIdleTimeout;\n    }\n    return scheduleTimeout(function () {\n        callback(_createDeadline(true));\n    }, timeout);\n}\n\nfunction scheduleInterval(callback, timeout) {\n    var theArguments = ArrSlice[CALL](arguments);\n    var handler = _createTimerHandler(true, function (intervalId) {\n        intervalId && clearInterval(intervalId);\n        return fnApply(setInterval, UNDEF_VALUE, theArguments);\n    }, function (intervalId) {\n        fnApply(clearInterval, UNDEF_VALUE, [intervalId]);\n    });\n    return handler.h;\n}\n\nexport { arrAppend, arrContains, arrEvery, arrFilter, arrFind, arrFindIndex, arrFindLast, arrFindLastIndex, arrForEach, arrFrom, arrIncludes, arrIndexOf, arrLastIndexOf, arrMap, arrReduce, arrSlice, arrSome, arrayDeepCopyHandler, asString, createArrayIterator, createCachedValue, createCustomError, createDeferredCachedValue, createEnum, createEnumKeyMap, createEnumValueMap, createFilenameRegex, createFnDeferredProxy, createIterable, createIterator, createProxyFuncs, createRangeIterator, createSimpleMap, createTimeout, createTimeoutWith, createTypeMap, createWildcardRegex, dateDeepCopyHandler, deepExtend, dumpObj, elapsedTime, encodeAsHtml, encodeAsJson, fnApply, fnBind, fnCall, functionDeepCopyHandler, getCancelIdleCallback, getDocument, getGlobal, getHistory, getIdleCallback, getInst, getIntValue, getKnownSymbol, getLazy, getLength, getNavigator, getPerformance, getSymbol, getValueByIter, getValueByKey, getWindow, hasDocument, hasHistory, hasIdleCallback, hasNavigator, hasPerformance, hasSymbol, hasValue, hasWindow, isArray, isArrayBuffer, isBlob, isBoolean, isDate, isDefined, isError, isFile, isFormData, isFunction, isIterable, isIterator, isNode, isNotTruthy, isNullOrUndefined, isNumber, isObject, isPlainObject, isPrimitive, isPrimitiveType, isPromise, isPromiseLike, isRegExp, isStrictNullOrUndefined, isStrictUndefined, isString, isSymbol, isThenable, isTruthy, isTypeof, isUndefined, isWebWorker, iterForOf, lazySafeGetInst, makeGlobRegex, makeIterable, mathCeil, mathFloor, mathMax, mathMin, mathToInt, mathTrunc, newSymbol, normalizeJsName, objAssign, objCopyProps, objCreate, objDeepCopy, objDeepFreeze, objDefine, objDefineAccessors, objDefineGet, objDefineProp, objDefineProperties, objDefineProps, objEntries, objExtend, objForEachKey, objFreeze, objGetOwnPropertyDescriptor, objGetPrototypeOf, objHasOwn, objHasOwnProperty, objKeys, objSeal, objSetPrototypeOf, objToString, perfNow, plainObjDeepCopyHandler, polyArrFind, polyArrFindIndex, polyArrFindLast, polyArrFindLastIndex, polyArrFrom, polyArrIncludes, polyGetKnownSymbol, polyIsArray, polyNewSymbol, polyObjEntries, polyObjHasOwn, polyObjKeys, polyStrIncludes, polyStrSubstr, polyStrSymSplit, polyStrTrim, polyStrTrimEnd, polyStrTrimStart, polySymbolFor, polySymbolKeyFor, polyUtcNow, readArgs, safe, safeGet, safeGetLazy, scheduleIdleCallback, scheduleInterval, scheduleTimeout, scheduleTimeoutWith, setBypassLazyCache, setDefaultIdleTimeout, setDefaultMaxExecutionTime, setValueByIter, setValueByKey, strCamelCase, strContains, strEndsWith, strIncludes, strIndexOf, strIsNullOrEmpty, strIsNullOrWhiteSpace, strKebabCase, strLastIndexOf, strLeft, strLetterCase, strLower, strPadEnd, strPadStart, strRepeat, strRight, strSlice, strSnakeCase, strSplit, strStartsWith, strSubstr, strSubstring, strSymSplit, strTrim, strTrimEnd, strTrimLeft, strTrimRight, strTrimStart, strUpper, symbolFor, symbolKeyFor, throwError, throwRangeError, throwTypeError, throwUnsupported, utcNow };\n//# sourceMappingURL=ts-utils.js.map\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.oneDataSystemClientFactory = void 0;\n/**\n * Configures 1DS properly and returns the core client object\n * @param key The ingestion key\n * @param xhrOverride An optional override to use for requests instead of the XHTMLRequest object. Useful for node environments\n * @returns The AI core object\n */\nconst getAICore = async (key, vscodeAPI, xhrOverride) => {\n    const oneDs = await Promise.resolve().then(() => __importStar(require(/* webpackMode: \"eager\" */ \"@microsoft/1ds-core-js\")));\n    const postPlugin = await Promise.resolve().then(() => __importStar(require(/* webpackMode: \"eager\" */ \"@microsoft/1ds-post-js\")));\n    const appInsightsCore = new oneDs.AppInsightsCore();\n    const collectorChannelPlugin = new postPlugin.PostChannel();\n    // Configure the app insights core to send to collector++ and disable logging of debug info\n    const coreConfig = {\n        instrumentationKey: key,\n        endpointUrl: \"https://mobile.events.data.microsoft.com/OneCollector/1.0\",\n        loggingLevelTelemetry: 0,\n        loggingLevelConsole: 0,\n        disableCookiesUsage: true,\n        disableDbgExt: true,\n        disableInstrumentationKeyValidation: true,\n        channels: [[\n                collectorChannelPlugin\n            ]]\n    };\n    if (xhrOverride) {\n        coreConfig.extensionConfig = {};\n        // Configure the channel to use a XHR Request override since it's not available in node\n        const channelConfig = {\n            alwaysUseXhrOverride: true,\n            httpXHROverride: xhrOverride\n        };\n        coreConfig.extensionConfig[collectorChannelPlugin.identifier] = channelConfig;\n    }\n    const config = vscodeAPI.workspace.getConfiguration(\"telemetry\");\n    const internalTesting = config.get(\"internalTesting\");\n    appInsightsCore.initialize(coreConfig, []);\n    appInsightsCore.addTelemetryInitializer((envelope) => {\n        envelope[\"ext\"] = envelope[\"ext\"] ?? {};\n        envelope[\"ext\"][\"web\"] = envelope[\"ext\"][\"web\"] ?? {};\n        envelope[\"ext\"][\"web\"][\"consentDetails\"] = \"{\\\"GPC_DataSharingOptIn\\\":false}\";\n        // Only add the remaining flags when `telemetry.internalTesting` is enabled\n        if (!internalTesting) {\n            return;\n        }\n        envelope[\"ext\"][\"utc\"] = envelope[\"ext\"][\"utc\"] ?? {};\n        // Sets it to be internal only based on Windows UTC flagging\n        envelope[\"ext\"][\"utc\"][\"flags\"] = 0x0000811ECD;\n    });\n    return appInsightsCore;\n};\n/**\n * Configures and creates a telemetry client using the 1DS sdk\n * @param key The ingestion key\n * @param xhrOverride An optional override to use for requests instead of the XHTMLRequest object. Useful for node environments\n */\nconst oneDataSystemClientFactory = async (key, vscodeAPI, xhrOverride) => {\n    let appInsightsCore = await getAICore(key, vscodeAPI, xhrOverride);\n    const flushOneDS = async () => {\n        try {\n            const flushPromise = new Promise((resolve, reject) => {\n                if (!appInsightsCore) {\n                    resolve();\n                    return;\n                }\n                appInsightsCore.flush(true, (completedFlush) => {\n                    if (!completedFlush) {\n                        reject(\"Failed to flush app 1DS!\");\n                        return;\n                    }\n                });\n            });\n            return flushPromise;\n        }\n        catch (e) {\n            throw new Error(\"Failed to flush 1DS!\\n\" + e.message);\n        }\n    };\n    // Shape the app insights core from 1DS into a standard format\n    const telemetryClient = {\n        logEvent: (eventName, data) => {\n            try {\n                appInsightsCore?.track({\n                    name: eventName,\n                    baseData: { name: eventName, properties: data?.properties, measurements: data?.measurements }\n                });\n            }\n            catch (e) {\n                throw new Error(\"Failed to log event to app insights!\\n\" + e.message);\n            }\n        },\n        flush: flushOneDS,\n        dispose: async () => {\n            const disposePromise = new Promise((resolve) => {\n                if (!appInsightsCore) {\n                    resolve();\n                    return;\n                }\n                appInsightsCore.unload(false, () => {\n                    resolve();\n                    appInsightsCore = undefined;\n                    return;\n                }, 1000);\n            });\n            return disposePromise;\n        }\n    };\n    return telemetryClient;\n};\nexports.oneDataSystemClientFactory = oneDataSystemClientFactory;\n//# sourceMappingURL=1dsClientFactory.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.appInsightsClientFactory = void 0;\nconst applicationinsights_common_1 = require(\"@microsoft/applicationinsights-common\");\nconst util_1 = require(\"./util\");\nconst appInsightsClientFactory = async (connectionString, machineId, sessionId, xhrOverride, replacementOptions) => {\n    let appInsightsClient;\n    try {\n        const basicAISDK = await Promise.resolve().then(() => __importStar(require(\"@microsoft/applicationinsights-web-basic\")));\n        const extensionConfig = {};\n        if (xhrOverride) {\n            // Configure the channel to use a XHR Request override since it's not available in node\n            const channelConfig = {\n                alwaysUseXhrOverride: true,\n                httpXHROverride: xhrOverride\n            };\n            extensionConfig[applicationinsights_common_1.BreezeChannelIdentifier] = channelConfig;\n        }\n        let instrumentationKey;\n        if (!connectionString.startsWith(\"InstrumentationKey=\")) {\n            instrumentationKey = connectionString;\n        }\n        const authConfig = instrumentationKey ? { instrumentationKey } : { connectionString };\n        appInsightsClient = new basicAISDK.ApplicationInsights({\n            ...authConfig,\n            disableAjaxTracking: true,\n            disableExceptionTracking: true,\n            disableFetchTracking: true,\n            disableCorrelationHeaders: true,\n            disableCookiesUsage: true,\n            autoTrackPageVisitTime: false,\n            emitLineDelimitedJson: false,\n            disableInstrumentationKeyValidation: true,\n            extensionConfig,\n        });\n    }\n    catch (e) {\n        return Promise.reject(e);\n    }\n    // Sets the appinsights client into a standardized form\n    const telemetryClient = {\n        logEvent: (eventName, data) => {\n            const properties = { ...data?.properties, ...data?.measurements };\n            if (replacementOptions?.length) {\n                util_1.TelemetryUtil.applyReplacements(properties, replacementOptions);\n            }\n            appInsightsClient?.track({\n                name: eventName,\n                data: properties,\n                baseType: \"EventData\",\n                ext: { user: { id: machineId, authId: machineId }, app: { sesId: sessionId } },\n                baseData: { name: eventName, properties: data?.properties, measurements: data?.measurements }\n            });\n        },\n        flush: async () => {\n            appInsightsClient?.flush(false);\n        },\n        dispose: async () => {\n            const unloadPromise = new Promise((resolve) => {\n                appInsightsClient?.unload(true, () => {\n                    resolve();\n                    appInsightsClient = undefined;\n                }, 1000);\n            });\n            return unloadPromise;\n        }\n    };\n    return telemetryClient;\n};\nexports.appInsightsClientFactory = appInsightsClientFactory;\n//# sourceMappingURL=appInsightsClientFactory.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseTelemetryReporter = void 0;\nclass BaseTelemetryReporter {\n    constructor(telemetrySender, vscodeAPI, initializationOptions) {\n        this.telemetrySender = telemetrySender;\n        this.vscodeAPI = vscodeAPI;\n        this.userOptIn = false;\n        this.errorOptIn = false;\n        this.disposables = [];\n        this._onDidChangeTelemetryLevel = new this.vscodeAPI.EventEmitter();\n        this.onDidChangeTelemetryLevel = this._onDidChangeTelemetryLevel.event;\n        this.telemetryLogger = this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender, initializationOptions);\n        // Keep track of the user's opt-in status\n        this.updateUserOptIn();\n        this.telemetryLogger.onDidChangeEnableStates(() => {\n            this.updateUserOptIn();\n        });\n    }\n    /**\n     * Updates the user's telemetry opt-in status\n     */\n    updateUserOptIn() {\n        this.errorOptIn = this.telemetryLogger.isErrorsEnabled;\n        this.userOptIn = this.telemetryLogger.isUsageEnabled;\n        // The sender is lazy loaded so if telemetry is off it's not loaded in\n        if (this.telemetryLogger.isErrorsEnabled || this.telemetryLogger.isUsageEnabled) {\n            this.telemetrySender.instantiateSender();\n        }\n        this._onDidChangeTelemetryLevel.fire(this.telemetryLevel);\n    }\n    get telemetryLevel() {\n        if (this.errorOptIn && this.userOptIn) {\n            return \"all\";\n        }\n        else if (this.errorOptIn) {\n            return \"error\";\n        }\n        else {\n            return \"off\";\n        }\n    }\n    /**\n     * Internal function which logs telemetry events and takes extra options.\n     * @param eventName The name of the event\n     * @param properties The properties of the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to sanitize to the properties and measures\n     * @param dangerous Whether or not to ignore telemetry level\n     */\n    internalSendTelemetryEvent(eventName, properties, measurements, dangerous) {\n        // If it's dangerous we skip going through the logger as the logger checks opt-in status, etc.\n        if (dangerous) {\n            this.telemetrySender.sendEventData(eventName, { properties, measurements });\n        }\n        else {\n            this.telemetryLogger.logUsage(eventName, { properties, measurements });\n        }\n    }\n    /**\n     * Given an event name, some properties, and measurements sends a telemetry event.\n     * Properties are sanitized on best-effort basis to remove sensitive data prior to sending.\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     */\n    sendTelemetryEvent(eventName, properties, measurements) {\n        this.internalSendTelemetryEvent(eventName, properties, measurements, false);\n    }\n    /**\n     * Sends a raw (unsanitized) telemetry event with the given properties and measurements.\n     * NOTE: This will not be logged to the output channel due to API limitations.\n     * @param eventName The name of the event\n     * @param properties The set of properties to add to the event in the form of a string key value pair\n     * @param measurements The set of measurements to add to the event in the form of a string key  number value pair\n     */\n    sendRawTelemetryEvent(eventName, properties, measurements) {\n        const modifiedProperties = { ...properties };\n        for (const propertyKey of Object.keys(modifiedProperties ?? {})) {\n            const propertyValue = modifiedProperties[propertyKey];\n            if (typeof propertyKey === \"string\" && propertyValue !== undefined) {\n                // Trusted values are not sanitized, which is what we want for raw telemetry\n                modifiedProperties[propertyKey] = new this.vscodeAPI.TelemetryTrustedValue(typeof propertyValue === \"string\" ? propertyValue : propertyValue.value);\n            }\n        }\n        this.sendTelemetryEvent(eventName, modifiedProperties, measurements);\n    }\n    /**\n     * **DANGEROUS** Given an event name, some properties, and measurements sends a telemetry event without checking telemetry setting\n     * Do not use unless in a controlled environment i.e. sending telmetry from a CI pipeline or testing during development\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to sanitize to the properties and measures, defaults to true\n     */\n    sendDangerousTelemetryEvent(eventName, properties, measurements) {\n        // Since telemetry is probably off when sending dangerously, we must start the sender\n        this.telemetrySender.instantiateSender();\n        this.internalSendTelemetryEvent(eventName, properties, measurements, true);\n    }\n    /**\n     * Internal function which logs telemetry error events and takes extra options.\n     * @param eventName The name of the event\n     * @param properties The properties of the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to sanitize to the properties and measures\n     * @param dangerous Whether or not to ignore telemetry level\n     */\n    internalSendTelemetryErrorEvent(eventName, properties, measurements, dangerous) {\n        if (dangerous) {\n            this.telemetrySender.sendEventData(eventName, { properties, measurements });\n        }\n        else {\n            this.telemetryLogger.logError(eventName, { properties, measurements });\n        }\n    }\n    /**\n     * Given an event name, some properties, and measurements sends an error event\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     */\n    sendTelemetryErrorEvent(eventName, properties, measurements) {\n        this.internalSendTelemetryErrorEvent(eventName, properties, measurements, false);\n    }\n    /**\n     * **DANGEROUS** Given an event name, some properties, and measurements sends a telemetry error event without checking telemetry setting\n     * Do not use unless in a controlled environment i.e. sending telmetry from a CI pipeline or testing during development\n     * @param eventName The name of the event\n     * @param properties The properties to send with the event\n     * @param measurements The measurements (numeric values) to send with the event\n     * @param sanitize Whether or not to run the properties and measures through sanitiziation, defaults to true\n     */\n    sendDangerousTelemetryErrorEvent(eventName, properties, measurements) {\n        // Since telemetry is probably off when sending dangerously, we must start the sender\n        this.telemetrySender.instantiateSender();\n        this.internalSendTelemetryErrorEvent(eventName, properties, measurements, true);\n    }\n    /**\n     * Disposes of the telemetry reporter\n     */\n    async dispose() {\n        await this.telemetrySender.dispose();\n        this.telemetryLogger.dispose();\n        return Promise.all(this.disposables.map(d => d.dispose()));\n    }\n}\nexports.BaseTelemetryReporter = BaseTelemetryReporter;\n//# sourceMappingURL=baseTelemetryReporter.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseTelemetrySender = void 0;\nvar InstantiationStatus;\n(function (InstantiationStatus) {\n    InstantiationStatus[InstantiationStatus[\"NOT_INSTANTIATED\"] = 0] = \"NOT_INSTANTIATED\";\n    InstantiationStatus[InstantiationStatus[\"INSTANTIATING\"] = 1] = \"INSTANTIATING\";\n    InstantiationStatus[InstantiationStatus[\"INSTANTIATED\"] = 2] = \"INSTANTIATED\";\n})(InstantiationStatus || (InstantiationStatus = {}));\nclass BaseTelemetrySender {\n    constructor(key, clientFactory) {\n        // Whether or not the client has been instantiated\n        this._instantiationStatus = InstantiationStatus.NOT_INSTANTIATED;\n        // Queues used to store events until the sender is ready\n        this._eventQueue = [];\n        this._exceptionQueue = [];\n        this._clientFactory = clientFactory;\n        this._key = key;\n    }\n    /**\n     * Sends the event to the passed in telemetry client\n     * The sender does no telemetry level checks as those are done by the reporter.\n     * @param eventName The name of the event to log\n     * @param data The data contanied in the event\n     */\n    sendEventData(eventName, data) {\n        if (!this._telemetryClient) {\n            if (this._instantiationStatus !== InstantiationStatus.INSTANTIATED) {\n                this._eventQueue.push({ eventName, data });\n            }\n            return;\n        }\n        this._telemetryClient.logEvent(eventName, data);\n    }\n    /**\n     * Sends an exception to the passed in telemetry client\n     * The sender does no telemetry level checks as those are done by the reporter.\n     * @param exception The exception to collect\n     * @param data Data associated with the exception\n     */\n    sendErrorData(exception, data) {\n        if (!this._telemetryClient) {\n            if (this._instantiationStatus !== InstantiationStatus.INSTANTIATED) {\n                this._exceptionQueue.push({ exception, data });\n            }\n            return;\n        }\n        const errorData = { stack: exception.stack, message: exception.message, name: exception.name };\n        if (data) {\n            const errorProperties = data.properties || data;\n            data.properties = { ...errorProperties, ...errorData };\n        }\n        else {\n            data = { properties: errorData };\n        }\n        this._telemetryClient.logEvent(\"unhandlederror\", data);\n    }\n    /**\n     * Flushes the buffered telemetry data\n     */\n    async flush() {\n        return this._telemetryClient?.flush();\n    }\n    async dispose() {\n        if (this._telemetryClient) {\n            await this._telemetryClient.dispose();\n            this._telemetryClient = undefined;\n        }\n        return;\n    }\n    /**\n     * Flushes the queued events that existed before the client was instantiated\n     */\n    _flushQueues() {\n        this._eventQueue.forEach(({ eventName, data }) => this.sendEventData(eventName, data));\n        this._eventQueue = [];\n        this._exceptionQueue.forEach(({ exception, data }) => this.sendErrorData(exception, data));\n        this._exceptionQueue = [];\n    }\n    /**\n     * Instantiates the telemetry client to make the sender \"active\"\n     */\n    instantiateSender() {\n        if (this._instantiationStatus !== InstantiationStatus.NOT_INSTANTIATED) {\n            return;\n        }\n        this._instantiationStatus = InstantiationStatus.INSTANTIATING;\n        // Call the client factory to get the client and then let it know it's instatntiated\n        this._clientFactory(this._key).then(client => {\n            this._telemetryClient = client;\n            this._instantiationStatus = InstantiationStatus.INSTANTIATED;\n            this._flushQueues();\n        }).catch(err => {\n            console.error(err);\n            // If it failed to instntiate, then we don't want to try again.\n            // So we mark it as instantiated. See #94\n            this._instantiationStatus = InstantiationStatus.INSTANTIATED;\n        });\n    }\n}\nexports.BaseTelemetrySender = BaseTelemetrySender;\n//# sourceMappingURL=baseTelemetrySender.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TelemetryUtil = void 0;\nclass TelemetryUtil {\n    static applyReplacements(data, replacementOptions) {\n        for (const key of Object.keys(data)) {\n            for (const option of replacementOptions) {\n                if (option.lookup.test(key)) {\n                    if (option.replacementString !== undefined) {\n                        data[key] = option.replacementString;\n                    }\n                    else {\n                        delete data[key];\n                    }\n                }\n            }\n        }\n    }\n    /**\n     * Given a key / connection string checks if it is a valid 1DS key\n     * @param key The key to check if it's a valid 1DS key\n     */\n    static shouldUseOneDataSystemSDK(key) {\n        // Simple to check to ensure the key is the right length and the dashes are in the right spot\n        return (key.length === 74 &&\n            key[32] === \"-\" &&\n            key[41] === \"-\" &&\n            key[46] === \"-\" &&\n            key[51] === \"-\" &&\n            key[56] === \"-\" &&\n            key[69] === \"-\");\n    }\n    // This also includes the common properties which core mixes in\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.nodeArch\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.uikind\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.remotename\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.isnewappinstall\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.product\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    // __GDPR__COMMON__ \"common.telemetryclientversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\n    static getAdditionalCommonProperties(osShim) {\n        return {\n            \"common.os\": osShim.platform,\n            \"common.nodeArch\": osShim.architecture,\n            \"common.platformversion\": (osShim.release || \"\").replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, \"$1$2$3\"),\n            // Do not change this string as it gets found and replaced upon packaging\n            \"common.telemetryclientversion\": \"0.9.8\"\n        };\n    }\n    // Get singleton instance of TelemetryUtil\n    static getInstance() {\n        if (!TelemetryUtil._instance) {\n            TelemetryUtil._instance = new TelemetryUtil();\n        }\n        return TelemetryUtil._instance;\n    }\n}\nexports.TelemetryUtil = TelemetryUtil;\n//# sourceMappingURL=util.js.map","\"use strict\";\n/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst https = __importStar(require(\"https\"));\nconst os = __importStar(require(\"os\"));\nconst vscode = __importStar(require(\"vscode\"));\nconst _1dsClientFactory_1 = require(\"../common/1dsClientFactory\");\nconst appInsightsClientFactory_1 = require(\"../common/appInsightsClientFactory\");\nconst baseTelemetryReporter_1 = require(\"../common/baseTelemetryReporter\");\nconst baseTelemetrySender_1 = require(\"../common/baseTelemetrySender\");\nconst util_1 = require(\"../common/util\");\n/**\n * Create a replacement for the XHTMLRequest object utilizing nodes HTTP module.\n * @returns A XHR override object used to override the XHTMLRequest object in the 1DS SDK\n */\nfunction getXHROverride() {\n    // Override the way events get sent since node doesn't have XHTMLRequest\n    const customHttpXHROverride = {\n        sendPOST: (payload, oncomplete) => {\n            const options = {\n                method: \"POST\",\n                headers: {\n                    ...payload.headers,\n                    \"Content-Type\": \"application/json\",\n                    \"Content-Length\": Buffer.byteLength(payload.data)\n                }\n            };\n            try {\n                const req = https.request(payload.urlString, options, res => {\n                    res.on(\"data\", function (responseData) {\n                        oncomplete(res.statusCode ?? 200, res.headers, responseData.toString());\n                    });\n                    // On response with error send status of 0 and a blank response to oncomplete so we can retry events\n                    res.on(\"error\", function () {\n                        oncomplete(0, {});\n                    });\n                });\n                req.write(payload.data, (err) => {\n                    if (err) {\n                        oncomplete(0, {});\n                    }\n                });\n                req.end();\n            }\n            catch {\n                // If it errors out, send status of 0 and a blank response to oncomplete so we can retry events\n                oncomplete(0, {});\n            }\n        }\n    };\n    return customHttpXHROverride;\n}\nclass TelemetryReporter extends baseTelemetryReporter_1.BaseTelemetryReporter {\n    constructor(connectionString, replacementOptions) {\n        let clientFactory = (connectionString) => (0, appInsightsClientFactory_1.appInsightsClientFactory)(connectionString, vscode.env.machineId, vscode.env.sessionId, getXHROverride(), replacementOptions);\n        // If connection string is usable by 1DS use the 1DS SDk\n        if (util_1.TelemetryUtil.shouldUseOneDataSystemSDK(connectionString)) {\n            clientFactory = (key) => (0, _1dsClientFactory_1.oneDataSystemClientFactory)(key, vscode, getXHROverride());\n        }\n        const osShim = {\n            release: os.release(),\n            platform: os.platform(),\n            architecture: os.arch(),\n        };\n        const sender = new baseTelemetrySender_1.BaseTelemetrySender(connectionString, clientFactory);\n        if (connectionString && connectionString.indexOf(\"AIF-\") === 0) {\n            throw new Error(\"AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions\");\n        }\n        super(sender, vscode, { additionalCommonProperties: util_1.TelemetryUtil.getAdditionalCommonProperties(osShim) });\n    }\n}\nexports.default = TelemetryReporter;\n//# sourceMappingURL=telemetryReporter.js.map","var Node = {\n  child: require('child_process'),\n  crypto: require('crypto'),\n  fs: require('fs'),\n  os: require('os'),\n  path: require('path'),\n  process: process,\n  util: require('util')\n};\n\nfunction Attempt(instance, end) {\n  var platform = Node.process.platform;\n  if (platform === 'darwin') return Mac(instance, end);\n  if (platform === 'linux') return Linux(instance, end);\n  if (platform === 'win32') return Windows(instance, end);\n  end(new Error('Platform not yet supported.'));\n}\n\nfunction EscapeDoubleQuotes(string) {\n  if (typeof string !== 'string') throw new Error('Expected a string.');\n  return string.replace(/\"/g, '\\\\\"');\n}\n\nfunction Exec() {\n  if (arguments.length < 1 || arguments.length > 3) {\n    throw new Error('Wrong number of arguments.');\n  }\n  var command = arguments[0];\n  var options = {};\n  var end = function() {};\n  if (typeof command !== 'string') {\n    throw new Error('Command should be a string.');\n  }\n  if (arguments.length === 2) {\n    if (Node.util.isObject(arguments[1])) {\n      options = arguments[1];\n    } else if (Node.util.isFunction(arguments[1])) {\n      end = arguments[1];\n    } else {\n      throw new Error('Expected options or callback.');\n    }\n  } else if (arguments.length === 3) {\n    if (Node.util.isObject(arguments[1])) {\n      options = arguments[1];\n    } else {\n      throw new Error('Expected options to be an object.');\n    }\n    if (Node.util.isFunction(arguments[2])) {\n      end = arguments[2];\n    } else {\n      throw new Error('Expected callback to be a function.');\n    }\n  }\n  if (/^sudo/i.test(command)) {\n    return end(new Error('Command should not be prefixed with \"sudo\".'));\n  }\n  if (typeof options.name === 'undefined') {\n    var title = Node.process.title;\n    if (ValidName(title)) {\n      options.name = title;\n    } else {\n      return end(new Error('process.title cannot be used as a valid name.'));\n    }\n  } else if (!ValidName(options.name)) {\n    var error = '';\n    error += 'options.name must be alphanumeric only ';\n    error += '(spaces are allowed) and <= 70 characters.';\n    return end(new Error(error));\n  }\n  if (typeof options.icns !== 'undefined') {\n    if (typeof options.icns !== 'string') {\n      return end(new Error('options.icns must be a string if provided.'));\n    } else if (options.icns.trim().length === 0) {\n      return end(new Error('options.icns must not be empty if provided.'));\n    }\n  }\n  if (typeof options.env !== 'undefined') {\n    if (typeof options.env !== 'object') {\n      return end(new Error('options.env must be an object if provided.'));\n    } else if (Object.keys(options.env).length === 0) {\n      return end(new Error('options.env must not be empty if provided.'));\n    } else {\n      for (var key in options.env) {\n        var value = options.env[key];\n        if (typeof key !== 'string' || typeof value !== 'string') {\n          return end(\n            new Error('options.env environment variables must be strings.')\n          );\n        }\n        // \"Environment variable names used by the utilities in the Shell and\n        // Utilities volume of IEEE Std 1003.1-2001 consist solely of uppercase\n        // letters, digits, and the '_' (underscore) from the characters defined\n        // in Portable Character Set and do not begin with a digit. Other\n        // characters may be permitted by an implementation; applications shall\n        // tolerate the presence of such names.\"\n        if (!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(key)) {\n          return end(\n            new Error(\n              'options.env has an invalid environment variable name: ' +\n              JSON.stringify(key)\n            )\n          );\n        }\n        if (/[\\r\\n]/.test(value)) {\n          return end(\n            new Error(\n              'options.env has an invalid environment variable value: ' +\n              JSON.stringify(value)\n            )\n          );\n        }\n      }\n    }\n  }\n  var platform = Node.process.platform;\n  if (platform !== 'darwin' && platform !== 'linux' && platform !== 'win32') {\n    return end(new Error('Platform not yet supported.'));\n  }\n  var instance = {\n    command: command,\n    options: options,\n    uuid: undefined,\n    path: undefined\n  };\n  Attempt(instance, end);\n}\n\nfunction Linux(instance, end) {\n  LinuxBinary(instance,\n    function(error, binary) {\n      if (error) return end(error);\n      var command = [];\n      // Preserve current working directory:\n      command.push('cd \"' + EscapeDoubleQuotes(Node.process.cwd()) + '\";');\n      // Export environment variables:\n      for (var key in instance.options.env) {\n        var value = instance.options.env[key];\n        command.push('export ' + key + '=\"' + EscapeDoubleQuotes(value) + '\";');\n      }\n      command.push('\"' + EscapeDoubleQuotes(binary) + '\"');\n      if (/kdesudo/i.test(binary)) {\n        command.push(\n          '--comment',\n          '\"' + instance.options.name + ' wants to make changes. ' +\n          'Enter your password to allow this.\"'\n        );\n        command.push('-d'); // Do not show the command to be run in the dialog.\n        command.push('--');\n      } else if (/pkexec/i.test(binary)) {\n        command.push('--disable-internal-agent');\n      }\n      var magic = 'SUDOPROMPT\\n';\n      command.push(\n        '/bin/bash -c \"echo ' + EscapeDoubleQuotes(magic.trim()) + '; ' +\n        EscapeDoubleQuotes(instance.command) +\n        '\"'\n      );\n      command = command.join(' ');\n      Node.child.exec(command, { encoding: 'utf-8', maxBuffer: MAX_BUFFER },\n        function(error, stdout, stderr) {\n          // ISSUE 88:\n          // We must distinguish between elevation errors and command errors.\n          //\n          // KDESUDO:\n          // kdesudo provides no way to do this. We add a magic marker to know\n          // if elevation succeeded. Any error thereafter is a command error.\n          //\n          // PKEXEC:\n          // \"Upon successful completion, the return value is the return value of\n          // PROGRAM. If the calling process is not authorized or an\n          // authorization could not be obtained through authentication or an\n          // error occured, pkexec exits with a return value of 127. If the\n          // authorization could not be obtained because the user dismissed the\n          // authentication dialog, pkexec exits with a return value of 126.\"\n          //\n          // However, we do not rely on pkexec's return of 127 since our magic\n          // marker is more reliable, and we already use it for kdesudo.\n          var elevated = stdout && stdout.slice(0, magic.length) === magic;\n          if (elevated) stdout = stdout.slice(magic.length);\n          // Only normalize the error if it is definitely not a command error:\n          // In other words, if we know that the command was never elevated.\n          // We do not inspect error messages beyond NO_POLKIT_AGENT.\n          // We cannot rely on English errors because of internationalization.\n          if (error && !elevated) {\n            if (/No authentication agent found/.test(stderr)) {\n              error.message = NO_POLKIT_AGENT;\n            } else {\n              error.message = PERMISSION_DENIED;\n            }\n          }\n          end(error, stdout, stderr);\n        }\n      );\n    }\n  );\n}\n\nfunction LinuxBinary(instance, end) {\n  var index = 0;\n  // We used to prefer gksudo over pkexec since it enabled a better prompt.\n  // However, gksudo cannot run multiple commands concurrently.\n  var paths = ['/usr/bin/kdesudo', '/usr/bin/pkexec'];\n  function test() {\n    if (index === paths.length) {\n      return end(new Error('Unable to find pkexec or kdesudo.'));\n    }\n    var path = paths[index++];\n    Node.fs.stat(path,\n      function(error) {\n        if (error) {\n          if (error.code === 'ENOTDIR') return test();\n          if (error.code === 'ENOENT') return test();\n          end(error);\n        } else {\n          end(undefined, path);\n        }\n      }\n    );\n  }\n  test();\n}\n\nfunction Mac(instance, callback) {\n  var temp = Node.os.tmpdir();\n  if (!temp) return callback(new Error('os.tmpdir() not defined.'));\n  var user = Node.process.env.USER; // Applet shell scripts require $USER.\n  if (!user) return callback(new Error('env[\\'USER\\'] not defined.'));\n  UUID(instance,\n    function(error, uuid) {\n      if (error) return callback(error);\n      instance.uuid = uuid;\n      instance.path = Node.path.join(\n        temp,\n        instance.uuid,\n        instance.options.name + '.app'\n      );\n      function end(error, stdout, stderr) {\n        Remove(Node.path.dirname(instance.path),\n          function(errorRemove) {\n            if (error) return callback(error);\n            if (errorRemove) return callback(errorRemove);\n            callback(undefined, stdout, stderr);\n          }\n        );\n      }\n      MacApplet(instance,\n        function(error, stdout, stderr) {\n          if (error) return end(error, stdout, stderr);\n          MacIcon(instance,\n            function(error) {\n              if (error) return end(error);\n              MacPropertyList(instance,\n                function(error, stdout, stderr) {\n                  if (error) return end(error, stdout, stderr);\n                  MacCommand(instance,\n                    function(error) {\n                      if (error) return end(error);\n                      MacOpen(instance,\n                        function(error, stdout, stderr) {\n                          if (error) return end(error, stdout, stderr);\n                          MacResult(instance, end);\n                        }\n                      );\n                    }\n                  );\n                }\n              );\n            }\n          );\n        }\n      );\n    }\n  );\n}\n\nfunction MacApplet(instance, end) {\n  var parent = Node.path.dirname(instance.path);\n  Node.fs.mkdir(parent,\n    function(error) {\n      if (error) return end(error);\n      var zip = Node.path.join(parent, 'sudo-prompt-applet.zip');\n      Node.fs.writeFile(zip, APPLET, 'base64',\n        function(error) {\n          if (error) return end(error);\n          var command = [];\n          command.push('/usr/bin/unzip');\n          command.push('-o'); // Overwrite any existing applet.\n          command.push('\"' + EscapeDoubleQuotes(zip) + '\"');\n          command.push('-d \"' + EscapeDoubleQuotes(instance.path) + '\"');\n          command = command.join(' ');\n          Node.child.exec(command, { encoding: 'utf-8' }, end);\n        }\n      );\n    }\n  );\n}\n\nfunction MacCommand(instance, end) {\n  var path = Node.path.join(\n    instance.path,\n    'Contents',\n    'MacOS',\n    'sudo-prompt-command'\n  );\n  var script = [];\n  // Preserve current working directory:\n  // We do this for commands that rely on relative paths.\n  // This runs in a subshell and will not change the cwd of sudo-prompt-script.\n  script.push('cd \"' + EscapeDoubleQuotes(Node.process.cwd()) + '\"');\n  // Export environment variables:\n  for (var key in instance.options.env) {\n    var value = instance.options.env[key];\n    script.push('export ' + key + '=\"' + EscapeDoubleQuotes(value) + '\"');\n  }\n  script.push(instance.command);\n  script = script.join('\\n');\n  Node.fs.writeFile(path, script, 'utf-8', end);\n}\n\nfunction MacIcon(instance, end) {\n  if (!instance.options.icns) return end();\n  Node.fs.readFile(instance.options.icns,\n    function(error, buffer) {\n      if (error) return end(error);\n      var icns = Node.path.join(\n        instance.path,\n        'Contents',\n        'Resources',\n        'applet.icns'\n      );\n      Node.fs.writeFile(icns, buffer, end);\n    }\n  );\n}\n\nfunction MacOpen(instance, end) {\n  // We must run the binary directly so that the cwd will apply.\n  var binary = Node.path.join(instance.path, 'Contents', 'MacOS', 'applet');\n  // We must set the cwd so that the AppleScript can find the shell scripts.\n  var options = {\n    cwd: Node.path.dirname(binary),\n    encoding: 'utf-8'\n  };\n  // We use the relative path rather than the absolute path. The instance.path\n  // may contain spaces which the cwd can handle, but which exec() cannot.\n  Node.child.exec('./' + Node.path.basename(binary), options, end);\n}\n\nfunction MacPropertyList(instance, end) {\n  // Value must be in single quotes (not double quotes) according to man entry.\n  // e.g. defaults write com.companyname.appname \"Default Color\" '(255, 0, 0)'\n  // The defaults command will be changed in an upcoming major release to only\n  // operate on preferences domains. General plist manipulation utilities will\n  // be folded into a different command-line program.\n  var plist = Node.path.join(instance.path, 'Contents', 'Info.plist');\n  var path = EscapeDoubleQuotes(plist);\n  var key = EscapeDoubleQuotes('CFBundleName');\n  var value = instance.options.name + ' Password Prompt';\n  if (/'/.test(value)) {\n    return end(new Error('Value should not contain single quotes.'));\n  }\n  var command = [];\n  command.push('/usr/bin/defaults');\n  command.push('write');\n  command.push('\"' + path + '\"');\n  command.push('\"' + key + '\"');\n  command.push(\"'\" + value + \"'\"); // We must use single quotes for value.\n  command = command.join(' ');\n  Node.child.exec(command, { encoding: 'utf-8' }, end);\n}\n\nfunction MacResult(instance, end) {\n  var cwd = Node.path.join(instance.path, 'Contents', 'MacOS');\n  Node.fs.readFile(Node.path.join(cwd, 'code'), 'utf-8',\n    function(error, code) {\n      if (error) {\n        if (error.code === 'ENOENT') return end(new Error(PERMISSION_DENIED));\n        end(error);\n      } else {\n        Node.fs.readFile(Node.path.join(cwd, 'stdout'), 'utf-8',\n          function(error, stdout) {\n            if (error) return end(error);\n            Node.fs.readFile(Node.path.join(cwd, 'stderr'), 'utf-8',\n              function(error, stderr) {\n                if (error) return end(error);\n                code = parseInt(code.trim(), 10); // Includes trailing newline.\n                if (code === 0) {\n                  end(undefined, stdout, stderr);\n                } else {\n                  error = new Error(\n                    'Command failed: ' + instance.command + '\\n' + stderr\n                  );\n                  error.code = code;\n                  end(error, stdout, stderr);\n                }\n              }\n            );\n          }\n        );\n      }\n    }\n  );\n}\n\nfunction Remove(path, end) {\n  if (typeof path !== 'string' || !path.trim()) {\n    return end(new Error('Argument path not defined.'));\n  }\n  var command = [];\n  if (Node.process.platform === 'win32') {\n    if (/\"/.test(path)) {\n      return end(new Error('Argument path cannot contain double-quotes.'));\n    }\n    command.push('rmdir /s /q \"' + path + '\"');\n  } else {\n    command.push('/bin/rm');\n    command.push('-rf');\n    command.push('\"' + EscapeDoubleQuotes(Node.path.normalize(path)) + '\"');\n  }\n  command = command.join(' ');\n  Node.child.exec(command, { encoding: 'utf-8' }, end);\n}\n\nfunction UUID(instance, end) {\n  Node.crypto.randomBytes(256,\n    function(error, random) {\n      if (error) random = Date.now() + '' + Math.random();\n      var hash = Node.crypto.createHash('SHA256');\n      hash.update('sudo-prompt-3');\n      hash.update(instance.options.name);\n      hash.update(instance.command);\n      hash.update(random);\n      var uuid = hash.digest('hex').slice(-32);\n      if (!uuid || typeof uuid !== 'string' || uuid.length !== 32) {\n        // This is critical to ensure we don't remove the wrong temp directory.\n        return end(new Error('Expected a valid UUID.'));\n      }\n      end(undefined, uuid);\n    }\n  );\n}\n\nfunction ValidName(string) {\n  // We use 70 characters as a limit to side-step any issues with Unicode\n  // normalization form causing a 255 character string to exceed the fs limit.\n  if (!/^[a-z0-9 ]+$/i.test(string)) return false;\n  if (string.trim().length === 0) return false;\n  if (string.length > 70) return false;\n  return true;\n}\n\nfunction Windows(instance, callback) {\n  var temp = Node.os.tmpdir();\n  if (!temp) return callback(new Error('os.tmpdir() not defined.'));\n  UUID(instance,\n    function(error, uuid) {\n      if (error) return callback(error);\n      instance.uuid = uuid;\n      instance.path = Node.path.join(temp, instance.uuid);\n      if (/\"/.test(instance.path)) {\n        // We expect double quotes to be reserved on Windows.\n        // Even so, we test for this and abort if they are present.\n        return callback(\n          new Error('instance.path cannot contain double-quotes.')\n        );\n      }\n      instance.pathElevate = Node.path.join(instance.path, 'elevate.vbs');\n      instance.pathExecute = Node.path.join(instance.path, 'execute.bat');\n      instance.pathCommand = Node.path.join(instance.path, 'command.bat');\n      instance.pathStdout = Node.path.join(instance.path, 'stdout');\n      instance.pathStderr = Node.path.join(instance.path, 'stderr');\n      instance.pathStatus = Node.path.join(instance.path, 'status');\n      Node.fs.mkdir(instance.path,\n        function(error) {\n          if (error) return callback(error);\n          function end(error, stdout, stderr) {\n            Remove(instance.path,\n              function(errorRemove) {\n                if (error) return callback(error);\n                if (errorRemove) return callback(errorRemove);\n                callback(undefined, stdout, stderr);\n              }\n            );\n          }\n          WindowsWriteExecuteScript(instance,\n            function(error) {\n              if (error) return end(error);\n              WindowsWriteCommandScript(instance,\n                function(error) {\n                  if (error) return end(error);\n                  WindowsElevate(instance,\n                    function(error, stdout, stderr) {\n                      if (error) return end(error, stdout, stderr);\n                      WindowsWaitForStatus(instance,\n                        function(error) {\n                          if (error) return end(error);\n                          WindowsResult(instance, end);\n                        }\n                      );\n                    }\n                  );\n                }\n              );\n            }\n          );\n        }\n      );\n    }\n  );\n}\n\nfunction WindowsElevate(instance, end) {\n  // We used to use this for executing elevate.vbs:\n  // var command = 'cscript.exe //NoLogo \"' + instance.pathElevate + '\"';\n  var command = [];\n  command.push('powershell.exe');\n  command.push('Start-Process');\n  command.push('-FilePath');\n  // Escape characters for cmd using double quotes:\n  // Escape characters for PowerShell using single quotes:\n  // Escape single quotes for PowerShell using backtick:\n  // See: https://ss64.com/ps/syntax-esc.html\n  command.push('\"\\'' + instance.pathExecute.replace(/'/g, \"`'\") + '\\'\"');\n  command.push('-WindowStyle hidden');\n  command.push('-Verb runAs');\n  command = command.join(' ');\n  var child = Node.child.exec(command, { encoding: 'utf-8' },\n    function(error, stdout, stderr) {\n      // We used to return PERMISSION_DENIED only for error messages containing\n      // the string 'canceled by the user'. However, Windows internationalizes\n      // error messages (issue 96) so now we must assume all errors here are\n      // permission errors. This seems reasonable, given that we already run the\n      // user's command in a subshell.\n      if (error) return end(new Error(PERMISSION_DENIED), stdout, stderr);\n      end();\n    }\n  );\n  child.stdin.end(); // Otherwise PowerShell waits indefinitely on Windows 7.\n}\n\nfunction WindowsResult(instance, end) {\n  Node.fs.readFile(instance.pathStatus, 'utf-8',\n    function(error, code) {\n      if (error) return end(error);\n      Node.fs.readFile(instance.pathStdout, 'utf-8',\n        function(error, stdout) {\n          if (error) return end(error);\n          Node.fs.readFile(instance.pathStderr, 'utf-8',\n            function(error, stderr) {\n              if (error) return end(error);\n              code = parseInt(code.trim(), 10);\n              if (code === 0) {\n                end(undefined, stdout, stderr);\n              } else {\n                error = new Error(\n                  'Command failed: ' + instance.command + '\\r\\n' + stderr\n                );\n                error.code = code;\n                end(error, stdout, stderr);\n              }\n            }\n          );\n        }\n      );\n    }\n  );\n}\n\nfunction WindowsWaitForStatus(instance, end) {\n  // VBScript cannot wait for the elevated process to finish so we have to poll.\n  // VBScript cannot return error code if user does not grant permission.\n  // PowerShell can be used to elevate and wait on Windows 10.\n  // PowerShell can be used to elevate on Windows 7 but it cannot wait.\n  // powershell.exe Start-Process cmd.exe -Verb runAs -Wait\n  Node.fs.stat(instance.pathStatus,\n    function(error, stats) {\n      if ((error && error.code === 'ENOENT') || stats.size < 2) {\n        // Retry if file does not exist or is not finished writing.\n        // We expect a file size of 2. That should cover at least \"0\\r\".\n        // We use a 1 second timeout to keep a light footprint for long-lived\n        // sudo-prompt processes.\n        setTimeout(\n          function() {\n            // If administrator has no password and user clicks Yes, then\n            // PowerShell returns no error and execute (and command) never runs.\n            // We check that command output has been redirected to stdout file:\n            Node.fs.stat(instance.pathStdout,\n              function(error) {\n                if (error) return end(new Error(PERMISSION_DENIED));\n                WindowsWaitForStatus(instance, end);\n              }\n            );\n          },\n          1000\n        );\n      } else if (error) {\n        end(error);\n      } else {\n        end();\n      }\n    }\n  );\n}\n\nfunction WindowsWriteCommandScript(instance, end) {\n  var cwd = Node.process.cwd();\n  if (/\"/.test(cwd)) {\n    // We expect double quotes to be reserved on Windows.\n    // Even so, we test for this and abort if they are present.\n    return end(new Error('process.cwd() cannot contain double-quotes.'));\n  }\n  var script = [];\n  script.push('@echo off');\n  // Set code page to UTF-8:\n  script.push('chcp 65001>nul');\n  // Preserve current working directory:\n  // We pass /d as an option in case the cwd is on another drive (issue 70).\n  script.push('cd /d \"' + cwd + '\"');\n  // Export environment variables:\n  for (var key in instance.options.env) {\n    // \"The characters <, >, |, &, ^ are special command shell characters, and\n    // they must be preceded by the escape character (^) or enclosed in\n    // quotation marks. If you use quotation marks to enclose a string that\n    // contains one of the special characters, the quotation marks are set as\n    // part of the environment variable value.\"\n    // In other words, Windows assigns everything that follows the equals sign\n    // to the value of the variable, whereas Unix systems ignore double quotes.\n    var value = instance.options.env[key];\n    script.push('set ' + key + '=' + value.replace(/([<>\\\\|&^])/g, '^$1'));\n  }\n  script.push(instance.command);\n  script = script.join('\\r\\n');\n  Node.fs.writeFile(instance.pathCommand, script, 'utf-8', end);\n}\n\nfunction WindowsWriteElevateScript(instance, end) {\n  // We do not use VBScript to elevate since it does not return an error if\n  // the user does not grant permission. This is here for reference.\n  // var script = [];\n  // script.push('Set objShell = CreateObject(\"Shell.Application\")');\n  // script.push(\n  // 'objShell.ShellExecute \"' + instance.pathExecute + '\", \"\", \"\", \"runas\", 0'\n  // );\n  // script = script.join('\\r\\n');\n  // Node.fs.writeFile(instance.pathElevate, script, 'utf-8', end);\n}\n\nfunction WindowsWriteExecuteScript(instance, end) {\n  var script = [];\n  script.push('@echo off');\n  script.push(\n    'call \"' + instance.pathCommand + '\"' +\n    ' > \"' + instance.pathStdout + '\" 2> \"' + instance.pathStderr + '\"'\n  );\n  script.push('(echo %ERRORLEVEL%) > \"' + instance.pathStatus + '\"');\n  script = script.join('\\r\\n');\n  Node.fs.writeFile(instance.pathExecute, script, 'utf-8', end);\n}\n\nmodule.exports.exec = Exec;\n\n// We used to expect that applet.app would be included with this module.\n// This could not be copied when sudo-prompt was packaged within an asar file.\n// We now store applet.app as a zip file in base64 within index.js instead.\n// To recreate: \"zip -r ../applet.zip Contents\" (with applet.app as CWD).\n// The zip file must not include applet.app as the root directory so that we\n// can extract it directly to the target app directory.\n//\n// To update the applet, follow these steps:\n// * open main.scpt in macOS Script Editor and edit it as needed\n// * select File | Export... (file format: Application)\n// * replace the `applet` in `Contents/MacOS`\n// * `zip -r ../applet.zip Contents`\n// * base64 encode the zip file\n// * replace the contents of the `APPLET` variable\nvar APPLET = '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';\n\nvar PERMISSION_DENIED = 'User did not grant permission.';\nvar NO_POLKIT_AGENT = 'No polkit authentication agent found.';\n\n// See issue 66:\nvar MAX_BUFFER = 134217728;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.req = exports.json = exports.toBuffer = void 0;\nconst http = __importStar(require(\"http\"));\nconst https = __importStar(require(\"https\"));\nasync function toBuffer(stream) {\n    let length = 0;\n    const chunks = [];\n    for await (const chunk of stream) {\n        length += chunk.length;\n        chunks.push(chunk);\n    }\n    return Buffer.concat(chunks, length);\n}\nexports.toBuffer = toBuffer;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nasync function json(stream) {\n    const buf = await toBuffer(stream);\n    const str = buf.toString('utf8');\n    try {\n        return JSON.parse(str);\n    }\n    catch (_err) {\n        const err = _err;\n        err.message += ` (input: ${str})`;\n        throw err;\n    }\n}\nexports.json = json;\nfunction req(url, opts = {}) {\n    const href = typeof url === 'string' ? url : url.href;\n    const req = (href.startsWith('https:') ? https : http).request(url, opts);\n    const promise = new Promise((resolve, reject) => {\n        req\n            .once('response', resolve)\n            .once('error', reject)\n            .end();\n    });\n    req.then = promise.then.bind(promise);\n    return req;\n}\nexports.req = req;\n//# sourceMappingURL=helpers.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Agent = void 0;\nconst net = __importStar(require(\"net\"));\nconst http = __importStar(require(\"http\"));\nconst https_1 = require(\"https\");\n__exportStar(require(\"./helpers\"), exports);\nconst INTERNAL = Symbol('AgentBaseInternalState');\nclass Agent extends http.Agent {\n    constructor(opts) {\n        super(opts);\n        this[INTERNAL] = {};\n    }\n    /**\n     * Determine whether this is an `http` or `https` request.\n     */\n    isSecureEndpoint(options) {\n        if (options) {\n            // First check the `secureEndpoint` property explicitly, since this\n            // means that a parent `Agent` is \"passing through\" to this instance.\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (typeof options.secureEndpoint === 'boolean') {\n                return options.secureEndpoint;\n            }\n            // If no explicit `secure` endpoint, check if `protocol` property is\n            // set. This will usually be the case since using a full string URL\n            // or `URL` instance should be the most common usage.\n            if (typeof options.protocol === 'string') {\n                return options.protocol === 'https:';\n            }\n        }\n        // Finally, if no `protocol` property was set, then fall back to\n        // checking the stack trace of the current call stack, and try to\n        // detect the \"https\" module.\n        const { stack } = new Error();\n        if (typeof stack !== 'string')\n            return false;\n        return stack\n            .split('\\n')\n            .some((l) => l.indexOf('(https.js:') !== -1 ||\n            l.indexOf('node:https:') !== -1);\n    }\n    // In order to support async signatures in `connect()` and Node's native\n    // connection pooling in `http.Agent`, the array of sockets for each origin\n    // has to be updated synchronously. This is so the length of the array is\n    // accurate when `addRequest()` is next called. We achieve this by creating a\n    // fake socket and adding it to `sockets[origin]` and incrementing\n    // `totalSocketCount`.\n    incrementSockets(name) {\n        // If `maxSockets` and `maxTotalSockets` are both Infinity then there is no\n        // need to create a fake socket because Node.js native connection pooling\n        // will never be invoked.\n        if (this.maxSockets === Infinity && this.maxTotalSockets === Infinity) {\n            return null;\n        }\n        // All instances of `sockets` are expected TypeScript errors. The\n        // alternative is to add it as a private property of this class but that\n        // will break TypeScript subclassing.\n        if (!this.sockets[name]) {\n            // @ts-expect-error `sockets` is readonly in `@types/node`\n            this.sockets[name] = [];\n        }\n        const fakeSocket = new net.Socket({ writable: false });\n        this.sockets[name].push(fakeSocket);\n        // @ts-expect-error `totalSocketCount` isn't defined in `@types/node`\n        this.totalSocketCount++;\n        return fakeSocket;\n    }\n    decrementSockets(name, socket) {\n        if (!this.sockets[name] || socket === null) {\n            return;\n        }\n        const sockets = this.sockets[name];\n        const index = sockets.indexOf(socket);\n        if (index !== -1) {\n            sockets.splice(index, 1);\n            // @ts-expect-error  `totalSocketCount` isn't defined in `@types/node`\n            this.totalSocketCount--;\n            if (sockets.length === 0) {\n                // @ts-expect-error `sockets` is readonly in `@types/node`\n                delete this.sockets[name];\n            }\n        }\n    }\n    // In order to properly update the socket pool, we need to call `getName()` on\n    // the core `https.Agent` if it is a secureEndpoint.\n    getName(options) {\n        const secureEndpoint = typeof options.secureEndpoint === 'boolean'\n            ? options.secureEndpoint\n            : this.isSecureEndpoint(options);\n        if (secureEndpoint) {\n            // @ts-expect-error `getName()` isn't defined in `@types/node`\n            return https_1.Agent.prototype.getName.call(this, options);\n        }\n        // @ts-expect-error `getName()` isn't defined in `@types/node`\n        return super.getName(options);\n    }\n    createSocket(req, options, cb) {\n        const connectOpts = {\n            ...options,\n            secureEndpoint: this.isSecureEndpoint(options),\n        };\n        const name = this.getName(connectOpts);\n        const fakeSocket = this.incrementSockets(name);\n        Promise.resolve()\n            .then(() => this.connect(req, connectOpts))\n            .then((socket) => {\n            this.decrementSockets(name, fakeSocket);\n            if (socket instanceof http.Agent) {\n                try {\n                    // @ts-expect-error `addRequest()` isn't defined in `@types/node`\n                    return socket.addRequest(req, connectOpts);\n                }\n                catch (err) {\n                    return cb(err);\n                }\n            }\n            this[INTERNAL].currentSocket = socket;\n            // @ts-expect-error `createSocket()` isn't defined in `@types/node`\n            super.createSocket(req, options, cb);\n        }, (err) => {\n            this.decrementSockets(name, fakeSocket);\n            cb(err);\n        });\n    }\n    createConnection() {\n        const socket = this[INTERNAL].currentSocket;\n        this[INTERNAL].currentSocket = undefined;\n        if (!socket) {\n            throw new Error('No socket was returned in the `connect()` function');\n        }\n        return socket;\n    }\n    get defaultPort() {\n        return (this[INTERNAL].defaultPort ??\n            (this.protocol === 'https:' ? 443 : 80));\n    }\n    set defaultPort(v) {\n        if (this[INTERNAL]) {\n            this[INTERNAL].defaultPort = v;\n        }\n    }\n    get protocol() {\n        return (this[INTERNAL].protocol ??\n            (this.isSecureEndpoint() ? 'https:' : 'http:'));\n    }\n    set protocol(v) {\n        if (this[INTERNAL]) {\n            this[INTERNAL].protocol = v;\n        }\n    }\n}\nexports.Agent = Agent;\n//# sourceMappingURL=index.js.map","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","const axiosRetry = require('./lib/cjs/index').default;\n\nmodule.exports = axiosRetry;\nmodule.exports.default = axiosRetry;\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    if(a===b) {\n      return [ai, bi];\n    }\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","var clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","var ProtoList = require('proto-list')\n  , path = require('path')\n  , fs = require('fs')\n  , ini = require('ini')\n  , EE = require('events').EventEmitter\n  , url = require('url')\n  , http = require('http')\n\nvar exports = module.exports = function () {\n  var args = [].slice.call(arguments)\n    , conf = new ConfigChain()\n\n  while(args.length) {\n    var a = args.shift()\n    if(a) conf.push\n          ( 'string' === typeof a\n            ? json(a)\n            : a )\n  }\n\n  return conf\n}\n\n//recursively find a file...\n\nvar find = exports.find = function () {\n  var rel = path.join.apply(null, [].slice.call(arguments))\n\n  function find(start, rel) {\n    var file = path.join(start, rel)\n    try {\n      fs.statSync(file)\n      return file\n    } catch (err) {\n      if(path.dirname(start) !== start) // root\n        return find(path.dirname(start), rel)\n    }\n  }\n  return find(__dirname, rel)\n}\n\nvar parse = exports.parse = function (content, file, type) {\n  content = '' + content\n  // if we don't know what it is, try json and fall back to ini\n  // if we know what it is, then it must be that.\n  if (!type) {\n    try { return JSON.parse(content) }\n    catch (er) { return ini.parse(content) }\n  } else if (type === 'json') {\n    if (this.emit) {\n      try { return JSON.parse(content) }\n      catch (er) { this.emit('error', er) }\n    } else {\n      return JSON.parse(content)\n    }\n  } else {\n    return ini.parse(content)\n  }\n}\n\nvar json = exports.json = function () {\n  var args = [].slice.call(arguments).filter(function (arg) { return arg != null })\n  var file = path.join.apply(null, args)\n  var content\n  try {\n    content = fs.readFileSync(file,'utf-8')\n  } catch (err) {\n    return\n  }\n  return parse(content, file, 'json')\n}\n\nvar env = exports.env = function (prefix, env) {\n  env = env || process.env\n  var obj = {}\n  var l = prefix.length\n  for(var k in env) {\n    if(k.indexOf(prefix) === 0)\n      obj[k.substring(l)] = env[k]\n  }\n\n  return obj\n}\n\nexports.ConfigChain = ConfigChain\nfunction ConfigChain () {\n  EE.apply(this)\n  ProtoList.apply(this, arguments)\n  this._awaiting = 0\n  this._saving = 0\n  this.sources = {}\n}\n\n// multi-inheritance-ish\nvar extras = {\n  constructor: { value: ConfigChain }\n}\nObject.keys(EE.prototype).forEach(function (k) {\n  extras[k] = Object.getOwnPropertyDescriptor(EE.prototype, k)\n})\nConfigChain.prototype = Object.create(ProtoList.prototype, extras)\n\nConfigChain.prototype.del = function (key, where) {\n  // if not specified where, then delete from the whole chain, scorched\n  // earth style\n  if (where) {\n    var target = this.sources[where]\n    target = target && target.data\n    if (!target) {\n      return this.emit('error', new Error('not found '+where))\n    }\n    delete target[key]\n  } else {\n    for (var i = 0, l = this.list.length; i < l; i ++) {\n      delete this.list[i][key]\n    }\n  }\n  return this\n}\n\nConfigChain.prototype.set = function (key, value, where) {\n  var target\n\n  if (where) {\n    target = this.sources[where]\n    target = target && target.data\n    if (!target) {\n      return this.emit('error', new Error('not found '+where))\n    }\n  } else {\n    target = this.list[0]\n    if (!target) {\n      return this.emit('error', new Error('cannot set, no confs!'))\n    }\n  }\n  target[key] = value\n  return this\n}\n\nConfigChain.prototype.get = function (key, where) {\n  if (where) {\n    where = this.sources[where]\n    if (where) where = where.data\n    if (where && Object.hasOwnProperty.call(where, key)) return where[key]\n    return undefined\n  }\n  return this.list[0][key]\n}\n\nConfigChain.prototype.save = function (where, type, cb) {\n  if (typeof type === 'function') cb = type, type = null\n  var target = this.sources[where]\n  if (!target || !(target.path || target.source) || !target.data) {\n    // TODO: maybe save() to a url target could be a PUT or something?\n    // would be easy to swap out with a reddis type thing, too\n    return this.emit('error', new Error('bad save target: '+where))\n  }\n\n  if (target.source) {\n    var pref = target.prefix || ''\n    Object.keys(target.data).forEach(function (k) {\n      target.source[pref + k] = target.data[k]\n    })\n    return this\n  }\n\n  var type = type || target.type\n  var data = target.data\n  if (target.type === 'json') {\n    data = JSON.stringify(data)\n  } else {\n    data = ini.stringify(data)\n  }\n\n  this._saving ++\n  fs.writeFile(target.path, data, 'utf8', function (er) {\n    this._saving --\n    if (er) {\n      if (cb) return cb(er)\n      else return this.emit('error', er)\n    }\n    if (this._saving === 0) {\n      if (cb) cb()\n      this.emit('save')\n    }\n  }.bind(this))\n  return this\n}\n\nConfigChain.prototype.addFile = function (file, type, name) {\n  name = name || file\n  var marker = {__source__:name}\n  this.sources[name] = { path: file, type: type }\n  this.push(marker)\n  this._await()\n  fs.readFile(file, 'utf8', function (er, data) {\n    if (er) this.emit('error', er)\n    this.addString(data, file, type, marker)\n  }.bind(this))\n  return this\n}\n\nConfigChain.prototype.addEnv = function (prefix, env, name) {\n  name = name || 'env'\n  var data = exports.env(prefix, env)\n  this.sources[name] = { data: data, source: env, prefix: prefix }\n  return this.add(data, name)\n}\n\nConfigChain.prototype.addUrl = function (req, type, name) {\n  this._await()\n  var href = url.format(req)\n  name = name || href\n  var marker = {__source__:name}\n  this.sources[name] = { href: href, type: type }\n  this.push(marker)\n  http.request(req, function (res) {\n    var c = []\n    var ct = res.headers['content-type']\n    if (!type) {\n      type = ct.indexOf('json') !== -1 ? 'json'\n           : ct.indexOf('ini') !== -1 ? 'ini'\n           : href.match(/\\.json$/) ? 'json'\n           : href.match(/\\.ini$/) ? 'ini'\n           : null\n      marker.type = type\n    }\n\n    res.on('data', c.push.bind(c))\n    .on('end', function () {\n      this.addString(Buffer.concat(c), href, type, marker)\n    }.bind(this))\n    .on('error', this.emit.bind(this, 'error'))\n\n  }.bind(this))\n  .on('error', this.emit.bind(this, 'error'))\n  .end()\n\n  return this\n}\n\nConfigChain.prototype.addString = function (data, file, type, marker) {\n  data = this.parse(data, file, type)\n  this.add(data, marker)\n  return this\n}\n\nConfigChain.prototype.add = function (data, marker) {\n  if (marker && typeof marker === 'object') {\n    var i = this.list.indexOf(marker)\n    if (i === -1) {\n      return this.emit('error', new Error('bad marker'))\n    }\n    this.splice(i, 1, data)\n    marker = marker.__source__\n    this.sources[marker] = this.sources[marker] || {}\n    this.sources[marker].data = data\n    // we were waiting for this.  maybe emit 'load'\n    this._resolve()\n  } else {\n    if (typeof marker === 'string') {\n      this.sources[marker] = this.sources[marker] || {}\n      this.sources[marker].data = data\n    }\n    // trigger the load event if nothing was already going to do so.\n    this._await()\n    this.push(data)\n    process.nextTick(this._resolve.bind(this))\n  }\n  return this\n}\n\nConfigChain.prototype.parse = exports.parse\n\nConfigChain.prototype._await = function () {\n  this._awaiting++\n}\n\nConfigChain.prototype._resolve = function () {\n  this._awaiting--\n  if (this._awaiting === 0) this.emit('load', this)\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\tlet m;\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\t// eslint-disable-next-line no-return-assign\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && (m = navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)) && parseInt(m[1], 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '')\n\t\t\t.trim()\n\t\t\t.replace(' ', ',')\n\t\t\t.split(',')\n\t\t\t.filter(Boolean);\n\n\t\tfor (const ns of split) {\n\t\t\tif (ns[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(ns.slice(1));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(ns);\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Checks if the given string matches a namespace template, honoring\n\t * asterisks as wildcards.\n\t *\n\t * @param {String} search\n\t * @param {String} template\n\t * @return {Boolean}\n\t */\n\tfunction matchesTemplate(search, template) {\n\t\tlet searchIndex = 0;\n\t\tlet templateIndex = 0;\n\t\tlet starIndex = -1;\n\t\tlet matchIndex = 0;\n\n\t\twhile (searchIndex < search.length) {\n\t\t\tif (templateIndex < template.length && (template[templateIndex] === search[searchIndex] || template[templateIndex] === '*')) {\n\t\t\t\t// Match character or proceed with wildcard\n\t\t\t\tif (template[templateIndex] === '*') {\n\t\t\t\t\tstarIndex = templateIndex;\n\t\t\t\t\tmatchIndex = searchIndex;\n\t\t\t\t\ttemplateIndex++; // Skip the '*'\n\t\t\t\t} else {\n\t\t\t\t\tsearchIndex++;\n\t\t\t\t\ttemplateIndex++;\n\t\t\t\t}\n\t\t\t} else if (starIndex !== -1) { // eslint-disable-line no-negated-condition\n\t\t\t\t// Backtrack to the last '*' and try to match more characters\n\t\t\t\ttemplateIndex = starIndex + 1;\n\t\t\t\tmatchIndex++;\n\t\t\t\tsearchIndex = matchIndex;\n\t\t\t} else {\n\t\t\t\treturn false; // No match\n\t\t\t}\n\t\t}\n\n\t\t// Handle trailing '*' in template\n\t\twhile (templateIndex < template.length && template[templateIndex] === '*') {\n\t\t\ttemplateIndex++;\n\t\t}\n\n\t\treturn templateIndex === template.length;\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names,\n\t\t\t...createDebug.skips.map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tfor (const skip of createDebug.skips) {\n\t\t\tif (matchesTemplate(name, skip)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (const ns of createDebug.names) {\n\t\t\tif (matchesTemplate(name, ns)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.formatWithOptions()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.formatWithOptions(exports.inspectOpts, ...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","'use strict';\nmodule.exports = (object, propertyName, fn) => {\n\tconst define = value => Object.defineProperty(object, propertyName, {value, enumerable: true, writable: true});\n\n\tObject.defineProperty(object, propertyName, {\n\t\tconfigurable: true,\n\t\tenumerable: true,\n\t\tget() {\n\t\t\tconst result = fn();\n\t\t\tdefine(result);\n\t\t\treturn result;\n\t\t},\n\t\tset(value) {\n\t\t\tdefine(value);\n\t\t}\n\t});\n\n\treturn object;\n};\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","!function(root, name, make) {\r\n  if (typeof module != 'undefined' && module.exports) module.exports = make()\r\n  else root[name] = make()\r\n}(this, 'eol', function() {\r\n\r\n  var api = {}\r\n  var isWindows = typeof process != 'undefined' && 'win32' === process.platform\r\n  var linebreak = isWindows ? '\\r\\n' : '\\n'\r\n  var newline = /\\r\\n|\\r|\\n/g\r\n\r\n  function before(text) {\r\n    return linebreak + text\r\n  }\r\n\r\n  function after(text) {\r\n    return text + linebreak\r\n  }\r\n\r\n  function converts(to) {\r\n    function convert(text) {\r\n      return text.replace(newline, to)\r\n    }\r\n    convert.toString = function() {\r\n      return to\r\n    }\r\n    return convert \r\n  }\r\n\r\n  function split(text) {\r\n    return text.split(newline)\r\n  }\r\n\r\n  api['lf'] = converts('\\n')\r\n  api['cr'] = converts('\\r')\r\n  api['crlf'] = converts('\\r\\n')\r\n  api['auto'] = converts(linebreak)\r\n  api['before'] = before\r\n  api['after'] = after\r\n  api['split'] = split\r\n  return api\r\n});\r\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC72305.3.1: When making a request directly to an origin server, []\n  // a client MUST send only the absolute path [] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, []\n    // a client MUST send the target URI in absolute-form [].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC72316.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC72316.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC72316.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, []\n  // RFC72316.4.23: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC72316.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource []\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) []\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar Stream = require('stream').Stream;\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData(options);\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (Array.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response or not a stream\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) && !(value instanceof Stream))) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity > read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path || '');\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.setBoundary = function(boundary) {\n  this._boundary = boundary;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype.getBuffer = function() {\n  var dataBuffer = new Buffer.alloc( 0 );\n  var boundary = this.getBoundary();\n\n  // Create the form content. Add Line breaks to the end of data.\n  for (var i = 0, len = this._streams.length; i < len; i++) {\n    if (typeof this._streams[i] !== 'function') {\n\n      // Add content to the buffer.\n      if(Buffer.isBuffer(this._streams[i])) {\n        dataBuffer = Buffer.concat( [dataBuffer, this._streams[i]]);\n      }else {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(this._streams[i])]);\n      }\n\n      // Add break after content.\n      if (typeof this._streams[i] !== 'string' || this._streams[i].substring( 2, boundary.length + 2 ) !== boundary) {\n        dataBuffer = Buffer.concat( [dataBuffer, Buffer.from(FormData.LINE_BREAK)] );\n      }\n    }\n  }\n\n  // Add the footer and return the Buffer object.\n  return Buffer.concat( [dataBuffer, Buffer.from(this._lastBoundary())] );\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err && err !== 'Unknown stream') {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    if (length) {\n      request.setHeader('Content-Length', length);\n    }\n\n    this.pipe(request);\n    if (cb) {\n      var onResponse;\n\n      var callback = function (error, responce) {\n        request.removeListener('error', callback);\n        request.removeListener('response', onResponse);\n\n        return cb.call(this, error, responce);\n      };\n\n      onResponse = callback.bind(this, null);\n\n      request.on('error', callback);\n      request.on('response', onResponse);\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","module.exports = realpath\nrealpath.realpath = realpath\nrealpath.sync = realpathSync\nrealpath.realpathSync = realpathSync\nrealpath.monkeypatch = monkeypatch\nrealpath.unmonkeypatch = unmonkeypatch\n\nvar fs = require('fs')\nvar origRealpath = fs.realpath\nvar origRealpathSync = fs.realpathSync\n\nvar version = process.version\nvar ok = /^v[0-5]\\./.test(version)\nvar old = require('./old.js')\n\nfunction newError (er) {\n  return er && er.syscall === 'realpath' && (\n    er.code === 'ELOOP' ||\n    er.code === 'ENOMEM' ||\n    er.code === 'ENAMETOOLONG'\n  )\n}\n\nfunction realpath (p, cache, cb) {\n  if (ok) {\n    return origRealpath(p, cache, cb)\n  }\n\n  if (typeof cache === 'function') {\n    cb = cache\n    cache = null\n  }\n  origRealpath(p, cache, function (er, result) {\n    if (newError(er)) {\n      old.realpath(p, cache, cb)\n    } else {\n      cb(er, result)\n    }\n  })\n}\n\nfunction realpathSync (p, cache) {\n  if (ok) {\n    return origRealpathSync(p, cache)\n  }\n\n  try {\n    return origRealpathSync(p, cache)\n  } catch (er) {\n    if (newError(er)) {\n      return old.realpathSync(p, cache)\n    } else {\n      throw er\n    }\n  }\n}\n\nfunction monkeypatch () {\n  fs.realpath = realpath\n  fs.realpathSync = realpathSync\n}\n\nfunction unmonkeypatch () {\n  fs.realpath = origRealpath\n  fs.realpathSync = origRealpathSync\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar pathModule = require('path');\nvar isWindows = process.platform === 'win32';\nvar fs = require('fs');\n\n// JavaScript implementation of realpath, ported from node pre-v6\n\nvar DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);\n\nfunction rethrow() {\n  // Only enable in debug mode. A backtrace uses ~1000 bytes of heap space and\n  // is fairly slow to generate.\n  var callback;\n  if (DEBUG) {\n    var backtrace = new Error;\n    callback = debugCallback;\n  } else\n    callback = missingCallback;\n\n  return callback;\n\n  function debugCallback(err) {\n    if (err) {\n      backtrace.message = err.message;\n      err = backtrace;\n      missingCallback(err);\n    }\n  }\n\n  function missingCallback(err) {\n    if (err) {\n      if (process.throwDeprecation)\n        throw err;  // Forgot a callback but don't know where? Use NODE_DEBUG=fs\n      else if (!process.noDeprecation) {\n        var msg = 'fs: missing callback ' + (err.stack || err.message);\n        if (process.traceDeprecation)\n          console.trace(msg);\n        else\n          console.error(msg);\n      }\n    }\n  }\n}\n\nfunction maybeCallback(cb) {\n  return typeof cb === 'function' ? cb : rethrow();\n}\n\nvar normalize = pathModule.normalize;\n\n// Regexp that finds the next partion of a (partial) path\n// result is [base_with_slash, base], e.g. ['somedir/', 'somedir']\nif (isWindows) {\n  var nextPartRe = /(.*?)(?:[\\/\\\\]+|$)/g;\n} else {\n  var nextPartRe = /(.*?)(?:[\\/]+|$)/g;\n}\n\n// Regex to find the device root, including trailing slash. E.g. 'c:\\\\'.\nif (isWindows) {\n  var splitRootRe = /^(?:[a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/][^\\\\\\/]+)?[\\\\\\/]*/;\n} else {\n  var splitRootRe = /^[\\/]*/;\n}\n\nexports.realpathSync = function realpathSync(p, cache) {\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return cache[p];\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstatSync(base);\n      knownHard[base] = true;\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  // NB: p.length changes.\n  while (pos < p.length) {\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      continue;\n    }\n\n    var resolvedLink;\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // some known symbolic link.  no need to stat again.\n      resolvedLink = cache[base];\n    } else {\n      var stat = fs.lstatSync(base);\n      if (!stat.isSymbolicLink()) {\n        knownHard[base] = true;\n        if (cache) cache[base] = base;\n        continue;\n      }\n\n      // read the link if it wasn't read before\n      // dev/ino always return 0 on windows, so skip the check.\n      var linkTarget = null;\n      if (!isWindows) {\n        var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n        if (seenLinks.hasOwnProperty(id)) {\n          linkTarget = seenLinks[id];\n        }\n      }\n      if (linkTarget === null) {\n        fs.statSync(base);\n        linkTarget = fs.readlinkSync(base);\n      }\n      resolvedLink = pathModule.resolve(previous, linkTarget);\n      // track this, if given a cache.\n      if (cache) cache[base] = resolvedLink;\n      if (!isWindows) seenLinks[id] = linkTarget;\n    }\n\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n\n  if (cache) cache[original] = p;\n\n  return p;\n};\n\n\nexports.realpath = function realpath(p, cache, cb) {\n  if (typeof cb !== 'function') {\n    cb = maybeCallback(cache);\n    cache = null;\n  }\n\n  // make p is absolute\n  p = pathModule.resolve(p);\n\n  if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {\n    return process.nextTick(cb.bind(null, null, cache[p]));\n  }\n\n  var original = p,\n      seenLinks = {},\n      knownHard = {};\n\n  // current character position in p\n  var pos;\n  // the partial path so far, including a trailing slash if any\n  var current;\n  // the partial path without a trailing slash (except when pointing at a root)\n  var base;\n  // the partial path scanned in the previous round, with slash\n  var previous;\n\n  start();\n\n  function start() {\n    // Skip over roots\n    var m = splitRootRe.exec(p);\n    pos = m[0].length;\n    current = m[0];\n    base = m[0];\n    previous = '';\n\n    // On windows, check that the root exists. On unix there is no need.\n    if (isWindows && !knownHard[base]) {\n      fs.lstat(base, function(err) {\n        if (err) return cb(err);\n        knownHard[base] = true;\n        LOOP();\n      });\n    } else {\n      process.nextTick(LOOP);\n    }\n  }\n\n  // walk down the path, swapping out linked pathparts for their real\n  // values\n  function LOOP() {\n    // stop if scanned past end of path\n    if (pos >= p.length) {\n      if (cache) cache[original] = p;\n      return cb(null, p);\n    }\n\n    // find the next part\n    nextPartRe.lastIndex = pos;\n    var result = nextPartRe.exec(p);\n    previous = current;\n    current += result[0];\n    base = previous + result[1];\n    pos = nextPartRe.lastIndex;\n\n    // continue if not a symlink\n    if (knownHard[base] || (cache && cache[base] === base)) {\n      return process.nextTick(LOOP);\n    }\n\n    if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {\n      // known symbolic link.  no need to stat again.\n      return gotResolvedLink(cache[base]);\n    }\n\n    return fs.lstat(base, gotStat);\n  }\n\n  function gotStat(err, stat) {\n    if (err) return cb(err);\n\n    // if not a symlink, skip to the next path part\n    if (!stat.isSymbolicLink()) {\n      knownHard[base] = true;\n      if (cache) cache[base] = base;\n      return process.nextTick(LOOP);\n    }\n\n    // stat & read the link if not read before\n    // call gotTarget as soon as the link target is known\n    // dev/ino always return 0 on windows, so skip the check.\n    if (!isWindows) {\n      var id = stat.dev.toString(32) + ':' + stat.ino.toString(32);\n      if (seenLinks.hasOwnProperty(id)) {\n        return gotTarget(null, seenLinks[id], base);\n      }\n    }\n    fs.stat(base, function(err) {\n      if (err) return cb(err);\n\n      fs.readlink(base, function(err, target) {\n        if (!isWindows) seenLinks[id] = target;\n        gotTarget(err, target);\n      });\n    });\n  }\n\n  function gotTarget(err, target, base) {\n    if (err) return cb(err);\n\n    var resolvedLink = pathModule.resolve(previous, target);\n    if (cache) cache[base] = resolvedLink;\n    gotResolvedLink(resolvedLink);\n  }\n\n  function gotResolvedLink(resolvedLink) {\n    // resolve the link, then start over\n    p = pathModule.resolve(resolvedLink, p.slice(pos));\n    start();\n  }\n};\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.defaults = {\r\n    /**\r\n     * What url will be used to test the proxy settings.\r\n     */\r\n    testUrl: \"https://www.bing.com/\",\r\n};\r\n//# sourceMappingURL=defaults.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./defaults\"));\r\n__export(require(\"./proxy\"));\r\n__export(require(\"./validate\"));\r\n__export(require(\"./proxy-settings\"));\r\n__export(require(\"./proxy-errors\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nclass GetProxyError extends Error {\r\n    constructor(proxy, message) {\r\n        super(message);\r\n        this.proxy = proxy;\r\n    }\r\n}\r\nexports.GetProxyError = GetProxyError;\r\nclass ProxyAuthenticationRequiredError extends GetProxyError {\r\n    constructor(proxy) {\r\n        super(proxy, `Proxy require \"${proxy}\" authentication but no handle was provided.`);\r\n    }\r\n}\r\nexports.ProxyAuthenticationRequiredError = ProxyAuthenticationRequiredError;\r\nclass ProxyInvalidCredentialsError extends GetProxyError {\r\n    constructor(proxy) {\r\n        super(proxy, `Proxy \"${proxy}\" was unable to connect due to invalid credentials`);\r\n    }\r\n}\r\nexports.ProxyInvalidCredentialsError = ProxyInvalidCredentialsError;\r\n/**\r\n * Error when the connection to the proxy failed ERRCONNREFUSED\r\n * Proxy might be down\r\n */\r\nclass ProxyConnectionRefusedError extends GetProxyError {\r\n    constructor(proxy) {\r\n        super(proxy, `Proxy \"${proxy}\" doesn't seem to be available. Connection refused.`);\r\n    }\r\n}\r\nexports.ProxyConnectionRefusedError = ProxyConnectionRefusedError;\r\n//# sourceMappingURL=proxy-errors.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst url_1 = require(\"url\");\r\nconst URL_REGEX = /^https?:\\/\\/.*$/;\r\nvar Protocol;\r\n(function (Protocol) {\r\n    Protocol[\"Http\"] = \"http\";\r\n    Protocol[\"Https\"] = \"https\";\r\n})(Protocol = exports.Protocol || (exports.Protocol = {}));\r\nclass ProxySetting {\r\n    constructor(params) {\r\n        this.protocol = Protocol.Http;\r\n        if (typeof params === \"string\") {\r\n            this._parseUrl(params);\r\n        }\r\n        else {\r\n            this.host = params.host;\r\n            this.port = params.port;\r\n            this.protocol = params.protocol || Protocol.Http;\r\n            this.credentials = params.credentials;\r\n        }\r\n    }\r\n    toString() {\r\n        let cred = \"\";\r\n        if (this.credentials) {\r\n            cred = `${this.credentials.username}`;\r\n            if (this.credentials.password) {\r\n                cred += `:${this.credentials.password}`;\r\n            }\r\n            cred += \"@\";\r\n        }\r\n        return `${this.protocol}://${cred}${this.host}:${this.port}`;\r\n    }\r\n    getAuthorizationHeader() {\r\n        if (!this.credentials) {\r\n            return null;\r\n        }\r\n        const cred = `${this.credentials.username}:${this.credentials.password}`;\r\n        return `Basic ${Buffer.from(cred).toString(\"base64\")}`;\r\n    }\r\n    _parseUrl(value) {\r\n        value = ensureProtocol(value);\r\n        const url = new url_1.URL(value);\r\n        this.host = url.hostname;\r\n        this.port = url.port;\r\n        if (url.protocol === \"https:\") {\r\n            this.protocol = Protocol.Https;\r\n        }\r\n        else {\r\n            this.protocol = Protocol.Http;\r\n        }\r\n        if (!this.port) {\r\n            this.port = this.protocol === Protocol.Https ? \"443\" : \"80\";\r\n        }\r\n        if (url.username) {\r\n            this.credentials = {\r\n                username: url.username,\r\n                password: url.password,\r\n            };\r\n        }\r\n    }\r\n}\r\nexports.ProxySetting = ProxySetting;\r\nfunction ensureProtocol(value) {\r\n    if (URL_REGEX.test(value)) {\r\n        return value;\r\n    }\r\n    else {\r\n        return `http://${value}`;\r\n    }\r\n}\r\n//# sourceMappingURL=proxy-settings.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst npmConfLoader = require(\"npm-conf\");\r\nconst url = require(\"url\");\r\nconst proxy_errors_1 = require(\"./proxy-errors\");\r\nconst proxy_settings_1 = require(\"./proxy-settings\");\r\nconst validate_1 = require(\"./validate\");\r\nconst winreg_1 = require(\"./winreg\");\r\nconst npmConf = npmConfLoader();\r\nfunction getProxySettings() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const envProxy = getEnvProxy();\r\n        if (envProxy) {\r\n            return envProxy;\r\n        }\r\n        if (process.platform === \"win32\") {\r\n            return getProxyWindows();\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    });\r\n}\r\nexports.getProxySettings = getProxySettings;\r\nfunction getAndTestProxySettings(login) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const settings = yield getProxySettings();\r\n        if (!settings) {\r\n            return;\r\n        }\r\n        try {\r\n            yield validate_1.validateProxySetting(settings.http);\r\n        }\r\n        catch (e) {\r\n            // Proxy authentication required\r\n            if (e instanceof proxy_errors_1.ProxyAuthenticationRequiredError) {\r\n                if (!login) {\r\n                    throw e;\r\n                }\r\n                const credentials = yield login();\r\n                settings.http.credentials = credentials;\r\n                settings.https.credentials = credentials;\r\n                yield validate_1.validateProxySetting(settings.http);\r\n            }\r\n            else {\r\n                throw e;\r\n            }\r\n        }\r\n        return settings;\r\n    });\r\n}\r\nexports.getAndTestProxySettings = getAndTestProxySettings;\r\nexports.default = getProxySettings;\r\nfunction getProxyWindows() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        // HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings\r\n        const values = yield winreg_1.openKey(winreg_1.Hive.HKCU, \"Software\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Internet Settings\");\r\n        const proxy = values[\"ProxyServer\"];\r\n        const enable = values[\"ProxyEnable\"];\r\n        const enableValue = Number(enable && enable.value);\r\n        if (enableValue > 0 && proxy) {\r\n            return parseWindowsProxySetting(proxy.value);\r\n        }\r\n        else {\r\n            return null;\r\n        }\r\n    });\r\n}\r\nexports.getProxyWindows = getProxyWindows;\r\n/**\r\n * Return proxy settings defined in the environment.\r\n * This can be either as HTTP(s)_PROXY environment variable or in the npm config\r\n */\r\nfunction getEnvProxy() {\r\n    const httpsProxy = process.env.HTTPS_PROXY ||\r\n        process.env.https_proxy ||\r\n        npmConf.get(\"https-proxy\") ||\r\n        npmConf.get(\"proxy\") ||\r\n        null;\r\n    const httpProxy = process.env.HTTP_PROXY ||\r\n        process.env.http_proxy ||\r\n        npmConf.get(\"http-proxy\") ||\r\n        npmConf.get(\"proxy\") ||\r\n        null;\r\n    if (!httpProxy && !httpsProxy) {\r\n        return null;\r\n    }\r\n    return { http: new proxy_settings_1.ProxySetting(httpProxy), https: new proxy_settings_1.ProxySetting(httpsProxy) };\r\n}\r\nexports.getEnvProxy = getEnvProxy;\r\nfunction parseWindowsProxySetting(proxySetting) {\r\n    if (!proxySetting) {\r\n        return null;\r\n    }\r\n    if (isValidUrl(proxySetting)) {\r\n        const setting = new proxy_settings_1.ProxySetting(proxySetting);\r\n        return {\r\n            http: setting,\r\n            https: setting,\r\n        };\r\n    }\r\n    const settings = proxySetting.split(\";\").map(x => x.split(\"=\", 2));\r\n    const result = {};\r\n    for (const [key, value] of settings) {\r\n        if (value) {\r\n            result[key] = new proxy_settings_1.ProxySetting(value);\r\n        }\r\n    }\r\n    return processResults(result);\r\n}\r\nexports.parseWindowsProxySetting = parseWindowsProxySetting;\r\nfunction isValidUrl(value) {\r\n    const obj = url.parse(value);\r\n    return Boolean(obj.hostname);\r\n}\r\nfunction processResults(results) {\r\n    const { http, https } = results;\r\n    if (http && https) {\r\n        return { http, https };\r\n    }\r\n    else if (http) {\r\n        return { http, https: http };\r\n    }\r\n    else if (https) {\r\n        return { http: https, https };\r\n    }\r\n    else {\r\n        return null;\r\n    }\r\n}\r\n//# sourceMappingURL=proxy.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst http = require(\"http\");\r\nconst https = require(\"https\");\r\nconst url_1 = require(\"url\");\r\nconst defaults_1 = require(\"./defaults\");\r\nconst proxy_errors_1 = require(\"./proxy-errors\");\r\nfunction get(opts, useHttps = false) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const send = useHttps ? https.get : http.get;\r\n        return new Promise((resolve, reject) => {\r\n            const req = send(opts, (res) => {\r\n                if (res.statusCode < 200 || res.statusCode > 299) {\r\n                    reject(res);\r\n                }\r\n                else {\r\n                    resolve(res);\r\n                }\r\n            });\r\n            req.on(\"error\", e => reject(e));\r\n        });\r\n    });\r\n}\r\n/**\r\n * Validate the given proxy setting\r\n * @param setting Proxy setting to validate.\r\n *\r\n * @throws {ProxyConnectionRefusedError} if it cannot connect to the proxy\r\n * @throws {ProxyAuthenticationRequiredError} if proxy settings doesn't have credentials but is required\r\n * @throws {ProxyInvalidCredentialsError} if proxy settings has credentials but proxy denies the request(407)\r\n * @throws {GetProxyError} for other errors\r\n */\r\nfunction validateProxySetting(setting) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const auth = setting.getAuthorizationHeader();\r\n        const testUrl = new url_1.URL(defaults_1.defaults.testUrl);\r\n        try {\r\n            yield get({\r\n                host: setting.host,\r\n                port: setting.port,\r\n                path: defaults_1.defaults.testUrl,\r\n                headers: {\r\n                    \"Connection\": \"close\",\r\n                    \"Host\": testUrl.host,\r\n                    \"Proxy-Authorization\": auth,\r\n                    \"User-Agent\": \"Mozilla/5.0\",\r\n                },\r\n                agent: false,\r\n            });\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            if (e.code === \"ECONNREFUSED\") {\r\n                throw new proxy_errors_1.ProxyConnectionRefusedError(setting);\r\n            }\r\n            else if (e.statusCode === 407) {\r\n                if (setting.credentials) {\r\n                    throw new proxy_errors_1.ProxyInvalidCredentialsError(setting);\r\n                }\r\n                else {\r\n                    throw new proxy_errors_1.ProxyAuthenticationRequiredError(setting);\r\n                }\r\n            }\r\n            else {\r\n                throw new proxy_errors_1.GetProxyError(setting, `Error validating proxy. Returned ${e.statusCode} ${e.statusMessage}`);\r\n            }\r\n        }\r\n    });\r\n}\r\nexports.validateProxySetting = validateProxySetting;\r\n//# sourceMappingURL=validate.js.map","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst child_process_1 = require(\"child_process\");\r\nconst path = require(\"path\");\r\nconst ITEM_PATTERN = /^(.*)\\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\\s+([^\\s].*)$/;\r\nvar Hive;\r\n(function (Hive) {\r\n    Hive[\"HKCU\"] = \"HKCU\";\r\n})(Hive = exports.Hive || (exports.Hive = {}));\r\nfunction getRegPath() {\r\n    if (process.platform === \"win32\" && process.env.windir) {\r\n        return path.join(process.env.windir, \"system32\", \"reg.exe\");\r\n    }\r\n    else {\r\n        return \"REG\";\r\n    }\r\n}\r\nfunction execAsync(command, args = []) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        return new Promise((resolve, reject) => {\r\n            child_process_1.execFile(command, args, (err, stdout, stderr) => {\r\n                if (err) {\r\n                    reject(err);\r\n                }\r\n                else {\r\n                    resolve({ stdout, stderr });\r\n                }\r\n            });\r\n        });\r\n    });\r\n}\r\nfunction parseOutput(stdout) {\r\n    const lines = stdout.split(\"\\n\");\r\n    const result = {};\r\n    for (const line of lines.slice(1)) {\r\n        const match = ITEM_PATTERN.exec(line.trim());\r\n        if (match) {\r\n            const name = match[1].trim();\r\n            const type = match[2].trim();\r\n            const value = match[3].trim();\r\n            result[name] = { type, value };\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction openKey(hive, key) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const keyPath = `${hive}\\\\${key}`;\r\n        const { stdout } = yield execAsync(getRegPath(), [\"query\", keyPath]);\r\n        const values = parseOutput(stdout);\r\n        return values;\r\n    });\r\n}\r\nexports.openKey = openKey;\r\n//# sourceMappingURL=winreg.js.map","exports.setopts = setopts\nexports.ownProp = ownProp\nexports.makeAbs = makeAbs\nexports.finish = finish\nexports.mark = mark\nexports.isIgnored = isIgnored\nexports.childrenIgnored = childrenIgnored\n\nfunction ownProp (obj, field) {\n  return Object.prototype.hasOwnProperty.call(obj, field)\n}\n\nvar fs = require(\"fs\")\nvar path = require(\"path\")\nvar minimatch = require(\"minimatch\")\nvar isAbsolute = require(\"path-is-absolute\")\nvar Minimatch = minimatch.Minimatch\n\nfunction alphasort (a, b) {\n  return a.localeCompare(b, 'en')\n}\n\nfunction setupIgnores (self, options) {\n  self.ignore = options.ignore || []\n\n  if (!Array.isArray(self.ignore))\n    self.ignore = [self.ignore]\n\n  if (self.ignore.length) {\n    self.ignore = self.ignore.map(ignoreMap)\n  }\n}\n\n// ignore patterns are always in dot:true mode.\nfunction ignoreMap (pattern) {\n  var gmatcher = null\n  if (pattern.slice(-3) === '/**') {\n    var gpattern = pattern.replace(/(\\/\\*\\*)+$/, '')\n    gmatcher = new Minimatch(gpattern, { dot: true })\n  }\n\n  return {\n    matcher: new Minimatch(pattern, { dot: true }),\n    gmatcher: gmatcher\n  }\n}\n\nfunction setopts (self, pattern, options) {\n  if (!options)\n    options = {}\n\n  // base-matching: just use globstar for that.\n  if (options.matchBase && -1 === pattern.indexOf(\"/\")) {\n    if (options.noglobstar) {\n      throw new Error(\"base matching requires globstar\")\n    }\n    pattern = \"**/\" + pattern\n  }\n\n  self.silent = !!options.silent\n  self.pattern = pattern\n  self.strict = options.strict !== false\n  self.realpath = !!options.realpath\n  self.realpathCache = options.realpathCache || Object.create(null)\n  self.follow = !!options.follow\n  self.dot = !!options.dot\n  self.mark = !!options.mark\n  self.nodir = !!options.nodir\n  if (self.nodir)\n    self.mark = true\n  self.sync = !!options.sync\n  self.nounique = !!options.nounique\n  self.nonull = !!options.nonull\n  self.nosort = !!options.nosort\n  self.nocase = !!options.nocase\n  self.stat = !!options.stat\n  self.noprocess = !!options.noprocess\n  self.absolute = !!options.absolute\n  self.fs = options.fs || fs\n\n  self.maxLength = options.maxLength || Infinity\n  self.cache = options.cache || Object.create(null)\n  self.statCache = options.statCache || Object.create(null)\n  self.symlinks = options.symlinks || Object.create(null)\n\n  setupIgnores(self, options)\n\n  self.changedCwd = false\n  var cwd = process.cwd()\n  if (!ownProp(options, \"cwd\"))\n    self.cwd = cwd\n  else {\n    self.cwd = path.resolve(options.cwd)\n    self.changedCwd = self.cwd !== cwd\n  }\n\n  self.root = options.root || path.resolve(self.cwd, \"/\")\n  self.root = path.resolve(self.root)\n  if (process.platform === \"win32\")\n    self.root = self.root.replace(/\\\\/g, \"/\")\n\n  // TODO: is an absolute `cwd` supposed to be resolved against `root`?\n  // e.g. { cwd: '/test', root: __dirname } === path.join(__dirname, '/test')\n  self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd)\n  if (process.platform === \"win32\")\n    self.cwdAbs = self.cwdAbs.replace(/\\\\/g, \"/\")\n  self.nomount = !!options.nomount\n\n  // disable comments and negation in Minimatch.\n  // Note that they are not supported in Glob itself anyway.\n  options.nonegate = true\n  options.nocomment = true\n  // always treat \\ in patterns as escapes, not path separators\n  options.allowWindowsEscape = false\n\n  self.minimatch = new Minimatch(pattern, options)\n  self.options = self.minimatch.options\n}\n\nfunction finish (self) {\n  var nou = self.nounique\n  var all = nou ? [] : Object.create(null)\n\n  for (var i = 0, l = self.matches.length; i < l; i ++) {\n    var matches = self.matches[i]\n    if (!matches || Object.keys(matches).length === 0) {\n      if (self.nonull) {\n        // do like the shell, and spit out the literal glob\n        var literal = self.minimatch.globSet[i]\n        if (nou)\n          all.push(literal)\n        else\n          all[literal] = true\n      }\n    } else {\n      // had matches\n      var m = Object.keys(matches)\n      if (nou)\n        all.push.apply(all, m)\n      else\n        m.forEach(function (m) {\n          all[m] = true\n        })\n    }\n  }\n\n  if (!nou)\n    all = Object.keys(all)\n\n  if (!self.nosort)\n    all = all.sort(alphasort)\n\n  // at *some* point we statted all of these\n  if (self.mark) {\n    for (var i = 0; i < all.length; i++) {\n      all[i] = self._mark(all[i])\n    }\n    if (self.nodir) {\n      all = all.filter(function (e) {\n        var notDir = !(/\\/$/.test(e))\n        var c = self.cache[e] || self.cache[makeAbs(self, e)]\n        if (notDir && c)\n          notDir = c !== 'DIR' && !Array.isArray(c)\n        return notDir\n      })\n    }\n  }\n\n  if (self.ignore.length)\n    all = all.filter(function(m) {\n      return !isIgnored(self, m)\n    })\n\n  self.found = all\n}\n\nfunction mark (self, p) {\n  var abs = makeAbs(self, p)\n  var c = self.cache[abs]\n  var m = p\n  if (c) {\n    var isDir = c === 'DIR' || Array.isArray(c)\n    var slash = p.slice(-1) === '/'\n\n    if (isDir && !slash)\n      m += '/'\n    else if (!isDir && slash)\n      m = m.slice(0, -1)\n\n    if (m !== p) {\n      var mabs = makeAbs(self, m)\n      self.statCache[mabs] = self.statCache[abs]\n      self.cache[mabs] = self.cache[abs]\n    }\n  }\n\n  return m\n}\n\n// lotta situps...\nfunction makeAbs (self, f) {\n  var abs = f\n  if (f.charAt(0) === '/') {\n    abs = path.join(self.root, f)\n  } else if (isAbsolute(f) || f === '') {\n    abs = f\n  } else if (self.changedCwd) {\n    abs = path.resolve(self.cwd, f)\n  } else {\n    abs = path.resolve(f)\n  }\n\n  if (process.platform === 'win32')\n    abs = abs.replace(/\\\\/g, '/')\n\n  return abs\n}\n\n\n// Return true, if pattern ends with globstar '**', for the accompanying parent directory.\n// Ex:- If node_modules/** is the pattern, add 'node_modules' to ignore list along with it's contents\nfunction isIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return item.matcher.match(path) || !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n\nfunction childrenIgnored (self, path) {\n  if (!self.ignore.length)\n    return false\n\n  return self.ignore.some(function(item) {\n    return !!(item.gmatcher && item.gmatcher.match(path))\n  })\n}\n","// Approach:\n//\n// 1. Get the minimatch set\n// 2. For each pattern in the set, PROCESS(pattern, false)\n// 3. Store matches per-set, then uniq them\n//\n// PROCESS(pattern, inGlobStar)\n// Get the first [n] items from pattern that are all strings\n// Join these together.  This is PREFIX.\n//   If there is no more remaining, then stat(PREFIX) and\n//   add to matches if it succeeds.  END.\n//\n// If inGlobStar and PREFIX is symlink and points to dir\n//   set ENTRIES = []\n// else readdir(PREFIX) as ENTRIES\n//   If fail, END\n//\n// with ENTRIES\n//   If pattern[n] is GLOBSTAR\n//     // handle the case where the globstar match is empty\n//     // by pruning it out, and testing the resulting pattern\n//     PROCESS(pattern[0..n] + pattern[n+1 .. $], false)\n//     // handle other cases.\n//     for ENTRY in ENTRIES (not dotfiles)\n//       // attach globstar + tail onto the entry\n//       // Mark that this entry is a globstar match\n//       PROCESS(pattern[0..n] + ENTRY + pattern[n .. $], true)\n//\n//   else // not globstar\n//     for ENTRY in ENTRIES (not dotfiles, unless pattern[n] is dot)\n//       Test ENTRY against pattern[n]\n//       If fails, continue\n//       If passes, PROCESS(pattern[0..n] + item + pattern[n+1 .. $])\n//\n// Caveat:\n//   Cache all stats and readdirs results to minimize syscall.  Since all\n//   we ever care about is existence and directory-ness, we can just keep\n//   `true` for files, and [children,...] for directories, or `false` for\n//   things that don't exist.\n\nmodule.exports = glob\n\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar inherits = require('inherits')\nvar EE = require('events').EventEmitter\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar globSync = require('./sync.js')\nvar common = require('./common.js')\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar inflight = require('inflight')\nvar util = require('util')\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nvar once = require('once')\n\nfunction glob (pattern, options, cb) {\n  if (typeof options === 'function') cb = options, options = {}\n  if (!options) options = {}\n\n  if (options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return globSync(pattern, options)\n  }\n\n  return new Glob(pattern, options, cb)\n}\n\nglob.sync = globSync\nvar GlobSync = glob.GlobSync = globSync.GlobSync\n\n// old api surface\nglob.glob = glob\n\nfunction extend (origin, add) {\n  if (add === null || typeof add !== 'object') {\n    return origin\n  }\n\n  var keys = Object.keys(add)\n  var i = keys.length\n  while (i--) {\n    origin[keys[i]] = add[keys[i]]\n  }\n  return origin\n}\n\nglob.hasMagic = function (pattern, options_) {\n  var options = extend({}, options_)\n  options.noprocess = true\n\n  var g = new Glob(pattern, options)\n  var set = g.minimatch.set\n\n  if (!pattern)\n    return false\n\n  if (set.length > 1)\n    return true\n\n  for (var j = 0; j < set[0].length; j++) {\n    if (typeof set[0][j] !== 'string')\n      return true\n  }\n\n  return false\n}\n\nglob.Glob = Glob\ninherits(Glob, EE)\nfunction Glob (pattern, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = null\n  }\n\n  if (options && options.sync) {\n    if (cb)\n      throw new TypeError('callback provided to sync glob')\n    return new GlobSync(pattern, options)\n  }\n\n  if (!(this instanceof Glob))\n    return new Glob(pattern, options, cb)\n\n  setopts(this, pattern, options)\n  this._didRealPath = false\n\n  // process each pattern in the minimatch set\n  var n = this.minimatch.set.length\n\n  // The matches are stored as {<filename>: true,...} so that\n  // duplicates are automagically pruned.\n  // Later, we do an Object.keys() on these.\n  // Keep them as a list so we can fill in when nonull is set.\n  this.matches = new Array(n)\n\n  if (typeof cb === 'function') {\n    cb = once(cb)\n    this.on('error', cb)\n    this.on('end', function (matches) {\n      cb(null, matches)\n    })\n  }\n\n  var self = this\n  this._processing = 0\n\n  this._emitQueue = []\n  this._processQueue = []\n  this.paused = false\n\n  if (this.noprocess)\n    return this\n\n  if (n === 0)\n    return done()\n\n  var sync = true\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false, done)\n  }\n  sync = false\n\n  function done () {\n    --self._processing\n    if (self._processing <= 0) {\n      if (sync) {\n        process.nextTick(function () {\n          self._finish()\n        })\n      } else {\n        self._finish()\n      }\n    }\n  }\n}\n\nGlob.prototype._finish = function () {\n  assert(this instanceof Glob)\n  if (this.aborted)\n    return\n\n  if (this.realpath && !this._didRealpath)\n    return this._realpath()\n\n  common.finish(this)\n  this.emit('end', this.found)\n}\n\nGlob.prototype._realpath = function () {\n  if (this._didRealpath)\n    return\n\n  this._didRealpath = true\n\n  var n = this.matches.length\n  if (n === 0)\n    return this._finish()\n\n  var self = this\n  for (var i = 0; i < this.matches.length; i++)\n    this._realpathSet(i, next)\n\n  function next () {\n    if (--n === 0)\n      self._finish()\n  }\n}\n\nGlob.prototype._realpathSet = function (index, cb) {\n  var matchset = this.matches[index]\n  if (!matchset)\n    return cb()\n\n  var found = Object.keys(matchset)\n  var self = this\n  var n = found.length\n\n  if (n === 0)\n    return cb()\n\n  var set = this.matches[index] = Object.create(null)\n  found.forEach(function (p, i) {\n    // If there's a problem with the stat, then it means that\n    // one or more of the links in the realpath couldn't be\n    // resolved.  just return the abs value in that case.\n    p = self._makeAbs(p)\n    rp.realpath(p, self.realpathCache, function (er, real) {\n      if (!er)\n        set[real] = true\n      else if (er.syscall === 'stat')\n        set[p] = true\n      else\n        self.emit('error', er) // srsly wtf right here\n\n      if (--n === 0) {\n        self.matches[index] = set\n        cb()\n      }\n    })\n  })\n}\n\nGlob.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlob.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n\nGlob.prototype.abort = function () {\n  this.aborted = true\n  this.emit('abort')\n}\n\nGlob.prototype.pause = function () {\n  if (!this.paused) {\n    this.paused = true\n    this.emit('pause')\n  }\n}\n\nGlob.prototype.resume = function () {\n  if (this.paused) {\n    this.emit('resume')\n    this.paused = false\n    if (this._emitQueue.length) {\n      var eq = this._emitQueue.slice(0)\n      this._emitQueue.length = 0\n      for (var i = 0; i < eq.length; i ++) {\n        var e = eq[i]\n        this._emitMatch(e[0], e[1])\n      }\n    }\n    if (this._processQueue.length) {\n      var pq = this._processQueue.slice(0)\n      this._processQueue.length = 0\n      for (var i = 0; i < pq.length; i ++) {\n        var p = pq[i]\n        this._processing--\n        this._process(p[0], p[1], p[2], p[3])\n      }\n    }\n  }\n}\n\nGlob.prototype._process = function (pattern, index, inGlobStar, cb) {\n  assert(this instanceof Glob)\n  assert(typeof cb === 'function')\n\n  if (this.aborted)\n    return\n\n  this._processing++\n  if (this.paused) {\n    this._processQueue.push([pattern, index, inGlobStar, cb])\n    return\n  }\n\n  //console.error('PROCESS %d', this._processing, pattern)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // see if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index, cb)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) ||\n      isAbsolute(pattern.map(function (p) {\n        return typeof p === 'string' ? p : '[*]'\n      }).join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip _processing\n  if (childrenIgnored(this, read))\n    return cb()\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cb)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cb)\n}\n\nGlob.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    return self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\nGlob.prototype._processReaddir2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return cb()\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  //console.error('prd2', prefix, entries, remain[0]._glob, matchedEntries)\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return cb()\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return cb()\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix) {\n      if (prefix !== '/')\n        e = prefix + '/' + e\n      else\n        e = prefix + e\n    }\n    this._process([e].concat(remain), index, inGlobStar, cb)\n  }\n  cb()\n}\n\nGlob.prototype._emitMatch = function (index, e) {\n  if (this.aborted)\n    return\n\n  if (isIgnored(this, e))\n    return\n\n  if (this.paused) {\n    this._emitQueue.push([index, e])\n    return\n  }\n\n  var abs = isAbsolute(e) ? e : this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute)\n    e = abs\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  var st = this.statCache[abs]\n  if (st)\n    this.emit('stat', e, st)\n\n  this.emit('match', e)\n}\n\nGlob.prototype._readdirInGlobStar = function (abs, cb) {\n  if (this.aborted)\n    return\n\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false, cb)\n\n  var lstatkey = 'lstat\\0' + abs\n  var self = this\n  var lstatcb = inflight(lstatkey, lstatcb_)\n\n  if (lstatcb)\n    self.fs.lstat(abs, lstatcb)\n\n  function lstatcb_ (er, lstat) {\n    if (er && er.code === 'ENOENT')\n      return cb()\n\n    var isSym = lstat && lstat.isSymbolicLink()\n    self.symlinks[abs] = isSym\n\n    // If it's not a symlink or a dir, then it's definitely a regular file.\n    // don't bother doing a readdir in that case.\n    if (!isSym && lstat && !lstat.isDirectory()) {\n      self.cache[abs] = 'FILE'\n      cb()\n    } else\n      self._readdir(abs, false, cb)\n  }\n}\n\nGlob.prototype._readdir = function (abs, inGlobStar, cb) {\n  if (this.aborted)\n    return\n\n  cb = inflight('readdir\\0'+abs+'\\0'+inGlobStar, cb)\n  if (!cb)\n    return\n\n  //console.error('RD %j %j', +inGlobStar, abs)\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs, cb)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return cb()\n\n    if (Array.isArray(c))\n      return cb(null, c)\n  }\n\n  var self = this\n  self.fs.readdir(abs, readdirCb(this, abs, cb))\n}\n\nfunction readdirCb (self, abs, cb) {\n  return function (er, entries) {\n    if (er)\n      self._readdirError(abs, er, cb)\n    else\n      self._readdirEntries(abs, entries, cb)\n  }\n}\n\nGlob.prototype._readdirEntries = function (abs, entries, cb) {\n  if (this.aborted)\n    return\n\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n  return cb(null, entries)\n}\n\nGlob.prototype._readdirError = function (f, er, cb) {\n  if (this.aborted)\n    return\n\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        this.emit('error', error)\n        this.abort()\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict) {\n        this.emit('error', er)\n        // If the error is handled, then we abort\n        // if not, we threw out of here\n        this.abort()\n      }\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n\n  return cb()\n}\n\nGlob.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar, cb) {\n  var self = this\n  this._readdir(abs, inGlobStar, function (er, entries) {\n    self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cb)\n  })\n}\n\n\nGlob.prototype._processGlobStar2 = function (prefix, read, abs, remain, index, inGlobStar, entries, cb) {\n  //console.error('pgs2', prefix, remain[0], entries)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return cb()\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false, cb)\n\n  var isSym = this.symlinks[abs]\n  var len = entries.length\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return cb()\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true, cb)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true, cb)\n  }\n\n  cb()\n}\n\nGlob.prototype._processSimple = function (prefix, index, cb) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var self = this\n  this._stat(prefix, function (er, exists) {\n    self._processSimple2(prefix, index, er, exists, cb)\n  })\n}\nGlob.prototype._processSimple2 = function (prefix, index, er, exists, cb) {\n\n  //console.error('ps2', prefix, exists)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return cb()\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n  cb()\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlob.prototype._stat = function (f, cb) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return cb()\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return cb(null, c)\n\n    if (needDir && c === 'FILE')\n      return cb()\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (stat !== undefined) {\n    if (stat === false)\n      return cb(null, stat)\n    else {\n      var type = stat.isDirectory() ? 'DIR' : 'FILE'\n      if (needDir && type === 'FILE')\n        return cb()\n      else\n        return cb(null, type, stat)\n    }\n  }\n\n  var self = this\n  var statcb = inflight('stat\\0' + abs, lstatcb_)\n  if (statcb)\n    self.fs.lstat(abs, statcb)\n\n  function lstatcb_ (er, lstat) {\n    if (lstat && lstat.isSymbolicLink()) {\n      // If it's a symlink, then treat it as the target, unless\n      // the target does not exist, then treat it as a file.\n      return self.fs.stat(abs, function (er, stat) {\n        if (er)\n          self._stat2(f, abs, null, lstat, cb)\n        else\n          self._stat2(f, abs, er, stat, cb)\n      })\n    } else {\n      self._stat2(f, abs, er, lstat, cb)\n    }\n  }\n}\n\nGlob.prototype._stat2 = function (f, abs, er, stat, cb) {\n  if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n    this.statCache[abs] = false\n    return cb()\n  }\n\n  var needDir = f.slice(-1) === '/'\n  this.statCache[abs] = stat\n\n  if (abs.slice(-1) === '/' && stat && !stat.isDirectory())\n    return cb(null, false, stat)\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return cb()\n\n  return cb(null, c, stat)\n}\n","module.exports = globSync\nglobSync.GlobSync = GlobSync\n\nvar rp = require('fs.realpath')\nvar minimatch = require('minimatch')\nvar Minimatch = minimatch.Minimatch\nvar Glob = require('./glob.js').Glob\nvar util = require('util')\nvar path = require('path')\nvar assert = require('assert')\nvar isAbsolute = require('path-is-absolute')\nvar common = require('./common.js')\nvar setopts = common.setopts\nvar ownProp = common.ownProp\nvar childrenIgnored = common.childrenIgnored\nvar isIgnored = common.isIgnored\n\nfunction globSync (pattern, options) {\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  return new GlobSync(pattern, options).found\n}\n\nfunction GlobSync (pattern, options) {\n  if (!pattern)\n    throw new Error('must provide pattern')\n\n  if (typeof options === 'function' || arguments.length === 3)\n    throw new TypeError('callback provided to sync glob\\n'+\n                        'See: https://github.com/isaacs/node-glob/issues/167')\n\n  if (!(this instanceof GlobSync))\n    return new GlobSync(pattern, options)\n\n  setopts(this, pattern, options)\n\n  if (this.noprocess)\n    return this\n\n  var n = this.minimatch.set.length\n  this.matches = new Array(n)\n  for (var i = 0; i < n; i ++) {\n    this._process(this.minimatch.set[i], i, false)\n  }\n  this._finish()\n}\n\nGlobSync.prototype._finish = function () {\n  assert.ok(this instanceof GlobSync)\n  if (this.realpath) {\n    var self = this\n    this.matches.forEach(function (matchset, index) {\n      var set = self.matches[index] = Object.create(null)\n      for (var p in matchset) {\n        try {\n          p = self._makeAbs(p)\n          var real = rp.realpathSync(p, self.realpathCache)\n          set[real] = true\n        } catch (er) {\n          if (er.syscall === 'stat')\n            set[self._makeAbs(p)] = true\n          else\n            throw er\n        }\n      }\n    })\n  }\n  common.finish(this)\n}\n\n\nGlobSync.prototype._process = function (pattern, index, inGlobStar) {\n  assert.ok(this instanceof GlobSync)\n\n  // Get the first [n] parts of pattern that are all strings.\n  var n = 0\n  while (typeof pattern[n] === 'string') {\n    n ++\n  }\n  // now n is the index of the first one that is *not* a string.\n\n  // See if there's anything else\n  var prefix\n  switch (n) {\n    // if not, then this is rather simple\n    case pattern.length:\n      this._processSimple(pattern.join('/'), index)\n      return\n\n    case 0:\n      // pattern *starts* with some non-trivial item.\n      // going to readdir(cwd), but not include the prefix in matches.\n      prefix = null\n      break\n\n    default:\n      // pattern has some string bits in the front.\n      // whatever it starts with, whether that's 'absolute' like /foo/bar,\n      // or 'relative' like '../baz'\n      prefix = pattern.slice(0, n).join('/')\n      break\n  }\n\n  var remain = pattern.slice(n)\n\n  // get the list of entries.\n  var read\n  if (prefix === null)\n    read = '.'\n  else if (isAbsolute(prefix) ||\n      isAbsolute(pattern.map(function (p) {\n        return typeof p === 'string' ? p : '[*]'\n      }).join('/'))) {\n    if (!prefix || !isAbsolute(prefix))\n      prefix = '/' + prefix\n    read = prefix\n  } else\n    read = prefix\n\n  var abs = this._makeAbs(read)\n\n  //if ignored, skip processing\n  if (childrenIgnored(this, read))\n    return\n\n  var isGlobStar = remain[0] === minimatch.GLOBSTAR\n  if (isGlobStar)\n    this._processGlobStar(prefix, read, abs, remain, index, inGlobStar)\n  else\n    this._processReaddir(prefix, read, abs, remain, index, inGlobStar)\n}\n\n\nGlobSync.prototype._processReaddir = function (prefix, read, abs, remain, index, inGlobStar) {\n  var entries = this._readdir(abs, inGlobStar)\n\n  // if the abs isn't a dir, then nothing can match!\n  if (!entries)\n    return\n\n  // It will only match dot entries if it starts with a dot, or if\n  // dot is set.  Stuff like @(.foo|.bar) isn't allowed.\n  var pn = remain[0]\n  var negate = !!this.minimatch.negate\n  var rawGlob = pn._glob\n  var dotOk = this.dot || rawGlob.charAt(0) === '.'\n\n  var matchedEntries = []\n  for (var i = 0; i < entries.length; i++) {\n    var e = entries[i]\n    if (e.charAt(0) !== '.' || dotOk) {\n      var m\n      if (negate && !prefix) {\n        m = !e.match(pn)\n      } else {\n        m = e.match(pn)\n      }\n      if (m)\n        matchedEntries.push(e)\n    }\n  }\n\n  var len = matchedEntries.length\n  // If there are no matched entries, then nothing matches.\n  if (len === 0)\n    return\n\n  // if this is the last remaining pattern bit, then no need for\n  // an additional stat *unless* the user has specified mark or\n  // stat explicitly.  We know they exist, since readdir returned\n  // them.\n\n  if (remain.length === 1 && !this.mark && !this.stat) {\n    if (!this.matches[index])\n      this.matches[index] = Object.create(null)\n\n    for (var i = 0; i < len; i ++) {\n      var e = matchedEntries[i]\n      if (prefix) {\n        if (prefix.slice(-1) !== '/')\n          e = prefix + '/' + e\n        else\n          e = prefix + e\n      }\n\n      if (e.charAt(0) === '/' && !this.nomount) {\n        e = path.join(this.root, e)\n      }\n      this._emitMatch(index, e)\n    }\n    // This was the last one, and no stats were needed\n    return\n  }\n\n  // now test all matched entries as stand-ins for that part\n  // of the pattern.\n  remain.shift()\n  for (var i = 0; i < len; i ++) {\n    var e = matchedEntries[i]\n    var newPattern\n    if (prefix)\n      newPattern = [prefix, e]\n    else\n      newPattern = [e]\n    this._process(newPattern.concat(remain), index, inGlobStar)\n  }\n}\n\n\nGlobSync.prototype._emitMatch = function (index, e) {\n  if (isIgnored(this, e))\n    return\n\n  var abs = this._makeAbs(e)\n\n  if (this.mark)\n    e = this._mark(e)\n\n  if (this.absolute) {\n    e = abs\n  }\n\n  if (this.matches[index][e])\n    return\n\n  if (this.nodir) {\n    var c = this.cache[abs]\n    if (c === 'DIR' || Array.isArray(c))\n      return\n  }\n\n  this.matches[index][e] = true\n\n  if (this.stat)\n    this._stat(e)\n}\n\n\nGlobSync.prototype._readdirInGlobStar = function (abs) {\n  // follow all symlinked directories forever\n  // just proceed as if this is a non-globstar situation\n  if (this.follow)\n    return this._readdir(abs, false)\n\n  var entries\n  var lstat\n  var stat\n  try {\n    lstat = this.fs.lstatSync(abs)\n  } catch (er) {\n    if (er.code === 'ENOENT') {\n      // lstat failed, doesn't exist\n      return null\n    }\n  }\n\n  var isSym = lstat && lstat.isSymbolicLink()\n  this.symlinks[abs] = isSym\n\n  // If it's not a symlink or a dir, then it's definitely a regular file.\n  // don't bother doing a readdir in that case.\n  if (!isSym && lstat && !lstat.isDirectory())\n    this.cache[abs] = 'FILE'\n  else\n    entries = this._readdir(abs, false)\n\n  return entries\n}\n\nGlobSync.prototype._readdir = function (abs, inGlobStar) {\n  var entries\n\n  if (inGlobStar && !ownProp(this.symlinks, abs))\n    return this._readdirInGlobStar(abs)\n\n  if (ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n    if (!c || c === 'FILE')\n      return null\n\n    if (Array.isArray(c))\n      return c\n  }\n\n  try {\n    return this._readdirEntries(abs, this.fs.readdirSync(abs))\n  } catch (er) {\n    this._readdirError(abs, er)\n    return null\n  }\n}\n\nGlobSync.prototype._readdirEntries = function (abs, entries) {\n  // if we haven't asked to stat everything, then just\n  // assume that everything in there exists, so we can avoid\n  // having to stat it a second time.\n  if (!this.mark && !this.stat) {\n    for (var i = 0; i < entries.length; i ++) {\n      var e = entries[i]\n      if (abs === '/')\n        e = abs + e\n      else\n        e = abs + '/' + e\n      this.cache[e] = true\n    }\n  }\n\n  this.cache[abs] = entries\n\n  // mark and cache dir-ness\n  return entries\n}\n\nGlobSync.prototype._readdirError = function (f, er) {\n  // handle errors, and cache the information\n  switch (er.code) {\n    case 'ENOTSUP': // https://github.com/isaacs/node-glob/issues/205\n    case 'ENOTDIR': // totally normal. means it *does* exist.\n      var abs = this._makeAbs(f)\n      this.cache[abs] = 'FILE'\n      if (abs === this.cwdAbs) {\n        var error = new Error(er.code + ' invalid cwd ' + this.cwd)\n        error.path = this.cwd\n        error.code = er.code\n        throw error\n      }\n      break\n\n    case 'ENOENT': // not terribly unusual\n    case 'ELOOP':\n    case 'ENAMETOOLONG':\n    case 'UNKNOWN':\n      this.cache[this._makeAbs(f)] = false\n      break\n\n    default: // some unusual error.  Treat as failure.\n      this.cache[this._makeAbs(f)] = false\n      if (this.strict)\n        throw er\n      if (!this.silent)\n        console.error('glob error', er)\n      break\n  }\n}\n\nGlobSync.prototype._processGlobStar = function (prefix, read, abs, remain, index, inGlobStar) {\n\n  var entries = this._readdir(abs, inGlobStar)\n\n  // no entries means not a dir, so it can never have matches\n  // foo.txt/** doesn't match foo.txt\n  if (!entries)\n    return\n\n  // test without the globstar, and with every child both below\n  // and replacing the globstar.\n  var remainWithoutGlobStar = remain.slice(1)\n  var gspref = prefix ? [ prefix ] : []\n  var noGlobStar = gspref.concat(remainWithoutGlobStar)\n\n  // the noGlobStar pattern exits the inGlobStar state\n  this._process(noGlobStar, index, false)\n\n  var len = entries.length\n  var isSym = this.symlinks[abs]\n\n  // If it's a symlink, and we're in a globstar, then stop\n  if (isSym && inGlobStar)\n    return\n\n  for (var i = 0; i < len; i++) {\n    var e = entries[i]\n    if (e.charAt(0) === '.' && !this.dot)\n      continue\n\n    // these two cases enter the inGlobStar state\n    var instead = gspref.concat(entries[i], remainWithoutGlobStar)\n    this._process(instead, index, true)\n\n    var below = gspref.concat(entries[i], remain)\n    this._process(below, index, true)\n  }\n}\n\nGlobSync.prototype._processSimple = function (prefix, index) {\n  // XXX review this.  Shouldn't it be doing the mounting etc\n  // before doing stat?  kinda weird?\n  var exists = this._stat(prefix)\n\n  if (!this.matches[index])\n    this.matches[index] = Object.create(null)\n\n  // If it doesn't exist, then just mark the lack of results\n  if (!exists)\n    return\n\n  if (prefix && isAbsolute(prefix) && !this.nomount) {\n    var trail = /[\\/\\\\]$/.test(prefix)\n    if (prefix.charAt(0) === '/') {\n      prefix = path.join(this.root, prefix)\n    } else {\n      prefix = path.resolve(this.root, prefix)\n      if (trail)\n        prefix += '/'\n    }\n  }\n\n  if (process.platform === 'win32')\n    prefix = prefix.replace(/\\\\/g, '/')\n\n  // Mark this as a match\n  this._emitMatch(index, prefix)\n}\n\n// Returns either 'DIR', 'FILE', or false\nGlobSync.prototype._stat = function (f) {\n  var abs = this._makeAbs(f)\n  var needDir = f.slice(-1) === '/'\n\n  if (f.length > this.maxLength)\n    return false\n\n  if (!this.stat && ownProp(this.cache, abs)) {\n    var c = this.cache[abs]\n\n    if (Array.isArray(c))\n      c = 'DIR'\n\n    // It exists, but maybe not how we need it\n    if (!needDir || c === 'DIR')\n      return c\n\n    if (needDir && c === 'FILE')\n      return false\n\n    // otherwise we have to stat, because maybe c=true\n    // if we know it exists, but not what it is.\n  }\n\n  var exists\n  var stat = this.statCache[abs]\n  if (!stat) {\n    var lstat\n    try {\n      lstat = this.fs.lstatSync(abs)\n    } catch (er) {\n      if (er && (er.code === 'ENOENT' || er.code === 'ENOTDIR')) {\n        this.statCache[abs] = false\n        return false\n      }\n    }\n\n    if (lstat && lstat.isSymbolicLink()) {\n      try {\n        stat = this.fs.statSync(abs)\n      } catch (er) {\n        stat = lstat\n      }\n    } else {\n      stat = lstat\n    }\n  }\n\n  this.statCache[abs] = stat\n\n  var c = true\n  if (stat)\n    c = stat.isDirectory() ? 'DIR' : 'FILE'\n\n  this.cache[abs] = this.cache[abs] || c\n\n  if (needDir && c === 'FILE')\n    return false\n\n  return c\n}\n\nGlobSync.prototype._mark = function (p) {\n  return common.mark(this, p)\n}\n\nGlobSync.prototype._makeAbs = function (f) {\n  return common.makeAbs(this, f)\n}\n","'use strict'\n\nmodule.exports = clone\n\nvar getPrototypeOf = Object.getPrototypeOf || function (obj) {\n  return obj.__proto__\n}\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: getPrototypeOf(obj) }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n","var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nfunction publishQueue(context, queue) {\n  Object.defineProperty(context, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!fs[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = global[gracefulQueue] || []\n  publishQueue(fs, queue)\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          resetQueue()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      resetQueue()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(fs[gracefulQueue])\n      require('assert').equal(fs[gracefulQueue].length, 0)\n    })\n  }\n}\n\nif (!global[gracefulQueue]) {\n  publishQueue(global, fs[gracefulQueue]);\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb, startTime) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb, startTime) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb, startTime) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$copyFile = fs.copyFile\n  if (fs$copyFile)\n    fs.copyFile = copyFile\n  function copyFile (src, dest, flags, cb) {\n    if (typeof flags === 'function') {\n      cb = flags\n      flags = 0\n    }\n    return go$copyFile(src, dest, flags, cb)\n\n    function go$copyFile (src, dest, flags, cb, startTime) {\n      return fs$copyFile(src, dest, flags, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$copyFile, [src, dest, flags, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  var noReaddirOptionVersions = /^v[0-5]\\./\n  function readdir (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    var go$readdir = noReaddirOptionVersions.test(process.version)\n      ? function go$readdir (path, options, cb, startTime) {\n        return fs$readdir(path, fs$readdirCallback(\n          path, options, cb, startTime\n        ))\n      }\n      : function go$readdir (path, options, cb, startTime) {\n        return fs$readdir(path, options, fs$readdirCallback(\n          path, options, cb, startTime\n        ))\n      }\n\n    return go$readdir(path, options, cb)\n\n    function fs$readdirCallback (path, options, cb, startTime) {\n      return function (err, files) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([\n            go$readdir,\n            [path, options, cb],\n            err,\n            startTime || Date.now(),\n            Date.now()\n          ])\n        else {\n          if (files && files.sort)\n            files.sort()\n\n          if (typeof cb === 'function')\n            cb.call(this, err, files)\n        }\n      }\n    }\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  var FileReadStream = ReadStream\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return FileReadStream\n    },\n    set: function (val) {\n      FileReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  var FileWriteStream = WriteStream\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return FileWriteStream\n    },\n    set: function (val) {\n      FileWriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb, startTime) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb], err, startTime || Date.now(), Date.now()])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  fs[gracefulQueue].push(elem)\n  retry()\n}\n\n// keep track of the timeout between retry() calls\nvar retryTimer\n\n// reset the startTime and lastTime to now\n// this resets the start of the 60 second overall timeout as well as the\n// delay between attempts so that we'll retry these jobs sooner\nfunction resetQueue () {\n  var now = Date.now()\n  for (var i = 0; i < fs[gracefulQueue].length; ++i) {\n    // entries that are only a length of 2 are from an older version, don't\n    // bother modifying those since they'll be retried anyway.\n    if (fs[gracefulQueue][i].length > 2) {\n      fs[gracefulQueue][i][3] = now // startTime\n      fs[gracefulQueue][i][4] = now // lastTime\n    }\n  }\n  // call retry to make sure we're actively processing the queue\n  retry()\n}\n\nfunction retry () {\n  // clear the timer and remove it to help prevent unintended concurrency\n  clearTimeout(retryTimer)\n  retryTimer = undefined\n\n  if (fs[gracefulQueue].length === 0)\n    return\n\n  var elem = fs[gracefulQueue].shift()\n  var fn = elem[0]\n  var args = elem[1]\n  // these items may be unset if they were added by an older graceful-fs\n  var err = elem[2]\n  var startTime = elem[3]\n  var lastTime = elem[4]\n\n  // if we don't have a startTime we have no way of knowing if we've waited\n  // long enough, so go ahead and retry this item now\n  if (startTime === undefined) {\n    debug('RETRY', fn.name, args)\n    fn.apply(null, args)\n  } else if (Date.now() - startTime >= 60000) {\n    // it's been more than 60 seconds total, bail now\n    debug('TIMEOUT', fn.name, args)\n    var cb = args.pop()\n    if (typeof cb === 'function')\n      cb.call(null, err)\n  } else {\n    // the amount of time between the last attempt and right now\n    var sinceAttempt = Date.now() - lastTime\n    // the amount of time between when we first tried, and when we last tried\n    // rounded up to at least 1\n    var sinceStart = Math.max(lastTime - startTime, 1)\n    // backoff. wait longer than the total time we've been retrying, but only\n    // up to a maximum of 100ms\n    var desiredDelay = Math.min(sinceStart * 1.2, 100)\n    // it's been long enough since the last retry, do it again\n    if (sinceAttempt >= desiredDelay) {\n      debug('RETRY', fn.name, args)\n      fn.apply(null, args.concat([startTime]))\n    } else {\n      // if we can't do this job yet, push it to the end of the queue\n      // and let the next iteration check again\n      fs[gracefulQueue].push(elem)\n    }\n  }\n\n  // schedule our next run if one isn't already scheduled\n  if (retryTimer === undefined) {\n    retryTimer = setTimeout(retry, 0)\n  }\n}\n","var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n","var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (fs.chmod && !fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (fs.chown && !fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = typeof fs.rename !== 'function' ? fs.rename\n    : (function (fs$rename) {\n      function rename (from, to, cb) {\n        var start = Date.now()\n        var backoff = 0;\n        fs$rename(from, to, function CB (er) {\n          if (er\n              && (er.code === \"EACCES\" || er.code === \"EPERM\" || er.code === \"EBUSY\")\n              && Date.now() - start < 60000) {\n            setTimeout(function() {\n              fs.stat(to, function (stater, st) {\n                if (stater && stater.code === \"ENOENT\")\n                  fs$rename(from, to, CB);\n                else\n                  cb(er)\n              })\n            }, backoff)\n            if (backoff < 100)\n              backoff += 10;\n            return;\n          }\n          if (cb) cb(er)\n        })\n      }\n      if (Object.setPrototypeOf) Object.setPrototypeOf(rename, fs$rename)\n      return rename\n    })(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = typeof fs.read !== 'function' ? fs.read\n  : (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = typeof fs.readSync !== 'function' ? fs.readSync\n  : (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\") && fs.futimes) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else if (fs.futimes) {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats) {\n        if (stats.uid < 0) stats.uid += 0x100000000\n        if (stats.gid < 0) stats.gid += 0x100000000\n      }\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n","'use strict';\n\nmodule.exports = (flag, argv = process.argv) => {\n\tconst prefix = flag.startsWith('-') ? '' : (flag.length === 1 ? '-' : '--');\n\tconst position = argv.indexOf(prefix + flag);\n\tconst terminatorPosition = argv.indexOf('--');\n\treturn position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HttpsProxyAgent = void 0;\nconst net = __importStar(require(\"net\"));\nconst tls = __importStar(require(\"tls\"));\nconst assert_1 = __importDefault(require(\"assert\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst agent_base_1 = require(\"agent-base\");\nconst url_1 = require(\"url\");\nconst parse_proxy_response_1 = require(\"./parse-proxy-response\");\nconst debug = (0, debug_1.default)('https-proxy-agent');\nconst setServernameFromNonIpHost = (options) => {\n    if (options.servername === undefined &&\n        options.host &&\n        !net.isIP(options.host)) {\n        return {\n            ...options,\n            servername: options.host,\n        };\n    }\n    return options;\n};\n/**\n * The `HttpsProxyAgent` implements an HTTP Agent subclass that connects to\n * the specified \"HTTP(s) proxy server\" in order to proxy HTTPS requests.\n *\n * Outgoing HTTP requests are first tunneled through the proxy server using the\n * `CONNECT` HTTP request method to establish a connection to the proxy server,\n * and then the proxy server connects to the destination target and issues the\n * HTTP request from the proxy server.\n *\n * `https:` requests have their socket connection upgraded to TLS once\n * the connection to the proxy server has been established.\n */\nclass HttpsProxyAgent extends agent_base_1.Agent {\n    constructor(proxy, opts) {\n        super(opts);\n        this.options = { path: undefined };\n        this.proxy = typeof proxy === 'string' ? new url_1.URL(proxy) : proxy;\n        this.proxyHeaders = opts?.headers ?? {};\n        debug('Creating new HttpsProxyAgent instance: %o', this.proxy.href);\n        // Trim off the brackets from IPv6 addresses\n        const host = (this.proxy.hostname || this.proxy.host).replace(/^\\[|\\]$/g, '');\n        const port = this.proxy.port\n            ? parseInt(this.proxy.port, 10)\n            : this.proxy.protocol === 'https:'\n                ? 443\n                : 80;\n        this.connectOpts = {\n            // Attempt to negotiate http/1.1 for proxy servers that support http/2\n            ALPNProtocols: ['http/1.1'],\n            ...(opts ? omit(opts, 'headers') : null),\n            host,\n            port,\n        };\n    }\n    /**\n     * Called when the node-core HTTP client library is creating a\n     * new HTTP request.\n     */\n    async connect(req, opts) {\n        const { proxy } = this;\n        if (!opts.host) {\n            throw new TypeError('No \"host\" provided');\n        }\n        // Create a socket connection to the proxy server.\n        let socket;\n        if (proxy.protocol === 'https:') {\n            debug('Creating `tls.Socket`: %o', this.connectOpts);\n            socket = tls.connect(setServernameFromNonIpHost(this.connectOpts));\n        }\n        else {\n            debug('Creating `net.Socket`: %o', this.connectOpts);\n            socket = net.connect(this.connectOpts);\n        }\n        const headers = typeof this.proxyHeaders === 'function'\n            ? this.proxyHeaders()\n            : { ...this.proxyHeaders };\n        const host = net.isIPv6(opts.host) ? `[${opts.host}]` : opts.host;\n        let payload = `CONNECT ${host}:${opts.port} HTTP/1.1\\r\\n`;\n        // Inject the `Proxy-Authorization` header if necessary.\n        if (proxy.username || proxy.password) {\n            const auth = `${decodeURIComponent(proxy.username)}:${decodeURIComponent(proxy.password)}`;\n            headers['Proxy-Authorization'] = `Basic ${Buffer.from(auth).toString('base64')}`;\n        }\n        headers.Host = `${host}:${opts.port}`;\n        if (!headers['Proxy-Connection']) {\n            headers['Proxy-Connection'] = this.keepAlive\n                ? 'Keep-Alive'\n                : 'close';\n        }\n        for (const name of Object.keys(headers)) {\n            payload += `${name}: ${headers[name]}\\r\\n`;\n        }\n        const proxyResponsePromise = (0, parse_proxy_response_1.parseProxyResponse)(socket);\n        socket.write(`${payload}\\r\\n`);\n        const { connect, buffered } = await proxyResponsePromise;\n        req.emit('proxyConnect', connect);\n        this.emit('proxyConnect', connect, req);\n        if (connect.statusCode === 200) {\n            req.once('socket', resume);\n            if (opts.secureEndpoint) {\n                // The proxy is connecting to a TLS server, so upgrade\n                // this socket connection to a TLS connection.\n                debug('Upgrading socket connection to TLS');\n                return tls.connect({\n                    ...omit(setServernameFromNonIpHost(opts), 'host', 'path', 'port'),\n                    socket,\n                });\n            }\n            return socket;\n        }\n        // Some other status code that's not 200... need to re-play the HTTP\n        // header \"data\" events onto the socket once the HTTP machinery is\n        // attached so that the node core `http` can parse and handle the\n        // error status code.\n        // Close the original socket, and a new \"fake\" socket is returned\n        // instead, so that the proxy doesn't get the HTTP request\n        // written to it (which may contain `Authorization` headers or other\n        // sensitive data).\n        //\n        // See: https://hackerone.com/reports/541502\n        socket.destroy();\n        const fakeSocket = new net.Socket({ writable: false });\n        fakeSocket.readable = true;\n        // Need to wait for the \"socket\" event to re-play the \"data\" events.\n        req.once('socket', (s) => {\n            debug('Replaying proxy buffer for failed request');\n            (0, assert_1.default)(s.listenerCount('data') > 0);\n            // Replay the \"buffered\" Buffer onto the fake `socket`, since at\n            // this point the HTTP module machinery has been hooked up for\n            // the user.\n            s.push(buffered);\n            s.push(null);\n        });\n        return fakeSocket;\n    }\n}\nHttpsProxyAgent.protocols = ['http', 'https'];\nexports.HttpsProxyAgent = HttpsProxyAgent;\nfunction resume(socket) {\n    socket.resume();\n}\nfunction omit(obj, ...keys) {\n    const ret = {};\n    let key;\n    for (key in obj) {\n        if (!keys.includes(key)) {\n            ret[key] = obj[key];\n        }\n    }\n    return ret;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseProxyResponse = void 0;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst debug = (0, debug_1.default)('https-proxy-agent:parse-proxy-response');\nfunction parseProxyResponse(socket) {\n    return new Promise((resolve, reject) => {\n        // we need to buffer any HTTP traffic that happens with the proxy before we get\n        // the CONNECT response, so that if the response is anything other than an \"200\"\n        // response code, then we can re-play the \"data\" events on the socket once the\n        // HTTP parser is hooked up...\n        let buffersLength = 0;\n        const buffers = [];\n        function read() {\n            const b = socket.read();\n            if (b)\n                ondata(b);\n            else\n                socket.once('readable', read);\n        }\n        function cleanup() {\n            socket.removeListener('end', onend);\n            socket.removeListener('error', onerror);\n            socket.removeListener('readable', read);\n        }\n        function onend() {\n            cleanup();\n            debug('onend');\n            reject(new Error('Proxy connection ended before receiving CONNECT response'));\n        }\n        function onerror(err) {\n            cleanup();\n            debug('onerror %o', err);\n            reject(err);\n        }\n        function ondata(b) {\n            buffers.push(b);\n            buffersLength += b.length;\n            const buffered = Buffer.concat(buffers, buffersLength);\n            const endOfHeaders = buffered.indexOf('\\r\\n\\r\\n');\n            if (endOfHeaders === -1) {\n                // keep buffering\n                debug('have not received end of HTTP headers yet...');\n                read();\n                return;\n            }\n            const headerParts = buffered\n                .slice(0, endOfHeaders)\n                .toString('ascii')\n                .split('\\r\\n');\n            const firstLine = headerParts.shift();\n            if (!firstLine) {\n                socket.destroy();\n                return reject(new Error('No header received from proxy CONNECT response'));\n            }\n            const firstLineParts = firstLine.split(' ');\n            const statusCode = +firstLineParts[1];\n            const statusText = firstLineParts.slice(2).join(' ');\n            const headers = {};\n            for (const header of headerParts) {\n                if (!header)\n                    continue;\n                const firstColon = header.indexOf(':');\n                if (firstColon === -1) {\n                    socket.destroy();\n                    return reject(new Error(`Invalid header from proxy CONNECT response: \"${header}\"`));\n                }\n                const key = header.slice(0, firstColon).toLowerCase();\n                const value = header.slice(firstColon + 1).trimStart();\n                const current = headers[key];\n                if (typeof current === 'string') {\n                    headers[key] = [current, value];\n                }\n                else if (Array.isArray(current)) {\n                    current.push(value);\n                }\n                else {\n                    headers[key] = value;\n                }\n            }\n            debug('got proxy server response: %o %o', firstLine, headers);\n            cleanup();\n            resolve({\n                connect: {\n                    statusCode,\n                    statusText,\n                    headers,\n                },\n                buffered,\n            });\n        }\n        socket.on('error', onerror);\n        socket.on('end', onend);\n        read();\n    });\n}\nexports.parseProxyResponse = parseProxyResponse;\n//# sourceMappingURL=parse-proxy-response.js.map","var wrappy = require('wrappy')\nvar reqs = Object.create(null)\nvar once = require('once')\n\nmodule.exports = wrappy(inflight)\n\nfunction inflight (key, cb) {\n  if (reqs[key]) {\n    reqs[key].push(cb)\n    return null\n  } else {\n    reqs[key] = [cb]\n    return makeres(key)\n  }\n}\n\nfunction makeres (key) {\n  return once(function RES () {\n    var cbs = reqs[key]\n    var len = cbs.length\n    var args = slice(arguments)\n\n    // XXX It's somewhat ambiguous whether a new callback added in this\n    // pass should be queued for later execution if something in the\n    // list of callbacks throws, or if it should just be discarded.\n    // However, it's such an edge case that it hardly matters, and either\n    // choice is likely as surprising as the other.\n    // As it happens, we do go ahead and schedule it for later execution.\n    try {\n      for (var i = 0; i < len; i++) {\n        cbs[i].apply(null, args)\n      }\n    } finally {\n      if (cbs.length > len) {\n        // added more in the interim.\n        // de-zalgo, just in case, but don't call again.\n        cbs.splice(0, len)\n        process.nextTick(function () {\n          RES.apply(null, args)\n        })\n      } else {\n        delete reqs[key]\n      }\n    }\n  })\n}\n\nfunction slice (args) {\n  var length = args.length\n  var array = []\n\n  for (var i = 0; i < length; i++) array[i] = args[i]\n  return array\n}\n","try {\n  var util = require('util');\n  /* istanbul ignore next */\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  /* istanbul ignore next */\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","exports.parse = exports.decode = decode\n\nexports.stringify = exports.encode = encode\n\nexports.safe = safe\nexports.unsafe = unsafe\n\nvar eol = typeof process !== 'undefined' &&\n  process.platform === 'win32' ? '\\r\\n' : '\\n'\n\nfunction encode (obj, opt) {\n  var children = []\n  var out = ''\n\n  if (typeof opt === 'string') {\n    opt = {\n      section: opt,\n      whitespace: false,\n    }\n  } else {\n    opt = opt || {}\n    opt.whitespace = opt.whitespace === true\n  }\n\n  var separator = opt.whitespace ? ' = ' : '='\n\n  Object.keys(obj).forEach(function (k, _, __) {\n    var val = obj[k]\n    if (val && Array.isArray(val)) {\n      val.forEach(function (item) {\n        out += safe(k + '[]') + separator + safe(item) + '\\n'\n      })\n    } else if (val && typeof val === 'object')\n      children.push(k)\n    else\n      out += safe(k) + separator + safe(val) + eol\n  })\n\n  if (opt.section && out.length)\n    out = '[' + safe(opt.section) + ']' + eol + out\n\n  children.forEach(function (k, _, __) {\n    var nk = dotSplit(k).join('\\\\.')\n    var section = (opt.section ? opt.section + '.' : '') + nk\n    var child = encode(obj[k], {\n      section: section,\n      whitespace: opt.whitespace,\n    })\n    if (out.length && child.length)\n      out += eol\n\n    out += child\n  })\n\n  return out\n}\n\nfunction dotSplit (str) {\n  return str.replace(/\\1/g, '\\u0002LITERAL\\\\1LITERAL\\u0002')\n    .replace(/\\\\\\./g, '\\u0001')\n    .split(/\\./).map(function (part) {\n      return part.replace(/\\1/g, '\\\\.')\n        .replace(/\\2LITERAL\\\\1LITERAL\\2/g, '\\u0001')\n    })\n}\n\nfunction decode (str) {\n  var out = {}\n  var p = out\n  var section = null\n  //          section     |key      = value\n  var re = /^\\[([^\\]]*)\\]$|^([^=]+)(=(.*))?$/i\n  var lines = str.split(/[\\r\\n]+/g)\n\n  lines.forEach(function (line, _, __) {\n    if (!line || line.match(/^\\s*[;#]/))\n      return\n    var match = line.match(re)\n    if (!match)\n      return\n    if (match[1] !== undefined) {\n      section = unsafe(match[1])\n      if (section === '__proto__') {\n        // not allowed\n        // keep parsing the section, but don't attach it.\n        p = {}\n        return\n      }\n      p = out[section] = out[section] || {}\n      return\n    }\n    var key = unsafe(match[2])\n    if (key === '__proto__')\n      return\n    var value = match[3] ? unsafe(match[4]) : true\n    switch (value) {\n      case 'true':\n      case 'false':\n      case 'null': value = JSON.parse(value)\n    }\n\n    // Convert keys with '[]' suffix to an array\n    if (key.length > 2 && key.slice(-2) === '[]') {\n      key = key.substring(0, key.length - 2)\n      if (key === '__proto__')\n        return\n      if (!p[key])\n        p[key] = []\n      else if (!Array.isArray(p[key]))\n        p[key] = [p[key]]\n    }\n\n    // safeguard against resetting a previously defined\n    // array by accidentally forgetting the brackets\n    if (Array.isArray(p[key]))\n      p[key].push(value)\n    else\n      p[key] = value\n  })\n\n  // {a:{y:1},\"a.b\":{x:2}} --> {a:{y:1,b:{x:2}}}\n  // use a filter to return the keys that have to be deleted.\n  Object.keys(out).filter(function (k, _, __) {\n    if (!out[k] ||\n      typeof out[k] !== 'object' ||\n      Array.isArray(out[k]))\n      return false\n\n    // see if the parent section is also an object.\n    // if so, add it to that, and mark this one for deletion\n    var parts = dotSplit(k)\n    var p = out\n    var l = parts.pop()\n    var nl = l.replace(/\\\\\\./g, '.')\n    parts.forEach(function (part, _, __) {\n      if (part === '__proto__')\n        return\n      if (!p[part] || typeof p[part] !== 'object')\n        p[part] = {}\n      p = p[part]\n    })\n    if (p === out && nl === l)\n      return false\n\n    p[nl] = out[k]\n    return true\n  }).forEach(function (del, _, __) {\n    delete out[del]\n  })\n\n  return out\n}\n\nfunction isQuoted (val) {\n  return (val.charAt(0) === '\"' && val.slice(-1) === '\"') ||\n    (val.charAt(0) === \"'\" && val.slice(-1) === \"'\")\n}\n\nfunction safe (val) {\n  return (typeof val !== 'string' ||\n    val.match(/[=\\r\\n]/) ||\n    val.match(/^\\[/) ||\n    (val.length > 1 &&\n     isQuoted(val)) ||\n    val !== val.trim())\n    ? JSON.stringify(val)\n    : val.replace(/;/g, '\\\\;').replace(/#/g, '\\\\#')\n}\n\nfunction unsafe (val, doUnesc) {\n  val = (val || '').trim()\n  if (isQuoted(val)) {\n    // remove the single quotes before calling JSON.parse\n    if (val.charAt(0) === \"'\")\n      val = val.substr(1, val.length - 2)\n\n    try {\n      val = JSON.parse(val)\n    } catch (_) {}\n  } else {\n    // walk the val to find the first not-escaped ; character\n    var esc = false\n    var unesc = ''\n    for (var i = 0, l = val.length; i < l; i++) {\n      var c = val.charAt(i)\n      if (esc) {\n        if ('\\\\;#'.indexOf(c) !== -1)\n          unesc += c\n        else\n          unesc += '\\\\' + c\n\n        esc = false\n      } else if (';#'.indexOf(c) !== -1)\n        break\n      else if (c === '\\\\')\n        esc = true\n      else\n        unesc += c\n    }\n    if (esc)\n      unesc += '\\\\'\n\n    return unesc.trim()\n  }\n  return val\n}\n","'use strict';\nconst fs = require('fs');\n\nlet isDocker;\n\nfunction hasDockerEnv() {\n\ttry {\n\t\tfs.statSync('/.dockerenv');\n\t\treturn true;\n\t} catch (_) {\n\t\treturn false;\n\t}\n}\n\nfunction hasDockerCGroup() {\n\ttry {\n\t\treturn fs.readFileSync('/proc/self/cgroup', 'utf8').includes('docker');\n\t} catch (_) {\n\t\treturn false;\n\t}\n}\n\nmodule.exports = () => {\n\tif (isDocker === undefined) {\n\t\tisDocker = hasDockerEnv() || hasDockerCGroup();\n\t}\n\n\treturn isDocker;\n};\n","'use strict';\n\nconst denyList = new Set([\n\t'ENOTFOUND',\n\t'ENETUNREACH',\n\n\t// SSL errors from https://github.com/nodejs/node/blob/fc8e3e2cdc521978351de257030db0076d79e0ab/src/crypto/crypto_common.cc#L301-L328\n\t'UNABLE_TO_GET_ISSUER_CERT',\n\t'UNABLE_TO_GET_CRL',\n\t'UNABLE_TO_DECRYPT_CERT_SIGNATURE',\n\t'UNABLE_TO_DECRYPT_CRL_SIGNATURE',\n\t'UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY',\n\t'CERT_SIGNATURE_FAILURE',\n\t'CRL_SIGNATURE_FAILURE',\n\t'CERT_NOT_YET_VALID',\n\t'CERT_HAS_EXPIRED',\n\t'CRL_NOT_YET_VALID',\n\t'CRL_HAS_EXPIRED',\n\t'ERROR_IN_CERT_NOT_BEFORE_FIELD',\n\t'ERROR_IN_CERT_NOT_AFTER_FIELD',\n\t'ERROR_IN_CRL_LAST_UPDATE_FIELD',\n\t'ERROR_IN_CRL_NEXT_UPDATE_FIELD',\n\t'OUT_OF_MEM',\n\t'DEPTH_ZERO_SELF_SIGNED_CERT',\n\t'SELF_SIGNED_CERT_IN_CHAIN',\n\t'UNABLE_TO_GET_ISSUER_CERT_LOCALLY',\n\t'UNABLE_TO_VERIFY_LEAF_SIGNATURE',\n\t'CERT_CHAIN_TOO_LONG',\n\t'CERT_REVOKED',\n\t'INVALID_CA',\n\t'PATH_LENGTH_EXCEEDED',\n\t'INVALID_PURPOSE',\n\t'CERT_UNTRUSTED',\n\t'CERT_REJECTED',\n\t'HOSTNAME_MISMATCH'\n]);\n\n// TODO: Use `error?.code` when targeting Node.js 14\nmodule.exports = error => !denyList.has(error && error.code);\n","'use strict';\nconst os = require('os');\nconst fs = require('fs');\nconst isDocker = require('is-docker');\n\nconst isWsl = () => {\n\tif (process.platform !== 'linux') {\n\t\treturn false;\n\t}\n\n\tif (os.release().toLowerCase().includes('microsoft')) {\n\t\tif (isDocker()) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\ttry {\n\t\treturn fs.readFileSync('/proc/version', 'utf8').toLowerCase().includes('microsoft') ?\n\t\t\t!isDocker() : false;\n\t} catch (_) {\n\t\treturn false;\n\t}\n};\n\nif (process.env.__IS_WSL_TEST__) {\n\tmodule.exports = isWsl;\n} else {\n\tmodule.exports = isWsl();\n}\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n;(function() {\n\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\n  var undefined;\n\n  /** Used as the semantic version number. */\n  var VERSION = '4.17.21';\n\n  /** Used as the size to enable large array optimizations. */\n  var LARGE_ARRAY_SIZE = 200;\n\n  /** Error message constants. */\n  var CORE_ERROR_TEXT = 'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',\n      FUNC_ERROR_TEXT = 'Expected a function',\n      INVALID_TEMPL_VAR_ERROR_TEXT = 'Invalid `variable` option passed into `_.template`';\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /** Used as the internal argument placeholder. */\n  var PLACEHOLDER = '__lodash_placeholder__';\n\n  /** Used to compose bitmasks for cloning. */\n  var CLONE_DEEP_FLAG = 1,\n      CLONE_FLAT_FLAG = 2,\n      CLONE_SYMBOLS_FLAG = 4;\n\n  /** Used to compose bitmasks for value comparisons. */\n  var COMPARE_PARTIAL_FLAG = 1,\n      COMPARE_UNORDERED_FLAG = 2;\n\n  /** Used to compose bitmasks for function metadata. */\n  var WRAP_BIND_FLAG = 1,\n      WRAP_BIND_KEY_FLAG = 2,\n      WRAP_CURRY_BOUND_FLAG = 4,\n      WRAP_CURRY_FLAG = 8,\n      WRAP_CURRY_RIGHT_FLAG = 16,\n      WRAP_PARTIAL_FLAG = 32,\n      WRAP_PARTIAL_RIGHT_FLAG = 64,\n      WRAP_ARY_FLAG = 128,\n      WRAP_REARG_FLAG = 256,\n      WRAP_FLIP_FLAG = 512;\n\n  /** Used as default options for `_.truncate`. */\n  var DEFAULT_TRUNC_LENGTH = 30,\n      DEFAULT_TRUNC_OMISSION = '...';\n\n  /** Used to detect hot functions by number of calls within a span of milliseconds. */\n  var HOT_COUNT = 800,\n      HOT_SPAN = 16;\n\n  /** Used to indicate the type of lazy iteratees. */\n  var LAZY_FILTER_FLAG = 1,\n      LAZY_MAP_FLAG = 2,\n      LAZY_WHILE_FLAG = 3;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0,\n      MAX_SAFE_INTEGER = 9007199254740991,\n      MAX_INTEGER = 1.7976931348623157e+308,\n      NAN = 0 / 0;\n\n  /** Used as references for the maximum length and index of an array. */\n  var MAX_ARRAY_LENGTH = 4294967295,\n      MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\n      HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\n\n  /** Used to associate wrap methods with their bit flags. */\n  var wrapFlags = [\n    ['ary', WRAP_ARY_FLAG],\n    ['bind', WRAP_BIND_FLAG],\n    ['bindKey', WRAP_BIND_KEY_FLAG],\n    ['curry', WRAP_CURRY_FLAG],\n    ['curryRight', WRAP_CURRY_RIGHT_FLAG],\n    ['flip', WRAP_FLIP_FLAG],\n    ['partial', WRAP_PARTIAL_FLAG],\n    ['partialRight', WRAP_PARTIAL_RIGHT_FLAG],\n    ['rearg', WRAP_REARG_FLAG]\n  ];\n\n  /** `Object#toString` result references. */\n  var argsTag = '[object Arguments]',\n      arrayTag = '[object Array]',\n      asyncTag = '[object AsyncFunction]',\n      boolTag = '[object Boolean]',\n      dateTag = '[object Date]',\n      domExcTag = '[object DOMException]',\n      errorTag = '[object Error]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      mapTag = '[object Map]',\n      numberTag = '[object Number]',\n      nullTag = '[object Null]',\n      objectTag = '[object Object]',\n      promiseTag = '[object Promise]',\n      proxyTag = '[object Proxy]',\n      regexpTag = '[object RegExp]',\n      setTag = '[object Set]',\n      stringTag = '[object String]',\n      symbolTag = '[object Symbol]',\n      undefinedTag = '[object Undefined]',\n      weakMapTag = '[object WeakMap]',\n      weakSetTag = '[object WeakSet]';\n\n  var arrayBufferTag = '[object ArrayBuffer]',\n      dataViewTag = '[object DataView]',\n      float32Tag = '[object Float32Array]',\n      float64Tag = '[object Float64Array]',\n      int8Tag = '[object Int8Array]',\n      int16Tag = '[object Int16Array]',\n      int32Tag = '[object Int32Array]',\n      uint8Tag = '[object Uint8Array]',\n      uint8ClampedTag = '[object Uint8ClampedArray]',\n      uint16Tag = '[object Uint16Array]',\n      uint32Tag = '[object Uint32Array]';\n\n  /** Used to match empty string literals in compiled template source. */\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\n\n  /** Used to match HTML entities and HTML characters. */\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g,\n      reUnescapedHtml = /[&<>\"']/g,\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\n\n  /** Used to match template delimiters. */\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/,\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g,\n      reHasRegExpChar = RegExp(reRegExpChar.source);\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /** Used to match wrap detail comments. */\n  var reWrapComment = /\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,\n      reWrapDetails = /\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,\n      reSplitDetails = /,? & /;\n\n  /** Used to match words composed of alphanumeric characters. */\n  var reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n  /**\n   * Used to validate the `validate` option in `_.template` variable.\n   *\n   * Forbids characters which could potentially change the meaning of the function argument definition:\n   * - \"(),\" (modification of function parameters)\n   * - \"=\" (default value)\n   * - \"[]{}\" (destructuring of function parameters)\n   * - \"/\" (beginning of a comment)\n   * - whitespace\n   */\n  var reForbiddenIdentifierChars = /[()=,{}\\[\\]\\/\\s]/;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Used to match\n   * [ES template delimiters](http://ecma-international.org/ecma-262/7.0/#sec-template-literal-lexical-components).\n   */\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\n\n  /** Used to match `RegExp` flags from their coerced string values. */\n  var reFlags = /\\w*$/;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /** Used to match Latin Unicode letters (excluding mathematical operators). */\n  var reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n  /** Used to ensure capturing order of template delimiters. */\n  var reNoMatch = /($^)/;\n\n  /** Used to match unescaped characters in compiled string literals. */\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\n\n  /** Used to compose unicode character classes. */\n  var rsAstralRange = '\\\\ud800-\\\\udfff',\n      rsComboMarksRange = '\\\\u0300-\\\\u036f',\n      reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n      rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n      rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n      rsDingbatRange = '\\\\u2700-\\\\u27bf',\n      rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n      rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n      rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n      rsPunctuationRange = '\\\\u2000-\\\\u206f',\n      rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n      rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n      rsVarRange = '\\\\ufe0e\\\\ufe0f',\n      rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n  /** Used to compose unicode capture groups. */\n  var rsApos = \"['\\u2019]\",\n      rsAstral = '[' + rsAstralRange + ']',\n      rsBreak = '[' + rsBreakRange + ']',\n      rsCombo = '[' + rsComboRange + ']',\n      rsDigits = '\\\\d+',\n      rsDingbat = '[' + rsDingbatRange + ']',\n      rsLower = '[' + rsLowerRange + ']',\n      rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n      rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n      rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n      rsNonAstral = '[^' + rsAstralRange + ']',\n      rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n      rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n      rsUpper = '[' + rsUpperRange + ']',\n      rsZWJ = '\\\\u200d';\n\n  /** Used to compose unicode regexes. */\n  var rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n      rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n      rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n      rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n      reOptMod = rsModifier + '?',\n      rsOptVar = '[' + rsVarRange + ']?',\n      rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n      rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n      rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n      rsSeq = rsOptVar + reOptMod + rsOptJoin,\n      rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq,\n      rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n  /** Used to match apostrophes. */\n  var reApos = RegExp(rsApos, 'g');\n\n  /**\n   * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n   * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n   */\n  var reComboMark = RegExp(rsCombo, 'g');\n\n  /** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\n  var reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n  /** Used to match complex or compound words. */\n  var reUnicodeWord = RegExp([\n    rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n    rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n    rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n    rsUpper + '+' + rsOptContrUpper,\n    rsOrdUpper,\n    rsOrdLower,\n    rsDigits,\n    rsEmoji\n  ].join('|'), 'g');\n\n  /** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\n  var reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n  /** Used to detect strings that need a more robust regexp to match words. */\n  var reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n  /** Used to assign default `context` object properties. */\n  var contextProps = [\n    'Array', 'Buffer', 'DataView', 'Date', 'Error', 'Float32Array', 'Float64Array',\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Map', 'Math', 'Object',\n    'Promise', 'RegExp', 'Set', 'String', 'Symbol', 'TypeError', 'Uint8Array',\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap',\n    '_', 'clearTimeout', 'isFinite', 'parseInt', 'setTimeout'\n  ];\n\n  /** Used to make template sourceURLs easier to identify. */\n  var templateCounter = -1;\n\n  /** Used to identify `toStringTag` values of typed arrays. */\n  var typedArrayTags = {};\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\n  typedArrayTags[uint32Tag] = true;\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\n  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\n  typedArrayTags[errorTag] = typedArrayTags[funcTag] =\n  typedArrayTags[mapTag] = typedArrayTags[numberTag] =\n  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =\n  typedArrayTags[setTag] = typedArrayTags[stringTag] =\n  typedArrayTags[weakMapTag] = false;\n\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\n  var cloneableTags = {};\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\n  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\n  cloneableTags[boolTag] = cloneableTags[dateTag] =\n  cloneableTags[float32Tag] = cloneableTags[float64Tag] =\n  cloneableTags[int8Tag] = cloneableTags[int16Tag] =\n  cloneableTags[int32Tag] = cloneableTags[mapTag] =\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\n  cloneableTags[regexpTag] = cloneableTags[setTag] =\n  cloneableTags[stringTag] = cloneableTags[symbolTag] =\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\n  cloneableTags[weakMapTag] = false;\n\n  /** Used to map Latin Unicode letters to basic Latin letters. */\n  var deburredLetters = {\n    // Latin-1 Supplement block.\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n    '\\xc7': 'C',  '\\xe7': 'c',\n    '\\xd0': 'D',  '\\xf0': 'd',\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n    '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n    '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n    '\\xd1': 'N',  '\\xf1': 'n',\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n    '\\xc6': 'Ae', '\\xe6': 'ae',\n    '\\xde': 'Th', '\\xfe': 'th',\n    '\\xdf': 'ss',\n    // Latin Extended-A block.\n    '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n    '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n    '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n    '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n    '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n    '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n    '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n    '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n    '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n    '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n    '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n    '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n    '\\u0134': 'J',  '\\u0135': 'j',\n    '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n    '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n    '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n    '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n    '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n    '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n    '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n    '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n    '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n    '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n    '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n    '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n    '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n    '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n    '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n    '\\u0174': 'W',  '\\u0175': 'w',\n    '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n    '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n    '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n    '\\u0132': 'IJ', '\\u0133': 'ij',\n    '\\u0152': 'Oe', '\\u0153': 'oe',\n    '\\u0149': \"'n\", '\\u017f': 's'\n  };\n\n  /** Used to map characters to HTML entities. */\n  var htmlEscapes = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  };\n\n  /** Used to map HTML entities to characters. */\n  var htmlUnescapes = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#39;': \"'\"\n  };\n\n  /** Used to escape characters for inclusion in compiled string literals. */\n  var stringEscapes = {\n    '\\\\': '\\\\',\n    \"'\": \"'\",\n    '\\n': 'n',\n    '\\r': 'r',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseFloat = parseFloat,\n      freeParseInt = parseInt;\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = freeGlobal || freeSelf || Function('return this')();\n\n  /** Detect free variable `exports`. */\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n  /** Detect free variable `module`. */\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n  /** Detect the popular CommonJS extension `module.exports`. */\n  var moduleExports = freeModule && freeModule.exports === freeExports;\n\n  /** Detect free variable `process` from Node.js. */\n  var freeProcess = moduleExports && freeGlobal.process;\n\n  /** Used to access faster Node.js helpers. */\n  var nodeUtil = (function() {\n    try {\n      // Use `util.types` for Node.js 10+.\n      var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n      if (types) {\n        return types;\n      }\n\n      // Legacy `process.binding('util')` for Node.js < 10.\n      return freeProcess && freeProcess.binding && freeProcess.binding('util');\n    } catch (e) {}\n  }());\n\n  /* Node.js helper references. */\n  var nodeIsArrayBuffer = nodeUtil && nodeUtil.isArrayBuffer,\n      nodeIsDate = nodeUtil && nodeUtil.isDate,\n      nodeIsMap = nodeUtil && nodeUtil.isMap,\n      nodeIsRegExp = nodeUtil && nodeUtil.isRegExp,\n      nodeIsSet = nodeUtil && nodeUtil.isSet,\n      nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * A faster alternative to `Function#apply`, this function invokes `func`\n   * with the `this` binding of `thisArg` and the arguments of `args`.\n   *\n   * @private\n   * @param {Function} func The function to invoke.\n   * @param {*} thisArg The `this` binding of `func`.\n   * @param {Array} args The arguments to invoke `func` with.\n   * @returns {*} Returns the result of `func`.\n   */\n  function apply(func, thisArg, args) {\n    switch (args.length) {\n      case 0: return func.call(thisArg);\n      case 1: return func.call(thisArg, args[0]);\n      case 2: return func.call(thisArg, args[0], args[1]);\n      case 3: return func.call(thisArg, args[0], args[1], args[2]);\n    }\n    return func.apply(thisArg, args);\n  }\n\n  /**\n   * A specialized version of `baseAggregator` for arrays.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} setter The function to set `accumulator` values.\n   * @param {Function} iteratee The iteratee to transform keys.\n   * @param {Object} accumulator The initial aggregated object.\n   * @returns {Function} Returns `accumulator`.\n   */\n  function arrayAggregator(array, setter, iteratee, accumulator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      var value = array[index];\n      setter(accumulator, value, iteratee(value), array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.forEach` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEach(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (iteratee(array[index], index, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.forEachRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayEachRight(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n\n    while (length--) {\n      if (iteratee(array[length], length, array) === false) {\n        break;\n      }\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.every` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if all elements pass the predicate check,\n   *  else `false`.\n   */\n  function arrayEvery(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (!predicate(array[index], index, array)) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  /**\n   * A specialized version of `_.filter` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {Array} Returns the new filtered array.\n   */\n  function arrayFilter(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (predicate(value, index, array)) {\n        result[resIndex++] = value;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.includes` for arrays without support for\n   * specifying an index to search from.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludes(array, value) {\n    var length = array == null ? 0 : array.length;\n    return !!length && baseIndexOf(array, value, 0) > -1;\n  }\n\n  /**\n   * This function is like `arrayIncludes` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} [array] The array to inspect.\n   * @param {*} target The value to search for.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {boolean} Returns `true` if `target` is found, else `false`.\n   */\n  function arrayIncludesWith(array, value, comparator) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (comparator(value, array[index])) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  /**\n   * Appends the elements of `values` to `array`.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {Array} values The values to append.\n   * @returns {Array} Returns `array`.\n   */\n  function arrayPush(array, values) {\n    var index = -1,\n        length = values.length,\n        offset = array.length;\n\n    while (++index < length) {\n      array[offset + index] = values[index];\n    }\n    return array;\n  }\n\n  /**\n   * A specialized version of `_.reduce` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the first element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduce(array, iteratee, accumulator, initAccum) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    if (initAccum && length) {\n      accumulator = array[++index];\n    }\n    while (++index < length) {\n      accumulator = iteratee(accumulator, array[index], index, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.reduceRight` for arrays without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} [accumulator] The initial value.\n   * @param {boolean} [initAccum] Specify using the last element of `array` as\n   *  the initial value.\n   * @returns {*} Returns the accumulated value.\n   */\n  function arrayReduceRight(array, iteratee, accumulator, initAccum) {\n    var length = array == null ? 0 : array.length;\n    if (initAccum && length) {\n      accumulator = array[--length];\n    }\n    while (length--) {\n      accumulator = iteratee(accumulator, array[length], length, array);\n    }\n    return accumulator;\n  }\n\n  /**\n   * A specialized version of `_.some` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} predicate The function invoked per iteration.\n   * @returns {boolean} Returns `true` if any element passes the predicate check,\n   *  else `false`.\n   */\n  function arraySome(array, predicate) {\n    var index = -1,\n        length = array == null ? 0 : array.length;\n\n    while (++index < length) {\n      if (predicate(array[index], index, array)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * Gets the size of an ASCII `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  var asciiSize = baseProperty('length');\n\n  /**\n   * Converts an ASCII `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function asciiToArray(string) {\n    return string.split('');\n  }\n\n  /**\n   * Splits an ASCII `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function asciiWords(string) {\n    return string.match(reAsciiWord) || [];\n  }\n\n  /**\n   * The base implementation of methods like `_.findKey` and `_.findLastKey`,\n   * without support for iteratee shorthands, which iterates over `collection`\n   * using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the found element or its key, else `undefined`.\n   */\n  function baseFindKey(collection, predicate, eachFunc) {\n    var result;\n    eachFunc(collection, function(value, key, collection) {\n      if (predicate(value, key, collection)) {\n        result = key;\n        return false;\n      }\n    });\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\n   * support for iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {Function} predicate The function invoked per iteration.\n   * @param {number} fromIndex The index to search from.\n   * @param {boolean} [fromRight] Specify iterating from right to left.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseFindIndex(array, predicate, fromIndex, fromRight) {\n    var length = array.length,\n        index = fromIndex + (fromRight ? 1 : -1);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (predicate(array[index], index, array)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOf(array, value, fromIndex) {\n    return value === value\n      ? strictIndexOf(array, value, fromIndex)\n      : baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n\n  /**\n   * This function is like `baseIndexOf` except that it accepts a comparator.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @param {Function} comparator The comparator invoked per element.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function baseIndexOfWith(array, value, fromIndex, comparator) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (comparator(array[index], value)) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * The base implementation of `_.isNaN` without support for number objects.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n   */\n  function baseIsNaN(value) {\n    return value !== value;\n  }\n\n  /**\n   * The base implementation of `_.mean` and `_.meanBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the mean.\n   */\n  function baseMean(array, iteratee) {\n    var length = array == null ? 0 : array.length;\n    return length ? (baseSum(array, iteratee) / length) : NAN;\n  }\n\n  /**\n   * The base implementation of `_.property` without support for deep paths.\n   *\n   * @private\n   * @param {string} key The key of the property to get.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function baseProperty(key) {\n    return function(object) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.propertyOf` without support for deep paths.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @returns {Function} Returns the new accessor function.\n   */\n  function basePropertyOf(object) {\n    return function(key) {\n      return object == null ? undefined : object[key];\n    };\n  }\n\n  /**\n   * The base implementation of `_.reduce` and `_.reduceRight`, without support\n   * for iteratee shorthands, which iterates over `collection` using `eachFunc`.\n   *\n   * @private\n   * @param {Array|Object} collection The collection to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @param {*} accumulator The initial value.\n   * @param {boolean} initAccum Specify using the first or last element of\n   *  `collection` as the initial value.\n   * @param {Function} eachFunc The function to iterate over `collection`.\n   * @returns {*} Returns the accumulated value.\n   */\n  function baseReduce(collection, iteratee, accumulator, initAccum, eachFunc) {\n    eachFunc(collection, function(value, index, collection) {\n      accumulator = initAccum\n        ? (initAccum = false, value)\n        : iteratee(accumulator, value, index, collection);\n    });\n    return accumulator;\n  }\n\n  /**\n   * The base implementation of `_.sortBy` which uses `comparer` to define the\n   * sort order of `array` and replaces criteria objects with their corresponding\n   * values.\n   *\n   * @private\n   * @param {Array} array The array to sort.\n   * @param {Function} comparer The function to define sort order.\n   * @returns {Array} Returns `array`.\n   */\n  function baseSortBy(array, comparer) {\n    var length = array.length;\n\n    array.sort(comparer);\n    while (length--) {\n      array[length] = array[length].value;\n    }\n    return array;\n  }\n\n  /**\n   * The base implementation of `_.sum` and `_.sumBy` without support for\n   * iteratee shorthands.\n   *\n   * @private\n   * @param {Array} array The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {number} Returns the sum.\n   */\n  function baseSum(array, iteratee) {\n    var result,\n        index = -1,\n        length = array.length;\n\n    while (++index < length) {\n      var current = iteratee(array[index]);\n      if (current !== undefined) {\n        result = result === undefined ? current : (result + current);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.times` without support for iteratee shorthands\n   * or max array length checks.\n   *\n   * @private\n   * @param {number} n The number of times to invoke `iteratee`.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the array of results.\n   */\n  function baseTimes(n, iteratee) {\n    var index = -1,\n        result = Array(n);\n\n    while (++index < n) {\n      result[index] = iteratee(index);\n    }\n    return result;\n  }\n\n  /**\n   * The base implementation of `_.toPairs` and `_.toPairsIn` which creates an array\n   * of key-value pairs for `object` corresponding to the property names of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the key-value pairs.\n   */\n  function baseToPairs(object, props) {\n    return arrayMap(props, function(key) {\n      return [key, object[key]];\n    });\n  }\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  /**\n   * The base implementation of `_.unary` without support for storing metadata.\n   *\n   * @private\n   * @param {Function} func The function to cap arguments for.\n   * @returns {Function} Returns the new capped function.\n   */\n  function baseUnary(func) {\n    return function(value) {\n      return func(value);\n    };\n  }\n\n  /**\n   * The base implementation of `_.values` and `_.valuesIn` which creates an\n   * array of `object` property values corresponding to the property names\n   * of `props`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array} props The property names to get values for.\n   * @returns {Object} Returns the array of property values.\n   */\n  function baseValues(object, props) {\n    return arrayMap(props, function(key) {\n      return object[key];\n    });\n  }\n\n  /**\n   * Checks if a `cache` value for `key` exists.\n   *\n   * @private\n   * @param {Object} cache The cache to query.\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function cacheHas(cache, key) {\n    return cache.has(key);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimStart` to get the index of the first string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the first unmatched string symbol.\n   */\n  function charsStartIndex(strSymbols, chrSymbols) {\n    var index = -1,\n        length = strSymbols.length;\n\n    while (++index < length && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last string symbol\n   * that is not found in the character symbols.\n   *\n   * @private\n   * @param {Array} strSymbols The string symbols to inspect.\n   * @param {Array} chrSymbols The character symbols to find.\n   * @returns {number} Returns the index of the last unmatched string symbol.\n   */\n  function charsEndIndex(strSymbols, chrSymbols) {\n    var index = strSymbols.length;\n\n    while (index-- && baseIndexOf(chrSymbols, strSymbols[index], 0) > -1) {}\n    return index;\n  }\n\n  /**\n   * Gets the number of `placeholder` occurrences in `array`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} placeholder The placeholder to search for.\n   * @returns {number} Returns the placeholder count.\n   */\n  function countHolders(array, placeholder) {\n    var length = array.length,\n        result = 0;\n\n    while (length--) {\n      if (array[length] === placeholder) {\n        ++result;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n   * letters to basic Latin letters.\n   *\n   * @private\n   * @param {string} letter The matched letter to deburr.\n   * @returns {string} Returns the deburred letter.\n   */\n  var deburrLetter = basePropertyOf(deburredLetters);\n\n  /**\n   * Used by `_.escape` to convert characters to HTML entities.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  var escapeHtmlChar = basePropertyOf(htmlEscapes);\n\n  /**\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\n   *\n   * @private\n   * @param {string} chr The matched character to escape.\n   * @returns {string} Returns the escaped character.\n   */\n  function escapeStringChar(chr) {\n    return '\\\\' + stringEscapes[chr];\n  }\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  /**\n   * Checks if `string` contains Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n   */\n  function hasUnicode(string) {\n    return reHasUnicode.test(string);\n  }\n\n  /**\n   * Checks if `string` contains a word composed of Unicode symbols.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {boolean} Returns `true` if a word is found, else `false`.\n   */\n  function hasUnicodeWord(string) {\n    return reHasUnicodeWord.test(string);\n  }\n\n  /**\n   * Converts `iterator` to an array.\n   *\n   * @private\n   * @param {Object} iterator The iterator to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function iteratorToArray(iterator) {\n    var data,\n        result = [];\n\n    while (!(data = iterator.next()).done) {\n      result.push(data.value);\n    }\n    return result;\n  }\n\n  /**\n   * Converts `map` to its key-value pairs.\n   *\n   * @private\n   * @param {Object} map The map to convert.\n   * @returns {Array} Returns the key-value pairs.\n   */\n  function mapToArray(map) {\n    var index = -1,\n        result = Array(map.size);\n\n    map.forEach(function(value, key) {\n      result[++index] = [key, value];\n    });\n    return result;\n  }\n\n  /**\n   * Creates a unary function that invokes `func` with its argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function(arg) {\n      return func(transform(arg));\n    };\n  }\n\n  /**\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\n   * and returns an array of their indexes.\n   *\n   * @private\n   * @param {Array} array The array to modify.\n   * @param {*} placeholder The placeholder to replace.\n   * @returns {Array} Returns the new array of placeholder indexes.\n   */\n  function replaceHolders(array, placeholder) {\n    var index = -1,\n        length = array.length,\n        resIndex = 0,\n        result = [];\n\n    while (++index < length) {\n      var value = array[index];\n      if (value === placeholder || value === PLACEHOLDER) {\n        array[index] = PLACEHOLDER;\n        result[resIndex++] = index;\n      }\n    }\n    return result;\n  }\n\n  /**\n   * Converts `set` to an array of its values.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the values.\n   */\n  function setToArray(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = value;\n    });\n    return result;\n  }\n\n  /**\n   * Converts `set` to its value-value pairs.\n   *\n   * @private\n   * @param {Object} set The set to convert.\n   * @returns {Array} Returns the value-value pairs.\n   */\n  function setToPairs(set) {\n    var index = -1,\n        result = Array(set.size);\n\n    set.forEach(function(value) {\n      result[++index] = [value, value];\n    });\n    return result;\n  }\n\n  /**\n   * A specialized version of `_.indexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictIndexOf(array, value, fromIndex) {\n    var index = fromIndex - 1,\n        length = array.length;\n\n    while (++index < length) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return -1;\n  }\n\n  /**\n   * A specialized version of `_.lastIndexOf` which performs strict equality\n   * comparisons of values, i.e. `===`.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} value The value to search for.\n   * @param {number} fromIndex The index to search from.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function strictLastIndexOf(array, value, fromIndex) {\n    var index = fromIndex + 1;\n    while (index--) {\n      if (array[index] === value) {\n        return index;\n      }\n    }\n    return index;\n  }\n\n  /**\n   * Gets the number of symbols in `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the string size.\n   */\n  function stringSize(string) {\n    return hasUnicode(string)\n      ? unicodeSize(string)\n      : asciiSize(string);\n  }\n\n  /**\n   * Converts `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function stringToArray(string) {\n    return hasUnicode(string)\n      ? unicodeToArray(string)\n      : asciiToArray(string);\n  }\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  /**\n   * Used by `_.unescape` to convert HTML entities to characters.\n   *\n   * @private\n   * @param {string} chr The matched character to unescape.\n   * @returns {string} Returns the unescaped character.\n   */\n  var unescapeHtmlChar = basePropertyOf(htmlUnescapes);\n\n  /**\n   * Gets the size of a Unicode `string`.\n   *\n   * @private\n   * @param {string} string The string inspect.\n   * @returns {number} Returns the string size.\n   */\n  function unicodeSize(string) {\n    var result = reUnicode.lastIndex = 0;\n    while (reUnicode.test(string)) {\n      ++result;\n    }\n    return result;\n  }\n\n  /**\n   * Converts a Unicode `string` to an array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the converted array.\n   */\n  function unicodeToArray(string) {\n    return string.match(reUnicode) || [];\n  }\n\n  /**\n   * Splits a Unicode `string` into an array of its words.\n   *\n   * @private\n   * @param {string} The string to inspect.\n   * @returns {Array} Returns the words of `string`.\n   */\n  function unicodeWords(string) {\n    return string.match(reUnicodeWord) || [];\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Create a new pristine `lodash` function using the `context` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 1.1.0\n   * @category Util\n   * @param {Object} [context=root] The context object.\n   * @returns {Function} Returns a new `lodash` function.\n   * @example\n   *\n   * _.mixin({ 'foo': _.constant('foo') });\n   *\n   * var lodash = _.runInContext();\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\n   *\n   * _.isFunction(_.foo);\n   * // => true\n   * _.isFunction(_.bar);\n   * // => false\n   *\n   * lodash.isFunction(lodash.foo);\n   * // => false\n   * lodash.isFunction(lodash.bar);\n   * // => true\n   *\n   * // Create a suped-up `defer` in Node.js.\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\n   */\n  var runInContext = (function runInContext(context) {\n    context = context == null ? root : _.defaults(root.Object(), context, _.pick(root, contextProps));\n\n    /** Built-in constructor references. */\n    var Array = context.Array,\n        Date = context.Date,\n        Error = context.Error,\n        Function = context.Function,\n        Math = context.Math,\n        Object = context.Object,\n        RegExp = context.RegExp,\n        String = context.String,\n        TypeError = context.TypeError;\n\n    /** Used for built-in method references. */\n    var arrayProto = Array.prototype,\n        funcProto = Function.prototype,\n        objectProto = Object.prototype;\n\n    /** Used to detect overreaching core-js shims. */\n    var coreJsData = context['__core-js_shared__'];\n\n    /** Used to resolve the decompiled source of functions. */\n    var funcToString = funcProto.toString;\n\n    /** Used to check objects for own properties. */\n    var hasOwnProperty = objectProto.hasOwnProperty;\n\n    /** Used to generate unique IDs. */\n    var idCounter = 0;\n\n    /** Used to detect methods masquerading as native. */\n    var maskSrcKey = (function() {\n      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n      return uid ? ('Symbol(src)_1.' + uid) : '';\n    }());\n\n    /**\n     * Used to resolve the\n     * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n     * of values.\n     */\n    var nativeObjectToString = objectProto.toString;\n\n    /** Used to infer the `Object` constructor. */\n    var objectCtorString = funcToString.call(Object);\n\n    /** Used to restore the original `_` reference in `_.noConflict`. */\n    var oldDash = root._;\n\n    /** Used to detect if a method is native. */\n    var reIsNative = RegExp('^' +\n      funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n    );\n\n    /** Built-in value references. */\n    var Buffer = moduleExports ? context.Buffer : undefined,\n        Symbol = context.Symbol,\n        Uint8Array = context.Uint8Array,\n        allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,\n        getPrototype = overArg(Object.getPrototypeOf, Object),\n        objectCreate = Object.create,\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\n        splice = arrayProto.splice,\n        spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined,\n        symIterator = Symbol ? Symbol.iterator : undefined,\n        symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n    var defineProperty = (function() {\n      try {\n        var func = getNative(Object, 'defineProperty');\n        func({}, '', {});\n        return func;\n      } catch (e) {}\n    }());\n\n    /** Mocked built-ins. */\n    var ctxClearTimeout = context.clearTimeout !== root.clearTimeout && context.clearTimeout,\n        ctxNow = Date && Date.now !== root.Date.now && Date.now,\n        ctxSetTimeout = context.setTimeout !== root.setTimeout && context.setTimeout;\n\n    /* Built-in method references for those with the same name as other `lodash` methods. */\n    var nativeCeil = Math.ceil,\n        nativeFloor = Math.floor,\n        nativeGetSymbols = Object.getOwnPropertySymbols,\n        nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n        nativeIsFinite = context.isFinite,\n        nativeJoin = arrayProto.join,\n        nativeKeys = overArg(Object.keys, Object),\n        nativeMax = Math.max,\n        nativeMin = Math.min,\n        nativeNow = Date.now,\n        nativeParseInt = context.parseInt,\n        nativeRandom = Math.random,\n        nativeReverse = arrayProto.reverse;\n\n    /* Built-in method references that are verified to be native. */\n    var DataView = getNative(context, 'DataView'),\n        Map = getNative(context, 'Map'),\n        Promise = getNative(context, 'Promise'),\n        Set = getNative(context, 'Set'),\n        WeakMap = getNative(context, 'WeakMap'),\n        nativeCreate = getNative(Object, 'create');\n\n    /** Used to store function metadata. */\n    var metaMap = WeakMap && new WeakMap;\n\n    /** Used to lookup unminified function names. */\n    var realNames = {};\n\n    /** Used to detect maps, sets, and weakmaps. */\n    var dataViewCtorString = toSource(DataView),\n        mapCtorString = toSource(Map),\n        promiseCtorString = toSource(Promise),\n        setCtorString = toSource(Set),\n        weakMapCtorString = toSource(WeakMap);\n\n    /** Used to convert symbols to primitives and strings. */\n    var symbolProto = Symbol ? Symbol.prototype : undefined,\n        symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,\n        symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` object which wraps `value` to enable implicit method\n     * chain sequences. Methods that operate on and return arrays, collections,\n     * and functions can be chained together. Methods that retrieve a single value\n     * or may return a primitive value will automatically end the chain sequence\n     * and return the unwrapped value. Otherwise, the value must be unwrapped\n     * with `_#value`.\n     *\n     * Explicit chain sequences, which must be unwrapped with `_#value`, may be\n     * enabled using `_.chain`.\n     *\n     * The execution of chained methods is lazy, that is, it's deferred until\n     * `_#value` is implicitly or explicitly called.\n     *\n     * Lazy evaluation allows several methods to support shortcut fusion.\n     * Shortcut fusion is an optimization to merge iteratee calls; this avoids\n     * the creation of intermediate arrays and can greatly reduce the number of\n     * iteratee executions. Sections of a chain sequence qualify for shortcut\n     * fusion if the section is applied to an array and iteratees accept only\n     * one argument. The heuristic for whether a section qualifies for shortcut\n     * fusion is subject to change.\n     *\n     * Chaining is supported in custom builds as long as the `_#value` method is\n     * directly or indirectly included in the build.\n     *\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\n     *\n     * The wrapper `Array` methods are:\n     * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`\n     *\n     * The wrapper `String` methods are:\n     * `replace` and `split`\n     *\n     * The wrapper methods that support shortcut fusion are:\n     * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,\n     * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,\n     * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`\n     *\n     * The chainable wrapper methods are:\n     * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,\n     * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,\n     * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,\n     * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,\n     * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,\n     * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,\n     * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,\n     * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,\n     * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,\n     * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,\n     * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,\n     * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,\n     * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,\n     * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,\n     * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,\n     * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,\n     * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,\n     * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,\n     * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,\n     * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,\n     * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,\n     * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,\n     * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,\n     * `zipObject`, `zipObjectDeep`, and `zipWith`\n     *\n     * The wrapper methods that are **not** chainable by default are:\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,\n     * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,\n     * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,\n     * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,\n     * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,\n     * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,\n     * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,\n     * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,\n     * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,\n     * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,\n     * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,\n     * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,\n     * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,\n     * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,\n     * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,\n     * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,\n     * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,\n     * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,\n     * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,\n     * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,\n     * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,\n     * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,\n     * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,\n     * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,\n     * `upperFirst`, `value`, and `words`\n     *\n     * @name _\n     * @constructor\n     * @category Seq\n     * @param {*} value The value to wrap in a `lodash` instance.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2, 3]);\n     *\n     * // Returns an unwrapped value.\n     * wrapped.reduce(_.add);\n     * // => 6\n     *\n     * // Returns a wrapped value.\n     * var squares = wrapped.map(square);\n     *\n     * _.isArray(squares);\n     * // => false\n     *\n     * _.isArray(squares.value());\n     * // => true\n     */\n    function lodash(value) {\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\n        if (value instanceof LodashWrapper) {\n          return value;\n        }\n        if (hasOwnProperty.call(value, '__wrapped__')) {\n          return wrapperClone(value);\n        }\n      }\n      return new LodashWrapper(value);\n    }\n\n    /**\n     * The base implementation of `_.create` without support for assigning\n     * properties to the created object.\n     *\n     * @private\n     * @param {Object} proto The object to inherit from.\n     * @returns {Object} Returns the new object.\n     */\n    var baseCreate = (function() {\n      function object() {}\n      return function(proto) {\n        if (!isObject(proto)) {\n          return {};\n        }\n        if (objectCreate) {\n          return objectCreate(proto);\n        }\n        object.prototype = proto;\n        var result = new object;\n        object.prototype = undefined;\n        return result;\n      };\n    }());\n\n    /**\n     * The function whose prototype chain sequence wrappers inherit from.\n     *\n     * @private\n     */\n    function baseLodash() {\n      // No operation performed.\n    }\n\n    /**\n     * The base constructor for creating `lodash` wrapper objects.\n     *\n     * @private\n     * @param {*} value The value to wrap.\n     * @param {boolean} [chainAll] Enable explicit method chain sequences.\n     */\n    function LodashWrapper(value, chainAll) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__chain__ = !!chainAll;\n      this.__index__ = 0;\n      this.__values__ = undefined;\n    }\n\n    /**\n     * By default, the template delimiters used by lodash are like those in\n     * embedded Ruby (ERB) as well as ES2015 template strings. Change the\n     * following template settings to use alternative delimiters.\n     *\n     * @static\n     * @memberOf _\n     * @type {Object}\n     */\n    lodash.templateSettings = {\n\n      /**\n       * Used to detect `data` property values to be HTML-escaped.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'escape': reEscape,\n\n      /**\n       * Used to detect code to be evaluated.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'evaluate': reEvaluate,\n\n      /**\n       * Used to detect `data` property values to inject.\n       *\n       * @memberOf _.templateSettings\n       * @type {RegExp}\n       */\n      'interpolate': reInterpolate,\n\n      /**\n       * Used to reference the data object in the template text.\n       *\n       * @memberOf _.templateSettings\n       * @type {string}\n       */\n      'variable': '',\n\n      /**\n       * Used to import variables into the compiled template.\n       *\n       * @memberOf _.templateSettings\n       * @type {Object}\n       */\n      'imports': {\n\n        /**\n         * A reference to the `lodash` function.\n         *\n         * @memberOf _.templateSettings.imports\n         * @type {Function}\n         */\n        '_': lodash\n      }\n    };\n\n    // Ensure wrappers are instances of `baseLodash`.\n    lodash.prototype = baseLodash.prototype;\n    lodash.prototype.constructor = lodash;\n\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\n    LodashWrapper.prototype.constructor = LodashWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\n     *\n     * @private\n     * @constructor\n     * @param {*} value The value to wrap.\n     */\n    function LazyWrapper(value) {\n      this.__wrapped__ = value;\n      this.__actions__ = [];\n      this.__dir__ = 1;\n      this.__filtered__ = false;\n      this.__iteratees__ = [];\n      this.__takeCount__ = MAX_ARRAY_LENGTH;\n      this.__views__ = [];\n    }\n\n    /**\n     * Creates a clone of the lazy wrapper object.\n     *\n     * @private\n     * @name clone\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\n     */\n    function lazyClone() {\n      var result = new LazyWrapper(this.__wrapped__);\n      result.__actions__ = copyArray(this.__actions__);\n      result.__dir__ = this.__dir__;\n      result.__filtered__ = this.__filtered__;\n      result.__iteratees__ = copyArray(this.__iteratees__);\n      result.__takeCount__ = this.__takeCount__;\n      result.__views__ = copyArray(this.__views__);\n      return result;\n    }\n\n    /**\n     * Reverses the direction of lazy iteration.\n     *\n     * @private\n     * @name reverse\n     * @memberOf LazyWrapper\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\n     */\n    function lazyReverse() {\n      if (this.__filtered__) {\n        var result = new LazyWrapper(this);\n        result.__dir__ = -1;\n        result.__filtered__ = true;\n      } else {\n        result = this.clone();\n        result.__dir__ *= -1;\n      }\n      return result;\n    }\n\n    /**\n     * Extracts the unwrapped value from its lazy wrapper.\n     *\n     * @private\n     * @name value\n     * @memberOf LazyWrapper\n     * @returns {*} Returns the unwrapped value.\n     */\n    function lazyValue() {\n      var array = this.__wrapped__.value(),\n          dir = this.__dir__,\n          isArr = isArray(array),\n          isRight = dir < 0,\n          arrLength = isArr ? array.length : 0,\n          view = getView(0, arrLength, this.__views__),\n          start = view.start,\n          end = view.end,\n          length = end - start,\n          index = isRight ? end : (start - 1),\n          iteratees = this.__iteratees__,\n          iterLength = iteratees.length,\n          resIndex = 0,\n          takeCount = nativeMin(length, this.__takeCount__);\n\n      if (!isArr || (!isRight && arrLength == length && takeCount == length)) {\n        return baseWrapperValue(array, this.__actions__);\n      }\n      var result = [];\n\n      outer:\n      while (length-- && resIndex < takeCount) {\n        index += dir;\n\n        var iterIndex = -1,\n            value = array[index];\n\n        while (++iterIndex < iterLength) {\n          var data = iteratees[iterIndex],\n              iteratee = data.iteratee,\n              type = data.type,\n              computed = iteratee(value);\n\n          if (type == LAZY_MAP_FLAG) {\n            value = computed;\n          } else if (!computed) {\n            if (type == LAZY_FILTER_FLAG) {\n              continue outer;\n            } else {\n              break outer;\n            }\n          }\n        }\n        result[resIndex++] = value;\n      }\n      return result;\n    }\n\n    // Ensure `LazyWrapper` is an instance of `baseLodash`.\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\n    LazyWrapper.prototype.constructor = LazyWrapper;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a hash object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Hash(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the hash.\n     *\n     * @private\n     * @name clear\n     * @memberOf Hash\n     */\n    function hashClear() {\n      this.__data__ = nativeCreate ? nativeCreate(null) : {};\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the hash.\n     *\n     * @private\n     * @name delete\n     * @memberOf Hash\n     * @param {Object} hash The hash to modify.\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function hashDelete(key) {\n      var result = this.has(key) && delete this.__data__[key];\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the hash value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Hash\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function hashGet(key) {\n      var data = this.__data__;\n      if (nativeCreate) {\n        var result = data[key];\n        return result === HASH_UNDEFINED ? undefined : result;\n      }\n      return hasOwnProperty.call(data, key) ? data[key] : undefined;\n    }\n\n    /**\n     * Checks if a hash value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Hash\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function hashHas(key) {\n      var data = this.__data__;\n      return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n    }\n\n    /**\n     * Sets the hash `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Hash\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the hash instance.\n     */\n    function hashSet(key, value) {\n      var data = this.__data__;\n      this.size += this.has(key) ? 0 : 1;\n      data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n      return this;\n    }\n\n    // Add methods to `Hash`.\n    Hash.prototype.clear = hashClear;\n    Hash.prototype['delete'] = hashDelete;\n    Hash.prototype.get = hashGet;\n    Hash.prototype.has = hashHas;\n    Hash.prototype.set = hashSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an list cache object.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function ListCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the list cache.\n     *\n     * @private\n     * @name clear\n     * @memberOf ListCache\n     */\n    function listCacheClear() {\n      this.__data__ = [];\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the list cache.\n     *\n     * @private\n     * @name delete\n     * @memberOf ListCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function listCacheDelete(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        return false;\n      }\n      var lastIndex = data.length - 1;\n      if (index == lastIndex) {\n        data.pop();\n      } else {\n        splice.call(data, index, 1);\n      }\n      --this.size;\n      return true;\n    }\n\n    /**\n     * Gets the list cache value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf ListCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function listCacheGet(key) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      return index < 0 ? undefined : data[index][1];\n    }\n\n    /**\n     * Checks if a list cache value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf ListCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function listCacheHas(key) {\n      return assocIndexOf(this.__data__, key) > -1;\n    }\n\n    /**\n     * Sets the list cache `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf ListCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the list cache instance.\n     */\n    function listCacheSet(key, value) {\n      var data = this.__data__,\n          index = assocIndexOf(data, key);\n\n      if (index < 0) {\n        ++this.size;\n        data.push([key, value]);\n      } else {\n        data[index][1] = value;\n      }\n      return this;\n    }\n\n    // Add methods to `ListCache`.\n    ListCache.prototype.clear = listCacheClear;\n    ListCache.prototype['delete'] = listCacheDelete;\n    ListCache.prototype.get = listCacheGet;\n    ListCache.prototype.has = listCacheHas;\n    ListCache.prototype.set = listCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a map cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function MapCache(entries) {\n      var index = -1,\n          length = entries == null ? 0 : entries.length;\n\n      this.clear();\n      while (++index < length) {\n        var entry = entries[index];\n        this.set(entry[0], entry[1]);\n      }\n    }\n\n    /**\n     * Removes all key-value entries from the map.\n     *\n     * @private\n     * @name clear\n     * @memberOf MapCache\n     */\n    function mapCacheClear() {\n      this.size = 0;\n      this.__data__ = {\n        'hash': new Hash,\n        'map': new (Map || ListCache),\n        'string': new Hash\n      };\n    }\n\n    /**\n     * Removes `key` and its value from the map.\n     *\n     * @private\n     * @name delete\n     * @memberOf MapCache\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function mapCacheDelete(key) {\n      var result = getMapData(this, key)['delete'](key);\n      this.size -= result ? 1 : 0;\n      return result;\n    }\n\n    /**\n     * Gets the map value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf MapCache\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function mapCacheGet(key) {\n      return getMapData(this, key).get(key);\n    }\n\n    /**\n     * Checks if a map value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf MapCache\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function mapCacheHas(key) {\n      return getMapData(this, key).has(key);\n    }\n\n    /**\n     * Sets the map `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf MapCache\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the map cache instance.\n     */\n    function mapCacheSet(key, value) {\n      var data = getMapData(this, key),\n          size = data.size;\n\n      data.set(key, value);\n      this.size += data.size == size ? 0 : 1;\n      return this;\n    }\n\n    // Add methods to `MapCache`.\n    MapCache.prototype.clear = mapCacheClear;\n    MapCache.prototype['delete'] = mapCacheDelete;\n    MapCache.prototype.get = mapCacheGet;\n    MapCache.prototype.has = mapCacheHas;\n    MapCache.prototype.set = mapCacheSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     *\n     * Creates an array cache object to store unique values.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [values] The values to cache.\n     */\n    function SetCache(values) {\n      var index = -1,\n          length = values == null ? 0 : values.length;\n\n      this.__data__ = new MapCache;\n      while (++index < length) {\n        this.add(values[index]);\n      }\n    }\n\n    /**\n     * Adds `value` to the array cache.\n     *\n     * @private\n     * @name add\n     * @memberOf SetCache\n     * @alias push\n     * @param {*} value The value to cache.\n     * @returns {Object} Returns the cache instance.\n     */\n    function setCacheAdd(value) {\n      this.__data__.set(value, HASH_UNDEFINED);\n      return this;\n    }\n\n    /**\n     * Checks if `value` is in the array cache.\n     *\n     * @private\n     * @name has\n     * @memberOf SetCache\n     * @param {*} value The value to search for.\n     * @returns {number} Returns `true` if `value` is found, else `false`.\n     */\n    function setCacheHas(value) {\n      return this.__data__.has(value);\n    }\n\n    // Add methods to `SetCache`.\n    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\n    SetCache.prototype.has = setCacheHas;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a stack cache object to store key-value pairs.\n     *\n     * @private\n     * @constructor\n     * @param {Array} [entries] The key-value pairs to cache.\n     */\n    function Stack(entries) {\n      var data = this.__data__ = new ListCache(entries);\n      this.size = data.size;\n    }\n\n    /**\n     * Removes all key-value entries from the stack.\n     *\n     * @private\n     * @name clear\n     * @memberOf Stack\n     */\n    function stackClear() {\n      this.__data__ = new ListCache;\n      this.size = 0;\n    }\n\n    /**\n     * Removes `key` and its value from the stack.\n     *\n     * @private\n     * @name delete\n     * @memberOf Stack\n     * @param {string} key The key of the value to remove.\n     * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n     */\n    function stackDelete(key) {\n      var data = this.__data__,\n          result = data['delete'](key);\n\n      this.size = data.size;\n      return result;\n    }\n\n    /**\n     * Gets the stack value for `key`.\n     *\n     * @private\n     * @name get\n     * @memberOf Stack\n     * @param {string} key The key of the value to get.\n     * @returns {*} Returns the entry value.\n     */\n    function stackGet(key) {\n      return this.__data__.get(key);\n    }\n\n    /**\n     * Checks if a stack value for `key` exists.\n     *\n     * @private\n     * @name has\n     * @memberOf Stack\n     * @param {string} key The key of the entry to check.\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n     */\n    function stackHas(key) {\n      return this.__data__.has(key);\n    }\n\n    /**\n     * Sets the stack `key` to `value`.\n     *\n     * @private\n     * @name set\n     * @memberOf Stack\n     * @param {string} key The key of the value to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns the stack cache instance.\n     */\n    function stackSet(key, value) {\n      var data = this.__data__;\n      if (data instanceof ListCache) {\n        var pairs = data.__data__;\n        if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n          pairs.push([key, value]);\n          this.size = ++data.size;\n          return this;\n        }\n        data = this.__data__ = new MapCache(pairs);\n      }\n      data.set(key, value);\n      this.size = data.size;\n      return this;\n    }\n\n    // Add methods to `Stack`.\n    Stack.prototype.clear = stackClear;\n    Stack.prototype['delete'] = stackDelete;\n    Stack.prototype.get = stackGet;\n    Stack.prototype.has = stackHas;\n    Stack.prototype.set = stackSet;\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of the enumerable property names of the array-like `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @param {boolean} inherited Specify returning inherited property names.\n     * @returns {Array} Returns the array of property names.\n     */\n    function arrayLikeKeys(value, inherited) {\n      var isArr = isArray(value),\n          isArg = !isArr && isArguments(value),\n          isBuff = !isArr && !isArg && isBuffer(value),\n          isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n          skipIndexes = isArr || isArg || isBuff || isType,\n          result = skipIndexes ? baseTimes(value.length, String) : [],\n          length = result.length;\n\n      for (var key in value) {\n        if ((inherited || hasOwnProperty.call(value, key)) &&\n            !(skipIndexes && (\n               // Safari 9 has enumerable `arguments.length` in strict mode.\n               key == 'length' ||\n               // Node.js 0.10 has enumerable non-index properties on buffers.\n               (isBuff && (key == 'offset' || key == 'parent')) ||\n               // PhantomJS 2 has enumerable non-index properties on typed arrays.\n               (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n               // Skip index properties.\n               isIndex(key, length)\n            ))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `_.sample` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @returns {*} Returns the random element.\n     */\n    function arraySample(array) {\n      var length = array.length;\n      return length ? array[baseRandom(0, length - 1)] : undefined;\n    }\n\n    /**\n     * A specialized version of `_.sampleSize` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function arraySampleSize(array, n) {\n      return shuffleSelf(copyArray(array), baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * A specialized version of `_.shuffle` for arrays.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function arrayShuffle(array) {\n      return shuffleSelf(copyArray(array));\n    }\n\n    /**\n     * This function is like `assignValue` except that it doesn't assign\n     * `undefined` values.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignMergeValue(object, key, value) {\n      if ((value !== undefined && !eq(object[key], value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Assigns `value` to `key` of `object` if the existing value is not equivalent\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function assignValue(object, key, value) {\n      var objValue = object[key];\n      if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n          (value === undefined && !(key in object))) {\n        baseAssignValue(object, key, value);\n      }\n    }\n\n    /**\n     * Gets the index at which the `key` is found in `array` of key-value pairs.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {*} key The key to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     */\n    function assocIndexOf(array, key) {\n      var length = array.length;\n      while (length--) {\n        if (eq(array[length][0], key)) {\n          return length;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * Aggregates elements of `collection` on `accumulator` with keys transformed\n     * by `iteratee` and values set by `setter`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform keys.\n     * @param {Object} accumulator The initial aggregated object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseAggregator(collection, setter, iteratee, accumulator) {\n      baseEach(collection, function(value, key, collection) {\n        setter(accumulator, value, iteratee(value), collection);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.assign` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssign(object, source) {\n      return object && copyObject(source, keys(source), object);\n    }\n\n    /**\n     * The base implementation of `_.assignIn` without support for multiple sources\n     * or `customizer` functions.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @returns {Object} Returns `object`.\n     */\n    function baseAssignIn(object, source) {\n      return object && copyObject(source, keysIn(source), object);\n    }\n\n    /**\n     * The base implementation of `assignValue` and `assignMergeValue` without\n     * value checks.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {string} key The key of the property to assign.\n     * @param {*} value The value to assign.\n     */\n    function baseAssignValue(object, key, value) {\n      if (key == '__proto__' && defineProperty) {\n        defineProperty(object, key, {\n          'configurable': true,\n          'enumerable': true,\n          'value': value,\n          'writable': true\n        });\n      } else {\n        object[key] = value;\n      }\n    }\n\n    /**\n     * The base implementation of `_.at` without support for individual paths.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Array} Returns the picked elements.\n     */\n    function baseAt(object, paths) {\n      var index = -1,\n          length = paths.length,\n          result = Array(length),\n          skip = object == null;\n\n      while (++index < length) {\n        result[index] = skip ? undefined : get(object, paths[index]);\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.clamp` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     */\n    function baseClamp(number, lower, upper) {\n      if (number === number) {\n        if (upper !== undefined) {\n          number = number <= upper ? number : upper;\n        }\n        if (lower !== undefined) {\n          number = number >= lower ? number : lower;\n        }\n      }\n      return number;\n    }\n\n    /**\n     * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n     * traversed objects.\n     *\n     * @private\n     * @param {*} value The value to clone.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Deep clone\n     *  2 - Flatten inherited properties\n     *  4 - Clone symbols\n     * @param {Function} [customizer] The function to customize cloning.\n     * @param {string} [key] The key of `value`.\n     * @param {Object} [object] The parent object of `value`.\n     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n     * @returns {*} Returns the cloned value.\n     */\n    function baseClone(value, bitmask, customizer, key, object, stack) {\n      var result,\n          isDeep = bitmask & CLONE_DEEP_FLAG,\n          isFlat = bitmask & CLONE_FLAT_FLAG,\n          isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n      if (customizer) {\n        result = object ? customizer(value, key, object, stack) : customizer(value);\n      }\n      if (result !== undefined) {\n        return result;\n      }\n      if (!isObject(value)) {\n        return value;\n      }\n      var isArr = isArray(value);\n      if (isArr) {\n        result = initCloneArray(value);\n        if (!isDeep) {\n          return copyArray(value, result);\n        }\n      } else {\n        var tag = getTag(value),\n            isFunc = tag == funcTag || tag == genTag;\n\n        if (isBuffer(value)) {\n          return cloneBuffer(value, isDeep);\n        }\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n          result = (isFlat || isFunc) ? {} : initCloneObject(value);\n          if (!isDeep) {\n            return isFlat\n              ? copySymbolsIn(value, baseAssignIn(result, value))\n              : copySymbols(value, baseAssign(result, value));\n          }\n        } else {\n          if (!cloneableTags[tag]) {\n            return object ? value : {};\n          }\n          result = initCloneByTag(value, tag, isDeep);\n        }\n      }\n      // Check for circular references and return its corresponding clone.\n      stack || (stack = new Stack);\n      var stacked = stack.get(value);\n      if (stacked) {\n        return stacked;\n      }\n      stack.set(value, result);\n\n      if (isSet(value)) {\n        value.forEach(function(subValue) {\n          result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n        });\n      } else if (isMap(value)) {\n        value.forEach(function(subValue, key) {\n          result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n        });\n      }\n\n      var keysFunc = isFull\n        ? (isFlat ? getAllKeysIn : getAllKeys)\n        : (isFlat ? keysIn : keys);\n\n      var props = isArr ? undefined : keysFunc(value);\n      arrayEach(props || value, function(subValue, key) {\n        if (props) {\n          key = subValue;\n          subValue = value[key];\n        }\n        // Recursively populate clone (susceptible to call stack limits).\n        assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.conforms` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseConforms(source) {\n      var props = keys(source);\n      return function(object) {\n        return baseConformsTo(object, source, props);\n      };\n    }\n\n    /**\n     * The base implementation of `_.conformsTo` which accepts `props` to check.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     */\n    function baseConformsTo(object, source, props) {\n      var length = props.length;\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (length--) {\n        var key = props[length],\n            predicate = source[key],\n            value = object[key];\n\n        if ((value === undefined && !(key in object)) || !predicate(value)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.delay` and `_.defer` which accepts `args`\n     * to provide to `func`.\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {Array} args The arguments to provide to `func`.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    function baseDelay(func, wait, args) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\n    }\n\n    /**\n     * The base implementation of methods like `_.difference` without support\n     * for excluding multiple arrays or iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Array} values The values to exclude.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     */\n    function baseDifference(array, values, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          isCommon = true,\n          length = array.length,\n          result = [],\n          valuesLength = values.length;\n\n      if (!length) {\n        return result;\n      }\n      if (iteratee) {\n        values = arrayMap(values, baseUnary(iteratee));\n      }\n      if (comparator) {\n        includes = arrayIncludesWith;\n        isCommon = false;\n      }\n      else if (values.length >= LARGE_ARRAY_SIZE) {\n        includes = cacheHas;\n        isCommon = false;\n        values = new SetCache(values);\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee == null ? value : iteratee(value);\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var valuesIndex = valuesLength;\n          while (valuesIndex--) {\n            if (values[valuesIndex] === computed) {\n              continue outer;\n            }\n          }\n          result.push(value);\n        }\n        else if (!includes(values, computed, comparator)) {\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.forEach` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEach = createBaseEach(baseForOwn);\n\n    /**\n     * The base implementation of `_.forEachRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     */\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\n\n    /**\n     * The base implementation of `_.every` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`\n     */\n    function baseEvery(collection, predicate) {\n      var result = true;\n      baseEach(collection, function(value, index, collection) {\n        result = !!predicate(value, index, collection);\n        return result;\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of methods like `_.max` and `_.min` which accepts a\n     * `comparator` to determine the extremum value.\n     *\n     * @private\n     * @param {Array} array The array to iterate over.\n     * @param {Function} iteratee The iteratee invoked per iteration.\n     * @param {Function} comparator The comparator used to compare values.\n     * @returns {*} Returns the extremum value.\n     */\n    function baseExtremum(array, iteratee, comparator) {\n      var index = -1,\n          length = array.length;\n\n      while (++index < length) {\n        var value = array[index],\n            current = iteratee(value);\n\n        if (current != null && (computed === undefined\n              ? (current === current && !isSymbol(current))\n              : comparator(current, computed)\n            )) {\n          var computed = current,\n              result = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.fill` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     */\n    function baseFill(array, value, start, end) {\n      var length = array.length;\n\n      start = toInteger(start);\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = (end === undefined || end > length) ? length : toInteger(end);\n      if (end < 0) {\n        end += length;\n      }\n      end = start > end ? 0 : toLength(end);\n      while (start < end) {\n        array[start++] = value;\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.filter` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     */\n    function baseFilter(collection, predicate) {\n      var result = [];\n      baseEach(collection, function(value, index, collection) {\n        if (predicate(value, index, collection)) {\n          result.push(value);\n        }\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.flatten` with support for restricting flattening.\n     *\n     * @private\n     * @param {Array} array The array to flatten.\n     * @param {number} depth The maximum recursion depth.\n     * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n     * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n     * @param {Array} [result=[]] The initial result value.\n     * @returns {Array} Returns the new flattened array.\n     */\n    function baseFlatten(array, depth, predicate, isStrict, result) {\n      var index = -1,\n          length = array.length;\n\n      predicate || (predicate = isFlattenable);\n      result || (result = []);\n\n      while (++index < length) {\n        var value = array[index];\n        if (depth > 0 && predicate(value)) {\n          if (depth > 1) {\n            // Recursively flatten arrays (susceptible to call stack limits).\n            baseFlatten(value, depth - 1, predicate, isStrict, result);\n          } else {\n            arrayPush(result, value);\n          }\n        } else if (!isStrict) {\n          result[result.length] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `baseForOwn` which iterates over `object`\n     * properties returned by `keysFunc` and invokes `iteratee` for each property.\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseFor = createBaseFor();\n\n    /**\n     * This function is like `baseFor` except that it iterates over properties\n     * in the opposite order.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @returns {Object} Returns `object`.\n     */\n    var baseForRight = createBaseFor(true);\n\n    /**\n     * The base implementation of `_.forOwn` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwn(object, iteratee) {\n      return object && baseFor(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.forOwnRight` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     */\n    function baseForOwnRight(object, iteratee) {\n      return object && baseForRight(object, iteratee, keys);\n    }\n\n    /**\n     * The base implementation of `_.functions` which creates an array of\n     * `object` function property names filtered from `props`.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Array} props The property names to filter.\n     * @returns {Array} Returns the function names.\n     */\n    function baseFunctions(object, props) {\n      return arrayFilter(props, function(key) {\n        return isFunction(object[key]);\n      });\n    }\n\n    /**\n     * The base implementation of `_.get` without support for default values.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseGet(object, path) {\n      path = castPath(path, object);\n\n      var index = 0,\n          length = path.length;\n\n      while (object != null && index < length) {\n        object = object[toKey(path[index++])];\n      }\n      return (index && index == length) ? object : undefined;\n    }\n\n    /**\n     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n     * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Function} keysFunc The function to get the keys of `object`.\n     * @param {Function} symbolsFunc The function to get the symbols of `object`.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function baseGetAllKeys(object, keysFunc, symbolsFunc) {\n      var result = keysFunc(object);\n      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n    }\n\n    /**\n     * The base implementation of `getTag` without fallbacks for buggy environments.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    function baseGetTag(value) {\n      if (value == null) {\n        return value === undefined ? undefinedTag : nullTag;\n      }\n      return (symToStringTag && symToStringTag in Object(value))\n        ? getRawTag(value)\n        : objectToString(value);\n    }\n\n    /**\n     * The base implementation of `_.gt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     */\n    function baseGt(value, other) {\n      return value > other;\n    }\n\n    /**\n     * The base implementation of `_.has` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHas(object, key) {\n      return object != null && hasOwnProperty.call(object, key);\n    }\n\n    /**\n     * The base implementation of `_.hasIn` without support for deep paths.\n     *\n     * @private\n     * @param {Object} [object] The object to query.\n     * @param {Array|string} key The key to check.\n     * @returns {boolean} Returns `true` if `key` exists, else `false`.\n     */\n    function baseHasIn(object, key) {\n      return object != null && key in Object(object);\n    }\n\n    /**\n     * The base implementation of `_.inRange` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {number} number The number to check.\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     */\n    function baseInRange(number, start, end) {\n      return number >= nativeMin(start, end) && number < nativeMax(start, end);\n    }\n\n    /**\n     * The base implementation of methods like `_.intersection`, without support\n     * for iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of shared values.\n     */\n    function baseIntersection(arrays, iteratee, comparator) {\n      var includes = comparator ? arrayIncludesWith : arrayIncludes,\n          length = arrays[0].length,\n          othLength = arrays.length,\n          othIndex = othLength,\n          caches = Array(othLength),\n          maxLength = Infinity,\n          result = [];\n\n      while (othIndex--) {\n        var array = arrays[othIndex];\n        if (othIndex && iteratee) {\n          array = arrayMap(array, baseUnary(iteratee));\n        }\n        maxLength = nativeMin(array.length, maxLength);\n        caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n          ? new SetCache(othIndex && array)\n          : undefined;\n      }\n      array = arrays[0];\n\n      var index = -1,\n          seen = caches[0];\n\n      outer:\n      while (++index < length && result.length < maxLength) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (!(seen\n              ? cacheHas(seen, computed)\n              : includes(result, computed, comparator)\n            )) {\n          othIndex = othLength;\n          while (--othIndex) {\n            var cache = caches[othIndex];\n            if (!(cache\n                  ? cacheHas(cache, computed)\n                  : includes(arrays[othIndex], computed, comparator))\n                ) {\n              continue outer;\n            }\n          }\n          if (seen) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.invert` and `_.invertBy` which inverts\n     * `object` with values transformed by `iteratee` and set by `setter`.\n     *\n     * @private\n     * @param {Object} object The object to iterate over.\n     * @param {Function} setter The function to set `accumulator` values.\n     * @param {Function} iteratee The iteratee to transform values.\n     * @param {Object} accumulator The initial inverted object.\n     * @returns {Function} Returns `accumulator`.\n     */\n    function baseInverter(object, setter, iteratee, accumulator) {\n      baseForOwn(object, function(value, key, object) {\n        setter(accumulator, iteratee(value), key, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * The base implementation of `_.invoke` without support for individual\n     * method arguments.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {Array} args The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     */\n    function baseInvoke(object, path, args) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      var func = object == null ? object : object[toKey(last(path))];\n      return func == null ? undefined : apply(func, object, args);\n    }\n\n    /**\n     * The base implementation of `_.isArguments`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     */\n    function baseIsArguments(value) {\n      return isObjectLike(value) && baseGetTag(value) == argsTag;\n    }\n\n    /**\n     * The base implementation of `_.isArrayBuffer` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     */\n    function baseIsArrayBuffer(value) {\n      return isObjectLike(value) && baseGetTag(value) == arrayBufferTag;\n    }\n\n    /**\n     * The base implementation of `_.isDate` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     */\n    function baseIsDate(value) {\n      return isObjectLike(value) && baseGetTag(value) == dateTag;\n    }\n\n    /**\n     * The base implementation of `_.isEqual` which supports partial comparisons\n     * and tracks traversed objects.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {boolean} bitmask The bitmask flags.\n     *  1 - Unordered comparison\n     *  2 - Partial comparison\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     */\n    function baseIsEqual(value, other, bitmask, customizer, stack) {\n      if (value === other) {\n        return true;\n      }\n      if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n        return value !== value && other !== other;\n      }\n      return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n    }\n\n    /**\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\n     * deep comparisons and tracks traversed objects enabling objects with circular\n     * references to be compared.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n      var objIsArr = isArray(object),\n          othIsArr = isArray(other),\n          objTag = objIsArr ? arrayTag : getTag(object),\n          othTag = othIsArr ? arrayTag : getTag(other);\n\n      objTag = objTag == argsTag ? objectTag : objTag;\n      othTag = othTag == argsTag ? objectTag : othTag;\n\n      var objIsObj = objTag == objectTag,\n          othIsObj = othTag == objectTag,\n          isSameTag = objTag == othTag;\n\n      if (isSameTag && isBuffer(object)) {\n        if (!isBuffer(other)) {\n          return false;\n        }\n        objIsArr = true;\n        objIsObj = false;\n      }\n      if (isSameTag && !objIsObj) {\n        stack || (stack = new Stack);\n        return (objIsArr || isTypedArray(object))\n          ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n          : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n      }\n      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n        if (objIsWrapped || othIsWrapped) {\n          var objUnwrapped = objIsWrapped ? object.value() : object,\n              othUnwrapped = othIsWrapped ? other.value() : other;\n\n          stack || (stack = new Stack);\n          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n        }\n      }\n      if (!isSameTag) {\n        return false;\n      }\n      stack || (stack = new Stack);\n      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n    }\n\n    /**\n     * The base implementation of `_.isMap` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     */\n    function baseIsMap(value) {\n      return isObjectLike(value) && getTag(value) == mapTag;\n    }\n\n    /**\n     * The base implementation of `_.isMatch` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Array} matchData The property names, values, and compare flags to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     */\n    function baseIsMatch(object, source, matchData, customizer) {\n      var index = matchData.length,\n          length = index,\n          noCustomizer = !customizer;\n\n      if (object == null) {\n        return !length;\n      }\n      object = Object(object);\n      while (index--) {\n        var data = matchData[index];\n        if ((noCustomizer && data[2])\n              ? data[1] !== object[data[0]]\n              : !(data[0] in object)\n            ) {\n          return false;\n        }\n      }\n      while (++index < length) {\n        data = matchData[index];\n        var key = data[0],\n            objValue = object[key],\n            srcValue = data[1];\n\n        if (noCustomizer && data[2]) {\n          if (objValue === undefined && !(key in object)) {\n            return false;\n          }\n        } else {\n          var stack = new Stack;\n          if (customizer) {\n            var result = customizer(objValue, srcValue, key, object, source, stack);\n          }\n          if (!(result === undefined\n                ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n                : result\n              )) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n\n    /**\n     * The base implementation of `_.isNative` without bad shim checks.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     */\n    function baseIsNative(value) {\n      if (!isObject(value) || isMasked(value)) {\n        return false;\n      }\n      var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n      return pattern.test(toSource(value));\n    }\n\n    /**\n     * The base implementation of `_.isRegExp` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     */\n    function baseIsRegExp(value) {\n      return isObjectLike(value) && baseGetTag(value) == regexpTag;\n    }\n\n    /**\n     * The base implementation of `_.isSet` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     */\n    function baseIsSet(value) {\n      return isObjectLike(value) && getTag(value) == setTag;\n    }\n\n    /**\n     * The base implementation of `_.isTypedArray` without Node.js optimizations.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     */\n    function baseIsTypedArray(value) {\n      return isObjectLike(value) &&\n        isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n    }\n\n    /**\n     * The base implementation of `_.iteratee`.\n     *\n     * @private\n     * @param {*} [value=_.identity] The value to convert to an iteratee.\n     * @returns {Function} Returns the iteratee.\n     */\n    function baseIteratee(value) {\n      // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n      // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n      if (typeof value == 'function') {\n        return value;\n      }\n      if (value == null) {\n        return identity;\n      }\n      if (typeof value == 'object') {\n        return isArray(value)\n          ? baseMatchesProperty(value[0], value[1])\n          : baseMatches(value);\n      }\n      return property(value);\n    }\n\n    /**\n     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeys(object) {\n      if (!isPrototype(object)) {\n        return nativeKeys(object);\n      }\n      var result = [];\n      for (var key in Object(object)) {\n        if (hasOwnProperty.call(object, key) && key != 'constructor') {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function baseKeysIn(object) {\n      if (!isObject(object)) {\n        return nativeKeysIn(object);\n      }\n      var isProto = isPrototype(object),\n          result = [];\n\n      for (var key in object) {\n        if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.lt` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     */\n    function baseLt(value, other) {\n      return value < other;\n    }\n\n    /**\n     * The base implementation of `_.map` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} iteratee The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     */\n    function baseMap(collection, iteratee) {\n      var index = -1,\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value, key, collection) {\n        result[++index] = iteratee(value, key, collection);\n      });\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.matches` which doesn't clone `source`.\n     *\n     * @private\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatches(source) {\n      var matchData = getMatchData(source);\n      if (matchData.length == 1 && matchData[0][2]) {\n        return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n      }\n      return function(object) {\n        return object === source || baseIsMatch(object, source, matchData);\n      };\n    }\n\n    /**\n     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n     *\n     * @private\n     * @param {string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function baseMatchesProperty(path, srcValue) {\n      if (isKey(path) && isStrictComparable(srcValue)) {\n        return matchesStrictComparable(toKey(path), srcValue);\n      }\n      return function(object) {\n        var objValue = get(object, path);\n        return (objValue === undefined && objValue === srcValue)\n          ? hasIn(object, path)\n          : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n      };\n    }\n\n    /**\n     * The base implementation of `_.merge` without support for multiple sources.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} [customizer] The function to customize merged values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMerge(object, source, srcIndex, customizer, stack) {\n      if (object === source) {\n        return;\n      }\n      baseFor(source, function(srcValue, key) {\n        stack || (stack = new Stack);\n        if (isObject(srcValue)) {\n          baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n        }\n        else {\n          var newValue = customizer\n            ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n            : undefined;\n\n          if (newValue === undefined) {\n            newValue = srcValue;\n          }\n          assignMergeValue(object, key, newValue);\n        }\n      }, keysIn);\n    }\n\n    /**\n     * A specialized version of `baseMerge` for arrays and objects which performs\n     * deep merges and tracks traversed objects enabling objects with circular\n     * references to be merged.\n     *\n     * @private\n     * @param {Object} object The destination object.\n     * @param {Object} source The source object.\n     * @param {string} key The key of the value to merge.\n     * @param {number} srcIndex The index of `source`.\n     * @param {Function} mergeFunc The function to merge values.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     */\n    function baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n      var objValue = safeGet(object, key),\n          srcValue = safeGet(source, key),\n          stacked = stack.get(srcValue);\n\n      if (stacked) {\n        assignMergeValue(object, key, stacked);\n        return;\n      }\n      var newValue = customizer\n        ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      var isCommon = newValue === undefined;\n\n      if (isCommon) {\n        var isArr = isArray(srcValue),\n            isBuff = !isArr && isBuffer(srcValue),\n            isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n        newValue = srcValue;\n        if (isArr || isBuff || isTyped) {\n          if (isArray(objValue)) {\n            newValue = objValue;\n          }\n          else if (isArrayLikeObject(objValue)) {\n            newValue = copyArray(objValue);\n          }\n          else if (isBuff) {\n            isCommon = false;\n            newValue = cloneBuffer(srcValue, true);\n          }\n          else if (isTyped) {\n            isCommon = false;\n            newValue = cloneTypedArray(srcValue, true);\n          }\n          else {\n            newValue = [];\n          }\n        }\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n          newValue = objValue;\n          if (isArguments(objValue)) {\n            newValue = toPlainObject(objValue);\n          }\n          else if (!isObject(objValue) || isFunction(objValue)) {\n            newValue = initCloneObject(srcValue);\n          }\n        }\n        else {\n          isCommon = false;\n        }\n      }\n      if (isCommon) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, newValue);\n        mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n        stack['delete'](srcValue);\n      }\n      assignMergeValue(object, key, newValue);\n    }\n\n    /**\n     * The base implementation of `_.nth` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {number} n The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     */\n    function baseNth(array, n) {\n      var length = array.length;\n      if (!length) {\n        return;\n      }\n      n += n < 0 ? length : 0;\n      return isIndex(n, length) ? array[n] : undefined;\n    }\n\n    /**\n     * The base implementation of `_.orderBy` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\n     * @param {string[]} orders The sort orders of `iteratees`.\n     * @returns {Array} Returns the new sorted array.\n     */\n    function baseOrderBy(collection, iteratees, orders) {\n      if (iteratees.length) {\n        iteratees = arrayMap(iteratees, function(iteratee) {\n          if (isArray(iteratee)) {\n            return function(value) {\n              return baseGet(value, iteratee.length === 1 ? iteratee[0] : iteratee);\n            }\n          }\n          return iteratee;\n        });\n      } else {\n        iteratees = [identity];\n      }\n\n      var index = -1;\n      iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n\n      var result = baseMap(collection, function(value, key, collection) {\n        var criteria = arrayMap(iteratees, function(iteratee) {\n          return iteratee(value);\n        });\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\n      });\n\n      return baseSortBy(result, function(object, other) {\n        return compareMultiple(object, other, orders);\n      });\n    }\n\n    /**\n     * The base implementation of `_.pick` without support for individual\n     * property identifiers.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @returns {Object} Returns the new object.\n     */\n    function basePick(object, paths) {\n      return basePickBy(object, paths, function(value, path) {\n        return hasIn(object, path);\n      });\n    }\n\n    /**\n     * The base implementation of  `_.pickBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Object} object The source object.\n     * @param {string[]} paths The property paths to pick.\n     * @param {Function} predicate The function invoked per property.\n     * @returns {Object} Returns the new object.\n     */\n    function basePickBy(object, paths, predicate) {\n      var index = -1,\n          length = paths.length,\n          result = {};\n\n      while (++index < length) {\n        var path = paths[index],\n            value = baseGet(object, path);\n\n        if (predicate(value, path)) {\n          baseSet(result, castPath(path, object), value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseProperty` which supports deep paths.\n     *\n     * @private\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     */\n    function basePropertyDeep(path) {\n      return function(object) {\n        return baseGet(object, path);\n      };\n    }\n\n    /**\n     * The base implementation of `_.pullAllBy` without support for iteratee\n     * shorthands.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAll(array, values, iteratee, comparator) {\n      var indexOf = comparator ? baseIndexOfWith : baseIndexOf,\n          index = -1,\n          length = values.length,\n          seen = array;\n\n      if (array === values) {\n        values = copyArray(values);\n      }\n      if (iteratee) {\n        seen = arrayMap(array, baseUnary(iteratee));\n      }\n      while (++index < length) {\n        var fromIndex = 0,\n            value = values[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        while ((fromIndex = indexOf(seen, computed, fromIndex, comparator)) > -1) {\n          if (seen !== array) {\n            splice.call(seen, fromIndex, 1);\n          }\n          splice.call(array, fromIndex, 1);\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.pullAt` without support for individual\n     * indexes or capturing the removed elements.\n     *\n     * @private\n     * @param {Array} array The array to modify.\n     * @param {number[]} indexes The indexes of elements to remove.\n     * @returns {Array} Returns `array`.\n     */\n    function basePullAt(array, indexes) {\n      var length = array ? indexes.length : 0,\n          lastIndex = length - 1;\n\n      while (length--) {\n        var index = indexes[length];\n        if (length == lastIndex || index !== previous) {\n          var previous = index;\n          if (isIndex(index)) {\n            splice.call(array, index, 1);\n          } else {\n            baseUnset(array, index);\n          }\n        }\n      }\n      return array;\n    }\n\n    /**\n     * The base implementation of `_.random` without support for returning\n     * floating-point numbers.\n     *\n     * @private\n     * @param {number} lower The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the random number.\n     */\n    function baseRandom(lower, upper) {\n      return lower + nativeFloor(nativeRandom() * (upper - lower + 1));\n    }\n\n    /**\n     * The base implementation of `_.range` and `_.rangeRight` which doesn't\n     * coerce arguments.\n     *\n     * @private\n     * @param {number} start The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} step The value to increment or decrement by.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the range of numbers.\n     */\n    function baseRange(start, end, step, fromRight) {\n      var index = -1,\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\n          result = Array(length);\n\n      while (length--) {\n        result[fromRight ? length : ++index] = start;\n        start += step;\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.repeat` which doesn't coerce arguments.\n     *\n     * @private\n     * @param {string} string The string to repeat.\n     * @param {number} n The number of times to repeat the string.\n     * @returns {string} Returns the repeated string.\n     */\n    function baseRepeat(string, n) {\n      var result = '';\n      if (!string || n < 1 || n > MAX_SAFE_INTEGER) {\n        return result;\n      }\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\n      do {\n        if (n % 2) {\n          result += string;\n        }\n        n = nativeFloor(n / 2);\n        if (n) {\n          string += string;\n        }\n      } while (n);\n\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     */\n    function baseRest(func, start) {\n      return setToString(overRest(func, start, identity), func + '');\n    }\n\n    /**\n     * The base implementation of `_.sample`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     */\n    function baseSample(collection) {\n      return arraySample(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.sampleSize` without param guards.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} n The number of elements to sample.\n     * @returns {Array} Returns the random elements.\n     */\n    function baseSampleSize(collection, n) {\n      var array = values(collection);\n      return shuffleSelf(array, baseClamp(n, 0, array.length));\n    }\n\n    /**\n     * The base implementation of `_.set`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseSet(object, path, value, customizer) {\n      if (!isObject(object)) {\n        return object;\n      }\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          lastIndex = length - 1,\n          nested = object;\n\n      while (nested != null && ++index < length) {\n        var key = toKey(path[index]),\n            newValue = value;\n\n        if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n          return object;\n        }\n\n        if (index != lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = isObject(objValue)\n              ? objValue\n              : (isIndex(path[index + 1]) ? [] : {});\n          }\n        }\n        assignValue(nested, key, newValue);\n        nested = nested[key];\n      }\n      return object;\n    }\n\n    /**\n     * The base implementation of `setData` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetData = !metaMap ? identity : function(func, data) {\n      metaMap.set(func, data);\n      return func;\n    };\n\n    /**\n     * The base implementation of `setToString` without support for hot loop shorting.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var baseSetToString = !defineProperty ? identity : function(func, string) {\n      return defineProperty(func, 'toString', {\n        'configurable': true,\n        'enumerable': false,\n        'value': constant(string),\n        'writable': true\n      });\n    };\n\n    /**\n     * The base implementation of `_.shuffle`.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     */\n    function baseShuffle(collection) {\n      return shuffleSelf(values(collection));\n    }\n\n    /**\n     * The base implementation of `_.slice` without an iteratee call guard.\n     *\n     * @private\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseSlice(array, start, end) {\n      var index = -1,\n          length = array.length;\n\n      if (start < 0) {\n        start = -start > length ? 0 : (length + start);\n      }\n      end = end > length ? length : end;\n      if (end < 0) {\n        end += length;\n      }\n      length = start > end ? 0 : ((end - start) >>> 0);\n      start >>>= 0;\n\n      var result = Array(length);\n      while (++index < length) {\n        result[index] = array[index + start];\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.some` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} predicate The function invoked per iteration.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     */\n    function baseSome(collection, predicate) {\n      var result;\n\n      baseEach(collection, function(value, index, collection) {\n        result = predicate(value, index, collection);\n        return !result;\n      });\n      return !!result;\n    }\n\n    /**\n     * The base implementation of `_.sortedIndex` and `_.sortedLastIndex` which\n     * performs a binary search of `array` to determine the index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndex(array, value, retHighest) {\n      var low = 0,\n          high = array == null ? low : array.length;\n\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\n        while (low < high) {\n          var mid = (low + high) >>> 1,\n              computed = array[mid];\n\n          if (computed !== null && !isSymbol(computed) &&\n              (retHighest ? (computed <= value) : (computed < value))) {\n            low = mid + 1;\n          } else {\n            high = mid;\n          }\n        }\n        return high;\n      }\n      return baseSortedIndexBy(array, value, identity, retHighest);\n    }\n\n    /**\n     * The base implementation of `_.sortedIndexBy` and `_.sortedLastIndexBy`\n     * which invokes `iteratee` for `value` and each element of `array` to compute\n     * their sort ranking. The iteratee is invoked with one argument; (value).\n     *\n     * @private\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} iteratee The iteratee invoked per element.\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     */\n    function baseSortedIndexBy(array, value, iteratee, retHighest) {\n      var low = 0,\n          high = array == null ? 0 : array.length;\n      if (high === 0) {\n        return 0;\n      }\n\n      value = iteratee(value);\n      var valIsNaN = value !== value,\n          valIsNull = value === null,\n          valIsSymbol = isSymbol(value),\n          valIsUndefined = value === undefined;\n\n      while (low < high) {\n        var mid = nativeFloor((low + high) / 2),\n            computed = iteratee(array[mid]),\n            othIsDefined = computed !== undefined,\n            othIsNull = computed === null,\n            othIsReflexive = computed === computed,\n            othIsSymbol = isSymbol(computed);\n\n        if (valIsNaN) {\n          var setLow = retHighest || othIsReflexive;\n        } else if (valIsUndefined) {\n          setLow = othIsReflexive && (retHighest || othIsDefined);\n        } else if (valIsNull) {\n          setLow = othIsReflexive && othIsDefined && (retHighest || !othIsNull);\n        } else if (valIsSymbol) {\n          setLow = othIsReflexive && othIsDefined && !othIsNull && (retHighest || !othIsSymbol);\n        } else if (othIsNull || othIsSymbol) {\n          setLow = false;\n        } else {\n          setLow = retHighest ? (computed <= value) : (computed < value);\n        }\n        if (setLow) {\n          low = mid + 1;\n        } else {\n          high = mid;\n        }\n      }\n      return nativeMin(high, MAX_ARRAY_INDEX);\n    }\n\n    /**\n     * The base implementation of `_.sortedUniq` and `_.sortedUniqBy` without\n     * support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseSortedUniq(array, iteratee) {\n      var index = -1,\n          length = array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        if (!index || !eq(computed, seen)) {\n          var seen = computed;\n          result[resIndex++] = value === 0 ? 0 : value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.toNumber` which doesn't ensure correct\n     * conversions of binary, hexadecimal, or octal string values.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     */\n    function baseToNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      return +value;\n    }\n\n    /**\n     * The base implementation of `_.toString` which doesn't convert nullish\n     * values to empty strings.\n     *\n     * @private\n     * @param {*} value The value to process.\n     * @returns {string} Returns the string.\n     */\n    function baseToString(value) {\n      // Exit early for strings to avoid a performance hit in some environments.\n      if (typeof value == 'string') {\n        return value;\n      }\n      if (isArray(value)) {\n        // Recursively convert values (susceptible to call stack limits).\n        return arrayMap(value, baseToString) + '';\n      }\n      if (isSymbol(value)) {\n        return symbolToString ? symbolToString.call(value) : '';\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     */\n    function baseUniq(array, iteratee, comparator) {\n      var index = -1,\n          includes = arrayIncludes,\n          length = array.length,\n          isCommon = true,\n          result = [],\n          seen = result;\n\n      if (comparator) {\n        isCommon = false;\n        includes = arrayIncludesWith;\n      }\n      else if (length >= LARGE_ARRAY_SIZE) {\n        var set = iteratee ? null : createSet(array);\n        if (set) {\n          return setToArray(set);\n        }\n        isCommon = false;\n        includes = cacheHas;\n        seen = new SetCache;\n      }\n      else {\n        seen = iteratee ? [] : result;\n      }\n      outer:\n      while (++index < length) {\n        var value = array[index],\n            computed = iteratee ? iteratee(value) : value;\n\n        value = (comparator || value !== 0) ? value : 0;\n        if (isCommon && computed === computed) {\n          var seenIndex = seen.length;\n          while (seenIndex--) {\n            if (seen[seenIndex] === computed) {\n              continue outer;\n            }\n          }\n          if (iteratee) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n        else if (!includes(seen, computed, comparator)) {\n          if (seen !== result) {\n            seen.push(computed);\n          }\n          result.push(value);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * The base implementation of `_.unset`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The property path to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     */\n    function baseUnset(object, path) {\n      path = castPath(path, object);\n      object = parent(object, path);\n      return object == null || delete object[toKey(last(path))];\n    }\n\n    /**\n     * The base implementation of `_.update`.\n     *\n     * @private\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to update.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize path creation.\n     * @returns {Object} Returns `object`.\n     */\n    function baseUpdate(object, path, updater, customizer) {\n      return baseSet(object, path, updater(baseGet(object, path)), customizer);\n    }\n\n    /**\n     * The base implementation of methods like `_.dropWhile` and `_.takeWhile`\n     * without support for iteratee shorthands.\n     *\n     * @private\n     * @param {Array} array The array to query.\n     * @param {Function} predicate The function invoked per iteration.\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function baseWhile(array, predicate, isDrop, fromRight) {\n      var length = array.length,\n          index = fromRight ? length : -1;\n\n      while ((fromRight ? index-- : ++index < length) &&\n        predicate(array[index], index, array)) {}\n\n      return isDrop\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\n    }\n\n    /**\n     * The base implementation of `wrapperValue` which returns the result of\n     * performing a sequence of actions on the unwrapped `value`, where each\n     * successive action is supplied the return value of the previous.\n     *\n     * @private\n     * @param {*} value The unwrapped value.\n     * @param {Array} actions Actions to perform to resolve the unwrapped value.\n     * @returns {*} Returns the resolved value.\n     */\n    function baseWrapperValue(value, actions) {\n      var result = value;\n      if (result instanceof LazyWrapper) {\n        result = result.value();\n      }\n      return arrayReduce(actions, function(result, action) {\n        return action.func.apply(action.thisArg, arrayPush([result], action.args));\n      }, result);\n    }\n\n    /**\n     * The base implementation of methods like `_.xor`, without support for\n     * iteratee shorthands, that accepts an array of arrays to inspect.\n     *\n     * @private\n     * @param {Array} arrays The arrays to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of values.\n     */\n    function baseXor(arrays, iteratee, comparator) {\n      var length = arrays.length;\n      if (length < 2) {\n        return length ? baseUniq(arrays[0]) : [];\n      }\n      var index = -1,\n          result = Array(length);\n\n      while (++index < length) {\n        var array = arrays[index],\n            othIndex = -1;\n\n        while (++othIndex < length) {\n          if (othIndex != index) {\n            result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n          }\n        }\n      }\n      return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n    }\n\n    /**\n     * This base implementation of `_.zipObject` which assigns values using `assignFunc`.\n     *\n     * @private\n     * @param {Array} props The property identifiers.\n     * @param {Array} values The property values.\n     * @param {Function} assignFunc The function to assign values.\n     * @returns {Object} Returns the new object.\n     */\n    function baseZipObject(props, values, assignFunc) {\n      var index = -1,\n          length = props.length,\n          valsLength = values.length,\n          result = {};\n\n      while (++index < length) {\n        var value = index < valsLength ? values[index] : undefined;\n        assignFunc(result, props[index], value);\n      }\n      return result;\n    }\n\n    /**\n     * Casts `value` to an empty array if it's not an array like object.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Array|Object} Returns the cast array-like object.\n     */\n    function castArrayLikeObject(value) {\n      return isArrayLikeObject(value) ? value : [];\n    }\n\n    /**\n     * Casts `value` to `identity` if it's not a function.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {Function} Returns cast function.\n     */\n    function castFunction(value) {\n      return typeof value == 'function' ? value : identity;\n    }\n\n    /**\n     * Casts `value` to a path array if it's not one.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {Array} Returns the cast property path array.\n     */\n    function castPath(value, object) {\n      if (isArray(value)) {\n        return value;\n      }\n      return isKey(value, object) ? [value] : stringToPath(toString(value));\n    }\n\n    /**\n     * A `baseRest` alias which can be replaced with `identity` by module\n     * replacement plugins.\n     *\n     * @private\n     * @type {Function}\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    var castRest = baseRest;\n\n    /**\n     * Casts `array` to a slice if it's needed.\n     *\n     * @private\n     * @param {Array} array The array to inspect.\n     * @param {number} start The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the cast slice.\n     */\n    function castSlice(array, start, end) {\n      var length = array.length;\n      end = end === undefined ? length : end;\n      return (!start && end >= length) ? array : baseSlice(array, start, end);\n    }\n\n    /**\n     * A simple wrapper around the global [`clearTimeout`](https://mdn.io/clearTimeout).\n     *\n     * @private\n     * @param {number|Object} id The timer id or timeout object of the timer to clear.\n     */\n    var clearTimeout = ctxClearTimeout || function(id) {\n      return root.clearTimeout(id);\n    };\n\n    /**\n     * Creates a clone of  `buffer`.\n     *\n     * @private\n     * @param {Buffer} buffer The buffer to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Buffer} Returns the cloned buffer.\n     */\n    function cloneBuffer(buffer, isDeep) {\n      if (isDeep) {\n        return buffer.slice();\n      }\n      var length = buffer.length,\n          result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n      buffer.copy(result);\n      return result;\n    }\n\n    /**\n     * Creates a clone of `arrayBuffer`.\n     *\n     * @private\n     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\n     */\n    function cloneArrayBuffer(arrayBuffer) {\n      var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n      new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n      return result;\n    }\n\n    /**\n     * Creates a clone of `dataView`.\n     *\n     * @private\n     * @param {Object} dataView The data view to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned data view.\n     */\n    function cloneDataView(dataView, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n      return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n    }\n\n    /**\n     * Creates a clone of `regexp`.\n     *\n     * @private\n     * @param {Object} regexp The regexp to clone.\n     * @returns {Object} Returns the cloned regexp.\n     */\n    function cloneRegExp(regexp) {\n      var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n      result.lastIndex = regexp.lastIndex;\n      return result;\n    }\n\n    /**\n     * Creates a clone of the `symbol` object.\n     *\n     * @private\n     * @param {Object} symbol The symbol object to clone.\n     * @returns {Object} Returns the cloned symbol object.\n     */\n    function cloneSymbol(symbol) {\n      return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n    }\n\n    /**\n     * Creates a clone of `typedArray`.\n     *\n     * @private\n     * @param {Object} typedArray The typed array to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the cloned typed array.\n     */\n    function cloneTypedArray(typedArray, isDeep) {\n      var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n      return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n    }\n\n    /**\n     * Compares values to sort them in ascending order.\n     *\n     * @private\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {number} Returns the sort order indicator for `value`.\n     */\n    function compareAscending(value, other) {\n      if (value !== other) {\n        var valIsDefined = value !== undefined,\n            valIsNull = value === null,\n            valIsReflexive = value === value,\n            valIsSymbol = isSymbol(value);\n\n        var othIsDefined = other !== undefined,\n            othIsNull = other === null,\n            othIsReflexive = other === other,\n            othIsSymbol = isSymbol(other);\n\n        if ((!othIsNull && !othIsSymbol && !valIsSymbol && value > other) ||\n            (valIsSymbol && othIsDefined && othIsReflexive && !othIsNull && !othIsSymbol) ||\n            (valIsNull && othIsDefined && othIsReflexive) ||\n            (!valIsDefined && othIsReflexive) ||\n            !valIsReflexive) {\n          return 1;\n        }\n        if ((!valIsNull && !valIsSymbol && !othIsSymbol && value < other) ||\n            (othIsSymbol && valIsDefined && valIsReflexive && !valIsNull && !valIsSymbol) ||\n            (othIsNull && valIsDefined && valIsReflexive) ||\n            (!othIsDefined && valIsReflexive) ||\n            !othIsReflexive) {\n          return -1;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * Used by `_.orderBy` to compare multiple properties of a value to another\n     * and stable sort them.\n     *\n     * If `orders` is unspecified, all values are sorted in ascending order. Otherwise,\n     * specify an order of \"desc\" for descending or \"asc\" for ascending sort order\n     * of corresponding values.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {boolean[]|string[]} orders The order to sort by for each property.\n     * @returns {number} Returns the sort order indicator for `object`.\n     */\n    function compareMultiple(object, other, orders) {\n      var index = -1,\n          objCriteria = object.criteria,\n          othCriteria = other.criteria,\n          length = objCriteria.length,\n          ordersLength = orders.length;\n\n      while (++index < length) {\n        var result = compareAscending(objCriteria[index], othCriteria[index]);\n        if (result) {\n          if (index >= ordersLength) {\n            return result;\n          }\n          var order = orders[index];\n          return result * (order == 'desc' ? -1 : 1);\n        }\n      }\n      // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\n      // that causes it, under certain circumstances, to provide the same value for\n      // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\n      // for more details.\n      //\n      // This also ensures a stable sort in V8 and other engines.\n      // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n      return object.index - other.index;\n    }\n\n    /**\n     * Creates an array that is the composition of partially applied arguments,\n     * placeholders, and provided arguments into a single array of arguments.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to prepend to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgs(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersLength = holders.length,\n          leftIndex = -1,\n          leftLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(leftLength + rangeLength),\n          isUncurried = !isCurried;\n\n      while (++leftIndex < leftLength) {\n        result[leftIndex] = partials[leftIndex];\n      }\n      while (++argsIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[holders[argsIndex]] = args[argsIndex];\n        }\n      }\n      while (rangeLength--) {\n        result[leftIndex++] = args[argsIndex++];\n      }\n      return result;\n    }\n\n    /**\n     * This function is like `composeArgs` except that the arguments composition\n     * is tailored for `_.partialRight`.\n     *\n     * @private\n     * @param {Array} args The provided arguments.\n     * @param {Array} partials The arguments to append to those provided.\n     * @param {Array} holders The `partials` placeholder indexes.\n     * @params {boolean} [isCurried] Specify composing for a curried function.\n     * @returns {Array} Returns the new array of composed arguments.\n     */\n    function composeArgsRight(args, partials, holders, isCurried) {\n      var argsIndex = -1,\n          argsLength = args.length,\n          holdersIndex = -1,\n          holdersLength = holders.length,\n          rightIndex = -1,\n          rightLength = partials.length,\n          rangeLength = nativeMax(argsLength - holdersLength, 0),\n          result = Array(rangeLength + rightLength),\n          isUncurried = !isCurried;\n\n      while (++argsIndex < rangeLength) {\n        result[argsIndex] = args[argsIndex];\n      }\n      var offset = argsIndex;\n      while (++rightIndex < rightLength) {\n        result[offset + rightIndex] = partials[rightIndex];\n      }\n      while (++holdersIndex < holdersLength) {\n        if (isUncurried || argsIndex < argsLength) {\n          result[offset + holders[holdersIndex]] = args[argsIndex++];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Copies the values of `source` to `array`.\n     *\n     * @private\n     * @param {Array} source The array to copy values from.\n     * @param {Array} [array=[]] The array to copy values to.\n     * @returns {Array} Returns `array`.\n     */\n    function copyArray(source, array) {\n      var index = -1,\n          length = source.length;\n\n      array || (array = Array(length));\n      while (++index < length) {\n        array[index] = source[index];\n      }\n      return array;\n    }\n\n    /**\n     * Copies properties of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy properties from.\n     * @param {Array} props The property identifiers to copy.\n     * @param {Object} [object={}] The object to copy properties to.\n     * @param {Function} [customizer] The function to customize copied values.\n     * @returns {Object} Returns `object`.\n     */\n    function copyObject(source, props, object, customizer) {\n      var isNew = !object;\n      object || (object = {});\n\n      var index = -1,\n          length = props.length;\n\n      while (++index < length) {\n        var key = props[index];\n\n        var newValue = customizer\n          ? customizer(object[key], source[key], key, object, source)\n          : undefined;\n\n        if (newValue === undefined) {\n          newValue = source[key];\n        }\n        if (isNew) {\n          baseAssignValue(object, key, newValue);\n        } else {\n          assignValue(object, key, newValue);\n        }\n      }\n      return object;\n    }\n\n    /**\n     * Copies own symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbols(source, object) {\n      return copyObject(source, getSymbols(source), object);\n    }\n\n    /**\n     * Copies own and inherited symbols of `source` to `object`.\n     *\n     * @private\n     * @param {Object} source The object to copy symbols from.\n     * @param {Object} [object={}] The object to copy symbols to.\n     * @returns {Object} Returns `object`.\n     */\n    function copySymbolsIn(source, object) {\n      return copyObject(source, getSymbolsIn(source), object);\n    }\n\n    /**\n     * Creates a function like `_.groupBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} [initializer] The accumulator object initializer.\n     * @returns {Function} Returns the new aggregator function.\n     */\n    function createAggregator(setter, initializer) {\n      return function(collection, iteratee) {\n        var func = isArray(collection) ? arrayAggregator : baseAggregator,\n            accumulator = initializer ? initializer() : {};\n\n        return func(collection, setter, getIteratee(iteratee, 2), accumulator);\n      };\n    }\n\n    /**\n     * Creates a function like `_.assign`.\n     *\n     * @private\n     * @param {Function} assigner The function to assign values.\n     * @returns {Function} Returns the new assigner function.\n     */\n    function createAssigner(assigner) {\n      return baseRest(function(object, sources) {\n        var index = -1,\n            length = sources.length,\n            customizer = length > 1 ? sources[length - 1] : undefined,\n            guard = length > 2 ? sources[2] : undefined;\n\n        customizer = (assigner.length > 3 && typeof customizer == 'function')\n          ? (length--, customizer)\n          : undefined;\n\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n          customizer = length < 3 ? undefined : customizer;\n          length = 1;\n        }\n        object = Object(object);\n        while (++index < length) {\n          var source = sources[index];\n          if (source) {\n            assigner(object, source, index, customizer);\n          }\n        }\n        return object;\n      });\n    }\n\n    /**\n     * Creates a `baseEach` or `baseEachRight` function.\n     *\n     * @private\n     * @param {Function} eachFunc The function to iterate over a collection.\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseEach(eachFunc, fromRight) {\n      return function(collection, iteratee) {\n        if (collection == null) {\n          return collection;\n        }\n        if (!isArrayLike(collection)) {\n          return eachFunc(collection, iteratee);\n        }\n        var length = collection.length,\n            index = fromRight ? length : -1,\n            iterable = Object(collection);\n\n        while ((fromRight ? index-- : ++index < length)) {\n          if (iteratee(iterable[index], index, iterable) === false) {\n            break;\n          }\n        }\n        return collection;\n      };\n    }\n\n    /**\n     * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new base function.\n     */\n    function createBaseFor(fromRight) {\n      return function(object, iteratee, keysFunc) {\n        var index = -1,\n            iterable = Object(object),\n            props = keysFunc(object),\n            length = props.length;\n\n        while (length--) {\n          var key = props[fromRight ? length : ++index];\n          if (iteratee(iterable[key], key, iterable) === false) {\n            break;\n          }\n        }\n        return object;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the optional `this`\n     * binding of `thisArg`.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createBind(func, bitmask, thisArg) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return fn.apply(isBind ? thisArg : this, arguments);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.lowerFirst`.\n     *\n     * @private\n     * @param {string} methodName The name of the `String` case method to use.\n     * @returns {Function} Returns the new case function.\n     */\n    function createCaseFirst(methodName) {\n      return function(string) {\n        string = toString(string);\n\n        var strSymbols = hasUnicode(string)\n          ? stringToArray(string)\n          : undefined;\n\n        var chr = strSymbols\n          ? strSymbols[0]\n          : string.charAt(0);\n\n        var trailing = strSymbols\n          ? castSlice(strSymbols, 1).join('')\n          : string.slice(1);\n\n        return chr[methodName]() + trailing;\n      };\n    }\n\n    /**\n     * Creates a function like `_.camelCase`.\n     *\n     * @private\n     * @param {Function} callback The function to combine each word.\n     * @returns {Function} Returns the new compounder function.\n     */\n    function createCompounder(callback) {\n      return function(string) {\n        return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n      };\n    }\n\n    /**\n     * Creates a function that produces an instance of `Ctor` regardless of\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\n     *\n     * @private\n     * @param {Function} Ctor The constructor to wrap.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCtor(Ctor) {\n      return function() {\n        // Use a `switch` statement to work with class constructors. See\n        // http://ecma-international.org/ecma-262/7.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\n        // for more details.\n        var args = arguments;\n        switch (args.length) {\n          case 0: return new Ctor;\n          case 1: return new Ctor(args[0]);\n          case 2: return new Ctor(args[0], args[1]);\n          case 3: return new Ctor(args[0], args[1], args[2]);\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\n        }\n        var thisBinding = baseCreate(Ctor.prototype),\n            result = Ctor.apply(thisBinding, args);\n\n        // Mimic the constructor's `return` behavior.\n        // See https://es5.github.io/#x13.2.2 for more details.\n        return isObject(result) ? result : thisBinding;\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to enable currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {number} arity The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createCurry(func, bitmask, arity) {\n      var Ctor = createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length,\n            placeholder = getHolder(wrapper);\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        var holders = (length < 3 && args[0] !== placeholder && args[length - 1] !== placeholder)\n          ? []\n          : replaceHolders(args, placeholder);\n\n        length -= holders.length;\n        if (length < arity) {\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, undefined,\n            args, holders, undefined, undefined, arity - length);\n        }\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n        return apply(fn, this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.find` or `_.findLast` function.\n     *\n     * @private\n     * @param {Function} findIndexFunc The function to find the collection index.\n     * @returns {Function} Returns the new find function.\n     */\n    function createFind(findIndexFunc) {\n      return function(collection, predicate, fromIndex) {\n        var iterable = Object(collection);\n        if (!isArrayLike(collection)) {\n          var iteratee = getIteratee(predicate, 3);\n          collection = keys(collection);\n          predicate = function(key) { return iteratee(iterable[key], key, iterable); };\n        }\n        var index = findIndexFunc(collection, predicate, fromIndex);\n        return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;\n      };\n    }\n\n    /**\n     * Creates a `_.flow` or `_.flowRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new flow function.\n     */\n    function createFlow(fromRight) {\n      return flatRest(function(funcs) {\n        var length = funcs.length,\n            index = length,\n            prereq = LodashWrapper.prototype.thru;\n\n        if (fromRight) {\n          funcs.reverse();\n        }\n        while (index--) {\n          var func = funcs[index];\n          if (typeof func != 'function') {\n            throw new TypeError(FUNC_ERROR_TEXT);\n          }\n          if (prereq && !wrapper && getFuncName(func) == 'wrapper') {\n            var wrapper = new LodashWrapper([], true);\n          }\n        }\n        index = wrapper ? index : length;\n        while (++index < length) {\n          func = funcs[index];\n\n          var funcName = getFuncName(func),\n              data = funcName == 'wrapper' ? getData(func) : undefined;\n\n          if (data && isLaziable(data[0]) &&\n                data[1] == (WRAP_ARY_FLAG | WRAP_CURRY_FLAG | WRAP_PARTIAL_FLAG | WRAP_REARG_FLAG) &&\n                !data[4].length && data[9] == 1\n              ) {\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\n          } else {\n            wrapper = (func.length == 1 && isLaziable(func))\n              ? wrapper[funcName]()\n              : wrapper.thru(func);\n          }\n        }\n        return function() {\n          var args = arguments,\n              value = args[0];\n\n          if (wrapper && args.length == 1 && isArray(value)) {\n            return wrapper.plant(value).value();\n          }\n          var index = 0,\n              result = length ? funcs[index].apply(this, args) : value;\n\n          while (++index < length) {\n            result = funcs[index].call(this, result);\n          }\n          return result;\n        };\n      });\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with optional `this`\n     * binding of `thisArg`, partial application, and currying.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [partialsRight] The arguments to append to those provided\n     *  to the new function.\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createHybrid(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\n      var isAry = bitmask & WRAP_ARY_FLAG,\n          isBind = bitmask & WRAP_BIND_FLAG,\n          isBindKey = bitmask & WRAP_BIND_KEY_FLAG,\n          isCurried = bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG),\n          isFlip = bitmask & WRAP_FLIP_FLAG,\n          Ctor = isBindKey ? undefined : createCtor(func);\n\n      function wrapper() {\n        var length = arguments.length,\n            args = Array(length),\n            index = length;\n\n        while (index--) {\n          args[index] = arguments[index];\n        }\n        if (isCurried) {\n          var placeholder = getHolder(wrapper),\n              holdersCount = countHolders(args, placeholder);\n        }\n        if (partials) {\n          args = composeArgs(args, partials, holders, isCurried);\n        }\n        if (partialsRight) {\n          args = composeArgsRight(args, partialsRight, holdersRight, isCurried);\n        }\n        length -= holdersCount;\n        if (isCurried && length < arity) {\n          var newHolders = replaceHolders(args, placeholder);\n          return createRecurry(\n            func, bitmask, createHybrid, wrapper.placeholder, thisArg,\n            args, newHolders, argPos, ary, arity - length\n          );\n        }\n        var thisBinding = isBind ? thisArg : this,\n            fn = isBindKey ? thisBinding[func] : func;\n\n        length = args.length;\n        if (argPos) {\n          args = reorder(args, argPos);\n        } else if (isFlip && length > 1) {\n          args.reverse();\n        }\n        if (isAry && ary < length) {\n          args.length = ary;\n        }\n        if (this && this !== root && this instanceof wrapper) {\n          fn = Ctor || createCtor(fn);\n        }\n        return fn.apply(thisBinding, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a function like `_.invertBy`.\n     *\n     * @private\n     * @param {Function} setter The function to set accumulator values.\n     * @param {Function} toIteratee The function to resolve iteratees.\n     * @returns {Function} Returns the new inverter function.\n     */\n    function createInverter(setter, toIteratee) {\n      return function(object, iteratee) {\n        return baseInverter(object, setter, toIteratee(iteratee), {});\n      };\n    }\n\n    /**\n     * Creates a function that performs a mathematical operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @param {number} [defaultValue] The value used for `undefined` arguments.\n     * @returns {Function} Returns the new mathematical operation function.\n     */\n    function createMathOperation(operator, defaultValue) {\n      return function(value, other) {\n        var result;\n        if (value === undefined && other === undefined) {\n          return defaultValue;\n        }\n        if (value !== undefined) {\n          result = value;\n        }\n        if (other !== undefined) {\n          if (result === undefined) {\n            return other;\n          }\n          if (typeof value == 'string' || typeof other == 'string') {\n            value = baseToString(value);\n            other = baseToString(other);\n          } else {\n            value = baseToNumber(value);\n            other = baseToNumber(other);\n          }\n          result = operator(value, other);\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function like `_.over`.\n     *\n     * @private\n     * @param {Function} arrayFunc The function to iterate over iteratees.\n     * @returns {Function} Returns the new over function.\n     */\n    function createOver(arrayFunc) {\n      return flatRest(function(iteratees) {\n        iteratees = arrayMap(iteratees, baseUnary(getIteratee()));\n        return baseRest(function(args) {\n          var thisArg = this;\n          return arrayFunc(iteratees, function(iteratee) {\n            return apply(iteratee, thisArg, args);\n          });\n        });\n      });\n    }\n\n    /**\n     * Creates the padding for `string` based on `length`. The `chars` string\n     * is truncated if the number of characters exceeds `length`.\n     *\n     * @private\n     * @param {number} length The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padding for `string`.\n     */\n    function createPadding(length, chars) {\n      chars = chars === undefined ? ' ' : baseToString(chars);\n\n      var charsLength = chars.length;\n      if (charsLength < 2) {\n        return charsLength ? baseRepeat(chars, length) : chars;\n      }\n      var result = baseRepeat(chars, nativeCeil(length / stringSize(chars)));\n      return hasUnicode(chars)\n        ? castSlice(stringToArray(result), 0, length).join('')\n        : result.slice(0, length);\n    }\n\n    /**\n     * Creates a function that wraps `func` to invoke it with the `this` binding\n     * of `thisArg` and `partials` prepended to the arguments it receives.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {Array} partials The arguments to prepend to those provided to\n     *  the new function.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createPartial(func, bitmask, thisArg, partials) {\n      var isBind = bitmask & WRAP_BIND_FLAG,\n          Ctor = createCtor(func);\n\n      function wrapper() {\n        var argsIndex = -1,\n            argsLength = arguments.length,\n            leftIndex = -1,\n            leftLength = partials.length,\n            args = Array(leftLength + argsLength),\n            fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\n\n        while (++leftIndex < leftLength) {\n          args[leftIndex] = partials[leftIndex];\n        }\n        while (argsLength--) {\n          args[leftIndex++] = arguments[++argsIndex];\n        }\n        return apply(fn, isBind ? thisArg : this, args);\n      }\n      return wrapper;\n    }\n\n    /**\n     * Creates a `_.range` or `_.rangeRight` function.\n     *\n     * @private\n     * @param {boolean} [fromRight] Specify iterating from right to left.\n     * @returns {Function} Returns the new range function.\n     */\n    function createRange(fromRight) {\n      return function(start, end, step) {\n        if (step && typeof step != 'number' && isIterateeCall(start, end, step)) {\n          end = step = undefined;\n        }\n        // Ensure the sign of `-0` is preserved.\n        start = toFinite(start);\n        if (end === undefined) {\n          end = start;\n          start = 0;\n        } else {\n          end = toFinite(end);\n        }\n        step = step === undefined ? (start < end ? 1 : -1) : toFinite(step);\n        return baseRange(start, end, step, fromRight);\n      };\n    }\n\n    /**\n     * Creates a function that performs a relational operation on two values.\n     *\n     * @private\n     * @param {Function} operator The function to perform the operation.\n     * @returns {Function} Returns the new relational operation function.\n     */\n    function createRelationalOperation(operator) {\n      return function(value, other) {\n        if (!(typeof value == 'string' && typeof other == 'string')) {\n          value = toNumber(value);\n          other = toNumber(other);\n        }\n        return operator(value, other);\n      };\n    }\n\n    /**\n     * Creates a function that wraps `func` to continue currying.\n     *\n     * @private\n     * @param {Function} func The function to wrap.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @param {Function} wrapFunc The function to create the `func` wrapper.\n     * @param {*} placeholder The placeholder value.\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to prepend to those provided to\n     *  the new function.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createRecurry(func, bitmask, wrapFunc, placeholder, thisArg, partials, holders, argPos, ary, arity) {\n      var isCurry = bitmask & WRAP_CURRY_FLAG,\n          newHolders = isCurry ? holders : undefined,\n          newHoldersRight = isCurry ? undefined : holders,\n          newPartials = isCurry ? partials : undefined,\n          newPartialsRight = isCurry ? undefined : partials;\n\n      bitmask |= (isCurry ? WRAP_PARTIAL_FLAG : WRAP_PARTIAL_RIGHT_FLAG);\n      bitmask &= ~(isCurry ? WRAP_PARTIAL_RIGHT_FLAG : WRAP_PARTIAL_FLAG);\n\n      if (!(bitmask & WRAP_CURRY_BOUND_FLAG)) {\n        bitmask &= ~(WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG);\n      }\n      var newData = [\n        func, bitmask, thisArg, newPartials, newHolders, newPartialsRight,\n        newHoldersRight, argPos, ary, arity\n      ];\n\n      var result = wrapFunc.apply(undefined, newData);\n      if (isLaziable(func)) {\n        setData(result, newData);\n      }\n      result.placeholder = placeholder;\n      return setWrapToString(result, func, bitmask);\n    }\n\n    /**\n     * Creates a function like `_.round`.\n     *\n     * @private\n     * @param {string} methodName The name of the `Math` method to use when rounding.\n     * @returns {Function} Returns the new round function.\n     */\n    function createRound(methodName) {\n      var func = Math[methodName];\n      return function(number, precision) {\n        number = toNumber(number);\n        precision = precision == null ? 0 : nativeMin(toInteger(precision), 292);\n        if (precision && nativeIsFinite(number)) {\n          // Shift with exponential notation to avoid floating-point issues.\n          // See [MDN](https://mdn.io/round#Examples) for more details.\n          var pair = (toString(number) + 'e').split('e'),\n              value = func(pair[0] + 'e' + (+pair[1] + precision));\n\n          pair = (toString(value) + 'e').split('e');\n          return +(pair[0] + 'e' + (+pair[1] - precision));\n        }\n        return func(number);\n      };\n    }\n\n    /**\n     * Creates a set object of `values`.\n     *\n     * @private\n     * @param {Array} values The values to add to the set.\n     * @returns {Object} Returns the new set.\n     */\n    var createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n      return new Set(values);\n    };\n\n    /**\n     * Creates a `_.toPairs` or `_.toPairsIn` function.\n     *\n     * @private\n     * @param {Function} keysFunc The function to get the keys of a given object.\n     * @returns {Function} Returns the new pairs function.\n     */\n    function createToPairs(keysFunc) {\n      return function(object) {\n        var tag = getTag(object);\n        if (tag == mapTag) {\n          return mapToArray(object);\n        }\n        if (tag == setTag) {\n          return setToPairs(object);\n        }\n        return baseToPairs(object, keysFunc(object));\n      };\n    }\n\n    /**\n     * Creates a function that either curries or invokes `func` with optional\n     * `this` binding and partially applied arguments.\n     *\n     * @private\n     * @param {Function|string} func The function or method name to wrap.\n     * @param {number} bitmask The bitmask flags.\n     *    1 - `_.bind`\n     *    2 - `_.bindKey`\n     *    4 - `_.curry` or `_.curryRight` of a bound function\n     *    8 - `_.curry`\n     *   16 - `_.curryRight`\n     *   32 - `_.partial`\n     *   64 - `_.partialRight`\n     *  128 - `_.rearg`\n     *  256 - `_.ary`\n     *  512 - `_.flip`\n     * @param {*} [thisArg] The `this` binding of `func`.\n     * @param {Array} [partials] The arguments to be partially applied.\n     * @param {Array} [holders] The `partials` placeholder indexes.\n     * @param {Array} [argPos] The argument positions of the new function.\n     * @param {number} [ary] The arity cap of `func`.\n     * @param {number} [arity] The arity of `func`.\n     * @returns {Function} Returns the new wrapped function.\n     */\n    function createWrap(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\n      var isBindKey = bitmask & WRAP_BIND_KEY_FLAG;\n      if (!isBindKey && typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var length = partials ? partials.length : 0;\n      if (!length) {\n        bitmask &= ~(WRAP_PARTIAL_FLAG | WRAP_PARTIAL_RIGHT_FLAG);\n        partials = holders = undefined;\n      }\n      ary = ary === undefined ? ary : nativeMax(toInteger(ary), 0);\n      arity = arity === undefined ? arity : toInteger(arity);\n      length -= holders ? holders.length : 0;\n\n      if (bitmask & WRAP_PARTIAL_RIGHT_FLAG) {\n        var partialsRight = partials,\n            holdersRight = holders;\n\n        partials = holders = undefined;\n      }\n      var data = isBindKey ? undefined : getData(func);\n\n      var newData = [\n        func, bitmask, thisArg, partials, holders, partialsRight, holdersRight,\n        argPos, ary, arity\n      ];\n\n      if (data) {\n        mergeData(newData, data);\n      }\n      func = newData[0];\n      bitmask = newData[1];\n      thisArg = newData[2];\n      partials = newData[3];\n      holders = newData[4];\n      arity = newData[9] = newData[9] === undefined\n        ? (isBindKey ? 0 : func.length)\n        : nativeMax(newData[9] - length, 0);\n\n      if (!arity && bitmask & (WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG)) {\n        bitmask &= ~(WRAP_CURRY_FLAG | WRAP_CURRY_RIGHT_FLAG);\n      }\n      if (!bitmask || bitmask == WRAP_BIND_FLAG) {\n        var result = createBind(func, bitmask, thisArg);\n      } else if (bitmask == WRAP_CURRY_FLAG || bitmask == WRAP_CURRY_RIGHT_FLAG) {\n        result = createCurry(func, bitmask, arity);\n      } else if ((bitmask == WRAP_PARTIAL_FLAG || bitmask == (WRAP_BIND_FLAG | WRAP_PARTIAL_FLAG)) && !holders.length) {\n        result = createPartial(func, bitmask, thisArg, partials);\n      } else {\n        result = createHybrid.apply(undefined, newData);\n      }\n      var setter = data ? baseSetData : setData;\n      return setWrapToString(setter(result, newData), func, bitmask);\n    }\n\n    /**\n     * Used by `_.defaults` to customize its `_.assignIn` use to assign properties\n     * of source objects to the destination object for all destination properties\n     * that resolve to `undefined`.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to assign.\n     * @param {Object} object The parent object of `objValue`.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsAssignIn(objValue, srcValue, key, object) {\n      if (objValue === undefined ||\n          (eq(objValue, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n        return srcValue;\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.defaultsDeep` to customize its `_.merge` use to merge source\n     * objects into destination objects that are passed thru.\n     *\n     * @private\n     * @param {*} objValue The destination value.\n     * @param {*} srcValue The source value.\n     * @param {string} key The key of the property to merge.\n     * @param {Object} object The parent object of `objValue`.\n     * @param {Object} source The parent object of `srcValue`.\n     * @param {Object} [stack] Tracks traversed source values and their merged\n     *  counterparts.\n     * @returns {*} Returns the value to assign.\n     */\n    function customDefaultsMerge(objValue, srcValue, key, object, source, stack) {\n      if (isObject(objValue) && isObject(srcValue)) {\n        // Recursively merge objects and arrays (susceptible to call stack limits).\n        stack.set(srcValue, objValue);\n        baseMerge(objValue, srcValue, undefined, customDefaultsMerge, stack);\n        stack['delete'](srcValue);\n      }\n      return objValue;\n    }\n\n    /**\n     * Used by `_.omit` to customize its `_.cloneDeep` use to only clone plain\n     * objects.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @param {string} key The key of the property to inspect.\n     * @returns {*} Returns the uncloned value or `undefined` to defer cloning to `_.cloneDeep`.\n     */\n    function customOmitClone(value) {\n      return isPlainObject(value) ? undefined : value;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Array} array The array to compare.\n     * @param {Array} other The other array to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `array` and `other` objects.\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n     */\n    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          arrLength = array.length,\n          othLength = other.length;\n\n      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n        return false;\n      }\n      // Check that cyclic values are equal.\n      var arrStacked = stack.get(array);\n      var othStacked = stack.get(other);\n      if (arrStacked && othStacked) {\n        return arrStacked == other && othStacked == array;\n      }\n      var index = -1,\n          result = true,\n          seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n      stack.set(array, other);\n      stack.set(other, array);\n\n      // Ignore non-index properties.\n      while (++index < arrLength) {\n        var arrValue = array[index],\n            othValue = other[index];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, arrValue, index, other, array, stack)\n            : customizer(arrValue, othValue, index, array, other, stack);\n        }\n        if (compared !== undefined) {\n          if (compared) {\n            continue;\n          }\n          result = false;\n          break;\n        }\n        // Recursively compare arrays (susceptible to call stack limits).\n        if (seen) {\n          if (!arraySome(other, function(othValue, othIndex) {\n                if (!cacheHas(seen, othIndex) &&\n                    (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n                  return seen.push(othIndex);\n                }\n              })) {\n            result = false;\n            break;\n          }\n        } else if (!(\n              arrValue === othValue ||\n                equalFunc(arrValue, othValue, bitmask, customizer, stack)\n            )) {\n          result = false;\n          break;\n        }\n      }\n      stack['delete'](array);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\n     * the same `toStringTag`.\n     *\n     * **Note:** This function only supports comparing values with tags of\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {string} tag The `toStringTag` of the objects to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n      switch (tag) {\n        case dataViewTag:\n          if ((object.byteLength != other.byteLength) ||\n              (object.byteOffset != other.byteOffset)) {\n            return false;\n          }\n          object = object.buffer;\n          other = other.buffer;\n\n        case arrayBufferTag:\n          if ((object.byteLength != other.byteLength) ||\n              !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n            return false;\n          }\n          return true;\n\n        case boolTag:\n        case dateTag:\n        case numberTag:\n          // Coerce booleans to `1` or `0` and dates to milliseconds.\n          // Invalid dates are coerced to `NaN`.\n          return eq(+object, +other);\n\n        case errorTag:\n          return object.name == other.name && object.message == other.message;\n\n        case regexpTag:\n        case stringTag:\n          // Coerce regexes to strings and treat strings, primitives and objects,\n          // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n          // for more details.\n          return object == (other + '');\n\n        case mapTag:\n          var convert = mapToArray;\n\n        case setTag:\n          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n          convert || (convert = setToArray);\n\n          if (object.size != other.size && !isPartial) {\n            return false;\n          }\n          // Assume cyclic values are equal.\n          var stacked = stack.get(object);\n          if (stacked) {\n            return stacked == other;\n          }\n          bitmask |= COMPARE_UNORDERED_FLAG;\n\n          // Recursively compare objects (susceptible to call stack limits).\n          stack.set(object, other);\n          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n          stack['delete'](object);\n          return result;\n\n        case symbolTag:\n          if (symbolValueOf) {\n            return symbolValueOf.call(object) == symbolValueOf.call(other);\n          }\n      }\n      return false;\n    }\n\n    /**\n     * A specialized version of `baseIsEqualDeep` for objects with support for\n     * partial deep comparisons.\n     *\n     * @private\n     * @param {Object} object The object to compare.\n     * @param {Object} other The other object to compare.\n     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n     * @param {Function} customizer The function to customize comparisons.\n     * @param {Function} equalFunc The function to determine equivalents of values.\n     * @param {Object} stack Tracks traversed `object` and `other` objects.\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n     */\n    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n          objProps = getAllKeys(object),\n          objLength = objProps.length,\n          othProps = getAllKeys(other),\n          othLength = othProps.length;\n\n      if (objLength != othLength && !isPartial) {\n        return false;\n      }\n      var index = objLength;\n      while (index--) {\n        var key = objProps[index];\n        if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n          return false;\n        }\n      }\n      // Check that cyclic values are equal.\n      var objStacked = stack.get(object);\n      var othStacked = stack.get(other);\n      if (objStacked && othStacked) {\n        return objStacked == other && othStacked == object;\n      }\n      var result = true;\n      stack.set(object, other);\n      stack.set(other, object);\n\n      var skipCtor = isPartial;\n      while (++index < objLength) {\n        key = objProps[index];\n        var objValue = object[key],\n            othValue = other[key];\n\n        if (customizer) {\n          var compared = isPartial\n            ? customizer(othValue, objValue, key, other, object, stack)\n            : customizer(objValue, othValue, key, object, other, stack);\n        }\n        // Recursively compare objects (susceptible to call stack limits).\n        if (!(compared === undefined\n              ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n              : compared\n            )) {\n          result = false;\n          break;\n        }\n        skipCtor || (skipCtor = key == 'constructor');\n      }\n      if (result && !skipCtor) {\n        var objCtor = object.constructor,\n            othCtor = other.constructor;\n\n        // Non `Object` object instances with different constructors are not equal.\n        if (objCtor != othCtor &&\n            ('constructor' in object && 'constructor' in other) &&\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n          result = false;\n        }\n      }\n      stack['delete'](object);\n      stack['delete'](other);\n      return result;\n    }\n\n    /**\n     * A specialized version of `baseRest` which flattens the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @returns {Function} Returns the new function.\n     */\n    function flatRest(func) {\n      return setToString(overRest(func, undefined, flatten), func + '');\n    }\n\n    /**\n     * Creates an array of own enumerable property names and symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeys(object) {\n      return baseGetAllKeys(object, keys, getSymbols);\n    }\n\n    /**\n     * Creates an array of own and inherited enumerable property names and\n     * symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names and symbols.\n     */\n    function getAllKeysIn(object) {\n      return baseGetAllKeys(object, keysIn, getSymbolsIn);\n    }\n\n    /**\n     * Gets metadata for `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {*} Returns the metadata for `func`.\n     */\n    var getData = !metaMap ? noop : function(func) {\n      return metaMap.get(func);\n    };\n\n    /**\n     * Gets the name of `func`.\n     *\n     * @private\n     * @param {Function} func The function to query.\n     * @returns {string} Returns the function name.\n     */\n    function getFuncName(func) {\n      var result = (func.name + ''),\n          array = realNames[result],\n          length = hasOwnProperty.call(realNames, result) ? array.length : 0;\n\n      while (length--) {\n        var data = array[length],\n            otherFunc = data.func;\n        if (otherFunc == null || otherFunc == func) {\n          return data.name;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Gets the argument placeholder value for `func`.\n     *\n     * @private\n     * @param {Function} func The function to inspect.\n     * @returns {*} Returns the placeholder value.\n     */\n    function getHolder(func) {\n      var object = hasOwnProperty.call(lodash, 'placeholder') ? lodash : func;\n      return object.placeholder;\n    }\n\n    /**\n     * Gets the appropriate \"iteratee\" function. If `_.iteratee` is customized,\n     * this function returns the custom method, otherwise it returns `baseIteratee`.\n     * If arguments are provided, the chosen function is invoked with them and\n     * its result is returned.\n     *\n     * @private\n     * @param {*} [value] The value to convert to an iteratee.\n     * @param {number} [arity] The arity of the created iteratee.\n     * @returns {Function} Returns the chosen function or its result.\n     */\n    function getIteratee() {\n      var result = lodash.iteratee || iteratee;\n      result = result === iteratee ? baseIteratee : result;\n      return arguments.length ? result(arguments[0], arguments[1]) : result;\n    }\n\n    /**\n     * Gets the data for `map`.\n     *\n     * @private\n     * @param {Object} map The map to query.\n     * @param {string} key The reference key.\n     * @returns {*} Returns the map data.\n     */\n    function getMapData(map, key) {\n      var data = map.__data__;\n      return isKeyable(key)\n        ? data[typeof key == 'string' ? 'string' : 'hash']\n        : data.map;\n    }\n\n    /**\n     * Gets the property names, values, and compare flags of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the match data of `object`.\n     */\n    function getMatchData(object) {\n      var result = keys(object),\n          length = result.length;\n\n      while (length--) {\n        var key = result[length],\n            value = object[key];\n\n        result[length] = [key, value, isStrictComparable(value)];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the native function at `key` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the method to get.\n     * @returns {*} Returns the function if it's native, else `undefined`.\n     */\n    function getNative(object, key) {\n      var value = getValue(object, key);\n      return baseIsNative(value) ? value : undefined;\n    }\n\n    /**\n     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the raw `toStringTag`.\n     */\n    function getRawTag(value) {\n      var isOwn = hasOwnProperty.call(value, symToStringTag),\n          tag = value[symToStringTag];\n\n      try {\n        value[symToStringTag] = undefined;\n        var unmasked = true;\n      } catch (e) {}\n\n      var result = nativeObjectToString.call(value);\n      if (unmasked) {\n        if (isOwn) {\n          value[symToStringTag] = tag;\n        } else {\n          delete value[symToStringTag];\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array of the own enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n      if (object == null) {\n        return [];\n      }\n      object = Object(object);\n      return arrayFilter(nativeGetSymbols(object), function(symbol) {\n        return propertyIsEnumerable.call(object, symbol);\n      });\n    };\n\n    /**\n     * Creates an array of the own and inherited enumerable symbols of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of symbols.\n     */\n    var getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n      var result = [];\n      while (object) {\n        arrayPush(result, getSymbols(object));\n        object = getPrototype(object);\n      }\n      return result;\n    };\n\n    /**\n     * Gets the `toStringTag` of `value`.\n     *\n     * @private\n     * @param {*} value The value to query.\n     * @returns {string} Returns the `toStringTag`.\n     */\n    var getTag = baseGetTag;\n\n    // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\n    if ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n        (Map && getTag(new Map) != mapTag) ||\n        (Promise && getTag(Promise.resolve()) != promiseTag) ||\n        (Set && getTag(new Set) != setTag) ||\n        (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n      getTag = function(value) {\n        var result = baseGetTag(value),\n            Ctor = result == objectTag ? value.constructor : undefined,\n            ctorString = Ctor ? toSource(Ctor) : '';\n\n        if (ctorString) {\n          switch (ctorString) {\n            case dataViewCtorString: return dataViewTag;\n            case mapCtorString: return mapTag;\n            case promiseCtorString: return promiseTag;\n            case setCtorString: return setTag;\n            case weakMapCtorString: return weakMapTag;\n          }\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\n     *\n     * @private\n     * @param {number} start The start of the view.\n     * @param {number} end The end of the view.\n     * @param {Array} transforms The transformations to apply to the view.\n     * @returns {Object} Returns an object containing the `start` and `end`\n     *  positions of the view.\n     */\n    function getView(start, end, transforms) {\n      var index = -1,\n          length = transforms.length;\n\n      while (++index < length) {\n        var data = transforms[index],\n            size = data.size;\n\n        switch (data.type) {\n          case 'drop':      start += size; break;\n          case 'dropRight': end -= size; break;\n          case 'take':      end = nativeMin(end, start + size); break;\n          case 'takeRight': start = nativeMax(start, end - size); break;\n        }\n      }\n      return { 'start': start, 'end': end };\n    }\n\n    /**\n     * Extracts wrapper details from the `source` body comment.\n     *\n     * @private\n     * @param {string} source The source to inspect.\n     * @returns {Array} Returns the wrapper details.\n     */\n    function getWrapDetails(source) {\n      var match = source.match(reWrapDetails);\n      return match ? match[1].split(reSplitDetails) : [];\n    }\n\n    /**\n     * Checks if `path` exists on `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @param {Function} hasFunc The function to check properties.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     */\n    function hasPath(object, path, hasFunc) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length,\n          result = false;\n\n      while (++index < length) {\n        var key = toKey(path[index]);\n        if (!(result = object != null && hasFunc(object, key))) {\n          break;\n        }\n        object = object[key];\n      }\n      if (result || ++index != length) {\n        return result;\n      }\n      length = object == null ? 0 : object.length;\n      return !!length && isLength(length) && isIndex(key, length) &&\n        (isArray(object) || isArguments(object));\n    }\n\n    /**\n     * Initializes an array clone.\n     *\n     * @private\n     * @param {Array} array The array to clone.\n     * @returns {Array} Returns the initialized clone.\n     */\n    function initCloneArray(array) {\n      var length = array.length,\n          result = new array.constructor(length);\n\n      // Add properties assigned by `RegExp#exec`.\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n        result.index = array.index;\n        result.input = array.input;\n      }\n      return result;\n    }\n\n    /**\n     * Initializes an object clone.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneObject(object) {\n      return (typeof object.constructor == 'function' && !isPrototype(object))\n        ? baseCreate(getPrototype(object))\n        : {};\n    }\n\n    /**\n     * Initializes an object clone based on its `toStringTag`.\n     *\n     * **Note:** This function only supports cloning values with tags of\n     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n     *\n     * @private\n     * @param {Object} object The object to clone.\n     * @param {string} tag The `toStringTag` of the object to clone.\n     * @param {boolean} [isDeep] Specify a deep clone.\n     * @returns {Object} Returns the initialized clone.\n     */\n    function initCloneByTag(object, tag, isDeep) {\n      var Ctor = object.constructor;\n      switch (tag) {\n        case arrayBufferTag:\n          return cloneArrayBuffer(object);\n\n        case boolTag:\n        case dateTag:\n          return new Ctor(+object);\n\n        case dataViewTag:\n          return cloneDataView(object, isDeep);\n\n        case float32Tag: case float64Tag:\n        case int8Tag: case int16Tag: case int32Tag:\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n          return cloneTypedArray(object, isDeep);\n\n        case mapTag:\n          return new Ctor;\n\n        case numberTag:\n        case stringTag:\n          return new Ctor(object);\n\n        case regexpTag:\n          return cloneRegExp(object);\n\n        case setTag:\n          return new Ctor;\n\n        case symbolTag:\n          return cloneSymbol(object);\n      }\n    }\n\n    /**\n     * Inserts wrapper `details` in a comment at the top of the `source` body.\n     *\n     * @private\n     * @param {string} source The source to modify.\n     * @returns {Array} details The details to insert.\n     * @returns {string} Returns the modified source.\n     */\n    function insertWrapDetails(source, details) {\n      var length = details.length;\n      if (!length) {\n        return source;\n      }\n      var lastIndex = length - 1;\n      details[lastIndex] = (length > 1 ? '& ' : '') + details[lastIndex];\n      details = details.join(length > 2 ? ', ' : ' ');\n      return source.replace(reWrapComment, '{\\n/* [wrapped with ' + details + '] */\\n');\n    }\n\n    /**\n     * Checks if `value` is a flattenable `arguments` object or array.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n     */\n    function isFlattenable(value) {\n      return isArray(value) || isArguments(value) ||\n        !!(spreadableSymbol && value && value[spreadableSymbol]);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like index.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n     */\n    function isIndex(value, length) {\n      var type = typeof value;\n      length = length == null ? MAX_SAFE_INTEGER : length;\n\n      return !!length &&\n        (type == 'number' ||\n          (type != 'symbol' && reIsUint.test(value))) &&\n            (value > -1 && value % 1 == 0 && value < length);\n    }\n\n    /**\n     * Checks if the given arguments are from an iteratee call.\n     *\n     * @private\n     * @param {*} value The potential iteratee value argument.\n     * @param {*} index The potential iteratee index or key argument.\n     * @param {*} object The potential iteratee object argument.\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n     *  else `false`.\n     */\n    function isIterateeCall(value, index, object) {\n      if (!isObject(object)) {\n        return false;\n      }\n      var type = typeof index;\n      if (type == 'number'\n            ? (isArrayLike(object) && isIndex(index, object.length))\n            : (type == 'string' && index in object)\n          ) {\n        return eq(object[index], value);\n      }\n      return false;\n    }\n\n    /**\n     * Checks if `value` is a property name and not a property path.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @param {Object} [object] The object to query keys on.\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n     */\n    function isKey(value, object) {\n      if (isArray(value)) {\n        return false;\n      }\n      var type = typeof value;\n      if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n          value == null || isSymbol(value)) {\n        return true;\n      }\n      return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n        (object != null && value in Object(object));\n    }\n\n    /**\n     * Checks if `value` is suitable for use as unique object key.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n     */\n    function isKeyable(value) {\n      var type = typeof value;\n      return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n        ? (value !== '__proto__')\n        : (value === null);\n    }\n\n    /**\n     * Checks if `func` has a lazy counterpart.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart,\n     *  else `false`.\n     */\n    function isLaziable(func) {\n      var funcName = getFuncName(func),\n          other = lodash[funcName];\n\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\n        return false;\n      }\n      if (func === other) {\n        return true;\n      }\n      var data = getData(other);\n      return !!data && func === data[0];\n    }\n\n    /**\n     * Checks if `func` has its source masked.\n     *\n     * @private\n     * @param {Function} func The function to check.\n     * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n     */\n    function isMasked(func) {\n      return !!maskSrcKey && (maskSrcKey in func);\n    }\n\n    /**\n     * Checks if `func` is capable of being masked.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `func` is maskable, else `false`.\n     */\n    var isMaskable = coreJsData ? isFunction : stubFalse;\n\n    /**\n     * Checks if `value` is likely a prototype object.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n     */\n    function isPrototype(value) {\n      var Ctor = value && value.constructor,\n          proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n      return value === proto;\n    }\n\n    /**\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\n     *  equality comparisons, else `false`.\n     */\n    function isStrictComparable(value) {\n      return value === value && !isObject(value);\n    }\n\n    /**\n     * A specialized version of `matchesProperty` for source values suitable\n     * for strict equality comparisons, i.e. `===`.\n     *\n     * @private\n     * @param {string} key The key of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     */\n    function matchesStrictComparable(key, srcValue) {\n      return function(object) {\n        if (object == null) {\n          return false;\n        }\n        return object[key] === srcValue &&\n          (srcValue !== undefined || (key in Object(object)));\n      };\n    }\n\n    /**\n     * A specialized version of `_.memoize` which clears the memoized function's\n     * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n     *\n     * @private\n     * @param {Function} func The function to have its output memoized.\n     * @returns {Function} Returns the new memoized function.\n     */\n    function memoizeCapped(func) {\n      var result = memoize(func, function(key) {\n        if (cache.size === MAX_MEMOIZE_SIZE) {\n          cache.clear();\n        }\n        return key;\n      });\n\n      var cache = result.cache;\n      return result;\n    }\n\n    /**\n     * Merges the function metadata of `source` into `data`.\n     *\n     * Merging metadata reduces the number of wrappers used to invoke a function.\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\n     * may be applied regardless of execution order. Methods like `_.ary` and\n     * `_.rearg` modify function arguments, making the order in which they are\n     * executed important, preventing the merging of metadata. However, we make\n     * an exception for a safe combined case where curried functions have `_.ary`\n     * and or `_.rearg` applied.\n     *\n     * @private\n     * @param {Array} data The destination metadata.\n     * @param {Array} source The source metadata.\n     * @returns {Array} Returns `data`.\n     */\n    function mergeData(data, source) {\n      var bitmask = data[1],\n          srcBitmask = source[1],\n          newBitmask = bitmask | srcBitmask,\n          isCommon = newBitmask < (WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG | WRAP_ARY_FLAG);\n\n      var isCombo =\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_CURRY_FLAG)) ||\n        ((srcBitmask == WRAP_ARY_FLAG) && (bitmask == WRAP_REARG_FLAG) && (data[7].length <= source[8])) ||\n        ((srcBitmask == (WRAP_ARY_FLAG | WRAP_REARG_FLAG)) && (source[7].length <= source[8]) && (bitmask == WRAP_CURRY_FLAG));\n\n      // Exit early if metadata can't be merged.\n      if (!(isCommon || isCombo)) {\n        return data;\n      }\n      // Use source `thisArg` if available.\n      if (srcBitmask & WRAP_BIND_FLAG) {\n        data[2] = source[2];\n        // Set when currying a bound function.\n        newBitmask |= bitmask & WRAP_BIND_FLAG ? 0 : WRAP_CURRY_BOUND_FLAG;\n      }\n      // Compose partial arguments.\n      var value = source[3];\n      if (value) {\n        var partials = data[3];\n        data[3] = partials ? composeArgs(partials, value, source[4]) : value;\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : source[4];\n      }\n      // Compose partial right arguments.\n      value = source[5];\n      if (value) {\n        partials = data[5];\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : value;\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : source[6];\n      }\n      // Use source `argPos` if available.\n      value = source[7];\n      if (value) {\n        data[7] = value;\n      }\n      // Use source `ary` if it's smaller.\n      if (srcBitmask & WRAP_ARY_FLAG) {\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\n      }\n      // Use source `arity` if one is not provided.\n      if (data[9] == null) {\n        data[9] = source[9];\n      }\n      // Use source `func` and merge bitmasks.\n      data[0] = source[0];\n      data[1] = newBitmask;\n\n      return data;\n    }\n\n    /**\n     * This function is like\n     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * except that it includes inherited enumerable properties.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     */\n    function nativeKeysIn(object) {\n      var result = [];\n      if (object != null) {\n        for (var key in Object(object)) {\n          result.push(key);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a string using `Object.prototype.toString`.\n     *\n     * @private\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     */\n    function objectToString(value) {\n      return nativeObjectToString.call(value);\n    }\n\n    /**\n     * A specialized version of `baseRest` which transforms the rest array.\n     *\n     * @private\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @param {Function} transform The rest array transform.\n     * @returns {Function} Returns the new function.\n     */\n    function overRest(func, start, transform) {\n      start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n      return function() {\n        var args = arguments,\n            index = -1,\n            length = nativeMax(args.length - start, 0),\n            array = Array(length);\n\n        while (++index < length) {\n          array[index] = args[start + index];\n        }\n        index = -1;\n        var otherArgs = Array(start + 1);\n        while (++index < start) {\n          otherArgs[index] = args[index];\n        }\n        otherArgs[start] = transform(array);\n        return apply(func, this, otherArgs);\n      };\n    }\n\n    /**\n     * Gets the parent value at `path` of `object`.\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {Array} path The path to get the parent value of.\n     * @returns {*} Returns the parent value.\n     */\n    function parent(object, path) {\n      return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));\n    }\n\n    /**\n     * Reorder `array` according to the specified indexes where the element at\n     * the first index is assigned as the first element, the element at\n     * the second index is assigned as the second element, and so on.\n     *\n     * @private\n     * @param {Array} array The array to reorder.\n     * @param {Array} indexes The arranged array indexes.\n     * @returns {Array} Returns `array`.\n     */\n    function reorder(array, indexes) {\n      var arrLength = array.length,\n          length = nativeMin(indexes.length, arrLength),\n          oldArray = copyArray(array);\n\n      while (length--) {\n        var index = indexes[length];\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\n      }\n      return array;\n    }\n\n    /**\n     * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n     *\n     * @private\n     * @param {Object} object The object to query.\n     * @param {string} key The key of the property to get.\n     * @returns {*} Returns the property value.\n     */\n    function safeGet(object, key) {\n      if (key === 'constructor' && typeof object[key] === 'function') {\n        return;\n      }\n\n      if (key == '__proto__') {\n        return;\n      }\n\n      return object[key];\n    }\n\n    /**\n     * Sets metadata for `func`.\n     *\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\n     * period of time, it will trip its breaker and transition to an identity\n     * function to avoid garbage collection pauses in V8. See\n     * [V8 issue 2070](https://bugs.chromium.org/p/v8/issues/detail?id=2070)\n     * for more details.\n     *\n     * @private\n     * @param {Function} func The function to associate metadata with.\n     * @param {*} data The metadata.\n     * @returns {Function} Returns `func`.\n     */\n    var setData = shortOut(baseSetData);\n\n    /**\n     * A simple wrapper around the global [`setTimeout`](https://mdn.io/setTimeout).\n     *\n     * @private\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @returns {number|Object} Returns the timer id or timeout object.\n     */\n    var setTimeout = ctxSetTimeout || function(func, wait) {\n      return root.setTimeout(func, wait);\n    };\n\n    /**\n     * Sets the `toString` method of `func` to return `string`.\n     *\n     * @private\n     * @param {Function} func The function to modify.\n     * @param {Function} string The `toString` result.\n     * @returns {Function} Returns `func`.\n     */\n    var setToString = shortOut(baseSetToString);\n\n    /**\n     * Sets the `toString` method of `wrapper` to mimic the source of `reference`\n     * with wrapper details in a comment at the top of the source body.\n     *\n     * @private\n     * @param {Function} wrapper The function to modify.\n     * @param {Function} reference The reference function.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Function} Returns `wrapper`.\n     */\n    function setWrapToString(wrapper, reference, bitmask) {\n      var source = (reference + '');\n      return setToString(wrapper, insertWrapDetails(source, updateWrapDetails(getWrapDetails(source), bitmask)));\n    }\n\n    /**\n     * Creates a function that'll short out and invoke `identity` instead\n     * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n     * milliseconds.\n     *\n     * @private\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new shortable function.\n     */\n    function shortOut(func) {\n      var count = 0,\n          lastCalled = 0;\n\n      return function() {\n        var stamp = nativeNow(),\n            remaining = HOT_SPAN - (stamp - lastCalled);\n\n        lastCalled = stamp;\n        if (remaining > 0) {\n          if (++count >= HOT_COUNT) {\n            return arguments[0];\n          }\n        } else {\n          count = 0;\n        }\n        return func.apply(undefined, arguments);\n      };\n    }\n\n    /**\n     * A specialized version of `_.shuffle` which mutates and sets the size of `array`.\n     *\n     * @private\n     * @param {Array} array The array to shuffle.\n     * @param {number} [size=array.length] The size of `array`.\n     * @returns {Array} Returns `array`.\n     */\n    function shuffleSelf(array, size) {\n      var index = -1,\n          length = array.length,\n          lastIndex = length - 1;\n\n      size = size === undefined ? length : size;\n      while (++index < size) {\n        var rand = baseRandom(index, lastIndex),\n            value = array[rand];\n\n        array[rand] = array[index];\n        array[index] = value;\n      }\n      array.length = size;\n      return array;\n    }\n\n    /**\n     * Converts `string` to a property path array.\n     *\n     * @private\n     * @param {string} string The string to convert.\n     * @returns {Array} Returns the property path array.\n     */\n    var stringToPath = memoizeCapped(function(string) {\n      var result = [];\n      if (string.charCodeAt(0) === 46 /* . */) {\n        result.push('');\n      }\n      string.replace(rePropName, function(match, number, quote, subString) {\n        result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n      });\n      return result;\n    });\n\n    /**\n     * Converts `value` to a string key if it's not a string or symbol.\n     *\n     * @private\n     * @param {*} value The value to inspect.\n     * @returns {string|symbol} Returns the key.\n     */\n    function toKey(value) {\n      if (typeof value == 'string' || isSymbol(value)) {\n        return value;\n      }\n      var result = (value + '');\n      return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n    }\n\n    /**\n     * Converts `func` to its source code.\n     *\n     * @private\n     * @param {Function} func The function to convert.\n     * @returns {string} Returns the source code.\n     */\n    function toSource(func) {\n      if (func != null) {\n        try {\n          return funcToString.call(func);\n        } catch (e) {}\n        try {\n          return (func + '');\n        } catch (e) {}\n      }\n      return '';\n    }\n\n    /**\n     * Updates wrapper `details` based on `bitmask` flags.\n     *\n     * @private\n     * @returns {Array} details The details to modify.\n     * @param {number} bitmask The bitmask flags. See `createWrap` for more details.\n     * @returns {Array} Returns `details`.\n     */\n    function updateWrapDetails(details, bitmask) {\n      arrayEach(wrapFlags, function(pair) {\n        var value = '_.' + pair[0];\n        if ((bitmask & pair[1]) && !arrayIncludes(details, value)) {\n          details.push(value);\n        }\n      });\n      return details.sort();\n    }\n\n    /**\n     * Creates a clone of `wrapper`.\n     *\n     * @private\n     * @param {Object} wrapper The wrapper to clone.\n     * @returns {Object} Returns the cloned wrapper.\n     */\n    function wrapperClone(wrapper) {\n      if (wrapper instanceof LazyWrapper) {\n        return wrapper.clone();\n      }\n      var result = new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__);\n      result.__actions__ = copyArray(wrapper.__actions__);\n      result.__index__  = wrapper.__index__;\n      result.__values__ = wrapper.__values__;\n      return result;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an array of elements split into groups the length of `size`.\n     * If `array` can't be split evenly, the final chunk will be the remaining\n     * elements.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to process.\n     * @param {number} [size=1] The length of each chunk\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the new array of chunks.\n     * @example\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\n     * // => [['a', 'b'], ['c', 'd']]\n     *\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\n     * // => [['a', 'b', 'c'], ['d']]\n     */\n    function chunk(array, size, guard) {\n      if ((guard ? isIterateeCall(array, size, guard) : size === undefined)) {\n        size = 1;\n      } else {\n        size = nativeMax(toInteger(size), 0);\n      }\n      var length = array == null ? 0 : array.length;\n      if (!length || size < 1) {\n        return [];\n      }\n      var index = 0,\n          resIndex = 0,\n          result = Array(nativeCeil(length / size));\n\n      while (index < length) {\n        result[resIndex++] = baseSlice(array, index, (index += size));\n      }\n      return result;\n    }\n\n    /**\n     * Creates an array with all falsey values removed. The values `false`, `null`,\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to compact.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.compact([0, 1, false, 2, '', 3]);\n     * // => [1, 2, 3]\n     */\n    function compact(array) {\n      var index = -1,\n          length = array == null ? 0 : array.length,\n          resIndex = 0,\n          result = [];\n\n      while (++index < length) {\n        var value = array[index];\n        if (value) {\n          result[resIndex++] = value;\n        }\n      }\n      return result;\n    }\n\n    /**\n     * Creates a new array concatenating `array` with any additional arrays\n     * and/or values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to concatenate.\n     * @param {...*} [values] The values to concatenate.\n     * @returns {Array} Returns the new concatenated array.\n     * @example\n     *\n     * var array = [1];\n     * var other = _.concat(array, 2, [3], [[4]]);\n     *\n     * console.log(other);\n     * // => [1, 2, 3, [4]]\n     *\n     * console.log(array);\n     * // => [1]\n     */\n    function concat() {\n      var length = arguments.length;\n      if (!length) {\n        return [];\n      }\n      var args = Array(length - 1),\n          array = arguments[0],\n          index = length;\n\n      while (index--) {\n        args[index - 1] = arguments[index];\n      }\n      return arrayPush(isArray(array) ? copyArray(array) : [array], baseFlatten(args, 1));\n    }\n\n    /**\n     * Creates an array of `array` values not included in the other given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * **Note:** Unlike `_.pullAll`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.without, _.xor\n     * @example\n     *\n     * _.difference([2, 1], [2, 3]);\n     * // => [1]\n     */\n    var difference = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `iteratee` which\n     * is invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * **Note:** Unlike `_.pullAllBy`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.differenceBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.differenceBy([{ 'x': 2 }, { 'x': 1 }], [{ 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var differenceBy = baseRest(function(array, values) {\n      var iteratee = last(values);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.difference` except that it accepts `comparator`\n     * which is invoked to compare elements of `array` to `values`. The order and\n     * references of result values are determined by the first array. The comparator\n     * is invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.pullAllWith`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...Array} [values] The values to exclude.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     *\n     * _.differenceWith(objects, [{ 'x': 1, 'y': 2 }], _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }]\n     */\n    var differenceWith = baseRest(function(array, values) {\n      var comparator = last(values);\n      if (isArrayLikeObject(comparator)) {\n        comparator = undefined;\n      }\n      return isArrayLikeObject(array)\n        ? baseDifference(array, baseFlatten(values, 1, isArrayLikeObject, true), undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.drop([1, 2, 3]);\n     * // => [2, 3]\n     *\n     * _.drop([1, 2, 3], 2);\n     * // => [3]\n     *\n     * _.drop([1, 2, 3], 5);\n     * // => []\n     *\n     * _.drop([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function drop(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements dropped from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to drop.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.dropRight([1, 2, 3]);\n     * // => [1, 2]\n     *\n     * _.dropRight([1, 2, 3], 2);\n     * // => [1]\n     *\n     * _.dropRight([1, 2, 3], 5);\n     * // => []\n     *\n     * _.dropRight([1, 2, 3], 0);\n     * // => [1, 2, 3]\n     */\n    function dropRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the end.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.dropRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropRightWhile(users, ['active', false]);\n     * // => objects for ['barney']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropRightWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` excluding elements dropped from the beginning.\n     * Elements are dropped until `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.dropWhile(users, function(o) { return !o.active; });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.dropWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.dropWhile(users, ['active', false]);\n     * // => objects for ['pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.dropWhile(users, 'active');\n     * // => objects for ['barney', 'fred', 'pebbles']\n     */\n    function dropWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), true)\n        : [];\n    }\n\n    /**\n     * Fills elements of `array` with `value` from `start` up to, but not\n     * including, `end`.\n     *\n     * **Note:** This method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Array\n     * @param {Array} array The array to fill.\n     * @param {*} value The value to fill `array` with.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.fill(array, 'a');\n     * console.log(array);\n     * // => ['a', 'a', 'a']\n     *\n     * _.fill(Array(3), 2);\n     * // => [2, 2, 2]\n     *\n     * _.fill([4, 6, 8, 10], '*', 1, 3);\n     * // => [4, '*', '*', 10]\n     */\n    function fill(array, value, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\n        start = 0;\n        end = length;\n      }\n      return baseFill(array, value, start, end);\n    }\n\n    /**\n     * This method is like `_.find` except that it returns the index of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.findIndex(users, function(o) { return o.user == 'barney'; });\n     * // => 0\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\n     * // => 1\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findIndex(users, ['active', false]);\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findIndex(users, 'active');\n     * // => 2\n     */\n    function findIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index);\n    }\n\n    /**\n     * This method is like `_.findIndex` except that it iterates over elements\n     * of `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the found element, else `-1`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });\n     * // => 2\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\n     * // => 0\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastIndex(users, ['active', false]);\n     * // => 2\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastIndex(users, 'active');\n     * // => 0\n     */\n    function findLastIndex(array, predicate, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length - 1;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = fromIndex < 0\n          ? nativeMax(length + index, 0)\n          : nativeMin(index, length - 1);\n      }\n      return baseFindIndex(array, getIteratee(predicate, 3), index, true);\n    }\n\n    /**\n     * Flattens `array` a single level deep.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flatten([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, [3, [4]], 5]\n     */\n    function flatten(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, 1) : [];\n    }\n\n    /**\n     * Recursively flattens `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * _.flattenDeep([1, [2, [3, [4]], 5]]);\n     * // => [1, 2, 3, 4, 5]\n     */\n    function flattenDeep(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseFlatten(array, INFINITY) : [];\n    }\n\n    /**\n     * Recursively flatten `array` up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Array\n     * @param {Array} array The array to flatten.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * var array = [1, [2, [3, [4]], 5]];\n     *\n     * _.flattenDepth(array, 1);\n     * // => [1, 2, [3, [4]], 5]\n     *\n     * _.flattenDepth(array, 2);\n     * // => [1, 2, 3, [4], 5]\n     */\n    function flattenDepth(array, depth) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(array, depth);\n    }\n\n    /**\n     * The inverse of `_.toPairs`; this method returns an object composed\n     * from key-value `pairs`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} pairs The key-value pairs.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.fromPairs([['a', 1], ['b', 2]]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function fromPairs(pairs) {\n      var index = -1,\n          length = pairs == null ? 0 : pairs.length,\n          result = {};\n\n      while (++index < length) {\n        var pair = pairs[index];\n        result[pair[0]] = pair[1];\n      }\n      return result;\n    }\n\n    /**\n     * Gets the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias first\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the first element of `array`.\n     * @example\n     *\n     * _.head([1, 2, 3]);\n     * // => 1\n     *\n     * _.head([]);\n     * // => undefined\n     */\n    function head(array) {\n      return (array && array.length) ? array[0] : undefined;\n    }\n\n    /**\n     * Gets the index at which the first occurrence of `value` is found in `array`\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. If `fromIndex` is negative, it's used as the\n     * offset from the end of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.indexOf([1, 2, 1, 2], 2);\n     * // => 1\n     *\n     * // Search from the `fromIndex`.\n     * _.indexOf([1, 2, 1, 2], 2, 2);\n     * // => 3\n     */\n    function indexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = fromIndex == null ? 0 : toInteger(fromIndex);\n      if (index < 0) {\n        index = nativeMax(length + index, 0);\n      }\n      return baseIndexOf(array, value, index);\n    }\n\n    /**\n     * Gets all but the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.initial([1, 2, 3]);\n     * // => [1, 2]\n     */\n    function initial(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 0, -1) : [];\n    }\n\n    /**\n     * Creates an array of unique values that are included in all given arrays\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons. The order and references of result values are\n     * determined by the first array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersection([2, 1], [2, 3]);\n     * // => [2]\n     */\n    var intersection = baseRest(function(arrays) {\n      var mapped = arrayMap(arrays, castArrayLikeObject);\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped)\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `iteratee`\n     * which is invoked for each element of each `arrays` to generate the criterion\n     * by which they're compared. The order and references of result values are\n     * determined by the first array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * _.intersectionBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [2.1]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.intersectionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }]\n     */\n    var intersectionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      if (iteratee === last(mapped)) {\n        iteratee = undefined;\n      } else {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, getIteratee(iteratee, 2))\n        : [];\n    });\n\n    /**\n     * This method is like `_.intersection` except that it accepts `comparator`\n     * which is invoked to compare elements of `arrays`. The order and references\n     * of result values are determined by the first array. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of intersecting values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.intersectionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }]\n     */\n    var intersectionWith = baseRest(function(arrays) {\n      var comparator = last(arrays),\n          mapped = arrayMap(arrays, castArrayLikeObject);\n\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      if (comparator) {\n        mapped.pop();\n      }\n      return (mapped.length && mapped[0] === arrays[0])\n        ? baseIntersection(mapped, undefined, comparator)\n        : [];\n    });\n\n    /**\n     * Converts all elements in `array` into a string separated by `separator`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to convert.\n     * @param {string} [separator=','] The element separator.\n     * @returns {string} Returns the joined string.\n     * @example\n     *\n     * _.join(['a', 'b', 'c'], '~');\n     * // => 'a~b~c'\n     */\n    function join(array, separator) {\n      return array == null ? '' : nativeJoin.call(array, separator);\n    }\n\n    /**\n     * Gets the last element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {*} Returns the last element of `array`.\n     * @example\n     *\n     * _.last([1, 2, 3]);\n     * // => 3\n     */\n    function last(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? array[length - 1] : undefined;\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it iterates over elements of\n     * `array` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=array.length-1] The index to search from.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.lastIndexOf([1, 2, 1, 2], 2);\n     * // => 3\n     *\n     * // Search from the `fromIndex`.\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\n     * // => 1\n     */\n    function lastIndexOf(array, value, fromIndex) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return -1;\n      }\n      var index = length;\n      if (fromIndex !== undefined) {\n        index = toInteger(fromIndex);\n        index = index < 0 ? nativeMax(length + index, 0) : nativeMin(index, length - 1);\n      }\n      return value === value\n        ? strictLastIndexOf(array, value, index)\n        : baseFindIndex(array, baseIsNaN, index, true);\n    }\n\n    /**\n     * Gets the element at index `n` of `array`. If `n` is negative, the nth\n     * element from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.11.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=0] The index of the element to return.\n     * @returns {*} Returns the nth element of `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     *\n     * _.nth(array, 1);\n     * // => 'b'\n     *\n     * _.nth(array, -2);\n     * // => 'c';\n     */\n    function nth(array, n) {\n      return (array && array.length) ? baseNth(array, toInteger(n)) : undefined;\n    }\n\n    /**\n     * Removes all given values from `array` using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.without`, this method mutates `array`. Use `_.remove`\n     * to remove elements from an array by predicate.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...*} [values] The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pull(array, 'a', 'c');\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    var pull = baseRest(pullAll);\n\n    /**\n     * This method is like `_.pull` except that it accepts an array of values to remove.\n     *\n     * **Note:** Unlike `_.difference`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'a', 'b', 'c'];\n     *\n     * _.pullAll(array, ['a', 'c']);\n     * console.log(array);\n     * // => ['b', 'b']\n     */\n    function pullAll(array, values) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values)\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `iteratee` which is\n     * invoked for each element of `array` and `values` to generate the criterion\n     * by which they're compared. The iteratee is invoked with one argument: (value).\n     *\n     * **Note:** Unlike `_.differenceBy`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1 }, { 'x': 2 }, { 'x': 3 }, { 'x': 1 }];\n     *\n     * _.pullAllBy(array, [{ 'x': 1 }, { 'x': 3 }], 'x');\n     * console.log(array);\n     * // => [{ 'x': 2 }]\n     */\n    function pullAllBy(array, values, iteratee) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, getIteratee(iteratee, 2))\n        : array;\n    }\n\n    /**\n     * This method is like `_.pullAll` except that it accepts `comparator` which\n     * is invoked to compare elements of `array` to `values`. The comparator is\n     * invoked with two arguments: (arrVal, othVal).\n     *\n     * **Note:** Unlike `_.differenceWith`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Array} values The values to remove.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [{ 'x': 1, 'y': 2 }, { 'x': 3, 'y': 4 }, { 'x': 5, 'y': 6 }];\n     *\n     * _.pullAllWith(array, [{ 'x': 3, 'y': 4 }], _.isEqual);\n     * console.log(array);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 5, 'y': 6 }]\n     */\n    function pullAllWith(array, values, comparator) {\n      return (array && array.length && values && values.length)\n        ? basePullAll(array, values, undefined, comparator)\n        : array;\n    }\n\n    /**\n     * Removes elements from `array` corresponding to `indexes` and returns an\n     * array of removed elements.\n     *\n     * **Note:** Unlike `_.at`, this method mutates `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = ['a', 'b', 'c', 'd'];\n     * var pulled = _.pullAt(array, [1, 3]);\n     *\n     * console.log(array);\n     * // => ['a', 'c']\n     *\n     * console.log(pulled);\n     * // => ['b', 'd']\n     */\n    var pullAt = flatRest(function(array, indexes) {\n      var length = array == null ? 0 : array.length,\n          result = baseAt(array, indexes);\n\n      basePullAt(array, arrayMap(indexes, function(index) {\n        return isIndex(index, length) ? +index : index;\n      }).sort(compareAscending));\n\n      return result;\n    });\n\n    /**\n     * Removes all elements from `array` that `predicate` returns truthy for\n     * and returns an array of the removed elements. The predicate is invoked\n     * with three arguments: (value, index, array).\n     *\n     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`\n     * to pull elements from an array by value.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new array of removed elements.\n     * @example\n     *\n     * var array = [1, 2, 3, 4];\n     * var evens = _.remove(array, function(n) {\n     *   return n % 2 == 0;\n     * });\n     *\n     * console.log(array);\n     * // => [1, 3]\n     *\n     * console.log(evens);\n     * // => [2, 4]\n     */\n    function remove(array, predicate) {\n      var result = [];\n      if (!(array && array.length)) {\n        return result;\n      }\n      var index = -1,\n          indexes = [],\n          length = array.length;\n\n      predicate = getIteratee(predicate, 3);\n      while (++index < length) {\n        var value = array[index];\n        if (predicate(value, index, array)) {\n          result.push(value);\n          indexes.push(index);\n        }\n      }\n      basePullAt(array, indexes);\n      return result;\n    }\n\n    /**\n     * Reverses `array` so that the first element becomes the last, the second\n     * element becomes the second to last, and so on.\n     *\n     * **Note:** This method mutates `array` and is based on\n     * [`Array#reverse`](https://mdn.io/Array/reverse).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to modify.\n     * @returns {Array} Returns `array`.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _.reverse(array);\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function reverse(array) {\n      return array == null ? array : nativeReverse.call(array);\n    }\n\n    /**\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\n     *\n     * **Note:** This method is used instead of\n     * [`Array#slice`](https://mdn.io/Array/slice) to ensure dense arrays are\n     * returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to slice.\n     * @param {number} [start=0] The start position.\n     * @param {number} [end=array.length] The end position.\n     * @returns {Array} Returns the slice of `array`.\n     */\n    function slice(array, start, end) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\n        start = 0;\n        end = length;\n      }\n      else {\n        start = start == null ? 0 : toInteger(start);\n        end = end === undefined ? length : toInteger(end);\n      }\n      return baseSlice(array, start, end);\n    }\n\n    /**\n     * Uses a binary search to determine the lowest index at which `value`\n     * should be inserted into `array` in order to maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedIndex([30, 50], 40);\n     * // => 1\n     */\n    function sortedIndex(array, value) {\n      return baseSortedIndex(array, value);\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 0\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 0\n     */\n    function sortedIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * This method is like `_.indexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 1\n     */\n    function sortedIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value);\n        if (index < length && eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.sortedIndex` except that it returns the highest\n     * index at which `value` should be inserted into `array` in order to\n     * maintain its sort order.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * _.sortedLastIndex([4, 5, 5, 5, 6], 5);\n     * // => 4\n     */\n    function sortedLastIndex(array, value) {\n      return baseSortedIndex(array, value, true);\n    }\n\n    /**\n     * This method is like `_.sortedLastIndex` except that it accepts `iteratee`\n     * which is invoked for `value` and each element of `array` to compute their\n     * sort ranking. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The sorted array to inspect.\n     * @param {*} value The value to evaluate.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the index at which `value` should be inserted\n     *  into `array`.\n     * @example\n     *\n     * var objects = [{ 'x': 4 }, { 'x': 5 }];\n     *\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, function(o) { return o.x; });\n     * // => 1\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sortedLastIndexBy(objects, { 'x': 4 }, 'x');\n     * // => 1\n     */\n    function sortedLastIndexBy(array, value, iteratee) {\n      return baseSortedIndexBy(array, value, getIteratee(iteratee, 2), true);\n    }\n\n    /**\n     * This method is like `_.lastIndexOf` except that it performs a binary\n     * search on a sorted `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {*} value The value to search for.\n     * @returns {number} Returns the index of the matched value, else `-1`.\n     * @example\n     *\n     * _.sortedLastIndexOf([4, 5, 5, 5, 6], 5);\n     * // => 3\n     */\n    function sortedLastIndexOf(array, value) {\n      var length = array == null ? 0 : array.length;\n      if (length) {\n        var index = baseSortedIndex(array, value, true) - 1;\n        if (eq(array[index], value)) {\n          return index;\n        }\n      }\n      return -1;\n    }\n\n    /**\n     * This method is like `_.uniq` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniq([1, 1, 2]);\n     * // => [1, 2]\n     */\n    function sortedUniq(array) {\n      return (array && array.length)\n        ? baseSortedUniq(array)\n        : [];\n    }\n\n    /**\n     * This method is like `_.uniqBy` except that it's designed and optimized\n     * for sorted arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.sortedUniqBy([1.1, 1.2, 2.3, 2.4], Math.floor);\n     * // => [1.1, 2.3]\n     */\n    function sortedUniqBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSortedUniq(array, getIteratee(iteratee, 2))\n        : [];\n    }\n\n    /**\n     * Gets all but the first element of `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.tail([1, 2, 3]);\n     * // => [2, 3]\n     */\n    function tail(array) {\n      var length = array == null ? 0 : array.length;\n      return length ? baseSlice(array, 1, length) : [];\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the beginning.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.take([1, 2, 3]);\n     * // => [1]\n     *\n     * _.take([1, 2, 3], 2);\n     * // => [1, 2]\n     *\n     * _.take([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.take([1, 2, 3], 0);\n     * // => []\n     */\n    function take(array, n, guard) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      return baseSlice(array, 0, n < 0 ? 0 : n);\n    }\n\n    /**\n     * Creates a slice of `array` with `n` elements taken from the end.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {number} [n=1] The number of elements to take.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * _.takeRight([1, 2, 3]);\n     * // => [3]\n     *\n     * _.takeRight([1, 2, 3], 2);\n     * // => [2, 3]\n     *\n     * _.takeRight([1, 2, 3], 5);\n     * // => [1, 2, 3]\n     *\n     * _.takeRight([1, 2, 3], 0);\n     * // => []\n     */\n    function takeRight(array, n, guard) {\n      var length = array == null ? 0 : array.length;\n      if (!length) {\n        return [];\n      }\n      n = (guard || n === undefined) ? 1 : toInteger(n);\n      n = length - n;\n      return baseSlice(array, n < 0 ? 0 : n, length);\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the end. Elements are\n     * taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': true },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': false }\n     * ];\n     *\n     * _.takeRightWhile(users, function(o) { return !o.active; });\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeRightWhile(users, { 'user': 'pebbles', 'active': false });\n     * // => objects for ['pebbles']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeRightWhile(users, ['active', false]);\n     * // => objects for ['fred', 'pebbles']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeRightWhile(users, 'active');\n     * // => []\n     */\n    function takeRightWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3), false, true)\n        : [];\n    }\n\n    /**\n     * Creates a slice of `array` with elements taken from the beginning. Elements\n     * are taken until `predicate` returns falsey. The predicate is invoked with\n     * three arguments: (value, index, array).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Array\n     * @param {Array} array The array to query.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the slice of `array`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'active': false },\n     *   { 'user': 'fred',    'active': false },\n     *   { 'user': 'pebbles', 'active': true }\n     * ];\n     *\n     * _.takeWhile(users, function(o) { return !o.active; });\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.takeWhile(users, { 'user': 'barney', 'active': false });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.takeWhile(users, ['active', false]);\n     * // => objects for ['barney', 'fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.takeWhile(users, 'active');\n     * // => []\n     */\n    function takeWhile(array, predicate) {\n      return (array && array.length)\n        ? baseWhile(array, getIteratee(predicate, 3))\n        : [];\n    }\n\n    /**\n     * Creates an array of unique values, in order, from all given arrays using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.union([2], [1, 2]);\n     * // => [2, 1]\n     */\n    var union = baseRest(function(arrays) {\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which uniqueness is computed. Result values are chosen from the first\n     * array in which the value occurs. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * _.unionBy([2.1], [1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.unionBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    var unionBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.union` except that it accepts `comparator` which\n     * is invoked to compare elements of `arrays`. Result values are chosen from\n     * the first array in which the value occurs. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of combined values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.unionWith(objects, others, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var unionWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseUniq(baseFlatten(arrays, 1, isArrayLikeObject, true), undefined, comparator);\n    });\n\n    /**\n     * Creates a duplicate-free version of an array, using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons, in which only the first occurrence of each element\n     * is kept. The order of result values is determined by the order they occur\n     * in the array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniq([2, 1, 2]);\n     * // => [2, 1]\n     */\n    function uniq(array) {\n      return (array && array.length) ? baseUniq(array) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * uniqueness is computed. The order of result values is determined by the\n     * order they occur in the array. The iteratee is invoked with one argument:\n     * (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * _.uniqBy([2.1, 1.2, 2.3], Math.floor);\n     * // => [2.1, 1.2]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.uniqBy([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 1 }, { 'x': 2 }]\n     */\n    function uniqBy(array, iteratee) {\n      return (array && array.length) ? baseUniq(array, getIteratee(iteratee, 2)) : [];\n    }\n\n    /**\n     * This method is like `_.uniq` except that it accepts `comparator` which\n     * is invoked to compare elements of `array`. The order of result values is\n     * determined by the order they occur in the array.The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new duplicate free array.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.uniqWith(objects, _.isEqual);\n     * // => [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }]\n     */\n    function uniqWith(array, comparator) {\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return (array && array.length) ? baseUniq(array, undefined, comparator) : [];\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts an array of grouped\n     * elements and creates an array regrouping the elements to their pre-zip\n     * configuration.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.2.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     *\n     * _.unzip(zipped);\n     * // => [['a', 'b'], [1, 2], [true, false]]\n     */\n    function unzip(array) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var length = 0;\n      array = arrayFilter(array, function(group) {\n        if (isArrayLikeObject(group)) {\n          length = nativeMax(group.length, length);\n          return true;\n        }\n      });\n      return baseTimes(length, function(index) {\n        return arrayMap(array, baseProperty(index));\n      });\n    }\n\n    /**\n     * This method is like `_.unzip` except that it accepts `iteratee` to specify\n     * how regrouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {Array} array The array of grouped elements to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  regrouped values.\n     * @returns {Array} Returns the new array of regrouped elements.\n     * @example\n     *\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\n     * // => [[1, 10, 100], [2, 20, 200]]\n     *\n     * _.unzipWith(zipped, _.add);\n     * // => [3, 30, 300]\n     */\n    function unzipWith(array, iteratee) {\n      if (!(array && array.length)) {\n        return [];\n      }\n      var result = unzip(array);\n      if (iteratee == null) {\n        return result;\n      }\n      return arrayMap(result, function(group) {\n        return apply(iteratee, undefined, group);\n      });\n    }\n\n    /**\n     * Creates an array excluding all given values using\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * for equality comparisons.\n     *\n     * **Note:** Unlike `_.pull`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {Array} array The array to inspect.\n     * @param {...*} [values] The values to exclude.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.xor\n     * @example\n     *\n     * _.without([2, 1, 2, 3], 1, 2);\n     * // => [3]\n     */\n    var without = baseRest(function(array, values) {\n      return isArrayLikeObject(array)\n        ? baseDifference(array, values)\n        : [];\n    });\n\n    /**\n     * Creates an array of unique values that is the\n     * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n     * of the given arrays. The order of result values is determined by the order\n     * they occur in the arrays.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @returns {Array} Returns the new array of filtered values.\n     * @see _.difference, _.without\n     * @example\n     *\n     * _.xor([2, 1], [2, 3]);\n     * // => [1, 3]\n     */\n    var xor = baseRest(function(arrays) {\n      return baseXor(arrayFilter(arrays, isArrayLikeObject));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `iteratee` which is\n     * invoked for each element of each `arrays` to generate the criterion by\n     * which by which they're compared. The order of result values is determined\n     * by the order they occur in the arrays. The iteratee is invoked with one\n     * argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * _.xorBy([2.1, 1.2], [2.3, 3.4], Math.floor);\n     * // => [1.2, 3.4]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.xorBy([{ 'x': 1 }], [{ 'x': 2 }, { 'x': 1 }], 'x');\n     * // => [{ 'x': 2 }]\n     */\n    var xorBy = baseRest(function(arrays) {\n      var iteratee = last(arrays);\n      if (isArrayLikeObject(iteratee)) {\n        iteratee = undefined;\n      }\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), getIteratee(iteratee, 2));\n    });\n\n    /**\n     * This method is like `_.xor` except that it accepts `comparator` which is\n     * invoked to compare elements of `arrays`. The order of result values is\n     * determined by the order they occur in the arrays. The comparator is invoked\n     * with two arguments: (arrVal, othVal).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to inspect.\n     * @param {Function} [comparator] The comparator invoked per element.\n     * @returns {Array} Returns the new array of filtered values.\n     * @example\n     *\n     * var objects = [{ 'x': 1, 'y': 2 }, { 'x': 2, 'y': 1 }];\n     * var others = [{ 'x': 1, 'y': 1 }, { 'x': 1, 'y': 2 }];\n     *\n     * _.xorWith(objects, others, _.isEqual);\n     * // => [{ 'x': 2, 'y': 1 }, { 'x': 1, 'y': 1 }]\n     */\n    var xorWith = baseRest(function(arrays) {\n      var comparator = last(arrays);\n      comparator = typeof comparator == 'function' ? comparator : undefined;\n      return baseXor(arrayFilter(arrays, isArrayLikeObject), undefined, comparator);\n    });\n\n    /**\n     * Creates an array of grouped elements, the first of which contains the\n     * first elements of the given arrays, the second of which contains the\n     * second elements of the given arrays, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zip(['a', 'b'], [1, 2], [true, false]);\n     * // => [['a', 1, true], ['b', 2, false]]\n     */\n    var zip = baseRest(unzip);\n\n    /**\n     * This method is like `_.fromPairs` except that it accepts two arrays,\n     * one of property identifiers and one of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.4.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObject(['a', 'b'], [1, 2]);\n     * // => { 'a': 1, 'b': 2 }\n     */\n    function zipObject(props, values) {\n      return baseZipObject(props || [], values || [], assignValue);\n    }\n\n    /**\n     * This method is like `_.zipObject` except that it supports property paths.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Array\n     * @param {Array} [props=[]] The property identifiers.\n     * @param {Array} [values=[]] The property values.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * _.zipObjectDeep(['a.b[0].c', 'a.b[1].d'], [1, 2]);\n     * // => { 'a': { 'b': [{ 'c': 1 }, { 'd': 2 }] } }\n     */\n    function zipObjectDeep(props, values) {\n      return baseZipObject(props || [], values || [], baseSet);\n    }\n\n    /**\n     * This method is like `_.zip` except that it accepts `iteratee` to specify\n     * how grouped values should be combined. The iteratee is invoked with the\n     * elements of each group: (...group).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Array\n     * @param {...Array} [arrays] The arrays to process.\n     * @param {Function} [iteratee=_.identity] The function to combine\n     *  grouped values.\n     * @returns {Array} Returns the new array of grouped elements.\n     * @example\n     *\n     * _.zipWith([1, 2], [10, 20], [100, 200], function(a, b, c) {\n     *   return a + b + c;\n     * });\n     * // => [111, 222]\n     */\n    var zipWith = baseRest(function(arrays) {\n      var length = arrays.length,\n          iteratee = length > 1 ? arrays[length - 1] : undefined;\n\n      iteratee = typeof iteratee == 'function' ? (arrays.pop(), iteratee) : undefined;\n      return unzipWith(arrays, iteratee);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates a `lodash` wrapper instance that wraps `value` with explicit method\n     * chain sequences enabled. The result of such sequences must be unwrapped\n     * with `_#value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Seq\n     * @param {*} value The value to wrap.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36 },\n     *   { 'user': 'fred',    'age': 40 },\n     *   { 'user': 'pebbles', 'age': 1 }\n     * ];\n     *\n     * var youngest = _\n     *   .chain(users)\n     *   .sortBy('age')\n     *   .map(function(o) {\n     *     return o.user + ' is ' + o.age;\n     *   })\n     *   .head()\n     *   .value();\n     * // => 'pebbles is 1'\n     */\n    function chain(value) {\n      var result = lodash(value);\n      result.__chain__ = true;\n      return result;\n    }\n\n    /**\n     * This method invokes `interceptor` and returns `value`. The interceptor\n     * is invoked with one argument; (value). The purpose of this method is to\n     * \"tap into\" a method chain sequence in order to modify intermediate results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * _([1, 2, 3])\n     *  .tap(function(array) {\n     *    // Mutate input array.\n     *    array.pop();\n     *  })\n     *  .reverse()\n     *  .value();\n     * // => [2, 1]\n     */\n    function tap(value, interceptor) {\n      interceptor(value);\n      return value;\n    }\n\n    /**\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\n     * The purpose of this method is to \"pass thru\" values replacing intermediate\n     * results in a method chain sequence.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Seq\n     * @param {*} value The value to provide to `interceptor`.\n     * @param {Function} interceptor The function to invoke.\n     * @returns {*} Returns the result of `interceptor`.\n     * @example\n     *\n     * _('  abc  ')\n     *  .chain()\n     *  .trim()\n     *  .thru(function(value) {\n     *    return [value];\n     *  })\n     *  .value();\n     * // => ['abc']\n     */\n    function thru(value, interceptor) {\n      return interceptor(value);\n    }\n\n    /**\n     * This method is the wrapper version of `_.at`.\n     *\n     * @name at\n     * @memberOf _\n     * @since 1.0.0\n     * @category Seq\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _(object).at(['a[0].b.c', 'a[1]']).value();\n     * // => [3, 4]\n     */\n    var wrapperAt = flatRest(function(paths) {\n      var length = paths.length,\n          start = length ? paths[0] : 0,\n          value = this.__wrapped__,\n          interceptor = function(object) { return baseAt(object, paths); };\n\n      if (length > 1 || this.__actions__.length ||\n          !(value instanceof LazyWrapper) || !isIndex(start)) {\n        return this.thru(interceptor);\n      }\n      value = value.slice(start, +start + (length ? 1 : 0));\n      value.__actions__.push({\n        'func': thru,\n        'args': [interceptor],\n        'thisArg': undefined\n      });\n      return new LodashWrapper(value, this.__chain__).thru(function(array) {\n        if (length && !array.length) {\n          array.push(undefined);\n        }\n        return array;\n      });\n    });\n\n    /**\n     * Creates a `lodash` wrapper instance with explicit method chain sequences enabled.\n     *\n     * @name chain\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 40 }\n     * ];\n     *\n     * // A sequence without explicit chaining.\n     * _(users).head();\n     * // => { 'user': 'barney', 'age': 36 }\n     *\n     * // A sequence with explicit chaining.\n     * _(users)\n     *   .chain()\n     *   .head()\n     *   .pick('user')\n     *   .value();\n     * // => { 'user': 'barney' }\n     */\n    function wrapperChain() {\n      return chain(this);\n    }\n\n    /**\n     * Executes the chain sequence and returns the wrapped result.\n     *\n     * @name commit\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2];\n     * var wrapped = _(array).push(3);\n     *\n     * console.log(array);\n     * // => [1, 2]\n     *\n     * wrapped = wrapped.commit();\n     * console.log(array);\n     * // => [1, 2, 3]\n     *\n     * wrapped.last();\n     * // => 3\n     *\n     * console.log(array);\n     * // => [1, 2, 3]\n     */\n    function wrapperCommit() {\n      return new LodashWrapper(this.value(), this.__chain__);\n    }\n\n    /**\n     * Gets the next value on a wrapped object following the\n     * [iterator protocol](https://mdn.io/iteration_protocols#iterator).\n     *\n     * @name next\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the next iterator value.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 1 }\n     *\n     * wrapped.next();\n     * // => { 'done': false, 'value': 2 }\n     *\n     * wrapped.next();\n     * // => { 'done': true, 'value': undefined }\n     */\n    function wrapperNext() {\n      if (this.__values__ === undefined) {\n        this.__values__ = toArray(this.value());\n      }\n      var done = this.__index__ >= this.__values__.length,\n          value = done ? undefined : this.__values__[this.__index__++];\n\n      return { 'done': done, 'value': value };\n    }\n\n    /**\n     * Enables the wrapper to be iterable.\n     *\n     * @name Symbol.iterator\n     * @memberOf _\n     * @since 4.0.0\n     * @category Seq\n     * @returns {Object} Returns the wrapper object.\n     * @example\n     *\n     * var wrapped = _([1, 2]);\n     *\n     * wrapped[Symbol.iterator]() === wrapped;\n     * // => true\n     *\n     * Array.from(wrapped);\n     * // => [1, 2]\n     */\n    function wrapperToIterator() {\n      return this;\n    }\n\n    /**\n     * Creates a clone of the chain sequence planting `value` as the wrapped value.\n     *\n     * @name plant\n     * @memberOf _\n     * @since 3.2.0\n     * @category Seq\n     * @param {*} value The value to plant.\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var wrapped = _([1, 2]).map(square);\n     * var other = wrapped.plant([3, 4]);\n     *\n     * other.value();\n     * // => [9, 16]\n     *\n     * wrapped.value();\n     * // => [1, 4]\n     */\n    function wrapperPlant(value) {\n      var result,\n          parent = this;\n\n      while (parent instanceof baseLodash) {\n        var clone = wrapperClone(parent);\n        clone.__index__ = 0;\n        clone.__values__ = undefined;\n        if (result) {\n          previous.__wrapped__ = clone;\n        } else {\n          result = clone;\n        }\n        var previous = clone;\n        parent = parent.__wrapped__;\n      }\n      previous.__wrapped__ = value;\n      return result;\n    }\n\n    /**\n     * This method is the wrapper version of `_.reverse`.\n     *\n     * **Note:** This method mutates the wrapped array.\n     *\n     * @name reverse\n     * @memberOf _\n     * @since 0.1.0\n     * @category Seq\n     * @returns {Object} Returns the new `lodash` wrapper instance.\n     * @example\n     *\n     * var array = [1, 2, 3];\n     *\n     * _(array).reverse().value()\n     * // => [3, 2, 1]\n     *\n     * console.log(array);\n     * // => [3, 2, 1]\n     */\n    function wrapperReverse() {\n      var value = this.__wrapped__;\n      if (value instanceof LazyWrapper) {\n        var wrapped = value;\n        if (this.__actions__.length) {\n          wrapped = new LazyWrapper(this);\n        }\n        wrapped = wrapped.reverse();\n        wrapped.__actions__.push({\n          'func': thru,\n          'args': [reverse],\n          'thisArg': undefined\n        });\n        return new LodashWrapper(wrapped, this.__chain__);\n      }\n      return this.thru(reverse);\n    }\n\n    /**\n     * Executes the chain sequence to resolve the unwrapped value.\n     *\n     * @name value\n     * @memberOf _\n     * @since 0.1.0\n     * @alias toJSON, valueOf\n     * @category Seq\n     * @returns {*} Returns the resolved unwrapped value.\n     * @example\n     *\n     * _([1, 2, 3]).value();\n     * // => [1, 2, 3]\n     */\n    function wrapperValue() {\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the number of times the key was returned by `iteratee`. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.countBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': 1, '6': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.countBy(['one', 'two', 'three'], 'length');\n     * // => { '3': 2, '5': 1 }\n     */\n    var countBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        ++result[key];\n      } else {\n        baseAssignValue(result, key, 1);\n      }\n    });\n\n    /**\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\n     * Iteration is stopped once `predicate` returns falsey. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * **Note:** This method returns `true` for\n     * [empty collections](https://en.wikipedia.org/wiki/Empty_set) because\n     * [everything is true](https://en.wikipedia.org/wiki/Vacuous_truth) of\n     * elements of empty collections.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.every([true, 1, null, 'yes'], Boolean);\n     * // => false\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.every(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.every(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.every(users, 'active');\n     * // => false\n     */\n    function every(collection, predicate, guard) {\n      var func = isArray(collection) ? arrayEvery : baseEvery;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning an array of all elements\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * **Note:** Unlike `_.remove`, this method returns a new array.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.reject\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * _.filter(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, { 'age': 36, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.filter(users, 'active');\n     * // => objects for ['barney']\n     *\n     * // Combining several predicates using `_.overEvery` or `_.overSome`.\n     * _.filter(users, _.overSome([{ 'age': 36 }, ['age', 40]]));\n     * // => objects for ['fred', 'barney']\n     */\n    function filter(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Iterates over elements of `collection`, returning the first element\n     * `predicate` returns truthy for. The predicate is invoked with three\n     * arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': true },\n     *   { 'user': 'fred',    'age': 40, 'active': false },\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\n     * ];\n     *\n     * _.find(users, function(o) { return o.age < 40; });\n     * // => object for 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.find(users, { 'age': 1, 'active': true });\n     * // => object for 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.find(users, ['active', false]);\n     * // => object for 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.find(users, 'active');\n     * // => object for 'barney'\n     */\n    var find = createFind(findIndex);\n\n    /**\n     * This method is like `_.find` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param {number} [fromIndex=collection.length-1] The index to search from.\n     * @returns {*} Returns the matched element, else `undefined`.\n     * @example\n     *\n     * _.findLast([1, 2, 3, 4], function(n) {\n     *   return n % 2 == 1;\n     * });\n     * // => 3\n     */\n    var findLast = createFind(findLastIndex);\n\n    /**\n     * Creates a flattened array of values by running each element in `collection`\n     * thru `iteratee` and flattening the mapped results. The iteratee is invoked\n     * with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [n, n];\n     * }\n     *\n     * _.flatMap([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMap(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), 1);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDeep([1, 2], duplicate);\n     * // => [1, 1, 2, 2]\n     */\n    function flatMapDeep(collection, iteratee) {\n      return baseFlatten(map(collection, iteratee), INFINITY);\n    }\n\n    /**\n     * This method is like `_.flatMap` except that it recursively flattens the\n     * mapped results up to `depth` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {number} [depth=1] The maximum recursion depth.\n     * @returns {Array} Returns the new flattened array.\n     * @example\n     *\n     * function duplicate(n) {\n     *   return [[[n, n]]];\n     * }\n     *\n     * _.flatMapDepth([1, 2], duplicate, 2);\n     * // => [[1, 1], [2, 2]]\n     */\n    function flatMapDepth(collection, iteratee, depth) {\n      depth = depth === undefined ? 1 : toInteger(depth);\n      return baseFlatten(map(collection, iteratee), depth);\n    }\n\n    /**\n     * Iterates over elements of `collection` and invokes `iteratee` for each element.\n     * The iteratee is invoked with three arguments: (value, index|key, collection).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n     * property are iterated like arrays. To avoid this behavior use `_.forIn`\n     * or `_.forOwn` for object iteration.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @alias each\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEachRight\n     * @example\n     *\n     * _.forEach([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `1` then `2`.\n     *\n     * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forEach(collection, iteratee) {\n      var func = isArray(collection) ? arrayEach : baseEach;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forEach` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @alias eachRight\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array|Object} Returns `collection`.\n     * @see _.forEach\n     * @example\n     *\n     * _.forEachRight([1, 2], function(value) {\n     *   console.log(value);\n     * });\n     * // => Logs `2` then `1`.\n     */\n    function forEachRight(collection, iteratee) {\n      var func = isArray(collection) ? arrayEachRight : baseEachRight;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The order of grouped values\n     * is determined by the order they occur in `collection`. The corresponding\n     * value of each key is an array of elements responsible for generating the\n     * key. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * _.groupBy([6.1, 4.2, 6.3], Math.floor);\n     * // => { '4': [4.2], '6': [6.1, 6.3] }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.groupBy(['one', 'two', 'three'], 'length');\n     * // => { '3': ['one', 'two'], '5': ['three'] }\n     */\n    var groupBy = createAggregator(function(result, value, key) {\n      if (hasOwnProperty.call(result, key)) {\n        result[key].push(value);\n      } else {\n        baseAssignValue(result, key, [value]);\n      }\n    });\n\n    /**\n     * Checks if `value` is in `collection`. If `collection` is a string, it's\n     * checked for a substring of `value`, otherwise\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * is used for equality comparisons. If `fromIndex` is negative, it's used as\n     * the offset from the end of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @param {*} value The value to search for.\n     * @param {number} [fromIndex=0] The index to search from.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {boolean} Returns `true` if `value` is found, else `false`.\n     * @example\n     *\n     * _.includes([1, 2, 3], 1);\n     * // => true\n     *\n     * _.includes([1, 2, 3], 1, 2);\n     * // => false\n     *\n     * _.includes({ 'a': 1, 'b': 2 }, 1);\n     * // => true\n     *\n     * _.includes('abcd', 'bc');\n     * // => true\n     */\n    function includes(collection, value, fromIndex, guard) {\n      collection = isArrayLike(collection) ? collection : values(collection);\n      fromIndex = (fromIndex && !guard) ? toInteger(fromIndex) : 0;\n\n      var length = collection.length;\n      if (fromIndex < 0) {\n        fromIndex = nativeMax(length + fromIndex, 0);\n      }\n      return isString(collection)\n        ? (fromIndex <= length && collection.indexOf(value, fromIndex) > -1)\n        : (!!length && baseIndexOf(collection, value, fromIndex) > -1);\n    }\n\n    /**\n     * Invokes the method at `path` of each element in `collection`, returning\n     * an array of the results of each invoked method. Any additional arguments\n     * are provided to each invoked method. If `path` is a function, it's invoked\n     * for, and `this` bound to, each element in `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array|Function|string} path The path of the method to invoke or\n     *  the function invoked per iteration.\n     * @param {...*} [args] The arguments to invoke each method with.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.invokeMap([[5, 1, 7], [3, 2, 1]], 'sort');\n     * // => [[1, 5, 7], [1, 2, 3]]\n     *\n     * _.invokeMap([123, 456], String.prototype.split, '');\n     * // => [['1', '2', '3'], ['4', '5', '6']]\n     */\n    var invokeMap = baseRest(function(collection, path, args) {\n      var index = -1,\n          isFunc = typeof path == 'function',\n          result = isArrayLike(collection) ? Array(collection.length) : [];\n\n      baseEach(collection, function(value) {\n        result[++index] = isFunc ? apply(path, value, args) : baseInvoke(value, path, args);\n      });\n      return result;\n    });\n\n    /**\n     * Creates an object composed of keys generated from the results of running\n     * each element of `collection` thru `iteratee`. The corresponding value of\n     * each key is the last element responsible for generating the key. The\n     * iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee to transform keys.\n     * @returns {Object} Returns the composed aggregate object.\n     * @example\n     *\n     * var array = [\n     *   { 'dir': 'left', 'code': 97 },\n     *   { 'dir': 'right', 'code': 100 }\n     * ];\n     *\n     * _.keyBy(array, function(o) {\n     *   return String.fromCharCode(o.code);\n     * });\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\n     *\n     * _.keyBy(array, 'dir');\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\n     */\n    var keyBy = createAggregator(function(result, value, key) {\n      baseAssignValue(result, key, value);\n    });\n\n    /**\n     * Creates an array of values by running each element in `collection` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n     *\n     * The guarded methods are:\n     * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n     * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n     * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n     * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new mapped array.\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * _.map([4, 8], square);\n     * // => [16, 64]\n     *\n     * _.map({ 'a': 4, 'b': 8 }, square);\n     * // => [16, 64] (iteration order is not guaranteed)\n     *\n     * var users = [\n     *   { 'user': 'barney' },\n     *   { 'user': 'fred' }\n     * ];\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, 'user');\n     * // => ['barney', 'fred']\n     */\n    function map(collection, iteratee) {\n      var func = isArray(collection) ? arrayMap : baseMap;\n      return func(collection, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.sortBy` except that it allows specifying the sort\n     * orders of the iteratees to sort by. If `orders` is unspecified, all values\n     * are sorted in ascending order. Otherwise, specify an order of \"desc\" for\n     * descending or \"asc\" for ascending sort order of corresponding values.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Array[]|Function[]|Object[]|string[]} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @param {string[]} [orders] The sort orders of `iteratees`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.reduce`.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 34 },\n     *   { 'user': 'fred',   'age': 40 },\n     *   { 'user': 'barney', 'age': 36 }\n     * ];\n     *\n     * // Sort by `user` in ascending order and by `age` in descending order.\n     * _.orderBy(users, ['user', 'age'], ['asc', 'desc']);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 40]]\n     */\n    function orderBy(collection, iteratees, orders, guard) {\n      if (collection == null) {\n        return [];\n      }\n      if (!isArray(iteratees)) {\n        iteratees = iteratees == null ? [] : [iteratees];\n      }\n      orders = guard ? undefined : orders;\n      if (!isArray(orders)) {\n        orders = orders == null ? [] : [orders];\n      }\n      return baseOrderBy(collection, iteratees, orders);\n    }\n\n    /**\n     * Creates an array of elements split into two groups, the first of which\n     * contains elements `predicate` returns truthy for, the second of which\n     * contains elements `predicate` returns falsey for. The predicate is\n     * invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of grouped elements.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney',  'age': 36, 'active': false },\n     *   { 'user': 'fred',    'age': 40, 'active': true },\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\n     * ];\n     *\n     * _.partition(users, function(o) { return o.active; });\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.partition(users, { 'age': 1, 'active': false });\n     * // => objects for [['pebbles'], ['barney', 'fred']]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.partition(users, ['active', false]);\n     * // => objects for [['barney', 'pebbles'], ['fred']]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.partition(users, 'active');\n     * // => objects for [['fred'], ['barney', 'pebbles']]\n     */\n    var partition = createAggregator(function(result, value, key) {\n      result[key ? 0 : 1].push(value);\n    }, function() { return [[], []]; });\n\n    /**\n     * Reduces `collection` to a value which is the accumulated result of running\n     * each element in `collection` thru `iteratee`, where each successive\n     * invocation is supplied the return value of the previous. If `accumulator`\n     * is not given, the first element of `collection` is used as the initial\n     * value. The iteratee is invoked with four arguments:\n     * (accumulator, value, index|key, collection).\n     *\n     * Many lodash methods are guarded to work as iteratees for methods like\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\n     *\n     * The guarded methods are:\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `orderBy`,\n     * and `sortBy`\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduceRight\n     * @example\n     *\n     * _.reduce([1, 2], function(sum, n) {\n     *   return sum + n;\n     * }, 0);\n     * // => 3\n     *\n     * _.reduce({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     *   return result;\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] } (iteration order is not guaranteed)\n     */\n    function reduce(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduce : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEach);\n    }\n\n    /**\n     * This method is like `_.reduce` except that it iterates over elements of\n     * `collection` from right to left.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The initial value.\n     * @returns {*} Returns the accumulated value.\n     * @see _.reduce\n     * @example\n     *\n     * var array = [[0, 1], [2, 3], [4, 5]];\n     *\n     * _.reduceRight(array, function(flattened, other) {\n     *   return flattened.concat(other);\n     * }, []);\n     * // => [4, 5, 2, 3, 0, 1]\n     */\n    function reduceRight(collection, iteratee, accumulator) {\n      var func = isArray(collection) ? arrayReduceRight : baseReduce,\n          initAccum = arguments.length < 3;\n\n      return func(collection, getIteratee(iteratee, 4), accumulator, initAccum, baseEachRight);\n    }\n\n    /**\n     * The opposite of `_.filter`; this method returns the elements of `collection`\n     * that `predicate` does **not** return truthy for.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the new filtered array.\n     * @see _.filter\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': false },\n     *   { 'user': 'fred',   'age': 40, 'active': true }\n     * ];\n     *\n     * _.reject(users, function(o) { return !o.active; });\n     * // => objects for ['fred']\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.reject(users, { 'age': 40, 'active': true });\n     * // => objects for ['barney']\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.reject(users, ['active', false]);\n     * // => objects for ['fred']\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.reject(users, 'active');\n     * // => objects for ['barney']\n     */\n    function reject(collection, predicate) {\n      var func = isArray(collection) ? arrayFilter : baseFilter;\n      return func(collection, negate(getIteratee(predicate, 3)));\n    }\n\n    /**\n     * Gets a random element from `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @returns {*} Returns the random element.\n     * @example\n     *\n     * _.sample([1, 2, 3, 4]);\n     * // => 2\n     */\n    function sample(collection) {\n      var func = isArray(collection) ? arraySample : baseSample;\n      return func(collection);\n    }\n\n    /**\n     * Gets `n` random elements at unique keys from `collection` up to the\n     * size of `collection`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to sample.\n     * @param {number} [n=1] The number of elements to sample.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the random elements.\n     * @example\n     *\n     * _.sampleSize([1, 2, 3], 2);\n     * // => [3, 1]\n     *\n     * _.sampleSize([1, 2, 3], 4);\n     * // => [2, 3, 1]\n     */\n    function sampleSize(collection, n, guard) {\n      if ((guard ? isIterateeCall(collection, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      var func = isArray(collection) ? arraySampleSize : baseSampleSize;\n      return func(collection, n);\n    }\n\n    /**\n     * Creates an array of shuffled values, using a version of the\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to shuffle.\n     * @returns {Array} Returns the new shuffled array.\n     * @example\n     *\n     * _.shuffle([1, 2, 3, 4]);\n     * // => [4, 1, 3, 2]\n     */\n    function shuffle(collection) {\n      var func = isArray(collection) ? arrayShuffle : baseShuffle;\n      return func(collection);\n    }\n\n    /**\n     * Gets the size of `collection` by returning its length for array-like\n     * values or the number of own enumerable string keyed properties for objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object|string} collection The collection to inspect.\n     * @returns {number} Returns the collection size.\n     * @example\n     *\n     * _.size([1, 2, 3]);\n     * // => 3\n     *\n     * _.size({ 'a': 1, 'b': 2 });\n     * // => 2\n     *\n     * _.size('pebbles');\n     * // => 7\n     */\n    function size(collection) {\n      if (collection == null) {\n        return 0;\n      }\n      if (isArrayLike(collection)) {\n        return isString(collection) ? stringSize(collection) : collection.length;\n      }\n      var tag = getTag(collection);\n      if (tag == mapTag || tag == setTag) {\n        return collection.size;\n      }\n      return baseKeys(collection).length;\n    }\n\n    /**\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\n     * Iteration is stopped once `predicate` returns truthy. The predicate is\n     * invoked with three arguments: (value, index|key, collection).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\n     *  else `false`.\n     * @example\n     *\n     * _.some([null, 0, 'yes', false], Boolean);\n     * // => true\n     *\n     * var users = [\n     *   { 'user': 'barney', 'active': true },\n     *   { 'user': 'fred',   'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.some(users, { 'user': 'barney', 'active': false });\n     * // => false\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.some(users, ['active', false]);\n     * // => true\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.some(users, 'active');\n     * // => true\n     */\n    function some(collection, predicate, guard) {\n      var func = isArray(collection) ? arraySome : baseSome;\n      if (guard && isIterateeCall(collection, predicate, guard)) {\n        predicate = undefined;\n      }\n      return func(collection, getIteratee(predicate, 3));\n    }\n\n    /**\n     * Creates an array of elements, sorted in ascending order by the results of\n     * running each element in a collection thru each iteratee. This method\n     * performs a stable sort, that is, it preserves the original sort order of\n     * equal elements. The iteratees are invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Collection\n     * @param {Array|Object} collection The collection to iterate over.\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to sort by.\n     * @returns {Array} Returns the new sorted array.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'fred',   'age': 48 },\n     *   { 'user': 'barney', 'age': 36 },\n     *   { 'user': 'fred',   'age': 30 },\n     *   { 'user': 'barney', 'age': 34 }\n     * ];\n     *\n     * _.sortBy(users, [function(o) { return o.user; }]);\n     * // => objects for [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 30]]\n     *\n     * _.sortBy(users, ['user', 'age']);\n     * // => objects for [['barney', 34], ['barney', 36], ['fred', 30], ['fred', 48]]\n     */\n    var sortBy = baseRest(function(collection, iteratees) {\n      if (collection == null) {\n        return [];\n      }\n      var length = iteratees.length;\n      if (length > 1 && isIterateeCall(collection, iteratees[0], iteratees[1])) {\n        iteratees = [];\n      } else if (length > 2 && isIterateeCall(iteratees[0], iteratees[1], iteratees[2])) {\n        iteratees = [iteratees[0]];\n      }\n      return baseOrderBy(collection, baseFlatten(iteratees, 1), []);\n    });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Gets the timestamp of the number of milliseconds that have elapsed since\n     * the Unix epoch (1 January 1970 00:00:00 UTC).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Date\n     * @returns {number} Returns the timestamp.\n     * @example\n     *\n     * _.defer(function(stamp) {\n     *   console.log(_.now() - stamp);\n     * }, _.now());\n     * // => Logs the number of milliseconds it took for the deferred invocation.\n     */\n    var now = ctxNow || function() {\n      return root.Date.now();\n    };\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The opposite of `_.before`; this method creates a function that invokes\n     * `func` once it's called `n` or more times.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {number} n The number of calls before `func` is invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var saves = ['profile', 'settings'];\n     *\n     * var done = _.after(saves.length, function() {\n     *   console.log('done saving!');\n     * });\n     *\n     * _.forEach(saves, function(type) {\n     *   asyncSave({ 'type': type, 'complete': done });\n     * });\n     * // => Logs 'done saving!' after the two async saves have completed.\n     */\n    function after(n, func) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n < 1) {\n          return func.apply(this, arguments);\n        }\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func`, with up to `n` arguments,\n     * ignoring any additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @param {number} [n=func.length] The arity cap.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\n     * // => [6, 8, 10]\n     */\n    function ary(func, n, guard) {\n      n = guard ? undefined : n;\n      n = (func && n == null) ? func.length : n;\n      return createWrap(func, WRAP_ARY_FLAG, undefined, undefined, undefined, undefined, n);\n    }\n\n    /**\n     * Creates a function that invokes `func`, with the `this` binding and arguments\n     * of the created function, while it's called less than `n` times. Subsequent\n     * calls to the created function return the result of the last `func` invocation.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {number} n The number of calls at which `func` is no longer invoked.\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * jQuery(element).on('click', _.before(5, addContactToList));\n     * // => Allows adding up to 4 contacts to the list.\n     */\n    function before(n, func) {\n      var result;\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      n = toInteger(n);\n      return function() {\n        if (--n > 0) {\n          result = func.apply(this, arguments);\n        }\n        if (n <= 1) {\n          func = undefined;\n        }\n        return result;\n      };\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\n     * and `partials` prepended to the arguments it receives.\n     *\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** Unlike native `Function#bind`, this method doesn't set the \"length\"\n     * property of bound functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to bind.\n     * @param {*} thisArg The `this` binding of `func`.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * function greet(greeting, punctuation) {\n     *   return greeting + ' ' + this.user + punctuation;\n     * }\n     *\n     * var object = { 'user': 'fred' };\n     *\n     * var bound = _.bind(greet, object, 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bind(greet, object, _, '!');\n     * bound('hi');\n     * // => 'hi fred!'\n     */\n    var bind = baseRest(function(func, thisArg, partials) {\n      var bitmask = WRAP_BIND_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bind));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(func, bitmask, thisArg, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes the method at `object[key]` with `partials`\n     * prepended to the arguments it receives.\n     *\n     * This method differs from `_.bind` by allowing bound functions to reference\n     * methods that may be redefined or don't yet exist. See\n     * [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\n     * for more details.\n     *\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Function\n     * @param {Object} object The object to invoke the method on.\n     * @param {string} key The key of the method.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new bound function.\n     * @example\n     *\n     * var object = {\n     *   'user': 'fred',\n     *   'greet': function(greeting, punctuation) {\n     *     return greeting + ' ' + this.user + punctuation;\n     *   }\n     * };\n     *\n     * var bound = _.bindKey(object, 'greet', 'hi');\n     * bound('!');\n     * // => 'hi fred!'\n     *\n     * object.greet = function(greeting, punctuation) {\n     *   return greeting + 'ya ' + this.user + punctuation;\n     * };\n     *\n     * bound('!');\n     * // => 'hiya fred!'\n     *\n     * // Bound with placeholders.\n     * var bound = _.bindKey(object, 'greet', _, '!');\n     * bound('hi');\n     * // => 'hiya fred!'\n     */\n    var bindKey = baseRest(function(object, key, partials) {\n      var bitmask = WRAP_BIND_FLAG | WRAP_BIND_KEY_FLAG;\n      if (partials.length) {\n        var holders = replaceHolders(partials, getHolder(bindKey));\n        bitmask |= WRAP_PARTIAL_FLAG;\n      }\n      return createWrap(key, bitmask, object, partials, holders);\n    });\n\n    /**\n     * Creates a function that accepts arguments of `func` and either invokes\n     * `func` returning its result, if at least `arity` number of arguments have\n     * been provided, or returns a function that accepts the remaining `func`\n     * arguments, and so on. The arity of `func` may be specified if `func.length`\n     * is not sufficient.\n     *\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\n     * may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curry(abc);\n     *\n     * curried(1)(2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2)(3);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(1)(_, 3)(2);\n     * // => [1, 2, 3]\n     */\n    function curry(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curry.placeholder;\n      return result;\n    }\n\n    /**\n     * This method is like `_.curry` except that arguments are applied to `func`\n     * in the manner of `_.partialRight` instead of `_.partial`.\n     *\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for provided arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of curried functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to curry.\n     * @param {number} [arity=func.length] The arity of `func`.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the new curried function.\n     * @example\n     *\n     * var abc = function(a, b, c) {\n     *   return [a, b, c];\n     * };\n     *\n     * var curried = _.curryRight(abc);\n     *\n     * curried(3)(2)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(2, 3)(1);\n     * // => [1, 2, 3]\n     *\n     * curried(1, 2, 3);\n     * // => [1, 2, 3]\n     *\n     * // Curried with placeholders.\n     * curried(3)(1, _)(2);\n     * // => [1, 2, 3]\n     */\n    function curryRight(func, arity, guard) {\n      arity = guard ? undefined : arity;\n      var result = createWrap(func, WRAP_CURRY_RIGHT_FLAG, undefined, undefined, undefined, undefined, undefined, arity);\n      result.placeholder = curryRight.placeholder;\n      return result;\n    }\n\n    /**\n     * Creates a debounced function that delays invoking `func` until after `wait`\n     * milliseconds have elapsed since the last time the debounced function was\n     * invoked. The debounced function comes with a `cancel` method to cancel\n     * delayed `func` invocations and a `flush` method to immediately invoke them.\n     * Provide `options` to indicate whether `func` should be invoked on the\n     * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n     * with the last arguments provided to the debounced function. Subsequent\n     * calls to the debounced function return the result of the last `func`\n     * invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the debounced function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.debounce` and `_.throttle`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to debounce.\n     * @param {number} [wait=0] The number of milliseconds to delay.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=false]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {number} [options.maxWait]\n     *  The maximum time `func` is allowed to be delayed before it's invoked.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new debounced function.\n     * @example\n     *\n     * // Avoid costly calculations while the window size is in flux.\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n     *\n     * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n     * jQuery(element).on('click', _.debounce(sendMail, 300, {\n     *   'leading': true,\n     *   'trailing': false\n     * }));\n     *\n     * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n     * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n     * var source = new EventSource('/stream');\n     * jQuery(source).on('message', debounced);\n     *\n     * // Cancel the trailing debounced invocation.\n     * jQuery(window).on('popstate', debounced.cancel);\n     */\n    function debounce(func, wait, options) {\n      var lastArgs,\n          lastThis,\n          maxWait,\n          result,\n          timerId,\n          lastCallTime,\n          lastInvokeTime = 0,\n          leading = false,\n          maxing = false,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = 'maxWait' in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n\n      function invokeFunc(time) {\n        var args = lastArgs,\n            thisArg = lastThis;\n\n        lastArgs = lastThis = undefined;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n\n      function leadingEdge(time) {\n        // Reset any `maxWait` timer.\n        lastInvokeTime = time;\n        // Start the timer for the trailing edge.\n        timerId = setTimeout(timerExpired, wait);\n        // Invoke the leading edge.\n        return leading ? invokeFunc(time) : result;\n      }\n\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime,\n            timeWaiting = wait - timeSinceLastCall;\n\n        return maxing\n          ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n          : timeWaiting;\n      }\n\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime,\n            timeSinceLastInvoke = time - lastInvokeTime;\n\n        // Either this is the first call, activity has stopped and we're at the\n        // trailing edge, the system time has gone backwards and we're treating\n        // it as the trailing edge, or we've hit the `maxWait` limit.\n        return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n          (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n      }\n\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        // Restart the timer.\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n\n      function trailingEdge(time) {\n        timerId = undefined;\n\n        // Only invoke if we have `lastArgs` which means `func` has been\n        // debounced at least once.\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = undefined;\n        return result;\n      }\n\n      function cancel() {\n        if (timerId !== undefined) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = undefined;\n      }\n\n      function flush() {\n        return timerId === undefined ? result : trailingEdge(now());\n      }\n\n      function debounced() {\n        var time = now(),\n            isInvoking = shouldInvoke(time);\n\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n\n        if (isInvoking) {\n          if (timerId === undefined) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            // Handle invocations in a tight loop.\n            clearTimeout(timerId);\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === undefined) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n\n    /**\n     * Defers invoking the `func` until the current call stack has cleared. Any\n     * additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to defer.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.defer(function(text) {\n     *   console.log(text);\n     * }, 'deferred');\n     * // => Logs 'deferred' after one millisecond.\n     */\n    var defer = baseRest(function(func, args) {\n      return baseDelay(func, 1, args);\n    });\n\n    /**\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\n     * provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to delay.\n     * @param {number} wait The number of milliseconds to delay invocation.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {number} Returns the timer id.\n     * @example\n     *\n     * _.delay(function(text) {\n     *   console.log(text);\n     * }, 1000, 'later');\n     * // => Logs 'later' after one second.\n     */\n    var delay = baseRest(function(func, wait, args) {\n      return baseDelay(func, toNumber(wait) || 0, args);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments reversed.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to flip arguments for.\n     * @returns {Function} Returns the new flipped function.\n     * @example\n     *\n     * var flipped = _.flip(function() {\n     *   return _.toArray(arguments);\n     * });\n     *\n     * flipped('a', 'b', 'c', 'd');\n     * // => ['d', 'c', 'b', 'a']\n     */\n    function flip(func) {\n      return createWrap(func, WRAP_FLIP_FLAG);\n    }\n\n    /**\n     * Creates a function that memoizes the result of `func`. If `resolver` is\n     * provided, it determines the cache key for storing the result based on the\n     * arguments provided to the memoized function. By default, the first argument\n     * provided to the memoized function is used as the map cache key. The `func`\n     * is invoked with the `this` binding of the memoized function.\n     *\n     * **Note:** The cache is exposed as the `cache` property on the memoized\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\n     * constructor with one whose instances implement the\n     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n     * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to have its output memoized.\n     * @param {Function} [resolver] The function to resolve the cache key.\n     * @returns {Function} Returns the new memoized function.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     * var other = { 'c': 3, 'd': 4 };\n     *\n     * var values = _.memoize(_.values);\n     * values(object);\n     * // => [1, 2]\n     *\n     * values(other);\n     * // => [3, 4]\n     *\n     * object.a = 2;\n     * values(object);\n     * // => [1, 2]\n     *\n     * // Modify the result cache.\n     * values.cache.set(object, ['a', 'b']);\n     * values(object);\n     * // => ['a', 'b']\n     *\n     * // Replace `_.memoize.Cache`.\n     * _.memoize.Cache = WeakMap;\n     */\n    function memoize(func, resolver) {\n      if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      var memoized = function() {\n        var args = arguments,\n            key = resolver ? resolver.apply(this, args) : args[0],\n            cache = memoized.cache;\n\n        if (cache.has(key)) {\n          return cache.get(key);\n        }\n        var result = func.apply(this, args);\n        memoized.cache = cache.set(key, result) || cache;\n        return result;\n      };\n      memoized.cache = new (memoize.Cache || MapCache);\n      return memoized;\n    }\n\n    // Expose `MapCache`.\n    memoize.Cache = MapCache;\n\n    /**\n     * Creates a function that negates the result of the predicate `func`. The\n     * `func` predicate is invoked with the `this` binding and arguments of the\n     * created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} predicate The predicate to negate.\n     * @returns {Function} Returns the new negated function.\n     * @example\n     *\n     * function isEven(n) {\n     *   return n % 2 == 0;\n     * }\n     *\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\n     * // => [1, 3, 5]\n     */\n    function negate(predicate) {\n      if (typeof predicate != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      return function() {\n        var args = arguments;\n        switch (args.length) {\n          case 0: return !predicate.call(this);\n          case 1: return !predicate.call(this, args[0]);\n          case 2: return !predicate.call(this, args[0], args[1]);\n          case 3: return !predicate.call(this, args[0], args[1], args[2]);\n        }\n        return !predicate.apply(this, args);\n      };\n    }\n\n    /**\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\n     * to the function return the value of the first invocation. The `func` is\n     * invoked with the `this` binding and arguments of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to restrict.\n     * @returns {Function} Returns the new restricted function.\n     * @example\n     *\n     * var initialize = _.once(createApplication);\n     * initialize();\n     * initialize();\n     * // => `createApplication` is invoked once\n     */\n    function once(func) {\n      return before(2, func);\n    }\n\n    /**\n     * Creates a function that invokes `func` with its arguments transformed.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Function\n     * @param {Function} func The function to wrap.\n     * @param {...(Function|Function[])} [transforms=[_.identity]]\n     *  The argument transforms.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * function doubled(n) {\n     *   return n * 2;\n     * }\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var func = _.overArgs(function(x, y) {\n     *   return [x, y];\n     * }, [square, doubled]);\n     *\n     * func(9, 3);\n     * // => [81, 6]\n     *\n     * func(10, 5);\n     * // => [100, 10]\n     */\n    var overArgs = castRest(function(func, transforms) {\n      transforms = (transforms.length == 1 && isArray(transforms[0]))\n        ? arrayMap(transforms[0], baseUnary(getIteratee()))\n        : arrayMap(baseFlatten(transforms, 1), baseUnary(getIteratee()));\n\n      var funcsLength = transforms.length;\n      return baseRest(function(args) {\n        var index = -1,\n            length = nativeMin(args.length, funcsLength);\n\n        while (++index < length) {\n          args[index] = transforms[index].call(this, args[index]);\n        }\n        return apply(func, this, args);\n      });\n    });\n\n    /**\n     * Creates a function that invokes `func` with `partials` prepended to the\n     * arguments it receives. This method is like `_.bind` except it does **not**\n     * alter the `this` binding.\n     *\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.2.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var sayHelloTo = _.partial(greet, 'hello');\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     *\n     * // Partially applied with placeholders.\n     * var greetFred = _.partial(greet, _, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     */\n    var partial = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partial));\n      return createWrap(func, WRAP_PARTIAL_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * This method is like `_.partial` except that partially applied arguments\n     * are appended to the arguments it receives.\n     *\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\n     * builds, may be used as a placeholder for partially applied arguments.\n     *\n     * **Note:** This method doesn't set the \"length\" property of partially\n     * applied functions.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Function\n     * @param {Function} func The function to partially apply arguments to.\n     * @param {...*} [partials] The arguments to be partially applied.\n     * @returns {Function} Returns the new partially applied function.\n     * @example\n     *\n     * function greet(greeting, name) {\n     *   return greeting + ' ' + name;\n     * }\n     *\n     * var greetFred = _.partialRight(greet, 'fred');\n     * greetFred('hi');\n     * // => 'hi fred'\n     *\n     * // Partially applied with placeholders.\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\n     * sayHelloTo('fred');\n     * // => 'hello fred'\n     */\n    var partialRight = baseRest(function(func, partials) {\n      var holders = replaceHolders(partials, getHolder(partialRight));\n      return createWrap(func, WRAP_PARTIAL_RIGHT_FLAG, undefined, partials, holders);\n    });\n\n    /**\n     * Creates a function that invokes `func` with arguments arranged according\n     * to the specified `indexes` where the argument value at the first index is\n     * provided as the first argument, the argument value at the second index is\n     * provided as the second argument, and so on.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Function\n     * @param {Function} func The function to rearrange arguments for.\n     * @param {...(number|number[])} indexes The arranged argument indexes.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var rearged = _.rearg(function(a, b, c) {\n     *   return [a, b, c];\n     * }, [2, 0, 1]);\n     *\n     * rearged('b', 'c', 'a')\n     * // => ['a', 'b', 'c']\n     */\n    var rearg = flatRest(function(func, indexes) {\n      return createWrap(func, WRAP_REARG_FLAG, undefined, undefined, undefined, indexes);\n    });\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * created function and arguments from `start` and beyond provided as\n     * an array.\n     *\n     * **Note:** This method is based on the\n     * [rest parameter](https://mdn.io/rest_parameters).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to apply a rest parameter to.\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.rest(function(what, names) {\n     *   return what + ' ' + _.initial(names).join(', ') +\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\n     * });\n     *\n     * say('hello', 'fred', 'barney', 'pebbles');\n     * // => 'hello fred, barney, & pebbles'\n     */\n    function rest(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start === undefined ? start : toInteger(start);\n      return baseRest(func, start);\n    }\n\n    /**\n     * Creates a function that invokes `func` with the `this` binding of the\n     * create function and an array of arguments much like\n     * [`Function#apply`](http://www.ecma-international.org/ecma-262/7.0/#sec-function.prototype.apply).\n     *\n     * **Note:** This method is based on the\n     * [spread operator](https://mdn.io/spread_operator).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Function\n     * @param {Function} func The function to spread arguments over.\n     * @param {number} [start=0] The start position of the spread.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var say = _.spread(function(who, what) {\n     *   return who + ' says ' + what;\n     * });\n     *\n     * say(['fred', 'hello']);\n     * // => 'fred says hello'\n     *\n     * var numbers = Promise.all([\n     *   Promise.resolve(40),\n     *   Promise.resolve(36)\n     * ]);\n     *\n     * numbers.then(_.spread(function(x, y) {\n     *   return x + y;\n     * }));\n     * // => a Promise of 76\n     */\n    function spread(func, start) {\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      start = start == null ? 0 : nativeMax(toInteger(start), 0);\n      return baseRest(function(args) {\n        var array = args[start],\n            otherArgs = castSlice(args, 0, start);\n\n        if (array) {\n          arrayPush(otherArgs, array);\n        }\n        return apply(func, this, otherArgs);\n      });\n    }\n\n    /**\n     * Creates a throttled function that only invokes `func` at most once per\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\n     * method to cancel delayed `func` invocations and a `flush` method to\n     * immediately invoke them. Provide `options` to indicate whether `func`\n     * should be invoked on the leading and/or trailing edge of the `wait`\n     * timeout. The `func` is invoked with the last arguments provided to the\n     * throttled function. Subsequent calls to the throttled function return the\n     * result of the last `func` invocation.\n     *\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is\n     * invoked on the trailing edge of the timeout only if the throttled function\n     * is invoked more than once during the `wait` timeout.\n     *\n     * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n     * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n     *\n     * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n     * for details over the differences between `_.throttle` and `_.debounce`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {Function} func The function to throttle.\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.leading=true]\n     *  Specify invoking on the leading edge of the timeout.\n     * @param {boolean} [options.trailing=true]\n     *  Specify invoking on the trailing edge of the timeout.\n     * @returns {Function} Returns the new throttled function.\n     * @example\n     *\n     * // Avoid excessively updating the position while scrolling.\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n     *\n     * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n     * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n     * jQuery(element).on('click', throttled);\n     *\n     * // Cancel the trailing throttled invocation.\n     * jQuery(window).on('popstate', throttled.cancel);\n     */\n    function throttle(func, wait, options) {\n      var leading = true,\n          trailing = true;\n\n      if (typeof func != 'function') {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = 'leading' in options ? !!options.leading : leading;\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        'leading': leading,\n        'maxWait': wait,\n        'trailing': trailing\n      });\n    }\n\n    /**\n     * Creates a function that accepts up to one argument, ignoring any\n     * additional arguments.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Function\n     * @param {Function} func The function to cap arguments for.\n     * @returns {Function} Returns the new capped function.\n     * @example\n     *\n     * _.map(['6', '8', '10'], _.unary(parseInt));\n     * // => [6, 8, 10]\n     */\n    function unary(func) {\n      return ary(func, 1);\n    }\n\n    /**\n     * Creates a function that provides `value` to `wrapper` as its first\n     * argument. Any additional arguments provided to the function are appended\n     * to those provided to the `wrapper`. The wrapper is invoked with the `this`\n     * binding of the created function.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Function\n     * @param {*} value The value to wrap.\n     * @param {Function} [wrapper=identity] The wrapper function.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var p = _.wrap(_.escape, function(func, text) {\n     *   return '<p>' + func(text) + '</p>';\n     * });\n     *\n     * p('fred, barney, & pebbles');\n     * // => '<p>fred, barney, &amp; pebbles</p>'\n     */\n    function wrap(value, wrapper) {\n      return partial(castFunction(wrapper), value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Casts `value` as an array if it's not one.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.4.0\n     * @category Lang\n     * @param {*} value The value to inspect.\n     * @returns {Array} Returns the cast array.\n     * @example\n     *\n     * _.castArray(1);\n     * // => [1]\n     *\n     * _.castArray({ 'a': 1 });\n     * // => [{ 'a': 1 }]\n     *\n     * _.castArray('abc');\n     * // => ['abc']\n     *\n     * _.castArray(null);\n     * // => [null]\n     *\n     * _.castArray(undefined);\n     * // => [undefined]\n     *\n     * _.castArray();\n     * // => []\n     *\n     * var array = [1, 2, 3];\n     * console.log(_.castArray(array) === array);\n     * // => true\n     */\n    function castArray() {\n      if (!arguments.length) {\n        return [];\n      }\n      var value = arguments[0];\n      return isArray(value) ? value : [value];\n    }\n\n    /**\n     * Creates a shallow clone of `value`.\n     *\n     * **Note:** This method is loosely based on the\n     * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n     * and supports cloning arrays, array buffers, booleans, date objects, maps,\n     * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n     * arrays. The own enumerable properties of `arguments` objects are cloned\n     * as plain objects. An empty object is returned for uncloneable values such\n     * as error objects, functions, DOM nodes, and WeakMaps.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeep\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var shallow = _.clone(objects);\n     * console.log(shallow[0] === objects[0]);\n     * // => true\n     */\n    function clone(value) {\n      return baseClone(value, CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.clone` except that it accepts `customizer` which\n     * is invoked to produce the cloned value. If `customizer` returns `undefined`,\n     * cloning is handled by the method instead. The `customizer` is invoked with\n     * up to four arguments; (value [, index|key, object, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the cloned value.\n     * @see _.cloneDeepWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(false);\n     *   }\n     * }\n     *\n     * var el = _.cloneWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 0\n     */\n    function cloneWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * This method is like `_.clone` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.clone\n     * @example\n     *\n     * var objects = [{ 'a': 1 }, { 'b': 2 }];\n     *\n     * var deep = _.cloneDeep(objects);\n     * console.log(deep[0] === objects[0]);\n     * // => false\n     */\n    function cloneDeep(value) {\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n    }\n\n    /**\n     * This method is like `_.cloneWith` except that it recursively clones `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to recursively clone.\n     * @param {Function} [customizer] The function to customize cloning.\n     * @returns {*} Returns the deep cloned value.\n     * @see _.cloneWith\n     * @example\n     *\n     * function customizer(value) {\n     *   if (_.isElement(value)) {\n     *     return value.cloneNode(true);\n     *   }\n     * }\n     *\n     * var el = _.cloneDeepWith(document.body, customizer);\n     *\n     * console.log(el === document.body);\n     * // => false\n     * console.log(el.nodeName);\n     * // => 'BODY'\n     * console.log(el.childNodes.length);\n     * // => 20\n     */\n    function cloneDeepWith(value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG, customizer);\n    }\n\n    /**\n     * Checks if `object` conforms to `source` by invoking the predicate\n     * properties of `source` with the corresponding property values of `object`.\n     *\n     * **Note:** This method is equivalent to `_.conforms` when `source` is\n     * partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {boolean} Returns `true` if `object` conforms, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 1; } });\n     * // => true\n     *\n     * _.conformsTo(object, { 'b': function(n) { return n > 2; } });\n     * // => false\n     */\n    function conformsTo(object, source) {\n      return source == null || baseConformsTo(object, source, keys(source));\n    }\n\n    /**\n     * Performs a\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n     * comparison between two values to determine if they are equivalent.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.eq(object, object);\n     * // => true\n     *\n     * _.eq(object, other);\n     * // => false\n     *\n     * _.eq('a', 'a');\n     * // => true\n     *\n     * _.eq('a', Object('a'));\n     * // => false\n     *\n     * _.eq(NaN, NaN);\n     * // => true\n     */\n    function eq(value, other) {\n      return value === other || (value !== value && other !== other);\n    }\n\n    /**\n     * Checks if `value` is greater than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than `other`,\n     *  else `false`.\n     * @see _.lt\n     * @example\n     *\n     * _.gt(3, 1);\n     * // => true\n     *\n     * _.gt(3, 3);\n     * // => false\n     *\n     * _.gt(1, 3);\n     * // => false\n     */\n    var gt = createRelationalOperation(baseGt);\n\n    /**\n     * Checks if `value` is greater than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to\n     *  `other`, else `false`.\n     * @see _.lte\n     * @example\n     *\n     * _.gte(3, 1);\n     * // => true\n     *\n     * _.gte(3, 3);\n     * // => true\n     *\n     * _.gte(1, 3);\n     * // => false\n     */\n    var gte = createRelationalOperation(function(value, other) {\n      return value >= other;\n    });\n\n    /**\n     * Checks if `value` is likely an `arguments` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArguments(function() { return arguments; }());\n     * // => true\n     *\n     * _.isArguments([1, 2, 3]);\n     * // => false\n     */\n    var isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n      return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n        !propertyIsEnumerable.call(value, 'callee');\n    };\n\n    /**\n     * Checks if `value` is classified as an `Array` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n     * @example\n     *\n     * _.isArray([1, 2, 3]);\n     * // => true\n     *\n     * _.isArray(document.body.children);\n     * // => false\n     *\n     * _.isArray('abc');\n     * // => false\n     *\n     * _.isArray(_.noop);\n     * // => false\n     */\n    var isArray = Array.isArray;\n\n    /**\n     * Checks if `value` is classified as an `ArrayBuffer` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array buffer, else `false`.\n     * @example\n     *\n     * _.isArrayBuffer(new ArrayBuffer(2));\n     * // => true\n     *\n     * _.isArrayBuffer(new Array(2));\n     * // => false\n     */\n    var isArrayBuffer = nodeIsArrayBuffer ? baseUnary(nodeIsArrayBuffer) : baseIsArrayBuffer;\n\n    /**\n     * Checks if `value` is array-like. A value is considered array-like if it's\n     * not a function and has a `value.length` that's an integer greater than or\n     * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n     * @example\n     *\n     * _.isArrayLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLike(document.body.children);\n     * // => true\n     *\n     * _.isArrayLike('abc');\n     * // => true\n     *\n     * _.isArrayLike(_.noop);\n     * // => false\n     */\n    function isArrayLike(value) {\n      return value != null && isLength(value.length) && !isFunction(value);\n    }\n\n    /**\n     * This method is like `_.isArrayLike` except that it also checks if `value`\n     * is an object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an array-like object,\n     *  else `false`.\n     * @example\n     *\n     * _.isArrayLikeObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isArrayLikeObject(document.body.children);\n     * // => true\n     *\n     * _.isArrayLikeObject('abc');\n     * // => false\n     *\n     * _.isArrayLikeObject(_.noop);\n     * // => false\n     */\n    function isArrayLikeObject(value) {\n      return isObjectLike(value) && isArrayLike(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a boolean primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a boolean, else `false`.\n     * @example\n     *\n     * _.isBoolean(false);\n     * // => true\n     *\n     * _.isBoolean(null);\n     * // => false\n     */\n    function isBoolean(value) {\n      return value === true || value === false ||\n        (isObjectLike(value) && baseGetTag(value) == boolTag);\n    }\n\n    /**\n     * Checks if `value` is a buffer.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n     * @example\n     *\n     * _.isBuffer(new Buffer(2));\n     * // => true\n     *\n     * _.isBuffer(new Uint8Array(2));\n     * // => false\n     */\n    var isBuffer = nativeIsBuffer || stubFalse;\n\n    /**\n     * Checks if `value` is classified as a `Date` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a date object, else `false`.\n     * @example\n     *\n     * _.isDate(new Date);\n     * // => true\n     *\n     * _.isDate('Mon April 23 2012');\n     * // => false\n     */\n    var isDate = nodeIsDate ? baseUnary(nodeIsDate) : baseIsDate;\n\n    /**\n     * Checks if `value` is likely a DOM element.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\n     * @example\n     *\n     * _.isElement(document.body);\n     * // => true\n     *\n     * _.isElement('<body>');\n     * // => false\n     */\n    function isElement(value) {\n      return isObjectLike(value) && value.nodeType === 1 && !isPlainObject(value);\n    }\n\n    /**\n     * Checks if `value` is an empty object, collection, map, or set.\n     *\n     * Objects are considered empty if they have no own enumerable string keyed\n     * properties.\n     *\n     * Array-like values such as `arguments` objects, arrays, buffers, strings, or\n     * jQuery-like collections are considered empty if they have a `length` of `0`.\n     * Similarly, maps and sets are considered empty if they have a `size` of `0`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\n     * @example\n     *\n     * _.isEmpty(null);\n     * // => true\n     *\n     * _.isEmpty(true);\n     * // => true\n     *\n     * _.isEmpty(1);\n     * // => true\n     *\n     * _.isEmpty([1, 2, 3]);\n     * // => false\n     *\n     * _.isEmpty({ 'a': 1 });\n     * // => false\n     */\n    function isEmpty(value) {\n      if (value == null) {\n        return true;\n      }\n      if (isArrayLike(value) &&\n          (isArray(value) || typeof value == 'string' || typeof value.splice == 'function' ||\n            isBuffer(value) || isTypedArray(value) || isArguments(value))) {\n        return !value.length;\n      }\n      var tag = getTag(value);\n      if (tag == mapTag || tag == setTag) {\n        return !value.size;\n      }\n      if (isPrototype(value)) {\n        return !baseKeys(value).length;\n      }\n      for (var key in value) {\n        if (hasOwnProperty.call(value, key)) {\n          return false;\n        }\n      }\n      return true;\n    }\n\n    /**\n     * Performs a deep comparison between two values to determine if they are\n     * equivalent.\n     *\n     * **Note:** This method supports comparing arrays, array buffers, booleans,\n     * date objects, error objects, maps, numbers, `Object` objects, regexes,\n     * sets, strings, symbols, and typed arrays. `Object` objects are compared\n     * by their own, not inherited, enumerable properties. Functions and DOM\n     * nodes are compared by strict equality, i.e. `===`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     * var other = { 'a': 1 };\n     *\n     * _.isEqual(object, other);\n     * // => true\n     *\n     * object === other;\n     * // => false\n     */\n    function isEqual(value, other) {\n      return baseIsEqual(value, other);\n    }\n\n    /**\n     * This method is like `_.isEqual` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with up to\n     * six arguments: (objValue, othValue [, index|key, object, other, stack]).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, othValue) {\n     *   if (isGreeting(objValue) && isGreeting(othValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var array = ['hello', 'goodbye'];\n     * var other = ['hi', 'goodbye'];\n     *\n     * _.isEqualWith(array, other, customizer);\n     * // => true\n     */\n    function isEqualWith(value, other, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      var result = customizer ? customizer(value, other) : undefined;\n      return result === undefined ? baseIsEqual(value, other, undefined, customizer) : !!result;\n    }\n\n    /**\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\n     * `SyntaxError`, `TypeError`, or `URIError` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\n     * @example\n     *\n     * _.isError(new Error);\n     * // => true\n     *\n     * _.isError(Error);\n     * // => false\n     */\n    function isError(value) {\n      if (!isObjectLike(value)) {\n        return false;\n      }\n      var tag = baseGetTag(value);\n      return tag == errorTag || tag == domExcTag ||\n        (typeof value.message == 'string' && typeof value.name == 'string' && !isPlainObject(value));\n    }\n\n    /**\n     * Checks if `value` is a finite primitive number.\n     *\n     * **Note:** This method is based on\n     * [`Number.isFinite`](https://mdn.io/Number/isFinite).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\n     * @example\n     *\n     * _.isFinite(3);\n     * // => true\n     *\n     * _.isFinite(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isFinite(Infinity);\n     * // => false\n     *\n     * _.isFinite('3');\n     * // => false\n     */\n    function isFinite(value) {\n      return typeof value == 'number' && nativeIsFinite(value);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Function` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n     * @example\n     *\n     * _.isFunction(_);\n     * // => true\n     *\n     * _.isFunction(/abc/);\n     * // => false\n     */\n    function isFunction(value) {\n      if (!isObject(value)) {\n        return false;\n      }\n      // The use of `Object#toString` avoids issues with the `typeof` operator\n      // in Safari 9 which returns 'object' for typed arrays and other constructors.\n      var tag = baseGetTag(value);\n      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n    }\n\n    /**\n     * Checks if `value` is an integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isInteger`](https://mdn.io/Number/isInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an integer, else `false`.\n     * @example\n     *\n     * _.isInteger(3);\n     * // => true\n     *\n     * _.isInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isInteger(Infinity);\n     * // => false\n     *\n     * _.isInteger('3');\n     * // => false\n     */\n    function isInteger(value) {\n      return typeof value == 'number' && value == toInteger(value);\n    }\n\n    /**\n     * Checks if `value` is a valid array-like length.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n     * @example\n     *\n     * _.isLength(3);\n     * // => true\n     *\n     * _.isLength(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isLength(Infinity);\n     * // => false\n     *\n     * _.isLength('3');\n     * // => false\n     */\n    function isLength(value) {\n      return typeof value == 'number' &&\n        value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is the\n     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n     * @example\n     *\n     * _.isObject({});\n     * // => true\n     *\n     * _.isObject([1, 2, 3]);\n     * // => true\n     *\n     * _.isObject(_.noop);\n     * // => true\n     *\n     * _.isObject(null);\n     * // => false\n     */\n    function isObject(value) {\n      var type = typeof value;\n      return value != null && (type == 'object' || type == 'function');\n    }\n\n    /**\n     * Checks if `value` is object-like. A value is object-like if it's not `null`\n     * and has a `typeof` result of \"object\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n     * @example\n     *\n     * _.isObjectLike({});\n     * // => true\n     *\n     * _.isObjectLike([1, 2, 3]);\n     * // => true\n     *\n     * _.isObjectLike(_.noop);\n     * // => false\n     *\n     * _.isObjectLike(null);\n     * // => false\n     */\n    function isObjectLike(value) {\n      return value != null && typeof value == 'object';\n    }\n\n    /**\n     * Checks if `value` is classified as a `Map` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n     * @example\n     *\n     * _.isMap(new Map);\n     * // => true\n     *\n     * _.isMap(new WeakMap);\n     * // => false\n     */\n    var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\n    /**\n     * Performs a partial deep comparison between `object` and `source` to\n     * determine if `object` contains equivalent property values.\n     *\n     * **Note:** This method is equivalent to `_.matches` when `source` is\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2 };\n     *\n     * _.isMatch(object, { 'b': 2 });\n     * // => true\n     *\n     * _.isMatch(object, { 'b': 1 });\n     * // => false\n     */\n    function isMatch(object, source) {\n      return object === source || baseIsMatch(object, source, getMatchData(source));\n    }\n\n    /**\n     * This method is like `_.isMatch` except that it accepts `customizer` which\n     * is invoked to compare values. If `customizer` returns `undefined`, comparisons\n     * are handled by the method instead. The `customizer` is invoked with five\n     * arguments: (objValue, srcValue, index|key, object, source).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {Object} object The object to inspect.\n     * @param {Object} source The object of property values to match.\n     * @param {Function} [customizer] The function to customize comparisons.\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n     * @example\n     *\n     * function isGreeting(value) {\n     *   return /^h(?:i|ello)$/.test(value);\n     * }\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (isGreeting(objValue) && isGreeting(srcValue)) {\n     *     return true;\n     *   }\n     * }\n     *\n     * var object = { 'greeting': 'hello' };\n     * var source = { 'greeting': 'hi' };\n     *\n     * _.isMatchWith(object, source, customizer);\n     * // => true\n     */\n    function isMatchWith(object, source, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return baseIsMatch(object, source, getMatchData(source), customizer);\n    }\n\n    /**\n     * Checks if `value` is `NaN`.\n     *\n     * **Note:** This method is based on\n     * [`Number.isNaN`](https://mdn.io/Number/isNaN) and is not the same as\n     * global [`isNaN`](https://mdn.io/isNaN) which returns `true` for\n     * `undefined` and other non-number values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n     * @example\n     *\n     * _.isNaN(NaN);\n     * // => true\n     *\n     * _.isNaN(new Number(NaN));\n     * // => true\n     *\n     * isNaN(undefined);\n     * // => true\n     *\n     * _.isNaN(undefined);\n     * // => false\n     */\n    function isNaN(value) {\n      // An `NaN` primitive is the only value that is not equal to itself.\n      // Perform the `toStringTag` check first to avoid errors with some\n      // ActiveX objects in IE.\n      return isNumber(value) && value != +value;\n    }\n\n    /**\n     * Checks if `value` is a pristine native function.\n     *\n     * **Note:** This method can't reliably detect native functions in the presence\n     * of the core-js package because core-js circumvents this kind of detection.\n     * Despite multiple requests, the core-js maintainer has made it clear: any\n     * attempt to fix the detection will be obstructed. As a result, we're left\n     * with little choice but to throw an error. Unfortunately, this also affects\n     * packages, like [babel-polyfill](https://www.npmjs.com/package/babel-polyfill),\n     * which rely on core-js.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a native function,\n     *  else `false`.\n     * @example\n     *\n     * _.isNative(Array.prototype.push);\n     * // => true\n     *\n     * _.isNative(_);\n     * // => false\n     */\n    function isNative(value) {\n      if (isMaskable(value)) {\n        throw new Error(CORE_ERROR_TEXT);\n      }\n      return baseIsNative(value);\n    }\n\n    /**\n     * Checks if `value` is `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\n     * @example\n     *\n     * _.isNull(null);\n     * // => true\n     *\n     * _.isNull(void 0);\n     * // => false\n     */\n    function isNull(value) {\n      return value === null;\n    }\n\n    /**\n     * Checks if `value` is `null` or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is nullish, else `false`.\n     * @example\n     *\n     * _.isNil(null);\n     * // => true\n     *\n     * _.isNil(void 0);\n     * // => true\n     *\n     * _.isNil(NaN);\n     * // => false\n     */\n    function isNil(value) {\n      return value == null;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Number` primitive or object.\n     *\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are\n     * classified as numbers, use the `_.isFinite` method.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a number, else `false`.\n     * @example\n     *\n     * _.isNumber(3);\n     * // => true\n     *\n     * _.isNumber(Number.MIN_VALUE);\n     * // => true\n     *\n     * _.isNumber(Infinity);\n     * // => true\n     *\n     * _.isNumber('3');\n     * // => false\n     */\n    function isNumber(value) {\n      return typeof value == 'number' ||\n        (isObjectLike(value) && baseGetTag(value) == numberTag);\n    }\n\n    /**\n     * Checks if `value` is a plain object, that is, an object created by the\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.8.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * _.isPlainObject(new Foo);\n     * // => false\n     *\n     * _.isPlainObject([1, 2, 3]);\n     * // => false\n     *\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\n     * // => true\n     *\n     * _.isPlainObject(Object.create(null));\n     * // => true\n     */\n    function isPlainObject(value) {\n      if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n        return false;\n      }\n      var proto = getPrototype(value);\n      if (proto === null) {\n        return true;\n      }\n      var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n      return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n        funcToString.call(Ctor) == objectCtorString;\n    }\n\n    /**\n     * Checks if `value` is classified as a `RegExp` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.1.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a regexp, else `false`.\n     * @example\n     *\n     * _.isRegExp(/abc/);\n     * // => true\n     *\n     * _.isRegExp('/abc/');\n     * // => false\n     */\n    var isRegExp = nodeIsRegExp ? baseUnary(nodeIsRegExp) : baseIsRegExp;\n\n    /**\n     * Checks if `value` is a safe integer. An integer is safe if it's an IEEE-754\n     * double precision number which isn't the result of a rounded unsafe integer.\n     *\n     * **Note:** This method is based on\n     * [`Number.isSafeInteger`](https://mdn.io/Number/isSafeInteger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a safe integer, else `false`.\n     * @example\n     *\n     * _.isSafeInteger(3);\n     * // => true\n     *\n     * _.isSafeInteger(Number.MIN_VALUE);\n     * // => false\n     *\n     * _.isSafeInteger(Infinity);\n     * // => false\n     *\n     * _.isSafeInteger('3');\n     * // => false\n     */\n    function isSafeInteger(value) {\n      return isInteger(value) && value >= -MAX_SAFE_INTEGER && value <= MAX_SAFE_INTEGER;\n    }\n\n    /**\n     * Checks if `value` is classified as a `Set` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n     * @example\n     *\n     * _.isSet(new Set);\n     * // => true\n     *\n     * _.isSet(new WeakSet);\n     * // => false\n     */\n    var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\n    /**\n     * Checks if `value` is classified as a `String` primitive or object.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n     * @example\n     *\n     * _.isString('abc');\n     * // => true\n     *\n     * _.isString(1);\n     * // => false\n     */\n    function isString(value) {\n      return typeof value == 'string' ||\n        (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a `Symbol` primitive or object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n     * @example\n     *\n     * _.isSymbol(Symbol.iterator);\n     * // => true\n     *\n     * _.isSymbol('abc');\n     * // => false\n     */\n    function isSymbol(value) {\n      return typeof value == 'symbol' ||\n        (isObjectLike(value) && baseGetTag(value) == symbolTag);\n    }\n\n    /**\n     * Checks if `value` is classified as a typed array.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n     * @example\n     *\n     * _.isTypedArray(new Uint8Array);\n     * // => true\n     *\n     * _.isTypedArray([]);\n     * // => false\n     */\n    var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\n    /**\n     * Checks if `value` is `undefined`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n     * @example\n     *\n     * _.isUndefined(void 0);\n     * // => true\n     *\n     * _.isUndefined(null);\n     * // => false\n     */\n    function isUndefined(value) {\n      return value === undefined;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakMap` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak map, else `false`.\n     * @example\n     *\n     * _.isWeakMap(new WeakMap);\n     * // => true\n     *\n     * _.isWeakMap(new Map);\n     * // => false\n     */\n    function isWeakMap(value) {\n      return isObjectLike(value) && getTag(value) == weakMapTag;\n    }\n\n    /**\n     * Checks if `value` is classified as a `WeakSet` object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.3.0\n     * @category Lang\n     * @param {*} value The value to check.\n     * @returns {boolean} Returns `true` if `value` is a weak set, else `false`.\n     * @example\n     *\n     * _.isWeakSet(new WeakSet);\n     * // => true\n     *\n     * _.isWeakSet(new Set);\n     * // => false\n     */\n    function isWeakSet(value) {\n      return isObjectLike(value) && baseGetTag(value) == weakSetTag;\n    }\n\n    /**\n     * Checks if `value` is less than `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than `other`,\n     *  else `false`.\n     * @see _.gt\n     * @example\n     *\n     * _.lt(1, 3);\n     * // => true\n     *\n     * _.lt(3, 3);\n     * // => false\n     *\n     * _.lt(3, 1);\n     * // => false\n     */\n    var lt = createRelationalOperation(baseLt);\n\n    /**\n     * Checks if `value` is less than or equal to `other`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.9.0\n     * @category Lang\n     * @param {*} value The value to compare.\n     * @param {*} other The other value to compare.\n     * @returns {boolean} Returns `true` if `value` is less than or equal to\n     *  `other`, else `false`.\n     * @see _.gte\n     * @example\n     *\n     * _.lte(1, 3);\n     * // => true\n     *\n     * _.lte(3, 3);\n     * // => true\n     *\n     * _.lte(3, 1);\n     * // => false\n     */\n    var lte = createRelationalOperation(function(value, other) {\n      return value <= other;\n    });\n\n    /**\n     * Converts `value` to an array.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the converted array.\n     * @example\n     *\n     * _.toArray({ 'a': 1, 'b': 2 });\n     * // => [1, 2]\n     *\n     * _.toArray('abc');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toArray(1);\n     * // => []\n     *\n     * _.toArray(null);\n     * // => []\n     */\n    function toArray(value) {\n      if (!value) {\n        return [];\n      }\n      if (isArrayLike(value)) {\n        return isString(value) ? stringToArray(value) : copyArray(value);\n      }\n      if (symIterator && value[symIterator]) {\n        return iteratorToArray(value[symIterator]());\n      }\n      var tag = getTag(value),\n          func = tag == mapTag ? mapToArray : (tag == setTag ? setToArray : values);\n\n      return func(value);\n    }\n\n    /**\n     * Converts `value` to a finite number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.12.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted number.\n     * @example\n     *\n     * _.toFinite(3.2);\n     * // => 3.2\n     *\n     * _.toFinite(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toFinite(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toFinite('3.2');\n     * // => 3.2\n     */\n    function toFinite(value) {\n      if (!value) {\n        return value === 0 ? value : 0;\n      }\n      value = toNumber(value);\n      if (value === INFINITY || value === -INFINITY) {\n        var sign = (value < 0 ? -1 : 1);\n        return sign * MAX_INTEGER;\n      }\n      return value === value ? value : 0;\n    }\n\n    /**\n     * Converts `value` to an integer.\n     *\n     * **Note:** This method is loosely based on\n     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toInteger(3.2);\n     * // => 3\n     *\n     * _.toInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toInteger(Infinity);\n     * // => 1.7976931348623157e+308\n     *\n     * _.toInteger('3.2');\n     * // => 3\n     */\n    function toInteger(value) {\n      var result = toFinite(value),\n          remainder = result % 1;\n\n      return result === result ? (remainder ? result - remainder : result) : 0;\n    }\n\n    /**\n     * Converts `value` to an integer suitable for use as the length of an\n     * array-like object.\n     *\n     * **Note:** This method is based on\n     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toLength(3.2);\n     * // => 3\n     *\n     * _.toLength(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toLength(Infinity);\n     * // => 4294967295\n     *\n     * _.toLength('3.2');\n     * // => 3\n     */\n    function toLength(value) {\n      return value ? baseClamp(toInteger(value), 0, MAX_ARRAY_LENGTH) : 0;\n    }\n\n    /**\n     * Converts `value` to a number.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to process.\n     * @returns {number} Returns the number.\n     * @example\n     *\n     * _.toNumber(3.2);\n     * // => 3.2\n     *\n     * _.toNumber(Number.MIN_VALUE);\n     * // => 5e-324\n     *\n     * _.toNumber(Infinity);\n     * // => Infinity\n     *\n     * _.toNumber('3.2');\n     * // => 3.2\n     */\n    function toNumber(value) {\n      if (typeof value == 'number') {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n        value = isObject(other) ? (other + '') : other;\n      }\n      if (typeof value != 'string') {\n        return value === 0 ? value : +value;\n      }\n      value = baseTrim(value);\n      var isBinary = reIsBinary.test(value);\n      return (isBinary || reIsOctal.test(value))\n        ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n        : (reIsBadHex.test(value) ? NAN : +value);\n    }\n\n    /**\n     * Converts `value` to a plain object flattening inherited enumerable string\n     * keyed properties of `value` to own properties of the plain object.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {Object} Returns the converted plain object.\n     * @example\n     *\n     * function Foo() {\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.assign({ 'a': 1 }, new Foo);\n     * // => { 'a': 1, 'b': 2 }\n     *\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\n     */\n    function toPlainObject(value) {\n      return copyObject(value, keysIn(value));\n    }\n\n    /**\n     * Converts `value` to a safe integer. A safe integer can be compared and\n     * represented correctly.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.toSafeInteger(3.2);\n     * // => 3\n     *\n     * _.toSafeInteger(Number.MIN_VALUE);\n     * // => 0\n     *\n     * _.toSafeInteger(Infinity);\n     * // => 9007199254740991\n     *\n     * _.toSafeInteger('3.2');\n     * // => 3\n     */\n    function toSafeInteger(value) {\n      return value\n        ? baseClamp(toInteger(value), -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER)\n        : (value === 0 ? value : 0);\n    }\n\n    /**\n     * Converts `value` to a string. An empty string is returned for `null`\n     * and `undefined` values. The sign of `-0` is preserved.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Lang\n     * @param {*} value The value to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.toString(null);\n     * // => ''\n     *\n     * _.toString(-0);\n     * // => '-0'\n     *\n     * _.toString([1, 2, 3]);\n     * // => '1,2,3'\n     */\n    function toString(value) {\n      return value == null ? '' : baseToString(value);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Assigns own enumerable string keyed properties of source objects to the\n     * destination object. Source objects are applied from left to right.\n     * Subsequent sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object` and is loosely based on\n     * [`Object.assign`](https://mdn.io/Object/assign).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assignIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assign({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var assign = createAssigner(function(object, source) {\n      if (isPrototype(source) || isArrayLike(source)) {\n        copyObject(source, keys(source), object);\n        return;\n      }\n      for (var key in source) {\n        if (hasOwnProperty.call(source, key)) {\n          assignValue(object, key, source[key]);\n        }\n      }\n    });\n\n    /**\n     * This method is like `_.assign` except that it iterates over own and\n     * inherited source properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extend\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.assign\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     * }\n     *\n     * function Bar() {\n     *   this.c = 3;\n     * }\n     *\n     * Foo.prototype.b = 2;\n     * Bar.prototype.d = 4;\n     *\n     * _.assignIn({ 'a': 0 }, new Foo, new Bar);\n     * // => { 'a': 1, 'b': 2, 'c': 3, 'd': 4 }\n     */\n    var assignIn = createAssigner(function(object, source) {\n      copyObject(source, keysIn(source), object);\n    });\n\n    /**\n     * This method is like `_.assignIn` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias extendWith\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignInWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignInWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keysIn(source), object, customizer);\n    });\n\n    /**\n     * This method is like `_.assign` except that it accepts `customizer`\n     * which is invoked to produce the assigned values. If `customizer` returns\n     * `undefined`, assignment is handled by the method instead. The `customizer`\n     * is invoked with five arguments: (objValue, srcValue, key, object, source).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @see _.assignInWith\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   return _.isUndefined(objValue) ? srcValue : objValue;\n     * }\n     *\n     * var defaults = _.partialRight(_.assignWith, customizer);\n     *\n     * defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var assignWith = createAssigner(function(object, source, srcIndex, customizer) {\n      copyObject(source, keys(source), object, customizer);\n    });\n\n    /**\n     * Creates an array of values corresponding to `paths` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Array} Returns the picked values.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }, 4] };\n     *\n     * _.at(object, ['a[0].b.c', 'a[1]']);\n     * // => [3, 4]\n     */\n    var at = flatRest(baseAt);\n\n    /**\n     * Creates an object that inherits from the `prototype` object. If a\n     * `properties` object is given, its own enumerable string keyed properties\n     * are assigned to the created object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Object\n     * @param {Object} prototype The object to inherit from.\n     * @param {Object} [properties] The properties to assign to the object.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * function Shape() {\n     *   this.x = 0;\n     *   this.y = 0;\n     * }\n     *\n     * function Circle() {\n     *   Shape.call(this);\n     * }\n     *\n     * Circle.prototype = _.create(Shape.prototype, {\n     *   'constructor': Circle\n     * });\n     *\n     * var circle = new Circle;\n     * circle instanceof Circle;\n     * // => true\n     *\n     * circle instanceof Shape;\n     * // => true\n     */\n    function create(prototype, properties) {\n      var result = baseCreate(prototype);\n      return properties == null ? result : baseAssign(result, properties);\n    }\n\n    /**\n     * Assigns own and inherited enumerable string keyed properties of source\n     * objects to the destination object for all destination properties that\n     * resolve to `undefined`. Source objects are applied from left to right.\n     * Once a property is set, additional values of the same property are ignored.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaultsDeep\n     * @example\n     *\n     * _.defaults({ 'a': 1 }, { 'b': 2 }, { 'a': 3 });\n     * // => { 'a': 1, 'b': 2 }\n     */\n    var defaults = baseRest(function(object, sources) {\n      object = Object(object);\n\n      var index = -1;\n      var length = sources.length;\n      var guard = length > 2 ? sources[2] : undefined;\n\n      if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n        length = 1;\n      }\n\n      while (++index < length) {\n        var source = sources[index];\n        var props = keysIn(source);\n        var propsIndex = -1;\n        var propsLength = props.length;\n\n        while (++propsIndex < propsLength) {\n          var key = props[propsIndex];\n          var value = object[key];\n\n          if (value === undefined ||\n              (eq(value, objectProto[key]) && !hasOwnProperty.call(object, key))) {\n            object[key] = source[key];\n          }\n        }\n      }\n\n      return object;\n    });\n\n    /**\n     * This method is like `_.defaults` except that it recursively assigns\n     * default properties.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @see _.defaults\n     * @example\n     *\n     * _.defaultsDeep({ 'a': { 'b': 2 } }, { 'a': { 'b': 1, 'c': 3 } });\n     * // => { 'a': { 'b': 2, 'c': 3 } }\n     */\n    var defaultsDeep = baseRest(function(args) {\n      args.push(undefined, customDefaultsMerge);\n      return apply(mergeWith, undefined, args);\n    });\n\n    /**\n     * This method is like `_.find` except that it returns the key of the first\n     * element `predicate` returns truthy for instead of the element itself.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findKey(users, function(o) { return o.age < 40; });\n     * // => 'barney' (iteration order is not guaranteed)\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findKey(users, { 'age': 1, 'active': true });\n     * // => 'pebbles'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findKey(users, 'active');\n     * // => 'barney'\n     */\n    function findKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwn);\n    }\n\n    /**\n     * This method is like `_.findKey` except that it iterates over elements of\n     * a collection in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @param {Function} [predicate=_.identity] The function invoked per iteration.\n     * @returns {string|undefined} Returns the key of the matched element,\n     *  else `undefined`.\n     * @example\n     *\n     * var users = {\n     *   'barney':  { 'age': 36, 'active': true },\n     *   'fred':    { 'age': 40, 'active': false },\n     *   'pebbles': { 'age': 1,  'active': true }\n     * };\n     *\n     * _.findLastKey(users, function(o) { return o.age < 40; });\n     * // => returns 'pebbles' assuming `_.findKey` returns 'barney'\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.findLastKey(users, { 'age': 36, 'active': true });\n     * // => 'barney'\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.findLastKey(users, ['active', false]);\n     * // => 'fred'\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.findLastKey(users, 'active');\n     * // => 'pebbles'\n     */\n    function findLastKey(object, predicate) {\n      return baseFindKey(object, getIteratee(predicate, 3), baseForOwnRight);\n    }\n\n    /**\n     * Iterates over own and inherited enumerable string keyed properties of an\n     * object and invokes `iteratee` for each property. The iteratee is invoked\n     * with three arguments: (value, key, object). Iteratee functions may exit\n     * iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forInRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forIn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a', 'b', then 'c' (iteration order is not guaranteed).\n     */\n    function forIn(object, iteratee) {\n      return object == null\n        ? object\n        : baseFor(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * This method is like `_.forIn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forInRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'c', 'b', then 'a' assuming `_.forIn` logs 'a', 'b', then 'c'.\n     */\n    function forInRight(object, iteratee) {\n      return object == null\n        ? object\n        : baseForRight(object, getIteratee(iteratee, 3), keysIn);\n    }\n\n    /**\n     * Iterates over own enumerable string keyed properties of an object and\n     * invokes `iteratee` for each property. The iteratee is invoked with three\n     * arguments: (value, key, object). Iteratee functions may exit iteration\n     * early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwnRight\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwn(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n     */\n    function forOwn(object, iteratee) {\n      return object && baseForOwn(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * This method is like `_.forOwn` except that it iterates over properties of\n     * `object` in the opposite order.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.0.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns `object`.\n     * @see _.forOwn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.forOwnRight(new Foo, function(value, key) {\n     *   console.log(key);\n     * });\n     * // => Logs 'b' then 'a' assuming `_.forOwn` logs 'a' then 'b'.\n     */\n    function forOwnRight(object, iteratee) {\n      return object && baseForOwnRight(object, getIteratee(iteratee, 3));\n    }\n\n    /**\n     * Creates an array of function property names from own enumerable properties\n     * of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functionsIn\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functions(new Foo);\n     * // => ['a', 'b']\n     */\n    function functions(object) {\n      return object == null ? [] : baseFunctions(object, keys(object));\n    }\n\n    /**\n     * Creates an array of function property names from own and inherited\n     * enumerable properties of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to inspect.\n     * @returns {Array} Returns the function names.\n     * @see _.functions\n     * @example\n     *\n     * function Foo() {\n     *   this.a = _.constant('a');\n     *   this.b = _.constant('b');\n     * }\n     *\n     * Foo.prototype.c = _.constant('c');\n     *\n     * _.functionsIn(new Foo);\n     * // => ['a', 'b', 'c']\n     */\n    function functionsIn(object) {\n      return object == null ? [] : baseFunctions(object, keysIn(object));\n    }\n\n    /**\n     * Gets the value at `path` of `object`. If the resolved value is\n     * `undefined`, the `defaultValue` is returned in its place.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.get(object, 'a[0].b.c');\n     * // => 3\n     *\n     * _.get(object, ['a', '0', 'b', 'c']);\n     * // => 3\n     *\n     * _.get(object, 'a.b.c', 'default');\n     * // => 'default'\n     */\n    function get(object, path, defaultValue) {\n      var result = object == null ? undefined : baseGet(object, path);\n      return result === undefined ? defaultValue : result;\n    }\n\n    /**\n     * Checks if `path` is a direct property of `object`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = { 'a': { 'b': 2 } };\n     * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.has(object, 'a');\n     * // => true\n     *\n     * _.has(object, 'a.b');\n     * // => true\n     *\n     * _.has(object, ['a', 'b']);\n     * // => true\n     *\n     * _.has(other, 'a');\n     * // => false\n     */\n    function has(object, path) {\n      return object != null && hasPath(object, path, baseHas);\n    }\n\n    /**\n     * Checks if `path` is a direct or inherited property of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path to check.\n     * @returns {boolean} Returns `true` if `path` exists, else `false`.\n     * @example\n     *\n     * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n     *\n     * _.hasIn(object, 'a');\n     * // => true\n     *\n     * _.hasIn(object, 'a.b');\n     * // => true\n     *\n     * _.hasIn(object, ['a', 'b']);\n     * // => true\n     *\n     * _.hasIn(object, 'b');\n     * // => false\n     */\n    function hasIn(object, path) {\n      return object != null && hasPath(object, path, baseHasIn);\n    }\n\n    /**\n     * Creates an object composed of the inverted keys and values of `object`.\n     * If `object` contains duplicate values, subsequent values overwrite\n     * property assignments of previous values.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invert(object);\n     * // => { '1': 'c', '2': 'b' }\n     */\n    var invert = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      result[value] = key;\n    }, constant(identity));\n\n    /**\n     * This method is like `_.invert` except that the inverted object is generated\n     * from the results of running each element of `object` thru `iteratee`. The\n     * corresponding inverted value of each inverted key is an array of keys\n     * responsible for generating the inverted value. The iteratee is invoked\n     * with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.1.0\n     * @category Object\n     * @param {Object} object The object to invert.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {Object} Returns the new inverted object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\n     *\n     * _.invertBy(object);\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     *\n     * _.invertBy(object, function(value) {\n     *   return 'group' + value;\n     * });\n     * // => { 'group1': ['a', 'c'], 'group2': ['b'] }\n     */\n    var invertBy = createInverter(function(result, value, key) {\n      if (value != null &&\n          typeof value.toString != 'function') {\n        value = nativeObjectToString.call(value);\n      }\n\n      if (hasOwnProperty.call(result, value)) {\n        result[value].push(key);\n      } else {\n        result[value] = [key];\n      }\n    }, getIteratee);\n\n    /**\n     * Invokes the method at `path` of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {*} Returns the result of the invoked method.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': [1, 2, 3, 4] } }] };\n     *\n     * _.invoke(object, 'a[0].b.c.slice', 1, 3);\n     * // => [2, 3]\n     */\n    var invoke = baseRest(baseInvoke);\n\n    /**\n     * Creates an array of the own enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects. See the\n     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n     * for more details.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keys(new Foo);\n     * // => ['a', 'b'] (iteration order is not guaranteed)\n     *\n     * _.keys('hi');\n     * // => ['0', '1']\n     */\n    function keys(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable property names of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property names.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.keysIn(new Foo);\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n     */\n    function keysIn(object) {\n      return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n    }\n\n    /**\n     * The opposite of `_.mapValues`; this method creates an object with the\n     * same values as `object` and keys generated by running each own enumerable\n     * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n     * with three arguments: (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.8.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapValues\n     * @example\n     *\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n     *   return key + value;\n     * });\n     * // => { 'a1': 1, 'b2': 2 }\n     */\n    function mapKeys(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, iteratee(value, key, object), value);\n      });\n      return result;\n    }\n\n    /**\n     * Creates an object with the same keys as `object` and values generated\n     * by running each own enumerable string keyed property of `object` thru\n     * `iteratee`. The iteratee is invoked with three arguments:\n     * (value, key, object).\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Object} Returns the new mapped object.\n     * @see _.mapKeys\n     * @example\n     *\n     * var users = {\n     *   'fred':    { 'user': 'fred',    'age': 40 },\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n     * };\n     *\n     * _.mapValues(users, function(o) { return o.age; });\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.mapValues(users, 'age');\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n     */\n    function mapValues(object, iteratee) {\n      var result = {};\n      iteratee = getIteratee(iteratee, 3);\n\n      baseForOwn(object, function(value, key, object) {\n        baseAssignValue(result, key, iteratee(value, key, object));\n      });\n      return result;\n    }\n\n    /**\n     * This method is like `_.assign` except that it recursively merges own and\n     * inherited enumerable string keyed properties of source objects into the\n     * destination object. Source properties that resolve to `undefined` are\n     * skipped if a destination value exists. Array and plain object properties\n     * are merged recursively. Other objects and value types are overridden by\n     * assignment. Source objects are applied from left to right. Subsequent\n     * sources overwrite property assignments of previous sources.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.5.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} [sources] The source objects.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {\n     *   'a': [{ 'b': 2 }, { 'd': 4 }]\n     * };\n     *\n     * var other = {\n     *   'a': [{ 'c': 3 }, { 'e': 5 }]\n     * };\n     *\n     * _.merge(object, other);\n     * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n     */\n    var merge = createAssigner(function(object, source, srcIndex) {\n      baseMerge(object, source, srcIndex);\n    });\n\n    /**\n     * This method is like `_.merge` except that it accepts `customizer` which\n     * is invoked to produce the merged values of the destination and source\n     * properties. If `customizer` returns `undefined`, merging is handled by the\n     * method instead. The `customizer` is invoked with six arguments:\n     * (objValue, srcValue, key, object, source, stack).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The destination object.\n     * @param {...Object} sources The source objects.\n     * @param {Function} customizer The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * function customizer(objValue, srcValue) {\n     *   if (_.isArray(objValue)) {\n     *     return objValue.concat(srcValue);\n     *   }\n     * }\n     *\n     * var object = { 'a': [1], 'b': [2] };\n     * var other = { 'a': [3], 'b': [4] };\n     *\n     * _.mergeWith(object, other, customizer);\n     * // => { 'a': [1, 3], 'b': [2, 4] }\n     */\n    var mergeWith = createAssigner(function(object, source, srcIndex, customizer) {\n      baseMerge(object, source, srcIndex, customizer);\n    });\n\n    /**\n     * The opposite of `_.pick`; this method creates an object composed of the\n     * own and inherited enumerable property paths of `object` that are not omitted.\n     *\n     * **Note:** This method is considerably slower than `_.pick`.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to omit.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omit(object, ['a', 'c']);\n     * // => { 'b': '2' }\n     */\n    var omit = flatRest(function(object, paths) {\n      var result = {};\n      if (object == null) {\n        return result;\n      }\n      var isDeep = false;\n      paths = arrayMap(paths, function(path) {\n        path = castPath(path, object);\n        isDeep || (isDeep = path.length > 1);\n        return path;\n      });\n      copyObject(object, getAllKeysIn(object), result);\n      if (isDeep) {\n        result = baseClone(result, CLONE_DEEP_FLAG | CLONE_FLAT_FLAG | CLONE_SYMBOLS_FLAG, customOmitClone);\n      }\n      var length = paths.length;\n      while (length--) {\n        baseUnset(result, paths[length]);\n      }\n      return result;\n    });\n\n    /**\n     * The opposite of `_.pickBy`; this method creates an object composed of\n     * the own and inherited enumerable string keyed properties of `object` that\n     * `predicate` doesn't return truthy for. The predicate is invoked with two\n     * arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.omitBy(object, _.isNumber);\n     * // => { 'b': '2' }\n     */\n    function omitBy(object, predicate) {\n      return pickBy(object, negate(getIteratee(predicate)));\n    }\n\n    /**\n     * Creates an object composed of the picked `object` properties.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {...(string|string[])} [paths] The property paths to pick.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pick(object, ['a', 'c']);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    var pick = flatRest(function(object, paths) {\n      return object == null ? {} : basePick(object, paths);\n    });\n\n    /**\n     * Creates an object composed of the `object` properties `predicate` returns\n     * truthy for. The predicate is invoked with two arguments: (value, key).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The source object.\n     * @param {Function} [predicate=_.identity] The function invoked per property.\n     * @returns {Object} Returns the new object.\n     * @example\n     *\n     * var object = { 'a': 1, 'b': '2', 'c': 3 };\n     *\n     * _.pickBy(object, _.isNumber);\n     * // => { 'a': 1, 'c': 3 }\n     */\n    function pickBy(object, predicate) {\n      if (object == null) {\n        return {};\n      }\n      var props = arrayMap(getAllKeysIn(object), function(prop) {\n        return [prop];\n      });\n      predicate = getIteratee(predicate);\n      return basePickBy(object, props, function(value, path) {\n        return predicate(value, path[0]);\n      });\n    }\n\n    /**\n     * This method is like `_.get` except that if the resolved value is a\n     * function it's invoked with the `this` binding of its parent object and\n     * its result is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @param {Array|string} path The path of the property to resolve.\n     * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\n     *\n     * _.result(object, 'a[0].b.c1');\n     * // => 3\n     *\n     * _.result(object, 'a[0].b.c2');\n     * // => 4\n     *\n     * _.result(object, 'a[0].b.c3', 'default');\n     * // => 'default'\n     *\n     * _.result(object, 'a[0].b.c3', _.constant('default'));\n     * // => 'default'\n     */\n    function result(object, path, defaultValue) {\n      path = castPath(path, object);\n\n      var index = -1,\n          length = path.length;\n\n      // Ensure the loop is entered when path is empty.\n      if (!length) {\n        length = 1;\n        object = undefined;\n      }\n      while (++index < length) {\n        var value = object == null ? undefined : object[toKey(path[index])];\n        if (value === undefined) {\n          index = length;\n          value = defaultValue;\n        }\n        object = isFunction(value) ? value.call(object) : value;\n      }\n      return object;\n    }\n\n    /**\n     * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n     * it's created. Arrays are created for missing index properties while objects\n     * are created for all other missing properties. Use `_.setWith` to customize\n     * `path` creation.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.set(object, 'a[0].b.c', 4);\n     * console.log(object.a[0].b.c);\n     * // => 4\n     *\n     * _.set(object, ['x', '0', 'y', 'z'], 5);\n     * console.log(object.x[0].y.z);\n     * // => 5\n     */\n    function set(object, path, value) {\n      return object == null ? object : baseSet(object, path, value);\n    }\n\n    /**\n     * This method is like `_.set` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {*} value The value to set.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.setWith(object, '[0][1]', 'a', Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function setWith(object, path, value, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseSet(object, path, value, customizer);\n    }\n\n    /**\n     * Creates an array of own enumerable string keyed-value pairs for `object`\n     * which can be consumed by `_.fromPairs`. If `object` is a map or set, its\n     * entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entries\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairs(new Foo);\n     * // => [['a', 1], ['b', 2]] (iteration order is not guaranteed)\n     */\n    var toPairs = createToPairs(keys);\n\n    /**\n     * Creates an array of own and inherited enumerable string keyed-value pairs\n     * for `object` which can be consumed by `_.fromPairs`. If `object` is a map\n     * or set, its entries are returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @alias entriesIn\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the key-value pairs.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.toPairsIn(new Foo);\n     * // => [['a', 1], ['b', 2], ['c', 3]] (iteration order is not guaranteed)\n     */\n    var toPairsIn = createToPairs(keysIn);\n\n    /**\n     * An alternative to `_.reduce`; this method transforms `object` to a new\n     * `accumulator` object which is the result of running each of its own\n     * enumerable string keyed properties thru `iteratee`, with each invocation\n     * potentially mutating the `accumulator` object. If `accumulator` is not\n     * provided, a new object with the same `[[Prototype]]` will be used. The\n     * iteratee is invoked with four arguments: (accumulator, value, key, object).\n     * Iteratee functions may exit iteration early by explicitly returning `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.3.0\n     * @category Object\n     * @param {Object} object The object to iterate over.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @param {*} [accumulator] The custom accumulator value.\n     * @returns {*} Returns the accumulated value.\n     * @example\n     *\n     * _.transform([2, 3, 4], function(result, n) {\n     *   result.push(n *= n);\n     *   return n % 2 == 0;\n     * }, []);\n     * // => [4, 9]\n     *\n     * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n     *   (result[value] || (result[value] = [])).push(key);\n     * }, {});\n     * // => { '1': ['a', 'c'], '2': ['b'] }\n     */\n    function transform(object, iteratee, accumulator) {\n      var isArr = isArray(object),\n          isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n      iteratee = getIteratee(iteratee, 4);\n      if (accumulator == null) {\n        var Ctor = object && object.constructor;\n        if (isArrLike) {\n          accumulator = isArr ? new Ctor : [];\n        }\n        else if (isObject(object)) {\n          accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n        }\n        else {\n          accumulator = {};\n        }\n      }\n      (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n        return iteratee(accumulator, value, index, object);\n      });\n      return accumulator;\n    }\n\n    /**\n     * Removes the property at `path` of `object`.\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to unset.\n     * @returns {boolean} Returns `true` if the property is deleted, else `false`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 7 } }] };\n     * _.unset(object, 'a[0].b.c');\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     *\n     * _.unset(object, ['a', '0', 'b', 'c']);\n     * // => true\n     *\n     * console.log(object);\n     * // => { 'a': [{ 'b': {} }] };\n     */\n    function unset(object, path) {\n      return object == null ? true : baseUnset(object, path);\n    }\n\n    /**\n     * This method is like `_.set` except that accepts `updater` to produce the\n     * value to set. Use `_.updateWith` to customize `path` creation. The `updater`\n     * is invoked with one argument: (value).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n     *\n     * _.update(object, 'a[0].b.c', function(n) { return n * n; });\n     * console.log(object.a[0].b.c);\n     * // => 9\n     *\n     * _.update(object, 'x[0].y.z', function(n) { return n ? n + 1 : 0; });\n     * console.log(object.x[0].y.z);\n     * // => 0\n     */\n    function update(object, path, updater) {\n      return object == null ? object : baseUpdate(object, path, castFunction(updater));\n    }\n\n    /**\n     * This method is like `_.update` except that it accepts `customizer` which is\n     * invoked to produce the objects of `path`.  If `customizer` returns `undefined`\n     * path creation is handled by the method instead. The `customizer` is invoked\n     * with three arguments: (nsValue, key, nsObject).\n     *\n     * **Note:** This method mutates `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.6.0\n     * @category Object\n     * @param {Object} object The object to modify.\n     * @param {Array|string} path The path of the property to set.\n     * @param {Function} updater The function to produce the updated value.\n     * @param {Function} [customizer] The function to customize assigned values.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var object = {};\n     *\n     * _.updateWith(object, '[0][1]', _.constant('a'), Object);\n     * // => { '0': { '1': 'a' } }\n     */\n    function updateWith(object, path, updater, customizer) {\n      customizer = typeof customizer == 'function' ? customizer : undefined;\n      return object == null ? object : baseUpdate(object, path, castFunction(updater), customizer);\n    }\n\n    /**\n     * Creates an array of the own enumerable string keyed property values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.values(new Foo);\n     * // => [1, 2] (iteration order is not guaranteed)\n     *\n     * _.values('hi');\n     * // => ['h', 'i']\n     */\n    function values(object) {\n      return object == null ? [] : baseValues(object, keys(object));\n    }\n\n    /**\n     * Creates an array of the own and inherited enumerable string keyed property\n     * values of `object`.\n     *\n     * **Note:** Non-object values are coerced to objects.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Object\n     * @param {Object} object The object to query.\n     * @returns {Array} Returns the array of property values.\n     * @example\n     *\n     * function Foo() {\n     *   this.a = 1;\n     *   this.b = 2;\n     * }\n     *\n     * Foo.prototype.c = 3;\n     *\n     * _.valuesIn(new Foo);\n     * // => [1, 2, 3] (iteration order is not guaranteed)\n     */\n    function valuesIn(object) {\n      return object == null ? [] : baseValues(object, keysIn(object));\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Clamps `number` within the inclusive `lower` and `upper` bounds.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Number\n     * @param {number} number The number to clamp.\n     * @param {number} [lower] The lower bound.\n     * @param {number} upper The upper bound.\n     * @returns {number} Returns the clamped number.\n     * @example\n     *\n     * _.clamp(-10, -5, 5);\n     * // => -5\n     *\n     * _.clamp(10, -5, 5);\n     * // => 5\n     */\n    function clamp(number, lower, upper) {\n      if (upper === undefined) {\n        upper = lower;\n        lower = undefined;\n      }\n      if (upper !== undefined) {\n        upper = toNumber(upper);\n        upper = upper === upper ? upper : 0;\n      }\n      if (lower !== undefined) {\n        lower = toNumber(lower);\n        lower = lower === lower ? lower : 0;\n      }\n      return baseClamp(toNumber(number), lower, upper);\n    }\n\n    /**\n     * Checks if `n` is between `start` and up to, but not including, `end`. If\n     * `end` is not specified, it's set to `start` with `start` then set to `0`.\n     * If `start` is greater than `end` the params are swapped to support\n     * negative ranges.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.3.0\n     * @category Number\n     * @param {number} number The number to check.\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @returns {boolean} Returns `true` if `number` is in the range, else `false`.\n     * @see _.range, _.rangeRight\n     * @example\n     *\n     * _.inRange(3, 2, 4);\n     * // => true\n     *\n     * _.inRange(4, 8);\n     * // => true\n     *\n     * _.inRange(4, 2);\n     * // => false\n     *\n     * _.inRange(2, 2);\n     * // => false\n     *\n     * _.inRange(1.2, 2);\n     * // => true\n     *\n     * _.inRange(5.2, 4);\n     * // => false\n     *\n     * _.inRange(-3, -2, -6);\n     * // => true\n     */\n    function inRange(number, start, end) {\n      start = toFinite(start);\n      if (end === undefined) {\n        end = start;\n        start = 0;\n      } else {\n        end = toFinite(end);\n      }\n      number = toNumber(number);\n      return baseInRange(number, start, end);\n    }\n\n    /**\n     * Produces a random number between the inclusive `lower` and `upper` bounds.\n     * If only one argument is provided a number between `0` and the given number\n     * is returned. If `floating` is `true`, or either `lower` or `upper` are\n     * floats, a floating-point number is returned instead of an integer.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @memberOf _\n     * @since 0.7.0\n     * @category Number\n     * @param {number} [lower=0] The lower bound.\n     * @param {number} [upper=1] The upper bound.\n     * @param {boolean} [floating] Specify returning a floating-point number.\n     * @returns {number} Returns the random number.\n     * @example\n     *\n     * _.random(0, 5);\n     * // => an integer between 0 and 5\n     *\n     * _.random(5);\n     * // => also an integer between 0 and 5\n     *\n     * _.random(5, true);\n     * // => a floating-point number between 0 and 5\n     *\n     * _.random(1.2, 5.2);\n     * // => a floating-point number between 1.2 and 5.2\n     */\n    function random(lower, upper, floating) {\n      if (floating && typeof floating != 'boolean' && isIterateeCall(lower, upper, floating)) {\n        upper = floating = undefined;\n      }\n      if (floating === undefined) {\n        if (typeof upper == 'boolean') {\n          floating = upper;\n          upper = undefined;\n        }\n        else if (typeof lower == 'boolean') {\n          floating = lower;\n          lower = undefined;\n        }\n      }\n      if (lower === undefined && upper === undefined) {\n        lower = 0;\n        upper = 1;\n      }\n      else {\n        lower = toFinite(lower);\n        if (upper === undefined) {\n          upper = lower;\n          lower = 0;\n        } else {\n          upper = toFinite(upper);\n        }\n      }\n      if (lower > upper) {\n        var temp = lower;\n        lower = upper;\n        upper = temp;\n      }\n      if (floating || lower % 1 || upper % 1) {\n        var rand = nativeRandom();\n        return nativeMin(lower + (rand * (upper - lower + freeParseFloat('1e-' + ((rand + '').length - 1)))), upper);\n      }\n      return baseRandom(lower, upper);\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the camel cased string.\n     * @example\n     *\n     * _.camelCase('Foo Bar');\n     * // => 'fooBar'\n     *\n     * _.camelCase('--foo-bar--');\n     * // => 'fooBar'\n     *\n     * _.camelCase('__FOO_BAR__');\n     * // => 'fooBar'\n     */\n    var camelCase = createCompounder(function(result, word, index) {\n      word = word.toLowerCase();\n      return result + (index ? capitalize(word) : word);\n    });\n\n    /**\n     * Converts the first character of `string` to upper case and the remaining\n     * to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to capitalize.\n     * @returns {string} Returns the capitalized string.\n     * @example\n     *\n     * _.capitalize('FRED');\n     * // => 'Fred'\n     */\n    function capitalize(string) {\n      return upperFirst(toString(string).toLowerCase());\n    }\n\n    /**\n     * Deburrs `string` by converting\n     * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n     * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n     * letters to basic Latin letters and removing\n     * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to deburr.\n     * @returns {string} Returns the deburred string.\n     * @example\n     *\n     * _.deburr('dj vu');\n     * // => 'deja vu'\n     */\n    function deburr(string) {\n      string = toString(string);\n      return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n    }\n\n    /**\n     * Checks if `string` ends with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=string.length] The position to search up to.\n     * @returns {boolean} Returns `true` if `string` ends with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.endsWith('abc', 'c');\n     * // => true\n     *\n     * _.endsWith('abc', 'b');\n     * // => false\n     *\n     * _.endsWith('abc', 'b', 2);\n     * // => true\n     */\n    function endsWith(string, target, position) {\n      string = toString(string);\n      target = baseToString(target);\n\n      var length = string.length;\n      position = position === undefined\n        ? length\n        : baseClamp(toInteger(position), 0, length);\n\n      var end = position;\n      position -= target.length;\n      return position >= 0 && string.slice(position, end) == target;\n    }\n\n    /**\n     * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n     * corresponding HTML entities.\n     *\n     * **Note:** No other characters are escaped. To escape additional\n     * characters use a third-party library like [_he_](https://mths.be/he).\n     *\n     * Though the \">\" character is escaped for symmetry, characters like\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\n     * unless they're part of a tag or unquoted attribute value. See\n     * [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\n     * (under \"semi-related fun fact\") for more details.\n     *\n     * When working with HTML you should always\n     * [quote attribute values](http://wonko.com/post/html-escaping) to reduce\n     * XSS vectors.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escape('fred, barney, & pebbles');\n     * // => 'fred, barney, &amp; pebbles'\n     */\n    function escape(string) {\n      string = toString(string);\n      return (string && reHasUnescapedHtml.test(string))\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Escapes the `RegExp` special characters \"^\", \"$\", \"\\\", \".\", \"*\", \"+\",\n     * \"?\", \"(\", \")\", \"[\", \"]\", \"{\", \"}\", and \"|\" in `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to escape.\n     * @returns {string} Returns the escaped string.\n     * @example\n     *\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\n     * // => '\\[lodash\\]\\(https://lodash\\.com/\\)'\n     */\n    function escapeRegExp(string) {\n      string = toString(string);\n      return (string && reHasRegExpChar.test(string))\n        ? string.replace(reRegExpChar, '\\\\$&')\n        : string;\n    }\n\n    /**\n     * Converts `string` to\n     * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the kebab cased string.\n     * @example\n     *\n     * _.kebabCase('Foo Bar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('fooBar');\n     * // => 'foo-bar'\n     *\n     * _.kebabCase('__FOO_BAR__');\n     * // => 'foo-bar'\n     */\n    var kebabCase = createCompounder(function(result, word, index) {\n      return result + (index ? '-' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts `string`, as space separated words, to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.lowerCase('--Foo-Bar--');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('fooBar');\n     * // => 'foo bar'\n     *\n     * _.lowerCase('__FOO_BAR__');\n     * // => 'foo bar'\n     */\n    var lowerCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Converts the first character of `string` to lower case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.lowerFirst('Fred');\n     * // => 'fred'\n     *\n     * _.lowerFirst('FRED');\n     * // => 'fRED'\n     */\n    var lowerFirst = createCaseFirst('toLowerCase');\n\n    /**\n     * Pads `string` on the left and right sides if it's shorter than `length`.\n     * Padding characters are truncated if they can't be evenly divided by `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.pad('abc', 8);\n     * // => '  abc   '\n     *\n     * _.pad('abc', 8, '_-');\n     * // => '_-abc_-_'\n     *\n     * _.pad('abc', 3);\n     * // => 'abc'\n     */\n    function pad(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      if (!length || strLength >= length) {\n        return string;\n      }\n      var mid = (length - strLength) / 2;\n      return (\n        createPadding(nativeFloor(mid), chars) +\n        string +\n        createPadding(nativeCeil(mid), chars)\n      );\n    }\n\n    /**\n     * Pads `string` on the right side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padEnd('abc', 6);\n     * // => 'abc   '\n     *\n     * _.padEnd('abc', 6, '_-');\n     * // => 'abc_-_'\n     *\n     * _.padEnd('abc', 3);\n     * // => 'abc'\n     */\n    function padEnd(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (string + createPadding(length - strLength, chars))\n        : string;\n    }\n\n    /**\n     * Pads `string` on the left side if it's shorter than `length`. Padding\n     * characters are truncated if they exceed `length`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to pad.\n     * @param {number} [length=0] The padding length.\n     * @param {string} [chars=' '] The string used as padding.\n     * @returns {string} Returns the padded string.\n     * @example\n     *\n     * _.padStart('abc', 6);\n     * // => '   abc'\n     *\n     * _.padStart('abc', 6, '_-');\n     * // => '_-_abc'\n     *\n     * _.padStart('abc', 3);\n     * // => 'abc'\n     */\n    function padStart(string, length, chars) {\n      string = toString(string);\n      length = toInteger(length);\n\n      var strLength = length ? stringSize(string) : 0;\n      return (length && strLength < length)\n        ? (createPadding(length - strLength, chars) + string)\n        : string;\n    }\n\n    /**\n     * Converts `string` to an integer of the specified radix. If `radix` is\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a\n     * hexadecimal, in which case a `radix` of `16` is used.\n     *\n     * **Note:** This method aligns with the\n     * [ES5 implementation](https://es5.github.io/#x15.1.2.2) of `parseInt`.\n     *\n     * @static\n     * @memberOf _\n     * @since 1.1.0\n     * @category String\n     * @param {string} string The string to convert.\n     * @param {number} [radix=10] The radix to interpret `value` by.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {number} Returns the converted integer.\n     * @example\n     *\n     * _.parseInt('08');\n     * // => 8\n     *\n     * _.map(['6', '08', '10'], _.parseInt);\n     * // => [6, 8, 10]\n     */\n    function parseInt(string, radix, guard) {\n      if (guard || radix == null) {\n        radix = 0;\n      } else if (radix) {\n        radix = +radix;\n      }\n      return nativeParseInt(toString(string).replace(reTrimStart, ''), radix || 0);\n    }\n\n    /**\n     * Repeats the given string `n` times.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to repeat.\n     * @param {number} [n=1] The number of times to repeat the string.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the repeated string.\n     * @example\n     *\n     * _.repeat('*', 3);\n     * // => '***'\n     *\n     * _.repeat('abc', 2);\n     * // => 'abcabc'\n     *\n     * _.repeat('abc', 0);\n     * // => ''\n     */\n    function repeat(string, n, guard) {\n      if ((guard ? isIterateeCall(string, n, guard) : n === undefined)) {\n        n = 1;\n      } else {\n        n = toInteger(n);\n      }\n      return baseRepeat(toString(string), n);\n    }\n\n    /**\n     * Replaces matches for `pattern` in `string` with `replacement`.\n     *\n     * **Note:** This method is based on\n     * [`String#replace`](https://mdn.io/String/replace).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to modify.\n     * @param {RegExp|string} pattern The pattern to replace.\n     * @param {Function|string} replacement The match replacement.\n     * @returns {string} Returns the modified string.\n     * @example\n     *\n     * _.replace('Hi Fred', 'Fred', 'Barney');\n     * // => 'Hi Barney'\n     */\n    function replace() {\n      var args = arguments,\n          string = toString(args[0]);\n\n      return args.length < 3 ? string : string.replace(args[1], args[2]);\n    }\n\n    /**\n     * Converts `string` to\n     * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the snake cased string.\n     * @example\n     *\n     * _.snakeCase('Foo Bar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('fooBar');\n     * // => 'foo_bar'\n     *\n     * _.snakeCase('--FOO-BAR--');\n     * // => 'foo_bar'\n     */\n    var snakeCase = createCompounder(function(result, word, index) {\n      return result + (index ? '_' : '') + word.toLowerCase();\n    });\n\n    /**\n     * Splits `string` by `separator`.\n     *\n     * **Note:** This method is based on\n     * [`String#split`](https://mdn.io/String/split).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to split.\n     * @param {RegExp|string} separator The separator pattern to split by.\n     * @param {number} [limit] The length to truncate results to.\n     * @returns {Array} Returns the string segments.\n     * @example\n     *\n     * _.split('a-b-c', '-', 2);\n     * // => ['a', 'b']\n     */\n    function split(string, separator, limit) {\n      if (limit && typeof limit != 'number' && isIterateeCall(string, separator, limit)) {\n        separator = limit = undefined;\n      }\n      limit = limit === undefined ? MAX_ARRAY_LENGTH : limit >>> 0;\n      if (!limit) {\n        return [];\n      }\n      string = toString(string);\n      if (string && (\n            typeof separator == 'string' ||\n            (separator != null && !isRegExp(separator))\n          )) {\n        separator = baseToString(separator);\n        if (!separator && hasUnicode(string)) {\n          return castSlice(stringToArray(string), 0, limit);\n        }\n      }\n      return string.split(separator, limit);\n    }\n\n    /**\n     * Converts `string` to\n     * [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\n     *\n     * @static\n     * @memberOf _\n     * @since 3.1.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the start cased string.\n     * @example\n     *\n     * _.startCase('--foo-bar--');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('fooBar');\n     * // => 'Foo Bar'\n     *\n     * _.startCase('__FOO_BAR__');\n     * // => 'FOO BAR'\n     */\n    var startCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + upperFirst(word);\n    });\n\n    /**\n     * Checks if `string` starts with the given target string.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {string} [target] The string to search for.\n     * @param {number} [position=0] The position to search from.\n     * @returns {boolean} Returns `true` if `string` starts with `target`,\n     *  else `false`.\n     * @example\n     *\n     * _.startsWith('abc', 'a');\n     * // => true\n     *\n     * _.startsWith('abc', 'b');\n     * // => false\n     *\n     * _.startsWith('abc', 'b', 1);\n     * // => true\n     */\n    function startsWith(string, target, position) {\n      string = toString(string);\n      position = position == null\n        ? 0\n        : baseClamp(toInteger(position), 0, string.length);\n\n      target = baseToString(target);\n      return string.slice(position, position + target.length) == target;\n    }\n\n    /**\n     * Creates a compiled template function that can interpolate data properties\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\n     * properties may be accessed as free variables in the template. If a setting\n     * object is given, it takes precedence over `_.templateSettings` values.\n     *\n     * **Note:** In the development build `_.template` utilizes\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\n     * for easier debugging.\n     *\n     * For more information on precompiling templates see\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\n     *\n     * For more information on Chrome extension sandboxes see\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category String\n     * @param {string} [string=''] The template string.\n     * @param {Object} [options={}] The options object.\n     * @param {RegExp} [options.escape=_.templateSettings.escape]\n     *  The HTML \"escape\" delimiter.\n     * @param {RegExp} [options.evaluate=_.templateSettings.evaluate]\n     *  The \"evaluate\" delimiter.\n     * @param {Object} [options.imports=_.templateSettings.imports]\n     *  An object to import into the template as free variables.\n     * @param {RegExp} [options.interpolate=_.templateSettings.interpolate]\n     *  The \"interpolate\" delimiter.\n     * @param {string} [options.sourceURL='lodash.templateSources[n]']\n     *  The sourceURL of the compiled template.\n     * @param {string} [options.variable='obj']\n     *  The data object variable name.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Function} Returns the compiled template function.\n     * @example\n     *\n     * // Use the \"interpolate\" delimiter to create a compiled template.\n     * var compiled = _.template('hello <%= user %>!');\n     * compiled({ 'user': 'fred' });\n     * // => 'hello fred!'\n     *\n     * // Use the HTML \"escape\" delimiter to escape data property values.\n     * var compiled = _.template('<b><%- value %></b>');\n     * compiled({ 'value': '<script>' });\n     * // => '<b>&lt;script&gt;</b>'\n     *\n     * // Use the \"evaluate\" delimiter to execute JavaScript and generate HTML.\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the internal `print` function in \"evaluate\" delimiters.\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\n     * compiled({ 'user': 'barney' });\n     * // => 'hello barney!'\n     *\n     * // Use the ES template literal delimiter as an \"interpolate\" delimiter.\n     * // Disable support by replacing the \"interpolate\" delimiter.\n     * var compiled = _.template('hello ${ user }!');\n     * compiled({ 'user': 'pebbles' });\n     * // => 'hello pebbles!'\n     *\n     * // Use backslashes to treat delimiters as plain text.\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\n     * compiled({ 'value': 'ignored' });\n     * // => '<%- value %>'\n     *\n     * // Use the `imports` option to import `jQuery` as `jq`.\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\n     * compiled({ 'users': ['fred', 'barney'] });\n     * // => '<li>fred</li><li>barney</li>'\n     *\n     * // Use the `sourceURL` option to specify a custom sourceURL for the template.\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\n     * compiled(data);\n     * // => Find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector.\n     *\n     * // Use the `variable` option to ensure a with-statement isn't used in the compiled template.\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\n     * compiled.source;\n     * // => function(data) {\n     * //   var __t, __p = '';\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\n     * //   return __p;\n     * // }\n     *\n     * // Use custom template delimiters.\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\n     * var compiled = _.template('hello {{ user }}!');\n     * compiled({ 'user': 'mustache' });\n     * // => 'hello mustache!'\n     *\n     * // Use the `source` property to inline compiled templates for meaningful\n     * // line numbers in error messages and stack traces.\n     * fs.writeFileSync(path.join(process.cwd(), 'jst.js'), '\\\n     *   var JST = {\\\n     *     \"main\": ' + _.template(mainText).source + '\\\n     *   };\\\n     * ');\n     */\n    function template(string, options, guard) {\n      // Based on John Resig's `tmpl` implementation\n      // (http://ejohn.org/blog/javascript-micro-templating/)\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\n      var settings = lodash.templateSettings;\n\n      if (guard && isIterateeCall(string, options, guard)) {\n        options = undefined;\n      }\n      string = toString(string);\n      options = assignInWith({}, options, settings, customDefaultsAssignIn);\n\n      var imports = assignInWith({}, options.imports, settings.imports, customDefaultsAssignIn),\n          importsKeys = keys(imports),\n          importsValues = baseValues(imports, importsKeys);\n\n      var isEscaping,\n          isEvaluating,\n          index = 0,\n          interpolate = options.interpolate || reNoMatch,\n          source = \"__p += '\";\n\n      // Compile the regexp to match each delimiter.\n      var reDelimiters = RegExp(\n        (options.escape || reNoMatch).source + '|' +\n        interpolate.source + '|' +\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\n        (options.evaluate || reNoMatch).source + '|$'\n      , 'g');\n\n      // Use a sourceURL for easier debugging.\n      // The sourceURL gets injected into the source that's eval-ed, so be careful\n      // to normalize all kinds of whitespace, so e.g. newlines (and unicode versions of it) can't sneak in\n      // and escape the comment, thus injecting code that gets evaled.\n      var sourceURL = '//# sourceURL=' +\n        (hasOwnProperty.call(options, 'sourceURL')\n          ? (options.sourceURL + '').replace(/\\s/g, ' ')\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\n        ) + '\\n';\n\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\n        interpolateValue || (interpolateValue = esTemplateValue);\n\n        // Escape characters that can't be included in string literals.\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\n\n        // Replace delimiters with snippets.\n        if (escapeValue) {\n          isEscaping = true;\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\n        }\n        if (evaluateValue) {\n          isEvaluating = true;\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\n        }\n        if (interpolateValue) {\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\n        }\n        index = offset + match.length;\n\n        // The JS engine embedded in Adobe products needs `match` returned in\n        // order to produce the correct `offset` value.\n        return match;\n      });\n\n      source += \"';\\n\";\n\n      // If `variable` is not specified wrap a with-statement around the generated\n      // code to add the data object to the top of the scope chain.\n      var variable = hasOwnProperty.call(options, 'variable') && options.variable;\n      if (!variable) {\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\n      }\n      // Throw an error if a forbidden character was found in `variable`, to prevent\n      // potential command injection attacks.\n      else if (reForbiddenIdentifierChars.test(variable)) {\n        throw new Error(INVALID_TEMPL_VAR_ERROR_TEXT);\n      }\n\n      // Cleanup code by stripping empty strings.\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\n        .replace(reEmptyStringMiddle, '$1')\n        .replace(reEmptyStringTrailing, '$1;');\n\n      // Frame code as the function body.\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\n        (variable\n          ? ''\n          : 'obj || (obj = {});\\n'\n        ) +\n        \"var __t, __p = ''\" +\n        (isEscaping\n           ? ', __e = _.escape'\n           : ''\n        ) +\n        (isEvaluating\n          ? ', __j = Array.prototype.join;\\n' +\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\n          : ';\\n'\n        ) +\n        source +\n        'return __p\\n}';\n\n      var result = attempt(function() {\n        return Function(importsKeys, sourceURL + 'return ' + source)\n          .apply(undefined, importsValues);\n      });\n\n      // Provide the compiled function's source by its `toString` method or\n      // the `source` property as a convenience for inlining compiled templates.\n      result.source = source;\n      if (isError(result)) {\n        throw result;\n      }\n      return result;\n    }\n\n    /**\n     * Converts `string`, as a whole, to lower case just like\n     * [String#toLowerCase](https://mdn.io/toLowerCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the lower cased string.\n     * @example\n     *\n     * _.toLower('--Foo-Bar--');\n     * // => '--foo-bar--'\n     *\n     * _.toLower('fooBar');\n     * // => 'foobar'\n     *\n     * _.toLower('__FOO_BAR__');\n     * // => '__foo_bar__'\n     */\n    function toLower(value) {\n      return toString(value).toLowerCase();\n    }\n\n    /**\n     * Converts `string`, as a whole, to upper case just like\n     * [String#toUpperCase](https://mdn.io/toUpperCase).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.toUpper('--foo-bar--');\n     * // => '--FOO-BAR--'\n     *\n     * _.toUpper('fooBar');\n     * // => 'FOOBAR'\n     *\n     * _.toUpper('__foo_bar__');\n     * // => '__FOO_BAR__'\n     */\n    function toUpper(value) {\n      return toString(value).toUpperCase();\n    }\n\n    /**\n     * Removes leading and trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trim('  abc  ');\n     * // => 'abc'\n     *\n     * _.trim('-_-abc-_-', '_-');\n     * // => 'abc'\n     *\n     * _.map(['  foo  ', '  bar  '], _.trim);\n     * // => ['foo', 'bar']\n     */\n    function trim(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return baseTrim(string);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          chrSymbols = stringToArray(chars),\n          start = charsStartIndex(strSymbols, chrSymbols),\n          end = charsEndIndex(strSymbols, chrSymbols) + 1;\n\n      return castSlice(strSymbols, start, end).join('');\n    }\n\n    /**\n     * Removes trailing whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimEnd('  abc  ');\n     * // => '  abc'\n     *\n     * _.trimEnd('-_-abc-_-', '_-');\n     * // => '-_-abc'\n     */\n    function trimEnd(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.slice(0, trimmedEndIndex(string) + 1);\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          end = charsEndIndex(strSymbols, stringToArray(chars)) + 1;\n\n      return castSlice(strSymbols, 0, end).join('');\n    }\n\n    /**\n     * Removes leading whitespace or specified characters from `string`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to trim.\n     * @param {string} [chars=whitespace] The characters to trim.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {string} Returns the trimmed string.\n     * @example\n     *\n     * _.trimStart('  abc  ');\n     * // => 'abc  '\n     *\n     * _.trimStart('-_-abc-_-', '_-');\n     * // => 'abc-_-'\n     */\n    function trimStart(string, chars, guard) {\n      string = toString(string);\n      if (string && (guard || chars === undefined)) {\n        return string.replace(reTrimStart, '');\n      }\n      if (!string || !(chars = baseToString(chars))) {\n        return string;\n      }\n      var strSymbols = stringToArray(string),\n          start = charsStartIndex(strSymbols, stringToArray(chars));\n\n      return castSlice(strSymbols, start).join('');\n    }\n\n    /**\n     * Truncates `string` if it's longer than the given maximum string length.\n     * The last characters of the truncated string are replaced with the omission\n     * string which defaults to \"...\".\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to truncate.\n     * @param {Object} [options={}] The options object.\n     * @param {number} [options.length=30] The maximum string length.\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\n     * @returns {string} Returns the truncated string.\n     * @example\n     *\n     * _.truncate('hi-diddly-ho there, neighborino');\n     * // => 'hi-diddly-ho there, neighbo...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': ' '\n     * });\n     * // => 'hi-diddly-ho there,...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'length': 24,\n     *   'separator': /,? +/\n     * });\n     * // => 'hi-diddly-ho there...'\n     *\n     * _.truncate('hi-diddly-ho there, neighborino', {\n     *   'omission': ' [...]'\n     * });\n     * // => 'hi-diddly-ho there, neig [...]'\n     */\n    function truncate(string, options) {\n      var length = DEFAULT_TRUNC_LENGTH,\n          omission = DEFAULT_TRUNC_OMISSION;\n\n      if (isObject(options)) {\n        var separator = 'separator' in options ? options.separator : separator;\n        length = 'length' in options ? toInteger(options.length) : length;\n        omission = 'omission' in options ? baseToString(options.omission) : omission;\n      }\n      string = toString(string);\n\n      var strLength = string.length;\n      if (hasUnicode(string)) {\n        var strSymbols = stringToArray(string);\n        strLength = strSymbols.length;\n      }\n      if (length >= strLength) {\n        return string;\n      }\n      var end = length - stringSize(omission);\n      if (end < 1) {\n        return omission;\n      }\n      var result = strSymbols\n        ? castSlice(strSymbols, 0, end).join('')\n        : string.slice(0, end);\n\n      if (separator === undefined) {\n        return result + omission;\n      }\n      if (strSymbols) {\n        end += (result.length - end);\n      }\n      if (isRegExp(separator)) {\n        if (string.slice(end).search(separator)) {\n          var match,\n              substring = result;\n\n          if (!separator.global) {\n            separator = RegExp(separator.source, toString(reFlags.exec(separator)) + 'g');\n          }\n          separator.lastIndex = 0;\n          while ((match = separator.exec(substring))) {\n            var newEnd = match.index;\n          }\n          result = result.slice(0, newEnd === undefined ? end : newEnd);\n        }\n      } else if (string.indexOf(baseToString(separator), end) != end) {\n        var index = result.lastIndexOf(separator);\n        if (index > -1) {\n          result = result.slice(0, index);\n        }\n      }\n      return result + omission;\n    }\n\n    /**\n     * The inverse of `_.escape`; this method converts the HTML entities\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, and `&#39;` in `string` to\n     * their corresponding characters.\n     *\n     * **Note:** No other HTML entities are unescaped. To unescape additional\n     * HTML entities use a third-party library like [_he_](https://mths.be/he).\n     *\n     * @static\n     * @memberOf _\n     * @since 0.6.0\n     * @category String\n     * @param {string} [string=''] The string to unescape.\n     * @returns {string} Returns the unescaped string.\n     * @example\n     *\n     * _.unescape('fred, barney, &amp; pebbles');\n     * // => 'fred, barney, & pebbles'\n     */\n    function unescape(string) {\n      string = toString(string);\n      return (string && reHasEscapedHtml.test(string))\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\n        : string;\n    }\n\n    /**\n     * Converts `string`, as space separated words, to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the upper cased string.\n     * @example\n     *\n     * _.upperCase('--foo-bar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('fooBar');\n     * // => 'FOO BAR'\n     *\n     * _.upperCase('__foo_bar__');\n     * // => 'FOO BAR'\n     */\n    var upperCase = createCompounder(function(result, word, index) {\n      return result + (index ? ' ' : '') + word.toUpperCase();\n    });\n\n    /**\n     * Converts the first character of `string` to upper case.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category String\n     * @param {string} [string=''] The string to convert.\n     * @returns {string} Returns the converted string.\n     * @example\n     *\n     * _.upperFirst('fred');\n     * // => 'Fred'\n     *\n     * _.upperFirst('FRED');\n     * // => 'FRED'\n     */\n    var upperFirst = createCaseFirst('toUpperCase');\n\n    /**\n     * Splits `string` into an array of its words.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category String\n     * @param {string} [string=''] The string to inspect.\n     * @param {RegExp|string} [pattern] The pattern to match words.\n     * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n     * @returns {Array} Returns the words of `string`.\n     * @example\n     *\n     * _.words('fred, barney, & pebbles');\n     * // => ['fred', 'barney', 'pebbles']\n     *\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\n     * // => ['fred', 'barney', '&', 'pebbles']\n     */\n    function words(string, pattern, guard) {\n      string = toString(string);\n      pattern = guard ? undefined : pattern;\n\n      if (pattern === undefined) {\n        return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n      }\n      return string.match(pattern) || [];\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Attempts to invoke `func`, returning either the result or the caught error\n     * object. Any additional arguments are provided to `func` when it's invoked.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Function} func The function to attempt.\n     * @param {...*} [args] The arguments to invoke `func` with.\n     * @returns {*} Returns the `func` result or error object.\n     * @example\n     *\n     * // Avoid throwing errors for invalid selectors.\n     * var elements = _.attempt(function(selector) {\n     *   return document.querySelectorAll(selector);\n     * }, '>_>');\n     *\n     * if (_.isError(elements)) {\n     *   elements = [];\n     * }\n     */\n    var attempt = baseRest(function(func, args) {\n      try {\n        return apply(func, undefined, args);\n      } catch (e) {\n        return isError(e) ? e : new Error(e);\n      }\n    });\n\n    /**\n     * Binds methods of an object to the object itself, overwriting the existing\n     * method.\n     *\n     * **Note:** This method doesn't set the \"length\" property of bound functions.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Object} object The object to bind and assign the bound methods to.\n     * @param {...(string|string[])} methodNames The object method names to bind.\n     * @returns {Object} Returns `object`.\n     * @example\n     *\n     * var view = {\n     *   'label': 'docs',\n     *   'click': function() {\n     *     console.log('clicked ' + this.label);\n     *   }\n     * };\n     *\n     * _.bindAll(view, ['click']);\n     * jQuery(element).on('click', view.click);\n     * // => Logs 'clicked docs' when clicked.\n     */\n    var bindAll = flatRest(function(object, methodNames) {\n      arrayEach(methodNames, function(key) {\n        key = toKey(key);\n        baseAssignValue(object, key, bind(object[key], object));\n      });\n      return object;\n    });\n\n    /**\n     * Creates a function that iterates over `pairs` and invokes the corresponding\n     * function of the first predicate to return truthy. The predicate-function\n     * pairs are invoked with the `this` binding and arguments of the created\n     * function.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Array} pairs The predicate-function pairs.\n     * @returns {Function} Returns the new composite function.\n     * @example\n     *\n     * var func = _.cond([\n     *   [_.matches({ 'a': 1 }),           _.constant('matches A')],\n     *   [_.conforms({ 'b': _.isNumber }), _.constant('matches B')],\n     *   [_.stubTrue,                      _.constant('no match')]\n     * ]);\n     *\n     * func({ 'a': 1, 'b': 2 });\n     * // => 'matches A'\n     *\n     * func({ 'a': 0, 'b': 1 });\n     * // => 'matches B'\n     *\n     * func({ 'a': '1', 'b': '2' });\n     * // => 'no match'\n     */\n    function cond(pairs) {\n      var length = pairs == null ? 0 : pairs.length,\n          toIteratee = getIteratee();\n\n      pairs = !length ? [] : arrayMap(pairs, function(pair) {\n        if (typeof pair[1] != 'function') {\n          throw new TypeError(FUNC_ERROR_TEXT);\n        }\n        return [toIteratee(pair[0]), pair[1]];\n      });\n\n      return baseRest(function(args) {\n        var index = -1;\n        while (++index < length) {\n          var pair = pairs[index];\n          if (apply(pair[0], this, args)) {\n            return apply(pair[1], this, args);\n          }\n        }\n      });\n    }\n\n    /**\n     * Creates a function that invokes the predicate properties of `source` with\n     * the corresponding property values of a given object, returning `true` if\n     * all predicates return truthy, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.conformsTo` with\n     * `source` partially applied.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {Object} source The object of property predicates to conform to.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 2, 'b': 1 },\n     *   { 'a': 1, 'b': 2 }\n     * ];\n     *\n     * _.filter(objects, _.conforms({ 'b': function(n) { return n > 1; } }));\n     * // => [{ 'a': 1, 'b': 2 }]\n     */\n    function conforms(source) {\n      return baseConforms(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that returns `value`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {*} value The value to return from the new function.\n     * @returns {Function} Returns the new constant function.\n     * @example\n     *\n     * var objects = _.times(2, _.constant({ 'a': 1 }));\n     *\n     * console.log(objects);\n     * // => [{ 'a': 1 }, { 'a': 1 }]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => true\n     */\n    function constant(value) {\n      return function() {\n        return value;\n      };\n    }\n\n    /**\n     * Checks `value` to determine whether a default value should be returned in\n     * its place. The `defaultValue` is returned if `value` is `NaN`, `null`,\n     * or `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.14.0\n     * @category Util\n     * @param {*} value The value to check.\n     * @param {*} defaultValue The default value.\n     * @returns {*} Returns the resolved value.\n     * @example\n     *\n     * _.defaultTo(1, 10);\n     * // => 1\n     *\n     * _.defaultTo(undefined, 10);\n     * // => 10\n     */\n    function defaultTo(value, defaultValue) {\n      return (value == null || value !== value) ? defaultValue : value;\n    }\n\n    /**\n     * Creates a function that returns the result of invoking the given functions\n     * with the `this` binding of the created function, where each successive\n     * invocation is supplied the return value of the previous.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flowRight\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flow([_.add, square]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flow = createFlow();\n\n    /**\n     * This method is like `_.flow` except that it creates a function that\n     * invokes the given functions from right to left.\n     *\n     * @static\n     * @since 3.0.0\n     * @memberOf _\n     * @category Util\n     * @param {...(Function|Function[])} [funcs] The functions to invoke.\n     * @returns {Function} Returns the new composite function.\n     * @see _.flow\n     * @example\n     *\n     * function square(n) {\n     *   return n * n;\n     * }\n     *\n     * var addSquare = _.flowRight([square, _.add]);\n     * addSquare(1, 2);\n     * // => 9\n     */\n    var flowRight = createFlow(true);\n\n    /**\n     * This method returns the first argument it receives.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {*} value Any value.\n     * @returns {*} Returns `value`.\n     * @example\n     *\n     * var object = { 'a': 1 };\n     *\n     * console.log(_.identity(object) === object);\n     * // => true\n     */\n    function identity(value) {\n      return value;\n    }\n\n    /**\n     * Creates a function that invokes `func` with the arguments of the created\n     * function. If `func` is a property name, the created function returns the\n     * property value for a given element. If `func` is an array or object, the\n     * created function returns `true` for elements that contain the equivalent\n     * source properties, otherwise it returns `false`.\n     *\n     * @static\n     * @since 4.0.0\n     * @memberOf _\n     * @category Util\n     * @param {*} [func=_.identity] The value to convert to a callback.\n     * @returns {Function} Returns the callback.\n     * @example\n     *\n     * var users = [\n     *   { 'user': 'barney', 'age': 36, 'active': true },\n     *   { 'user': 'fred',   'age': 40, 'active': false }\n     * ];\n     *\n     * // The `_.matches` iteratee shorthand.\n     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));\n     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]\n     *\n     * // The `_.matchesProperty` iteratee shorthand.\n     * _.filter(users, _.iteratee(['user', 'fred']));\n     * // => [{ 'user': 'fred', 'age': 40 }]\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.map(users, _.iteratee('user'));\n     * // => ['barney', 'fred']\n     *\n     * // Create custom iteratee shorthands.\n     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {\n     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {\n     *     return func.test(string);\n     *   };\n     * });\n     *\n     * _.filter(['abc', 'def'], /ef/);\n     * // => ['def']\n     */\n    function iteratee(func) {\n      return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between a given\n     * object and `source`, returning `true` if the given object has equivalent\n     * property values, else `false`.\n     *\n     * **Note:** The created function is equivalent to `_.isMatch` with `source`\n     * partially applied.\n     *\n     * Partial comparisons will match empty array and empty object `source`\n     * values against any array or object value, respectively. See `_.isEqual`\n     * for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} source The object of property values to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.filter(objects, _.matches({ 'a': 4, 'c': 6 }));\n     * // => [{ 'a': 4, 'b': 5, 'c': 6 }]\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matches({ 'a': 1 }), _.matches({ 'a': 4 })]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matches(source) {\n      return baseMatches(baseClone(source, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that performs a partial deep comparison between the\n     * value at `path` of a given object to `srcValue`, returning `true` if the\n     * object value is equivalent, else `false`.\n     *\n     * **Note:** Partial comparisons will match empty array and empty object\n     * `srcValue` values against any array or object value, respectively. See\n     * `_.isEqual` for a list of supported value comparisons.\n     *\n     * **Note:** Multiple values can be checked by combining several matchers\n     * using `_.overSome`\n     *\n     * @static\n     * @memberOf _\n     * @since 3.2.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @param {*} srcValue The value to match.\n     * @returns {Function} Returns the new spec function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': 1, 'b': 2, 'c': 3 },\n     *   { 'a': 4, 'b': 5, 'c': 6 }\n     * ];\n     *\n     * _.find(objects, _.matchesProperty('a', 4));\n     * // => { 'a': 4, 'b': 5, 'c': 6 }\n     *\n     * // Checking for several possible values\n     * _.filter(objects, _.overSome([_.matchesProperty('a', 1), _.matchesProperty('a', 4)]));\n     * // => [{ 'a': 1, 'b': 2, 'c': 3 }, { 'a': 4, 'b': 5, 'c': 6 }]\n     */\n    function matchesProperty(path, srcValue) {\n      return baseMatchesProperty(path, baseClone(srcValue, CLONE_DEEP_FLAG));\n    }\n\n    /**\n     * Creates a function that invokes the method at `path` of a given object.\n     * Any additional arguments are provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Array|string} path The path of the method to invoke.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': _.constant(2) } },\n     *   { 'a': { 'b': _.constant(1) } }\n     * ];\n     *\n     * _.map(objects, _.method('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(objects, _.method(['a', 'b']));\n     * // => [2, 1]\n     */\n    var method = baseRest(function(path, args) {\n      return function(object) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * The opposite of `_.method`; this method creates a function that invokes\n     * the method at a given path of `object`. Any additional arguments are\n     * provided to the invoked method.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.7.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @param {...*} [args] The arguments to invoke the method with.\n     * @returns {Function} Returns the new invoker function.\n     * @example\n     *\n     * var array = _.times(3, _.constant),\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\n     * // => [2, 0]\n     */\n    var methodOf = baseRest(function(object, args) {\n      return function(path) {\n        return baseInvoke(object, path, args);\n      };\n    });\n\n    /**\n     * Adds all own enumerable string keyed function properties of a source\n     * object to the destination object. If `object` is a function, then methods\n     * are added to its prototype as well.\n     *\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\n     * avoid conflicts caused by modifying the original.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {Function|Object} [object=lodash] The destination object.\n     * @param {Object} source The object of functions to add.\n     * @param {Object} [options={}] The options object.\n     * @param {boolean} [options.chain=true] Specify whether mixins are chainable.\n     * @returns {Function|Object} Returns `object`.\n     * @example\n     *\n     * function vowels(string) {\n     *   return _.filter(string, function(v) {\n     *     return /[aeiou]/i.test(v);\n     *   });\n     * }\n     *\n     * _.mixin({ 'vowels': vowels });\n     * _.vowels('fred');\n     * // => ['e']\n     *\n     * _('fred').vowels().value();\n     * // => ['e']\n     *\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\n     * _('fred').vowels();\n     * // => ['e']\n     */\n    function mixin(object, source, options) {\n      var props = keys(source),\n          methodNames = baseFunctions(source, props);\n\n      if (options == null &&\n          !(isObject(source) && (methodNames.length || !props.length))) {\n        options = source;\n        source = object;\n        object = this;\n        methodNames = baseFunctions(source, keys(source));\n      }\n      var chain = !(isObject(options) && 'chain' in options) || !!options.chain,\n          isFunc = isFunction(object);\n\n      arrayEach(methodNames, function(methodName) {\n        var func = source[methodName];\n        object[methodName] = func;\n        if (isFunc) {\n          object.prototype[methodName] = function() {\n            var chainAll = this.__chain__;\n            if (chain || chainAll) {\n              var result = object(this.__wrapped__),\n                  actions = result.__actions__ = copyArray(this.__actions__);\n\n              actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\n              result.__chain__ = chainAll;\n              return result;\n            }\n            return func.apply(object, arrayPush([this.value()], arguments));\n          };\n        }\n      });\n\n      return object;\n    }\n\n    /**\n     * Reverts the `_` variable to its previous value and returns a reference to\n     * the `lodash` function.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @returns {Function} Returns the `lodash` function.\n     * @example\n     *\n     * var lodash = _.noConflict();\n     */\n    function noConflict() {\n      if (root._ === this) {\n        root._ = oldDash;\n      }\n      return this;\n    }\n\n    /**\n     * This method returns `undefined`.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.3.0\n     * @category Util\n     * @example\n     *\n     * _.times(2, _.noop);\n     * // => [undefined, undefined]\n     */\n    function noop() {\n      // No operation performed.\n    }\n\n    /**\n     * Creates a function that gets the argument at index `n`. If `n` is negative,\n     * the nth argument from the end is returned.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [n=0] The index of the argument to return.\n     * @returns {Function} Returns the new pass-thru function.\n     * @example\n     *\n     * var func = _.nthArg(1);\n     * func('a', 'b', 'c', 'd');\n     * // => 'b'\n     *\n     * var func = _.nthArg(-2);\n     * func('a', 'b', 'c', 'd');\n     * // => 'c'\n     */\n    function nthArg(n) {\n      n = toInteger(n);\n      return baseRest(function(args) {\n        return baseNth(args, n);\n      });\n    }\n\n    /**\n     * Creates a function that invokes `iteratees` with the arguments it receives\n     * and returns their results.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [iteratees=[_.identity]]\n     *  The iteratees to invoke.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.over([Math.max, Math.min]);\n     *\n     * func(1, 2, 3, 4);\n     * // => [4, 1]\n     */\n    var over = createOver(arrayMap);\n\n    /**\n     * Creates a function that checks if **all** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overEvery([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => false\n     *\n     * func(NaN);\n     * // => false\n     */\n    var overEvery = createOver(arrayEvery);\n\n    /**\n     * Creates a function that checks if **any** of the `predicates` return\n     * truthy when invoked with the arguments it receives.\n     *\n     * Following shorthands are possible for providing predicates.\n     * Pass an `Object` and it will be used as an parameter for `_.matches` to create the predicate.\n     * Pass an `Array` of parameters for `_.matchesProperty` and the predicate will be created using them.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {...(Function|Function[])} [predicates=[_.identity]]\n     *  The predicates to check.\n     * @returns {Function} Returns the new function.\n     * @example\n     *\n     * var func = _.overSome([Boolean, isFinite]);\n     *\n     * func('1');\n     * // => true\n     *\n     * func(null);\n     * // => true\n     *\n     * func(NaN);\n     * // => false\n     *\n     * var matchesFunc = _.overSome([{ 'a': 1 }, { 'a': 2 }])\n     * var matchesPropertyFunc = _.overSome([['a', 1], ['a', 2]])\n     */\n    var overSome = createOver(arraySome);\n\n    /**\n     * Creates a function that returns the value at `path` of a given object.\n     *\n     * @static\n     * @memberOf _\n     * @since 2.4.0\n     * @category Util\n     * @param {Array|string} path The path of the property to get.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var objects = [\n     *   { 'a': { 'b': 2 } },\n     *   { 'a': { 'b': 1 } }\n     * ];\n     *\n     * _.map(objects, _.property('a.b'));\n     * // => [2, 1]\n     *\n     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n     * // => [1, 2]\n     */\n    function property(path) {\n      return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n    }\n\n    /**\n     * The opposite of `_.property`; this method creates a function that returns\n     * the value at a given path of `object`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.0.0\n     * @category Util\n     * @param {Object} object The object to query.\n     * @returns {Function} Returns the new accessor function.\n     * @example\n     *\n     * var array = [0, 1, 2],\n     *     object = { 'a': array, 'b': array, 'c': array };\n     *\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\n     * // => [2, 0]\n     *\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\n     * // => [2, 0]\n     */\n    function propertyOf(object) {\n      return function(path) {\n        return object == null ? undefined : baseGet(object, path);\n      };\n    }\n\n    /**\n     * Creates an array of numbers (positive and/or negative) progressing from\n     * `start` up to, but not including, `end`. A step of `-1` is used if a negative\n     * `start` is specified without an `end` or `step`. If `end` is not specified,\n     * it's set to `start` with `start` then set to `0`.\n     *\n     * **Note:** JavaScript follows the IEEE-754 standard for resolving\n     * floating-point values which can produce unexpected results.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.rangeRight\n     * @example\n     *\n     * _.range(4);\n     * // => [0, 1, 2, 3]\n     *\n     * _.range(-4);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 5);\n     * // => [1, 2, 3, 4]\n     *\n     * _.range(0, 20, 5);\n     * // => [0, 5, 10, 15]\n     *\n     * _.range(0, -4, -1);\n     * // => [0, -1, -2, -3]\n     *\n     * _.range(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.range(0);\n     * // => []\n     */\n    var range = createRange();\n\n    /**\n     * This method is like `_.range` except that it populates values in\n     * descending order.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {number} [start=0] The start of the range.\n     * @param {number} end The end of the range.\n     * @param {number} [step=1] The value to increment or decrement by.\n     * @returns {Array} Returns the range of numbers.\n     * @see _.inRange, _.range\n     * @example\n     *\n     * _.rangeRight(4);\n     * // => [3, 2, 1, 0]\n     *\n     * _.rangeRight(-4);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 5);\n     * // => [4, 3, 2, 1]\n     *\n     * _.rangeRight(0, 20, 5);\n     * // => [15, 10, 5, 0]\n     *\n     * _.rangeRight(0, -4, -1);\n     * // => [-3, -2, -1, 0]\n     *\n     * _.rangeRight(1, 4, 0);\n     * // => [1, 1, 1]\n     *\n     * _.rangeRight(0);\n     * // => []\n     */\n    var rangeRight = createRange(true);\n\n    /**\n     * This method returns a new empty array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Array} Returns the new empty array.\n     * @example\n     *\n     * var arrays = _.times(2, _.stubArray);\n     *\n     * console.log(arrays);\n     * // => [[], []]\n     *\n     * console.log(arrays[0] === arrays[1]);\n     * // => false\n     */\n    function stubArray() {\n      return [];\n    }\n\n    /**\n     * This method returns `false`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `false`.\n     * @example\n     *\n     * _.times(2, _.stubFalse);\n     * // => [false, false]\n     */\n    function stubFalse() {\n      return false;\n    }\n\n    /**\n     * This method returns a new empty object.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {Object} Returns the new empty object.\n     * @example\n     *\n     * var objects = _.times(2, _.stubObject);\n     *\n     * console.log(objects);\n     * // => [{}, {}]\n     *\n     * console.log(objects[0] === objects[1]);\n     * // => false\n     */\n    function stubObject() {\n      return {};\n    }\n\n    /**\n     * This method returns an empty string.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {string} Returns the empty string.\n     * @example\n     *\n     * _.times(2, _.stubString);\n     * // => ['', '']\n     */\n    function stubString() {\n      return '';\n    }\n\n    /**\n     * This method returns `true`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.13.0\n     * @category Util\n     * @returns {boolean} Returns `true`.\n     * @example\n     *\n     * _.times(2, _.stubTrue);\n     * // => [true, true]\n     */\n    function stubTrue() {\n      return true;\n    }\n\n    /**\n     * Invokes the iteratee `n` times, returning an array of the results of\n     * each invocation. The iteratee is invoked with one argument; (index).\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {number} n The number of times to invoke `iteratee`.\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n     * @returns {Array} Returns the array of results.\n     * @example\n     *\n     * _.times(3, String);\n     * // => ['0', '1', '2']\n     *\n     *  _.times(4, _.constant(0));\n     * // => [0, 0, 0, 0]\n     */\n    function times(n, iteratee) {\n      n = toInteger(n);\n      if (n < 1 || n > MAX_SAFE_INTEGER) {\n        return [];\n      }\n      var index = MAX_ARRAY_LENGTH,\n          length = nativeMin(n, MAX_ARRAY_LENGTH);\n\n      iteratee = getIteratee(iteratee);\n      n -= MAX_ARRAY_LENGTH;\n\n      var result = baseTimes(length, iteratee);\n      while (++index < n) {\n        iteratee(index);\n      }\n      return result;\n    }\n\n    /**\n     * Converts `value` to a property path array.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Util\n     * @param {*} value The value to convert.\n     * @returns {Array} Returns the new property path array.\n     * @example\n     *\n     * _.toPath('a.b.c');\n     * // => ['a', 'b', 'c']\n     *\n     * _.toPath('a[0].b.c');\n     * // => ['a', '0', 'b', 'c']\n     */\n    function toPath(value) {\n      if (isArray(value)) {\n        return arrayMap(value, toKey);\n      }\n      return isSymbol(value) ? [value] : copyArray(stringToPath(toString(value)));\n    }\n\n    /**\n     * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Util\n     * @param {string} [prefix=''] The value to prefix the ID with.\n     * @returns {string} Returns the unique ID.\n     * @example\n     *\n     * _.uniqueId('contact_');\n     * // => 'contact_104'\n     *\n     * _.uniqueId();\n     * // => '105'\n     */\n    function uniqueId(prefix) {\n      var id = ++idCounter;\n      return toString(prefix) + id;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * Adds two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {number} augend The first number in an addition.\n     * @param {number} addend The second number in an addition.\n     * @returns {number} Returns the total.\n     * @example\n     *\n     * _.add(6, 4);\n     * // => 10\n     */\n    var add = createMathOperation(function(augend, addend) {\n      return augend + addend;\n    }, 0);\n\n    /**\n     * Computes `number` rounded up to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round up.\n     * @param {number} [precision=0] The precision to round up to.\n     * @returns {number} Returns the rounded up number.\n     * @example\n     *\n     * _.ceil(4.006);\n     * // => 5\n     *\n     * _.ceil(6.004, 2);\n     * // => 6.01\n     *\n     * _.ceil(6040, -2);\n     * // => 6100\n     */\n    var ceil = createRound('ceil');\n\n    /**\n     * Divide two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} dividend The first number in a division.\n     * @param {number} divisor The second number in a division.\n     * @returns {number} Returns the quotient.\n     * @example\n     *\n     * _.divide(6, 4);\n     * // => 1.5\n     */\n    var divide = createMathOperation(function(dividend, divisor) {\n      return dividend / divisor;\n    }, 1);\n\n    /**\n     * Computes `number` rounded down to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round down.\n     * @param {number} [precision=0] The precision to round down to.\n     * @returns {number} Returns the rounded down number.\n     * @example\n     *\n     * _.floor(4.006);\n     * // => 4\n     *\n     * _.floor(0.046, 2);\n     * // => 0.04\n     *\n     * _.floor(4060, -2);\n     * // => 4000\n     */\n    var floor = createRound('floor');\n\n    /**\n     * Computes the maximum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * _.max([4, 2, 8, 6]);\n     * // => 8\n     *\n     * _.max([]);\n     * // => undefined\n     */\n    function max(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseGt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.max` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the maximum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.maxBy(objects, function(o) { return o.n; });\n     * // => { 'n': 2 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.maxBy(objects, 'n');\n     * // => { 'n': 2 }\n     */\n    function maxBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseGt)\n        : undefined;\n    }\n\n    /**\n     * Computes the mean of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * _.mean([4, 2, 8, 6]);\n     * // => 5\n     */\n    function mean(array) {\n      return baseMean(array, identity);\n    }\n\n    /**\n     * This method is like `_.mean` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be averaged.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the mean.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.meanBy(objects, function(o) { return o.n; });\n     * // => 5\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.meanBy(objects, 'n');\n     * // => 5\n     */\n    function meanBy(array, iteratee) {\n      return baseMean(array, getIteratee(iteratee, 2));\n    }\n\n    /**\n     * Computes the minimum value of `array`. If `array` is empty or falsey,\n     * `undefined` is returned.\n     *\n     * @static\n     * @since 0.1.0\n     * @memberOf _\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * _.min([4, 2, 8, 6]);\n     * // => 2\n     *\n     * _.min([]);\n     * // => undefined\n     */\n    function min(array) {\n      return (array && array.length)\n        ? baseExtremum(array, identity, baseLt)\n        : undefined;\n    }\n\n    /**\n     * This method is like `_.min` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the criterion by which\n     * the value is ranked. The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {*} Returns the minimum value.\n     * @example\n     *\n     * var objects = [{ 'n': 1 }, { 'n': 2 }];\n     *\n     * _.minBy(objects, function(o) { return o.n; });\n     * // => { 'n': 1 }\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.minBy(objects, 'n');\n     * // => { 'n': 1 }\n     */\n    function minBy(array, iteratee) {\n      return (array && array.length)\n        ? baseExtremum(array, getIteratee(iteratee, 2), baseLt)\n        : undefined;\n    }\n\n    /**\n     * Multiply two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.7.0\n     * @category Math\n     * @param {number} multiplier The first number in a multiplication.\n     * @param {number} multiplicand The second number in a multiplication.\n     * @returns {number} Returns the product.\n     * @example\n     *\n     * _.multiply(6, 4);\n     * // => 24\n     */\n    var multiply = createMathOperation(function(multiplier, multiplicand) {\n      return multiplier * multiplicand;\n    }, 1);\n\n    /**\n     * Computes `number` rounded to `precision`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.10.0\n     * @category Math\n     * @param {number} number The number to round.\n     * @param {number} [precision=0] The precision to round to.\n     * @returns {number} Returns the rounded number.\n     * @example\n     *\n     * _.round(4.006);\n     * // => 4\n     *\n     * _.round(4.006, 2);\n     * // => 4.01\n     *\n     * _.round(4060, -2);\n     * // => 4100\n     */\n    var round = createRound('round');\n\n    /**\n     * Subtract two numbers.\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {number} minuend The first number in a subtraction.\n     * @param {number} subtrahend The second number in a subtraction.\n     * @returns {number} Returns the difference.\n     * @example\n     *\n     * _.subtract(6, 4);\n     * // => 2\n     */\n    var subtract = createMathOperation(function(minuend, subtrahend) {\n      return minuend - subtrahend;\n    }, 0);\n\n    /**\n     * Computes the sum of the values in `array`.\n     *\n     * @static\n     * @memberOf _\n     * @since 3.4.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * _.sum([4, 2, 8, 6]);\n     * // => 20\n     */\n    function sum(array) {\n      return (array && array.length)\n        ? baseSum(array, identity)\n        : 0;\n    }\n\n    /**\n     * This method is like `_.sum` except that it accepts `iteratee` which is\n     * invoked for each element in `array` to generate the value to be summed.\n     * The iteratee is invoked with one argument: (value).\n     *\n     * @static\n     * @memberOf _\n     * @since 4.0.0\n     * @category Math\n     * @param {Array} array The array to iterate over.\n     * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n     * @returns {number} Returns the sum.\n     * @example\n     *\n     * var objects = [{ 'n': 4 }, { 'n': 2 }, { 'n': 8 }, { 'n': 6 }];\n     *\n     * _.sumBy(objects, function(o) { return o.n; });\n     * // => 20\n     *\n     * // The `_.property` iteratee shorthand.\n     * _.sumBy(objects, 'n');\n     * // => 20\n     */\n    function sumBy(array, iteratee) {\n      return (array && array.length)\n        ? baseSum(array, getIteratee(iteratee, 2))\n        : 0;\n    }\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return wrapped values in chain sequences.\n    lodash.after = after;\n    lodash.ary = ary;\n    lodash.assign = assign;\n    lodash.assignIn = assignIn;\n    lodash.assignInWith = assignInWith;\n    lodash.assignWith = assignWith;\n    lodash.at = at;\n    lodash.before = before;\n    lodash.bind = bind;\n    lodash.bindAll = bindAll;\n    lodash.bindKey = bindKey;\n    lodash.castArray = castArray;\n    lodash.chain = chain;\n    lodash.chunk = chunk;\n    lodash.compact = compact;\n    lodash.concat = concat;\n    lodash.cond = cond;\n    lodash.conforms = conforms;\n    lodash.constant = constant;\n    lodash.countBy = countBy;\n    lodash.create = create;\n    lodash.curry = curry;\n    lodash.curryRight = curryRight;\n    lodash.debounce = debounce;\n    lodash.defaults = defaults;\n    lodash.defaultsDeep = defaultsDeep;\n    lodash.defer = defer;\n    lodash.delay = delay;\n    lodash.difference = difference;\n    lodash.differenceBy = differenceBy;\n    lodash.differenceWith = differenceWith;\n    lodash.drop = drop;\n    lodash.dropRight = dropRight;\n    lodash.dropRightWhile = dropRightWhile;\n    lodash.dropWhile = dropWhile;\n    lodash.fill = fill;\n    lodash.filter = filter;\n    lodash.flatMap = flatMap;\n    lodash.flatMapDeep = flatMapDeep;\n    lodash.flatMapDepth = flatMapDepth;\n    lodash.flatten = flatten;\n    lodash.flattenDeep = flattenDeep;\n    lodash.flattenDepth = flattenDepth;\n    lodash.flip = flip;\n    lodash.flow = flow;\n    lodash.flowRight = flowRight;\n    lodash.fromPairs = fromPairs;\n    lodash.functions = functions;\n    lodash.functionsIn = functionsIn;\n    lodash.groupBy = groupBy;\n    lodash.initial = initial;\n    lodash.intersection = intersection;\n    lodash.intersectionBy = intersectionBy;\n    lodash.intersectionWith = intersectionWith;\n    lodash.invert = invert;\n    lodash.invertBy = invertBy;\n    lodash.invokeMap = invokeMap;\n    lodash.iteratee = iteratee;\n    lodash.keyBy = keyBy;\n    lodash.keys = keys;\n    lodash.keysIn = keysIn;\n    lodash.map = map;\n    lodash.mapKeys = mapKeys;\n    lodash.mapValues = mapValues;\n    lodash.matches = matches;\n    lodash.matchesProperty = matchesProperty;\n    lodash.memoize = memoize;\n    lodash.merge = merge;\n    lodash.mergeWith = mergeWith;\n    lodash.method = method;\n    lodash.methodOf = methodOf;\n    lodash.mixin = mixin;\n    lodash.negate = negate;\n    lodash.nthArg = nthArg;\n    lodash.omit = omit;\n    lodash.omitBy = omitBy;\n    lodash.once = once;\n    lodash.orderBy = orderBy;\n    lodash.over = over;\n    lodash.overArgs = overArgs;\n    lodash.overEvery = overEvery;\n    lodash.overSome = overSome;\n    lodash.partial = partial;\n    lodash.partialRight = partialRight;\n    lodash.partition = partition;\n    lodash.pick = pick;\n    lodash.pickBy = pickBy;\n    lodash.property = property;\n    lodash.propertyOf = propertyOf;\n    lodash.pull = pull;\n    lodash.pullAll = pullAll;\n    lodash.pullAllBy = pullAllBy;\n    lodash.pullAllWith = pullAllWith;\n    lodash.pullAt = pullAt;\n    lodash.range = range;\n    lodash.rangeRight = rangeRight;\n    lodash.rearg = rearg;\n    lodash.reject = reject;\n    lodash.remove = remove;\n    lodash.rest = rest;\n    lodash.reverse = reverse;\n    lodash.sampleSize = sampleSize;\n    lodash.set = set;\n    lodash.setWith = setWith;\n    lodash.shuffle = shuffle;\n    lodash.slice = slice;\n    lodash.sortBy = sortBy;\n    lodash.sortedUniq = sortedUniq;\n    lodash.sortedUniqBy = sortedUniqBy;\n    lodash.split = split;\n    lodash.spread = spread;\n    lodash.tail = tail;\n    lodash.take = take;\n    lodash.takeRight = takeRight;\n    lodash.takeRightWhile = takeRightWhile;\n    lodash.takeWhile = takeWhile;\n    lodash.tap = tap;\n    lodash.throttle = throttle;\n    lodash.thru = thru;\n    lodash.toArray = toArray;\n    lodash.toPairs = toPairs;\n    lodash.toPairsIn = toPairsIn;\n    lodash.toPath = toPath;\n    lodash.toPlainObject = toPlainObject;\n    lodash.transform = transform;\n    lodash.unary = unary;\n    lodash.union = union;\n    lodash.unionBy = unionBy;\n    lodash.unionWith = unionWith;\n    lodash.uniq = uniq;\n    lodash.uniqBy = uniqBy;\n    lodash.uniqWith = uniqWith;\n    lodash.unset = unset;\n    lodash.unzip = unzip;\n    lodash.unzipWith = unzipWith;\n    lodash.update = update;\n    lodash.updateWith = updateWith;\n    lodash.values = values;\n    lodash.valuesIn = valuesIn;\n    lodash.without = without;\n    lodash.words = words;\n    lodash.wrap = wrap;\n    lodash.xor = xor;\n    lodash.xorBy = xorBy;\n    lodash.xorWith = xorWith;\n    lodash.zip = zip;\n    lodash.zipObject = zipObject;\n    lodash.zipObjectDeep = zipObjectDeep;\n    lodash.zipWith = zipWith;\n\n    // Add aliases.\n    lodash.entries = toPairs;\n    lodash.entriesIn = toPairsIn;\n    lodash.extend = assignIn;\n    lodash.extendWith = assignInWith;\n\n    // Add methods to `lodash.prototype`.\n    mixin(lodash, lodash);\n\n    /*------------------------------------------------------------------------*/\n\n    // Add methods that return unwrapped values in chain sequences.\n    lodash.add = add;\n    lodash.attempt = attempt;\n    lodash.camelCase = camelCase;\n    lodash.capitalize = capitalize;\n    lodash.ceil = ceil;\n    lodash.clamp = clamp;\n    lodash.clone = clone;\n    lodash.cloneDeep = cloneDeep;\n    lodash.cloneDeepWith = cloneDeepWith;\n    lodash.cloneWith = cloneWith;\n    lodash.conformsTo = conformsTo;\n    lodash.deburr = deburr;\n    lodash.defaultTo = defaultTo;\n    lodash.divide = divide;\n    lodash.endsWith = endsWith;\n    lodash.eq = eq;\n    lodash.escape = escape;\n    lodash.escapeRegExp = escapeRegExp;\n    lodash.every = every;\n    lodash.find = find;\n    lodash.findIndex = findIndex;\n    lodash.findKey = findKey;\n    lodash.findLast = findLast;\n    lodash.findLastIndex = findLastIndex;\n    lodash.findLastKey = findLastKey;\n    lodash.floor = floor;\n    lodash.forEach = forEach;\n    lodash.forEachRight = forEachRight;\n    lodash.forIn = forIn;\n    lodash.forInRight = forInRight;\n    lodash.forOwn = forOwn;\n    lodash.forOwnRight = forOwnRight;\n    lodash.get = get;\n    lodash.gt = gt;\n    lodash.gte = gte;\n    lodash.has = has;\n    lodash.hasIn = hasIn;\n    lodash.head = head;\n    lodash.identity = identity;\n    lodash.includes = includes;\n    lodash.indexOf = indexOf;\n    lodash.inRange = inRange;\n    lodash.invoke = invoke;\n    lodash.isArguments = isArguments;\n    lodash.isArray = isArray;\n    lodash.isArrayBuffer = isArrayBuffer;\n    lodash.isArrayLike = isArrayLike;\n    lodash.isArrayLikeObject = isArrayLikeObject;\n    lodash.isBoolean = isBoolean;\n    lodash.isBuffer = isBuffer;\n    lodash.isDate = isDate;\n    lodash.isElement = isElement;\n    lodash.isEmpty = isEmpty;\n    lodash.isEqual = isEqual;\n    lodash.isEqualWith = isEqualWith;\n    lodash.isError = isError;\n    lodash.isFinite = isFinite;\n    lodash.isFunction = isFunction;\n    lodash.isInteger = isInteger;\n    lodash.isLength = isLength;\n    lodash.isMap = isMap;\n    lodash.isMatch = isMatch;\n    lodash.isMatchWith = isMatchWith;\n    lodash.isNaN = isNaN;\n    lodash.isNative = isNative;\n    lodash.isNil = isNil;\n    lodash.isNull = isNull;\n    lodash.isNumber = isNumber;\n    lodash.isObject = isObject;\n    lodash.isObjectLike = isObjectLike;\n    lodash.isPlainObject = isPlainObject;\n    lodash.isRegExp = isRegExp;\n    lodash.isSafeInteger = isSafeInteger;\n    lodash.isSet = isSet;\n    lodash.isString = isString;\n    lodash.isSymbol = isSymbol;\n    lodash.isTypedArray = isTypedArray;\n    lodash.isUndefined = isUndefined;\n    lodash.isWeakMap = isWeakMap;\n    lodash.isWeakSet = isWeakSet;\n    lodash.join = join;\n    lodash.kebabCase = kebabCase;\n    lodash.last = last;\n    lodash.lastIndexOf = lastIndexOf;\n    lodash.lowerCase = lowerCase;\n    lodash.lowerFirst = lowerFirst;\n    lodash.lt = lt;\n    lodash.lte = lte;\n    lodash.max = max;\n    lodash.maxBy = maxBy;\n    lodash.mean = mean;\n    lodash.meanBy = meanBy;\n    lodash.min = min;\n    lodash.minBy = minBy;\n    lodash.stubArray = stubArray;\n    lodash.stubFalse = stubFalse;\n    lodash.stubObject = stubObject;\n    lodash.stubString = stubString;\n    lodash.stubTrue = stubTrue;\n    lodash.multiply = multiply;\n    lodash.nth = nth;\n    lodash.noConflict = noConflict;\n    lodash.noop = noop;\n    lodash.now = now;\n    lodash.pad = pad;\n    lodash.padEnd = padEnd;\n    lodash.padStart = padStart;\n    lodash.parseInt = parseInt;\n    lodash.random = random;\n    lodash.reduce = reduce;\n    lodash.reduceRight = reduceRight;\n    lodash.repeat = repeat;\n    lodash.replace = replace;\n    lodash.result = result;\n    lodash.round = round;\n    lodash.runInContext = runInContext;\n    lodash.sample = sample;\n    lodash.size = size;\n    lodash.snakeCase = snakeCase;\n    lodash.some = some;\n    lodash.sortedIndex = sortedIndex;\n    lodash.sortedIndexBy = sortedIndexBy;\n    lodash.sortedIndexOf = sortedIndexOf;\n    lodash.sortedLastIndex = sortedLastIndex;\n    lodash.sortedLastIndexBy = sortedLastIndexBy;\n    lodash.sortedLastIndexOf = sortedLastIndexOf;\n    lodash.startCase = startCase;\n    lodash.startsWith = startsWith;\n    lodash.subtract = subtract;\n    lodash.sum = sum;\n    lodash.sumBy = sumBy;\n    lodash.template = template;\n    lodash.times = times;\n    lodash.toFinite = toFinite;\n    lodash.toInteger = toInteger;\n    lodash.toLength = toLength;\n    lodash.toLower = toLower;\n    lodash.toNumber = toNumber;\n    lodash.toSafeInteger = toSafeInteger;\n    lodash.toString = toString;\n    lodash.toUpper = toUpper;\n    lodash.trim = trim;\n    lodash.trimEnd = trimEnd;\n    lodash.trimStart = trimStart;\n    lodash.truncate = truncate;\n    lodash.unescape = unescape;\n    lodash.uniqueId = uniqueId;\n    lodash.upperCase = upperCase;\n    lodash.upperFirst = upperFirst;\n\n    // Add aliases.\n    lodash.each = forEach;\n    lodash.eachRight = forEachRight;\n    lodash.first = head;\n\n    mixin(lodash, (function() {\n      var source = {};\n      baseForOwn(lodash, function(func, methodName) {\n        if (!hasOwnProperty.call(lodash.prototype, methodName)) {\n          source[methodName] = func;\n        }\n      });\n      return source;\n    }()), { 'chain': false });\n\n    /*------------------------------------------------------------------------*/\n\n    /**\n     * The semantic version number.\n     *\n     * @static\n     * @memberOf _\n     * @type {string}\n     */\n    lodash.VERSION = VERSION;\n\n    // Assign default placeholders.\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\n      lodash[methodName].placeholder = lodash;\n    });\n\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\n    arrayEach(['drop', 'take'], function(methodName, index) {\n      LazyWrapper.prototype[methodName] = function(n) {\n        n = n === undefined ? 1 : nativeMax(toInteger(n), 0);\n\n        var result = (this.__filtered__ && !index)\n          ? new LazyWrapper(this)\n          : this.clone();\n\n        if (result.__filtered__) {\n          result.__takeCount__ = nativeMin(n, result.__takeCount__);\n        } else {\n          result.__views__.push({\n            'size': nativeMin(n, MAX_ARRAY_LENGTH),\n            'type': methodName + (result.__dir__ < 0 ? 'Right' : '')\n          });\n        }\n        return result;\n      };\n\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\n        return this.reverse()[methodName](n).reverse();\n      };\n    });\n\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\n      var type = index + 1,\n          isFilter = type == LAZY_FILTER_FLAG || type == LAZY_WHILE_FLAG;\n\n      LazyWrapper.prototype[methodName] = function(iteratee) {\n        var result = this.clone();\n        result.__iteratees__.push({\n          'iteratee': getIteratee(iteratee, 3),\n          'type': type\n        });\n        result.__filtered__ = result.__filtered__ || isFilter;\n        return result;\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.head` and `_.last`.\n    arrayEach(['head', 'last'], function(methodName, index) {\n      var takeName = 'take' + (index ? 'Right' : '');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this[takeName](1).value()[0];\n      };\n    });\n\n    // Add `LazyWrapper` methods for `_.initial` and `_.tail`.\n    arrayEach(['initial', 'tail'], function(methodName, index) {\n      var dropName = 'drop' + (index ? '' : 'Right');\n\n      LazyWrapper.prototype[methodName] = function() {\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\n      };\n    });\n\n    LazyWrapper.prototype.compact = function() {\n      return this.filter(identity);\n    };\n\n    LazyWrapper.prototype.find = function(predicate) {\n      return this.filter(predicate).head();\n    };\n\n    LazyWrapper.prototype.findLast = function(predicate) {\n      return this.reverse().find(predicate);\n    };\n\n    LazyWrapper.prototype.invokeMap = baseRest(function(path, args) {\n      if (typeof path == 'function') {\n        return new LazyWrapper(this);\n      }\n      return this.map(function(value) {\n        return baseInvoke(value, path, args);\n      });\n    });\n\n    LazyWrapper.prototype.reject = function(predicate) {\n      return this.filter(negate(getIteratee(predicate)));\n    };\n\n    LazyWrapper.prototype.slice = function(start, end) {\n      start = toInteger(start);\n\n      var result = this;\n      if (result.__filtered__ && (start > 0 || end < 0)) {\n        return new LazyWrapper(result);\n      }\n      if (start < 0) {\n        result = result.takeRight(-start);\n      } else if (start) {\n        result = result.drop(start);\n      }\n      if (end !== undefined) {\n        end = toInteger(end);\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\n      }\n      return result;\n    };\n\n    LazyWrapper.prototype.takeRightWhile = function(predicate) {\n      return this.reverse().takeWhile(predicate).reverse();\n    };\n\n    LazyWrapper.prototype.toArray = function() {\n      return this.take(MAX_ARRAY_LENGTH);\n    };\n\n    // Add `LazyWrapper` methods to `lodash.prototype`.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var checkIteratee = /^(?:filter|find|map|reject)|While$/.test(methodName),\n          isTaker = /^(?:head|last)$/.test(methodName),\n          lodashFunc = lodash[isTaker ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName],\n          retUnwrapped = isTaker || /^find/.test(methodName);\n\n      if (!lodashFunc) {\n        return;\n      }\n      lodash.prototype[methodName] = function() {\n        var value = this.__wrapped__,\n            args = isTaker ? [1] : arguments,\n            isLazy = value instanceof LazyWrapper,\n            iteratee = args[0],\n            useLazy = isLazy || isArray(value);\n\n        var interceptor = function(value) {\n          var result = lodashFunc.apply(lodash, arrayPush([value], args));\n          return (isTaker && chainAll) ? result[0] : result;\n        };\n\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\n          isLazy = useLazy = false;\n        }\n        var chainAll = this.__chain__,\n            isHybrid = !!this.__actions__.length,\n            isUnwrapped = retUnwrapped && !chainAll,\n            onlyLazy = isLazy && !isHybrid;\n\n        if (!retUnwrapped && useLazy) {\n          value = onlyLazy ? value : new LazyWrapper(this);\n          var result = func.apply(value, args);\n          result.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\n          return new LodashWrapper(result, chainAll);\n        }\n        if (isUnwrapped && onlyLazy) {\n          return func.apply(this, args);\n        }\n        result = this.thru(interceptor);\n        return isUnwrapped ? (isTaker ? result.value()[0] : result.value()) : result;\n      };\n    });\n\n    // Add `Array` methods to `lodash.prototype`.\n    arrayEach(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function(methodName) {\n      var func = arrayProto[methodName],\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\n          retUnwrapped = /^(?:pop|shift)$/.test(methodName);\n\n      lodash.prototype[methodName] = function() {\n        var args = arguments;\n        if (retUnwrapped && !this.__chain__) {\n          var value = this.value();\n          return func.apply(isArray(value) ? value : [], args);\n        }\n        return this[chainName](function(value) {\n          return func.apply(isArray(value) ? value : [], args);\n        });\n      };\n    });\n\n    // Map minified method names to their real names.\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\n      var lodashFunc = lodash[methodName];\n      if (lodashFunc) {\n        var key = lodashFunc.name + '';\n        if (!hasOwnProperty.call(realNames, key)) {\n          realNames[key] = [];\n        }\n        realNames[key].push({ 'name': methodName, 'func': lodashFunc });\n      }\n    });\n\n    realNames[createHybrid(undefined, WRAP_BIND_KEY_FLAG).name] = [{\n      'name': 'wrapper',\n      'func': undefined\n    }];\n\n    // Add methods to `LazyWrapper`.\n    LazyWrapper.prototype.clone = lazyClone;\n    LazyWrapper.prototype.reverse = lazyReverse;\n    LazyWrapper.prototype.value = lazyValue;\n\n    // Add chain sequence methods to the `lodash` wrapper.\n    lodash.prototype.at = wrapperAt;\n    lodash.prototype.chain = wrapperChain;\n    lodash.prototype.commit = wrapperCommit;\n    lodash.prototype.next = wrapperNext;\n    lodash.prototype.plant = wrapperPlant;\n    lodash.prototype.reverse = wrapperReverse;\n    lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\n\n    // Add lazy aliases.\n    lodash.prototype.first = lodash.prototype.head;\n\n    if (symIterator) {\n      lodash.prototype[symIterator] = wrapperToIterator;\n    }\n    return lodash;\n  });\n\n  /*--------------------------------------------------------------------------*/\n\n  // Export lodash.\n  var _ = runInContext();\n\n  // Some AMD build optimizers, like r.js, check for condition patterns like:\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\n    // Expose Lodash on the global object to prevent errors when Lodash is\n    // loaded by a script tag in the presence of an AMD loader.\n    // See http://requirejs.org/docs/errors.html#mismatch for more details.\n    // Use `_.noConflict` to remove Lodash from the global object.\n    root._ = _;\n\n    // Define as an anonymous module so, through path mapping, it can be\n    // referenced as the \"underscore\" module.\n    define(function() {\n      return _;\n    });\n  }\n  // Check for `exports` after `define` in case a build optimizer adds it.\n  else if (freeModule) {\n    // Export for Node.js.\n    (freeModule.exports = _)._ = _;\n    // Export for CommonJS support.\n    freeExports._ = _;\n  }\n  else {\n    // Export to the global object.\n    root._ = _;\n  }\n}.call(this));\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2022 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = (function () { try { return require('path') } catch (e) {}}()) || {\n  sep: '/'\n}\nminimatch.sep = path.sep\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  b = b || {}\n  var t = {}\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || typeof def !== 'object' || !Object.keys(def).length) {\n    return minimatch\n  }\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n  m.Minimatch.defaults = function defaults (options) {\n    return orig.defaults(ext(def, options)).Minimatch\n  }\n\n  m.filter = function filter (pattern, options) {\n    return orig.filter(pattern, ext(def, options))\n  }\n\n  m.defaults = function defaults (options) {\n    return orig.defaults(ext(def, options))\n  }\n\n  m.makeRe = function makeRe (pattern, options) {\n    return orig.makeRe(pattern, ext(def, options))\n  }\n\n  m.braceExpand = function braceExpand (pattern, options) {\n    return orig.braceExpand(pattern, ext(def, options))\n  }\n\n  m.match = function (list, pattern, options) {\n    return orig.match(list, pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  assertValidPattern(pattern)\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  assertValidPattern(pattern)\n\n  if (!options) options = {}\n\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (!options.allowWindowsEscape && path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n  this.partial = !!options.partial\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = function debug() { console.error.apply(console, arguments) }\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  assertValidPattern(pattern)\n\n  // Thanks to Yeting Li <https://github.com/yetingli> for\n  // improving this regexp to avoid a ReDOS vulnerability.\n  if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\nvar MAX_PATTERN_LENGTH = 1024 * 64\nvar assertValidPattern = function (pattern) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('invalid pattern')\n  }\n\n  if (pattern.length > MAX_PATTERN_LENGTH) {\n    throw new TypeError('pattern is too long')\n  }\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  assertValidPattern(pattern)\n\n  var options = this.options\n\n  // shortcuts\n  if (pattern === '**') {\n    if (!options.noglobstar)\n      return GLOBSTAR\n    else\n      pattern = '*'\n  }\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      /* istanbul ignore next */\n      case '/': {\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n      }\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        // split where the last [ was, make sure we don't have\n        // an invalid re. if so, re-walk the contents of the\n        // would-be class to re-translate any characters that\n        // were passed through as-is\n        // TODO: It would probably be faster to determine this\n        // without a try/catch and a new RegExp, but it's tricky\n        // to do safely.  For now, this is safe and works.\n        var cs = pattern.substring(classStart + 1, i)\n        try {\n          RegExp('[' + cs + ']')\n        } catch (er) {\n          // not a valid class!\n          var sp = this.parse(cs, SUBPARSE)\n          re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n          hasMagic = hasMagic || sp[1]\n          inClass = false\n          continue\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '[': case '.': case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) /* istanbul ignore next - should be impossible */ {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) /* istanbul ignore next - should be impossible */ {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = function match (f, partial) {\n  if (typeof partial === 'undefined') partial = this.partial\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    /* istanbul ignore if */\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      /* istanbul ignore if */\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      hit = f === p\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else /* istanbul ignore else */ if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    return (fi === fl - 1) && (file[fi] === '')\n  }\n\n  // should be unreachable.\n  /* istanbul ignore next */\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/*\n * node-cache 5.1.2 ( 2020-07-01 )\n * https://github.com/node-cache/node-cache\n *\n * Released under the MIT license\n * https://github.com/node-cache/node-cache/blob/master/LICENSE\n *\n * Maintained by  (  )\n*/\n(function() {\n  var exports;\n\n  exports = module.exports = require('./lib/node_cache');\n\n  exports.version = '5.1.2';\n\n}).call(this);\n","/*\n * node-cache 5.1.2 ( 2020-07-01 )\n * https://github.com/node-cache/node-cache\n *\n * Released under the MIT license\n * https://github.com/node-cache/node-cache/blob/master/LICENSE\n *\n * Maintained by  (  )\n*/\n(function() {\n  var EventEmitter, NodeCache, clone,\n    splice = [].splice,\n    boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } },\n    indexOf = [].indexOf;\n\n  clone = require(\"clone\");\n\n  EventEmitter = require('events').EventEmitter;\n\n  // generate superclass\n  module.exports = NodeCache = (function() {\n    class NodeCache extends EventEmitter {\n      constructor(options = {}) {\n        super();\n        // ## get\n\n        // get a cached key and change the stats\n\n        // **Parameters:**\n\n        // * `key` ( String | Number ): cache key\n\n        // **Example:**\n\n        //\tmyCache.get \"myKey\", ( err, val )\n\n        this.get = this.get.bind(this);\n        // ## mget\n\n        // get multiple cached keys at once and change the stats\n\n        // **Parameters:**\n\n        // * `keys` ( String|Number[] ): an array of keys\n\n        // **Example:**\n\n        //\tmyCache.mget [ \"foo\", \"bar\" ]\n\n        this.mget = this.mget.bind(this);\n        // ## set\n\n        // set a cached key and change the stats\n\n        // **Parameters:**\n\n        // * `key` ( String | Number ): cache key\n        // * `value` ( Any ): A element to cache. If the option `option.forceString` is `true` the module trys to translate it to a serialized JSON\n        // * `[ ttl ]` ( Number | String ): ( optional ) The time to live in seconds.\n\n        // **Example:**\n\n        //\tmyCache.set \"myKey\", \"my_String Value\"\n\n        //\tmyCache.set \"myKey\", \"my_String Value\", 10\n\n        this.set = this.set.bind(this);\n        \n        // ## mset\n\n        // set multiple keys at once\n\n        // **Parameters:**\n\n        // * `keyValueSet` ( Object[] ): an array of object which includes key,value and ttl\n\n        // **Example:**\n\n        //\tmyCache.mset(\n        //\t\t[\n        //\t\t\t{\n        //\t\t\t\tkey: \"myKey\",\n        //\t\t\t\tval: \"myValue\",\n        //\t\t\t\tttl: [ttl in seconds]\n        //\t\t\t}\n        //\t\t])\n\n        this.mset = this.mset.bind(this);\n        // ## del\n\n        // remove keys\n\n        // **Parameters:**\n\n        // * `keys` ( String |Number | String|Number[] ): cache key to delete or a array of cache keys\n\n        // **Return**\n\n        // ( Number ): Number of deleted keys\n\n        // **Example:**\n\n        //\tmyCache.del( \"myKey\" )\n\n        this.del = this.del.bind(this);\n        // ## take\n\n        // get the cached value and remove the key from the cache.\n        // Equivalent to calling `get(key)` + `del(key)`.\n        // Useful for implementing `single use` mechanism such as OTP, where once a value is read it will become obsolete.\n\n        // **Parameters:**\n\n        // * `key` ( String | Number ): cache key\n\n        // **Example:**\n\n        //\tmyCache.take \"myKey\", ( err, val )\n\n        this.take = this.take.bind(this);\n        // ## ttl\n\n        // reset or redefine the ttl of a key. `ttl` = 0 means infinite lifetime.\n        // If `ttl` is not passed the default ttl is used.\n        // If `ttl` < 0 the key will be deleted.\n\n        // **Parameters:**\n\n        // * `key` ( String | Number ): cache key to reset the ttl value\n        // * `ttl` ( Number ): ( optional -> options.stdTTL || 0 ) The time to live in seconds\n\n        // **Return**\n\n        // ( Boolen ): key found and ttl set\n\n        // **Example:**\n\n        //\tmyCache.ttl( \"myKey\" ) // will set ttl to default ttl\n\n        //\tmyCache.ttl( \"myKey\", 1000 )\n\n        this.ttl = this.ttl.bind(this);\n        // ## getTtl\n\n        // receive the ttl of a key.\n\n        // **Parameters:**\n\n        // * `key` ( String | Number ): cache key to check the ttl value\n\n        // **Return**\n\n        // ( Number|undefined ): The timestamp in ms when the key will expire, 0 if it will never expire or undefined if it not exists\n\n        // **Example:**\n\n        //\tmyCache.getTtl( \"myKey\" )\n\n        this.getTtl = this.getTtl.bind(this);\n        // ## keys\n\n        // list all keys within this cache\n\n        // **Return**\n\n        // ( Array ): An array of all keys\n\n        // **Example:**\n\n        //     _keys = myCache.keys()\n\n        //     # [ \"foo\", \"bar\", \"fizz\", \"buzz\", \"anotherKeys\" ]\n\n        this.keys = this.keys.bind(this);\n        // ## has\n\n        // Check if a key is cached\n\n        // **Parameters:**\n\n        // * `key` ( String | Number ): cache key to check the ttl value\n\n        // **Return**\n\n        // ( Boolean ): A boolean that indicates if the key is cached\n\n        // **Example:**\n\n        //     _exists = myCache.has('myKey')\n\n        //     # true\n\n        this.has = this.has.bind(this);\n        // ## getStats\n\n        // get the stats\n\n        // **Parameters:**\n\n        // -\n\n        // **Return**\n\n        // ( Object ): Stats data\n\n        // **Example:**\n\n        //     myCache.getStats()\n        //     # {\n        //     # hits: 0,\n        //     # misses: 0,\n        //     # keys: 0,\n        //     # ksize: 0,\n        //     # vsize: 0\n        //     # }\n\n        this.getStats = this.getStats.bind(this);\n        // ## flushAll\n\n        // flush the whole data and reset the stats\n\n        // **Example:**\n\n        //     myCache.flushAll()\n\n        //     myCache.getStats()\n        //     # {\n        //     # hits: 0,\n        //     # misses: 0,\n        //     # keys: 0,\n        //     # ksize: 0,\n        //     # vsize: 0\n        //     # }\n\n        this.flushAll = this.flushAll.bind(this);\n        \n        // ## flushStats\n\n        // flush the stats and reset all counters to 0\n\n        // **Example:**\n\n        //     myCache.flushStats()\n\n        //     myCache.getStats()\n        //     # {\n        //     # hits: 0,\n        //     # misses: 0,\n        //     # keys: 0,\n        //     # ksize: 0,\n        //     # vsize: 0\n        //     # }\n\n        this.flushStats = this.flushStats.bind(this);\n        // ## close\n\n        // This will clear the interval timeout which is set on checkperiod option.\n\n        // **Example:**\n\n        //     myCache.close()\n\n        this.close = this.close.bind(this);\n        // ## _checkData\n\n        // internal housekeeping method.\n        // Check all the cached data and delete the invalid values\n        this._checkData = this._checkData.bind(this);\n        // ## _check\n\n        // internal method the check the value. If it's not valid any more delete it\n        this._check = this._check.bind(this);\n        // ## _isInvalidKey\n\n        // internal method to check if the type of a key is either `number` or `string`\n        this._isInvalidKey = this._isInvalidKey.bind(this);\n        // ## _wrap\n\n        // internal method to wrap a value in an object with some metadata\n        this._wrap = this._wrap.bind(this);\n        // ## _getValLength\n\n        // internal method to calculate the value length\n        this._getValLength = this._getValLength.bind(this);\n        // ## _error\n\n        // internal method to handle an error message\n        this._error = this._error.bind(this);\n        // ## _initErrors\n\n        // internal method to generate error message templates\n        this._initErrors = this._initErrors.bind(this);\n        this.options = options;\n        this._initErrors();\n        // container for cached data\n        this.data = {};\n        // module options\n        this.options = Object.assign({\n          // convert all elements to string\n          forceString: false,\n          // used standard size for calculating value size\n          objectValueSize: 80,\n          promiseValueSize: 80,\n          arrayValueSize: 40,\n          // standard time to live in seconds. 0 = infinity;\n          stdTTL: 0,\n          // time in seconds to check all data and delete expired keys\n          checkperiod: 600,\n          // en/disable cloning of variables. If `true` you'll get a copy of the cached variable. If `false` you'll save and get just the reference\n          useClones: true,\n          // whether values should be deleted automatically at expiration\n          deleteOnExpire: true,\n          // enable legacy callbacks\n          enableLegacyCallbacks: false,\n          // max amount of keys that are being stored\n          maxKeys: -1\n        }, this.options);\n        // generate functions with callbacks (legacy)\n        if (this.options.enableLegacyCallbacks) {\n          console.warn(\"WARNING! node-cache legacy callback support will drop in v6.x\");\n          [\"get\", \"mget\", \"set\", \"del\", \"ttl\", \"getTtl\", \"keys\", \"has\"].forEach((methodKey) => {\n            var oldMethod;\n            // reference real function\n            oldMethod = this[methodKey];\n            this[methodKey] = function(...args) {\n              var cb, err, ref, res;\n              ref = args, [...args] = ref, [cb] = splice.call(args, -1);\n              // return a callback if cb is defined and a function\n              if (typeof cb === \"function\") {\n                try {\n                  res = oldMethod(...args);\n                  cb(null, res);\n                } catch (error1) {\n                  err = error1;\n                  cb(err);\n                }\n              } else {\n                return oldMethod(...args, cb);\n              }\n            };\n          });\n        }\n        // statistics container\n        this.stats = {\n          hits: 0,\n          misses: 0,\n          keys: 0,\n          ksize: 0,\n          vsize: 0\n        };\n        // pre allocate valid keytypes array\n        this.validKeyTypes = [\"string\", \"number\"];\n        // initalize checking period\n        this._checkData();\n        return;\n      }\n\n      get(key) {\n        var _ret, err;\n        boundMethodCheck(this, NodeCache);\n        // handle invalid key types\n        if ((err = this._isInvalidKey(key)) != null) {\n          throw err;\n        }\n        // get data and incremet stats\n        if ((this.data[key] != null) && this._check(key, this.data[key])) {\n          this.stats.hits++;\n          _ret = this._unwrap(this.data[key]);\n          // return data\n          return _ret;\n        } else {\n          // if not found return undefined\n          this.stats.misses++;\n          return void 0;\n        }\n      }\n\n      mget(keys) {\n        var _err, err, i, key, len, oRet;\n        boundMethodCheck(this, NodeCache);\n        // convert a string to an array of one key\n        if (!Array.isArray(keys)) {\n          _err = this._error(\"EKEYSTYPE\");\n          throw _err;\n        }\n        // define return\n        oRet = {};\n        for (i = 0, len = keys.length; i < len; i++) {\n          key = keys[i];\n          // handle invalid key types\n          if ((err = this._isInvalidKey(key)) != null) {\n            throw err;\n          }\n          // get data and increment stats\n          if ((this.data[key] != null) && this._check(key, this.data[key])) {\n            this.stats.hits++;\n            oRet[key] = this._unwrap(this.data[key]);\n          } else {\n            // if not found return a error\n            this.stats.misses++;\n          }\n        }\n        // return all found keys\n        return oRet;\n      }\n\n      set(key, value, ttl) {\n        var _err, err, existent;\n        boundMethodCheck(this, NodeCache);\n        // check if cache is overflowing\n        if (this.options.maxKeys > -1 && this.stats.keys >= this.options.maxKeys) {\n          _err = this._error(\"ECACHEFULL\");\n          throw _err;\n        }\n        // force the data to string\n        if (this.options.forceString && !typeof value === \"string\") {\n          value = JSON.stringify(value);\n        }\n        // set default ttl if not passed\n        if (ttl == null) {\n          ttl = this.options.stdTTL;\n        }\n        // handle invalid key types\n        if ((err = this._isInvalidKey(key)) != null) {\n          throw err;\n        }\n        // internal helper variables\n        existent = false;\n        // remove existing data from stats\n        if (this.data[key]) {\n          existent = true;\n          this.stats.vsize -= this._getValLength(this._unwrap(this.data[key], false));\n        }\n        // set the value\n        this.data[key] = this._wrap(value, ttl);\n        this.stats.vsize += this._getValLength(value);\n        // only add the keys and key-size if the key is new\n        if (!existent) {\n          this.stats.ksize += this._getKeyLength(key);\n          this.stats.keys++;\n        }\n        this.emit(\"set\", key, value);\n        // return true\n        return true;\n      }\n\n      mset(keyValueSet) {\n        var _err, err, i, j, key, keyValuePair, len, len1, ttl, val;\n        boundMethodCheck(this, NodeCache);\n        // check if cache is overflowing\n        if (this.options.maxKeys > -1 && this.stats.keys + keyValueSet.length >= this.options.maxKeys) {\n          _err = this._error(\"ECACHEFULL\");\n          throw _err;\n        }\n\n// loop over keyValueSet to validate key and ttl\n        for (i = 0, len = keyValueSet.length; i < len; i++) {\n          keyValuePair = keyValueSet[i];\n          ({key, val, ttl} = keyValuePair);\n          // check if there is ttl and it's a number\n          if (ttl && typeof ttl !== \"number\") {\n            _err = this._error(\"ETTLTYPE\");\n            throw _err;\n          }\n          // handle invalid key types\n          if ((err = this._isInvalidKey(key)) != null) {\n            throw err;\n          }\n        }\n        for (j = 0, len1 = keyValueSet.length; j < len1; j++) {\n          keyValuePair = keyValueSet[j];\n          ({key, val, ttl} = keyValuePair);\n          this.set(key, val, ttl);\n        }\n        return true;\n      }\n\n      del(keys) {\n        var delCount, err, i, key, len, oldVal;\n        boundMethodCheck(this, NodeCache);\n        // convert keys to an array of itself\n        if (!Array.isArray(keys)) {\n          keys = [keys];\n        }\n        delCount = 0;\n        for (i = 0, len = keys.length; i < len; i++) {\n          key = keys[i];\n          // handle invalid key types\n          if ((err = this._isInvalidKey(key)) != null) {\n            throw err;\n          }\n          // only delete if existent\n          if (this.data[key] != null) {\n            // calc the stats\n            this.stats.vsize -= this._getValLength(this._unwrap(this.data[key], false));\n            this.stats.ksize -= this._getKeyLength(key);\n            this.stats.keys--;\n            delCount++;\n            // delete the value\n            oldVal = this.data[key];\n            delete this.data[key];\n            // return true\n            this.emit(\"del\", key, oldVal.v);\n          }\n        }\n        return delCount;\n      }\n\n      take(key) {\n        var _ret;\n        boundMethodCheck(this, NodeCache);\n        _ret = this.get(key);\n        if ((_ret != null)) {\n          this.del(key);\n        }\n        return _ret;\n      }\n\n      ttl(key, ttl) {\n        var err;\n        boundMethodCheck(this, NodeCache);\n        ttl || (ttl = this.options.stdTTL);\n        if (!key) {\n          return false;\n        }\n        // handle invalid key types\n        if ((err = this._isInvalidKey(key)) != null) {\n          throw err;\n        }\n        // check for existent data and update the ttl value\n        if ((this.data[key] != null) && this._check(key, this.data[key])) {\n          // if ttl < 0 delete the key. otherwise reset the value\n          if (ttl >= 0) {\n            this.data[key] = this._wrap(this.data[key].v, ttl, false);\n          } else {\n            this.del(key);\n          }\n          return true;\n        } else {\n          // return false if key has not been found\n          return false;\n        }\n      }\n\n      getTtl(key) {\n        var _ttl, err;\n        boundMethodCheck(this, NodeCache);\n        if (!key) {\n          return void 0;\n        }\n        // handle invalid key types\n        if ((err = this._isInvalidKey(key)) != null) {\n          throw err;\n        }\n        // check for existant data and update the ttl value\n        if ((this.data[key] != null) && this._check(key, this.data[key])) {\n          _ttl = this.data[key].t;\n          return _ttl;\n        } else {\n          // return undefined if key has not been found\n          return void 0;\n        }\n      }\n\n      keys() {\n        var _keys;\n        boundMethodCheck(this, NodeCache);\n        _keys = Object.keys(this.data);\n        return _keys;\n      }\n\n      has(key) {\n        var _exists;\n        boundMethodCheck(this, NodeCache);\n        _exists = (this.data[key] != null) && this._check(key, this.data[key]);\n        return _exists;\n      }\n\n      getStats() {\n        boundMethodCheck(this, NodeCache);\n        return this.stats;\n      }\n\n      flushAll(_startPeriod = true) {\n        boundMethodCheck(this, NodeCache);\n        // parameter just for testing\n\n        // set data empty\n        this.data = {};\n        // reset stats\n        this.stats = {\n          hits: 0,\n          misses: 0,\n          keys: 0,\n          ksize: 0,\n          vsize: 0\n        };\n        // reset check period\n        this._killCheckPeriod();\n        this._checkData(_startPeriod);\n        this.emit(\"flush\");\n      }\n\n      flushStats() {\n        boundMethodCheck(this, NodeCache);\n        // reset stats\n        this.stats = {\n          hits: 0,\n          misses: 0,\n          keys: 0,\n          ksize: 0,\n          vsize: 0\n        };\n        this.emit(\"flush_stats\");\n      }\n\n      close() {\n        boundMethodCheck(this, NodeCache);\n        this._killCheckPeriod();\n      }\n\n      _checkData(startPeriod = true) {\n        var key, ref, value;\n        boundMethodCheck(this, NodeCache);\n        ref = this.data;\n        // run the housekeeping method\n        for (key in ref) {\n          value = ref[key];\n          this._check(key, value);\n        }\n        if (startPeriod && this.options.checkperiod > 0) {\n          this.checkTimeout = setTimeout(this._checkData, this.options.checkperiod * 1000, startPeriod);\n          if ((this.checkTimeout != null) && (this.checkTimeout.unref != null)) {\n            this.checkTimeout.unref();\n          }\n        }\n      }\n\n      // ## _killCheckPeriod\n\n      // stop the checkdata period. Only needed to abort the script in testing mode.\n      _killCheckPeriod() {\n        if (this.checkTimeout != null) {\n          return clearTimeout(this.checkTimeout);\n        }\n      }\n\n      _check(key, data) {\n        var _retval;\n        boundMethodCheck(this, NodeCache);\n        _retval = true;\n        // data is invalid if the ttl is too old and is not 0\n        // console.log data.t < Date.now(), data.t, Date.now()\n        if (data.t !== 0 && data.t < Date.now()) {\n          if (this.options.deleteOnExpire) {\n            _retval = false;\n            this.del(key);\n          }\n          this.emit(\"expired\", key, this._unwrap(data));\n        }\n        return _retval;\n      }\n\n      _isInvalidKey(key) {\n        var ref;\n        boundMethodCheck(this, NodeCache);\n        if (ref = typeof key, indexOf.call(this.validKeyTypes, ref) < 0) {\n          return this._error(\"EKEYTYPE\", {\n            type: typeof key\n          });\n        }\n      }\n\n      _wrap(value, ttl, asClone = true) {\n        var livetime, now, oReturn, ttlMultiplicator;\n        boundMethodCheck(this, NodeCache);\n        if (!this.options.useClones) {\n          asClone = false;\n        }\n        // define the time to live\n        now = Date.now();\n        livetime = 0;\n        ttlMultiplicator = 1000;\n        // use given ttl\n        if (ttl === 0) {\n          livetime = 0;\n        } else if (ttl) {\n          livetime = now + (ttl * ttlMultiplicator);\n        } else {\n          // use standard ttl\n          if (this.options.stdTTL === 0) {\n            livetime = this.options.stdTTL;\n          } else {\n            livetime = now + (this.options.stdTTL * ttlMultiplicator);\n          }\n        }\n        // return the wrapped value\n        return oReturn = {\n          t: livetime,\n          v: asClone ? clone(value) : value\n        };\n      }\n\n      // ## _unwrap\n\n      // internal method to extract get the value out of the wrapped value\n      _unwrap(value, asClone = true) {\n        if (!this.options.useClones) {\n          asClone = false;\n        }\n        if (value.v != null) {\n          if (asClone) {\n            return clone(value.v);\n          } else {\n            return value.v;\n          }\n        }\n        return null;\n      }\n\n      // ## _getKeyLength\n\n      // internal method the calculate the key length\n      _getKeyLength(key) {\n        return key.toString().length;\n      }\n\n      _getValLength(value) {\n        boundMethodCheck(this, NodeCache);\n        if (typeof value === \"string\") {\n          // if the value is a String get the real length\n          return value.length;\n        } else if (this.options.forceString) {\n          // force string if it's defined and not passed\n          return JSON.stringify(value).length;\n        } else if (Array.isArray(value)) {\n          // if the data is an Array multiply each element with a defined default length\n          return this.options.arrayValueSize * value.length;\n        } else if (typeof value === \"number\") {\n          return 8;\n        } else if (typeof (value != null ? value.then : void 0) === \"function\") {\n          // if the data is a Promise, use defined default\n          // (can't calculate actual/resolved value size synchronously)\n          return this.options.promiseValueSize;\n        } else if (typeof Buffer !== \"undefined\" && Buffer !== null ? Buffer.isBuffer(value) : void 0) {\n          return value.length;\n        } else if ((value != null) && typeof value === \"object\") {\n          // if the data is an Object multiply each element with a defined default length\n          return this.options.objectValueSize * Object.keys(value).length;\n        } else if (typeof value === \"boolean\") {\n          return 8;\n        } else {\n          // default fallback\n          return 0;\n        }\n      }\n\n      _error(type, data = {}) {\n        var error;\n        boundMethodCheck(this, NodeCache);\n        // generate the error object\n        error = new Error();\n        error.name = type;\n        error.errorcode = type;\n        error.message = this.ERRORS[type] != null ? this.ERRORS[type](data) : \"-\";\n        error.data = data;\n        // return the error object\n        return error;\n      }\n\n      _initErrors() {\n        var _errMsg, _errT, ref;\n        boundMethodCheck(this, NodeCache);\n        this.ERRORS = {};\n        ref = this._ERRORS;\n        for (_errT in ref) {\n          _errMsg = ref[_errT];\n          this.ERRORS[_errT] = this.createErrorMessage(_errMsg);\n        }\n      }\n\n      createErrorMessage(errMsg) {\n        return function(args) {\n          return errMsg.replace(\"__key\", args.type);\n        };\n      }\n\n    };\n\n    NodeCache.prototype._ERRORS = {\n      \"ENOTFOUND\": \"Key `__key` not found\",\n      \"ECACHEFULL\": \"Cache max keys amount exceeded\",\n      \"EKEYTYPE\": \"The key argument has to be of type `string` or `number`. Found: `__key`\",\n      \"EKEYSTYPE\": \"The keys argument has to be an array.\",\n      \"ETTLTYPE\": \"The ttl argument has to be a number.\"\n    };\n\n    return NodeCache;\n\n  }).call(this);\n\n}).call(this);\n","'use strict';\nconst path = require('path');\nconst Conf = require('./lib/conf');\nconst defaults = require('./lib/defaults');\n\n// https://github.com/npm/npm/blob/latest/lib/config/core.js#L101-L200\nmodule.exports = opts => {\n\tconst conf = new Conf(Object.assign({}, defaults.defaults));\n\n\tconf.add(Object.assign({}, opts), 'cli');\n\tconf.addEnv();\n\tconf.loadPrefix();\n\n\tconst projectConf = path.resolve(conf.localPrefix, '.npmrc');\n\tconst userConf = conf.get('userconfig');\n\n\tif (!conf.get('global') && projectConf !== userConf) {\n\t\tconf.addFile(projectConf, 'project');\n\t} else {\n\t\tconf.add({}, 'project');\n\t}\n\n\tconf.addFile(conf.get('userconfig'), 'user');\n\n\tif (conf.get('prefix')) {\n\t\tconst etc = path.resolve(conf.get('prefix'), 'etc');\n\t\tconf.root.globalconfig = path.resolve(etc, 'npmrc');\n\t\tconf.root.globalignorefile = path.resolve(etc, 'npmignore');\n\t}\n\n\tconf.addFile(conf.get('globalconfig'), 'global');\n\tconf.loadUser();\n\n\tconst caFile = conf.get('cafile');\n\n\tif (caFile) {\n\t\tconf.loadCAFile(caFile);\n\t}\n\n\treturn conf;\n};\n\nmodule.exports.defaults = Object.assign({}, defaults.defaults);\n","'use strict';\nconst fs = require('fs');\nconst path = require('path');\nconst ConfigChain = require('config-chain').ConfigChain;\nconst util = require('./util');\n\nclass Conf extends ConfigChain {\n\t// https://github.com/npm/npm/blob/latest/lib/config/core.js#L208-L222\n\tconstructor(base) {\n\t\tsuper(base);\n\t\tthis.root = base;\n\t}\n\n\t// https://github.com/npm/npm/blob/latest/lib/config/core.js#L332-L342\n\tadd(data, marker) {\n\t\ttry {\n\t\t\tfor (const x of Object.keys(data)) {\n\t\t\t\tdata[x] = util.parseField(data[x], x);\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tthrow err;\n\t\t}\n\n\t\treturn super.add(data, marker);\n\t}\n\n\t// https://github.com/npm/npm/blob/latest/lib/config/core.js#L312-L325\n\taddFile(file, name) {\n\t\tname = name || file;\n\n\t\tconst marker = {__source__: name};\n\n\t\tthis.sources[name] = {path: file, type: 'ini'};\n\t\tthis.push(marker);\n\t\tthis._await();\n\n\t\ttry {\n\t\t\tconst contents = fs.readFileSync(file, 'utf8');\n\t\t\tthis.addString(contents, file, 'ini', marker);\n\t\t} catch (err) {\n\t\t\tthis.add({}, marker);\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t// https://github.com/npm/npm/blob/latest/lib/config/core.js#L344-L360\n\taddEnv(env) {\n\t\tenv = env || process.env;\n\n\t\tconst conf = {};\n\n\t\tObject.keys(env)\n\t\t\t.filter(x => /^npm_config_/i.test(x))\n\t\t\t.forEach(x => {\n\t\t\t\tif (!env[x]) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst p = x.toLowerCase()\n\t\t\t\t\t.replace(/^npm_config_/, '')\n\t\t\t\t\t.replace(/(?!^)_/g, '-');\n\n\t\t\t\tconf[p] = env[x];\n\t\t\t});\n\n\t\treturn super.addEnv('', conf, 'env');\n\t}\n\n\t// https://github.com/npm/npm/blob/latest/lib/config/load-prefix.js\n\tloadPrefix() {\n\t\tconst cli = this.list[0];\n\n\t\tObject.defineProperty(this, 'prefix', {\n\t\t\tenumerable: true,\n\t\t\tset: prefix => {\n\t\t\t\tconst g = this.get('global');\n\t\t\t\tthis[g ? 'globalPrefix' : 'localPrefix'] = prefix;\n\t\t\t},\n\t\t\tget: () => {\n\t\t\t\tconst g = this.get('global');\n\t\t\t\treturn g ? this.globalPrefix : this.localPrefix;\n\t\t\t}\n\t\t});\n\n\t\tObject.defineProperty(this, 'globalPrefix', {\n\t\t\tenumerable: true,\n\t\t\tset: prefix => {\n\t\t\t\tthis.set('prefix', prefix);\n\t\t\t},\n\t\t\tget: () => {\n\t\t\t\treturn path.resolve(this.get('prefix'));\n\t\t\t}\n\t\t});\n\n\t\tlet p;\n\n\t\tObject.defineProperty(this, 'localPrefix', {\n\t\t\tenumerable: true,\n\t\t\tset: prefix => {\n\t\t\t\tp = prefix;\n\t\t\t},\n\t\t\tget: () => {\n\t\t\t\treturn p;\n\t\t\t}\n\t\t});\n\n\t\tif (Object.prototype.hasOwnProperty.call(cli, 'prefix')) {\n\t\t\tp = path.resolve(cli.prefix);\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tconst prefix = util.findPrefix(process.cwd());\n\t\t\t\tp = prefix;\n\t\t\t} catch (err) {\n\t\t\t\tthrow err;\n\t\t\t}\n\t\t}\n\n\t\treturn p;\n\t}\n\n\t// https://github.com/npm/npm/blob/latest/lib/config/load-cafile.js\n\tloadCAFile(file) {\n\t\tif (!file) {\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst contents = fs.readFileSync(file, 'utf8');\n\t\t\tconst delim = '-----END CERTIFICATE-----';\n\t\t\tconst output = contents\n\t\t\t\t.split(delim)\n\t\t\t\t.filter(x => Boolean(x.trim()))\n\t\t\t\t.map(x => x.trimLeft() + delim);\n\n\t\t\tthis.set('ca', output);\n\t\t} catch (err) {\n\t\t\tif (err.code === 'ENOENT') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthrow err;\n\t\t}\n\t}\n\n\t// https://github.com/npm/npm/blob/latest/lib/config/set-user.js\n\tloadUser() {\n\t\tconst defConf = this.root;\n\n\t\tif (this.get('global')) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (process.env.SUDO_UID) {\n\t\t\tdefConf.user = Number(process.env.SUDO_UID);\n\t\t\treturn;\n\t\t}\n\n\t\tconst prefix = path.resolve(this.get('prefix'));\n\n\t\ttry {\n\t\t\tconst stats = fs.statSync(prefix);\n\t\t\tdefConf.user = stats.uid;\n\t\t} catch (err) {\n\t\t\tif (err.code === 'ENOENT') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthrow err;\n\t\t}\n\t}\n}\n\nmodule.exports = Conf;\n","\n\t// Generated with `lib/make.js`\n\t'use strict';\n\tconst os = require('os');\n\tconst path = require('path');\n\n\tconst temp = os.tmpdir();\n\tconst uidOrPid = process.getuid ? process.getuid() : process.pid;\n\tconst hasUnicode = () => true;\n\tconst isWindows = process.platform === 'win32';\n\n\tconst osenv = {\n\t\teditor: () => process.env.EDITOR || process.env.VISUAL || (isWindows ? 'notepad.exe' : 'vi'),\n\t\tshell: () => isWindows ? (process.env.COMSPEC || 'cmd.exe') : (process.env.SHELL || '/bin/bash')\n\t};\n\n\tconst umask = {\n\t\tfromString: () => process.umask()\n\t};\n\n\tlet home = os.homedir();\n\n\tif (home) {\n\t\tprocess.env.HOME = home;\n\t} else {\n\t\thome = path.resolve(temp, 'npm-' + uidOrPid);\n\t}\n\n\tconst cacheExtra = process.platform === 'win32' ? 'npm-cache' : '.npm';\n\tconst cacheRoot = process.platform === 'win32' ? process.env.APPDATA : home;\n\tconst cache = path.resolve(cacheRoot, cacheExtra);\n\n\tlet defaults;\n\tlet globalPrefix;\n\n\tObject.defineProperty(exports, 'defaults', {\n  get: function () {\n    if (defaults) return defaults;\n\n    if (process.env.PREFIX) {\n      globalPrefix = process.env.PREFIX;\n    } else if (process.platform === 'win32') {\n      // c:\\node\\node.exe --> prefix=c:\\node\\\n      globalPrefix = path.dirname(process.execPath);\n    } else {\n      // /usr/local/bin/node --> prefix=/usr/local\n      globalPrefix = path.dirname(path.dirname(process.execPath)); // destdir only is respected on Unix\n\n      if (process.env.DESTDIR) {\n        globalPrefix = path.join(process.env.DESTDIR, globalPrefix);\n      }\n    }\n\n    defaults = {\n      access: null,\n      'allow-same-version': false,\n      'always-auth': false,\n      also: null,\n      'auth-type': 'legacy',\n      'bin-links': true,\n      browser: null,\n      ca: null,\n      cafile: null,\n      cache: cache,\n      'cache-lock-stale': 60000,\n      'cache-lock-retries': 10,\n      'cache-lock-wait': 10000,\n      'cache-max': Infinity,\n      'cache-min': 10,\n      cert: null,\n      color: true,\n      depth: Infinity,\n      description: true,\n      dev: false,\n      'dry-run': false,\n      editor: osenv.editor(),\n      'engine-strict': false,\n      force: false,\n      'fetch-retries': 2,\n      'fetch-retry-factor': 10,\n      'fetch-retry-mintimeout': 10000,\n      'fetch-retry-maxtimeout': 60000,\n      git: 'git',\n      'git-tag-version': true,\n      global: false,\n      globalconfig: path.resolve(globalPrefix, 'etc', 'npmrc'),\n      'global-style': false,\n      group: process.platform === 'win32' ? 0 : process.env.SUDO_GID || process.getgid && process.getgid(),\n      'ham-it-up': false,\n      heading: 'npm',\n      'if-present': false,\n      'ignore-prepublish': false,\n      'ignore-scripts': false,\n      'init-module': path.resolve(home, '.npm-init.js'),\n      'init-author-name': '',\n      'init-author-email': '',\n      'init-author-url': '',\n      'init-version': '1.0.0',\n      'init-license': 'ISC',\n      json: false,\n      key: null,\n      'legacy-bundling': false,\n      link: false,\n      'local-address': undefined,\n      loglevel: 'notice',\n      logstream: process.stderr,\n      'logs-max': 10,\n      long: false,\n      maxsockets: 50,\n      message: '%s',\n      'metrics-registry': null,\n      'node-version': process.version,\n      'offline': false,\n      'onload-script': false,\n      only: null,\n      optional: true,\n      'package-lock': true,\n      parseable: false,\n      'prefer-offline': false,\n      'prefer-online': false,\n      prefix: globalPrefix,\n      production: process.env.NODE_ENV === 'production',\n      'progress': !process.env.TRAVIS && !process.env.CI,\n      'proprietary-attribs': true,\n      proxy: null,\n      'https-proxy': null,\n      'user-agent': 'npm/{npm-version} ' + 'node/{node-version} ' + '{platform} ' + '{arch}',\n      'rebuild-bundle': true,\n      registry: 'https://registry.npmjs.org/',\n      rollback: true,\n      save: true,\n      'save-bundle': false,\n      'save-dev': false,\n      'save-exact': false,\n      'save-optional': false,\n      'save-prefix': '^',\n      'save-prod': false,\n      scope: '',\n      'script-shell': null,\n      'scripts-prepend-node-path': 'warn-only',\n      searchopts: '',\n      searchexclude: null,\n      searchlimit: 20,\n      searchstaleness: 15 * 60,\n      'send-metrics': false,\n      shell: osenv.shell(),\n      shrinkwrap: true,\n      'sign-git-tag': false,\n      'sso-poll-frequency': 500,\n      'sso-type': 'oauth',\n      'strict-ssl': true,\n      tag: 'latest',\n      'tag-version-prefix': 'v',\n      timing: false,\n      tmp: temp,\n      unicode: hasUnicode(),\n      'unsafe-perm': process.platform === 'win32' || process.platform === 'cygwin' || !(process.getuid && process.setuid && process.getgid && process.setgid) || process.getuid() !== 0,\n      usage: false,\n      user: process.platform === 'win32' ? 0 : 'nobody',\n      userconfig: path.resolve(home, '.npmrc'),\n      umask: process.umask ? process.umask() : umask.fromString('022'),\n      version: false,\n      versions: false,\n      viewer: process.platform === 'win32' ? 'browser' : 'man',\n      _exit: true\n    };\n    return defaults;\n  }\n})\n","\n\t// Generated with `lib/make.js`\n\t'use strict';\n\tconst path = require('path');\n\tconst Stream = require('stream').Stream;\n\tconst url = require('url');\n\n\tconst Umask = () => {};\n\tconst getLocalAddresses = () => [];\n\tconst semver = () => {};\n\n\texports.types = {\n  access: [null, 'restricted', 'public'],\n  'allow-same-version': Boolean,\n  'always-auth': Boolean,\n  also: [null, 'dev', 'development'],\n  'auth-type': ['legacy', 'sso', 'saml', 'oauth'],\n  'bin-links': Boolean,\n  browser: [null, String],\n  ca: [null, String, Array],\n  cafile: path,\n  cache: path,\n  'cache-lock-stale': Number,\n  'cache-lock-retries': Number,\n  'cache-lock-wait': Number,\n  'cache-max': Number,\n  'cache-min': Number,\n  cert: [null, String],\n  color: ['always', Boolean],\n  depth: Number,\n  description: Boolean,\n  dev: Boolean,\n  'dry-run': Boolean,\n  editor: String,\n  'engine-strict': Boolean,\n  force: Boolean,\n  'fetch-retries': Number,\n  'fetch-retry-factor': Number,\n  'fetch-retry-mintimeout': Number,\n  'fetch-retry-maxtimeout': Number,\n  git: String,\n  'git-tag-version': Boolean,\n  global: Boolean,\n  globalconfig: path,\n  'global-style': Boolean,\n  group: [Number, String],\n  'https-proxy': [null, url],\n  'user-agent': String,\n  'ham-it-up': Boolean,\n  'heading': String,\n  'if-present': Boolean,\n  'ignore-prepublish': Boolean,\n  'ignore-scripts': Boolean,\n  'init-module': path,\n  'init-author-name': String,\n  'init-author-email': String,\n  'init-author-url': ['', url],\n  'init-license': String,\n  'init-version': semver,\n  json: Boolean,\n  key: [null, String],\n  'legacy-bundling': Boolean,\n  link: Boolean,\n  // local-address must be listed as an IP for a local network interface\n  // must be IPv4 due to node bug\n  'local-address': getLocalAddresses(),\n  loglevel: ['silent', 'error', 'warn', 'notice', 'http', 'timing', 'info', 'verbose', 'silly'],\n  logstream: Stream,\n  'logs-max': Number,\n  long: Boolean,\n  maxsockets: Number,\n  message: String,\n  'metrics-registry': [null, String],\n  'node-version': [null, semver],\n  offline: Boolean,\n  'onload-script': [null, String],\n  only: [null, 'dev', 'development', 'prod', 'production'],\n  optional: Boolean,\n  'package-lock': Boolean,\n  parseable: Boolean,\n  'prefer-offline': Boolean,\n  'prefer-online': Boolean,\n  prefix: path,\n  production: Boolean,\n  progress: Boolean,\n  'proprietary-attribs': Boolean,\n  proxy: [null, false, url],\n  // allow proxy to be disabled explicitly\n  'rebuild-bundle': Boolean,\n  registry: [null, url],\n  rollback: Boolean,\n  save: Boolean,\n  'save-bundle': Boolean,\n  'save-dev': Boolean,\n  'save-exact': Boolean,\n  'save-optional': Boolean,\n  'save-prefix': String,\n  'save-prod': Boolean,\n  scope: String,\n  'script-shell': [null, String],\n  'scripts-prepend-node-path': [false, true, 'auto', 'warn-only'],\n  searchopts: String,\n  searchexclude: [null, String],\n  searchlimit: Number,\n  searchstaleness: Number,\n  'send-metrics': Boolean,\n  shell: String,\n  shrinkwrap: Boolean,\n  'sign-git-tag': Boolean,\n  'sso-poll-frequency': Number,\n  'sso-type': [null, 'oauth', 'saml'],\n  'strict-ssl': Boolean,\n  tag: String,\n  timing: Boolean,\n  tmp: path,\n  unicode: Boolean,\n  'unsafe-perm': Boolean,\n  usage: Boolean,\n  user: [Number, String],\n  userconfig: path,\n  umask: Umask,\n  version: Boolean,\n  'tag-version-prefix': String,\n  versions: Boolean,\n  viewer: String,\n  _exit: Boolean\n}\n","'use strict';\nconst fs = require('fs');\nconst path = require('path');\nconst types = require('./types');\n\n// https://github.com/npm/npm/blob/latest/lib/config/core.js#L409-L423\nconst envReplace = str => {\n\tif (typeof str !== 'string' || !str) {\n\t\treturn str;\n\t}\n\n\t// Replace any ${ENV} values with the appropriate environment\n\tconst regex = /(\\\\*)\\$\\{([^}]+)\\}/g;\n\n\treturn str.replace(regex, (orig, esc, name) => {\n\t\tesc = esc.length > 0 && esc.length % 2;\n\n\t\tif (esc) {\n\t\t\treturn orig;\n\t\t}\n\n\t\tif (process.env[name] === undefined) {\n\t\t\tthrow new Error(`Failed to replace env in config: ${orig}`);\n\t\t}\n\n\t\treturn process.env[name];\n\t});\n};\n\n// https://github.com/npm/npm/blob/latest/lib/config/core.js#L362-L407\nconst parseField = (field, key) => {\n\tif (typeof field !== 'string') {\n\t\treturn field;\n\t}\n\n\tconst typeList = [].concat(types[key]);\n\tconst isPath = typeList.indexOf(path) !== -1;\n\tconst isBool = typeList.indexOf(Boolean) !== -1;\n\tconst isString = typeList.indexOf(String) !== -1;\n\tconst isNumber = typeList.indexOf(Number) !== -1;\n\n\tfield = `${field}`.trim();\n\n\tif (/^\".*\"$/.test(field)) {\n\t\ttry {\n\t\t\tfield = JSON.parse(field);\n\t\t} catch (err) {\n\t\t\tthrow new Error(`Failed parsing JSON config key ${key}: ${field}`);\n\t\t}\n\t}\n\n\tif (isBool && !isString && field === '') {\n\t\treturn true;\n\t}\n\n\tswitch (field) { // eslint-disable-line default-case\n\t\tcase 'true': {\n\t\t\treturn true;\n\t\t}\n\n\t\tcase 'false': {\n\t\t\treturn false;\n\t\t}\n\n\t\tcase 'null': {\n\t\t\treturn null;\n\t\t}\n\n\t\tcase 'undefined': {\n\t\t\treturn undefined;\n\t\t}\n\t}\n\n\tfield = envReplace(field);\n\n\tif (isPath) {\n\t\tconst regex = process.platform === 'win32' ? /^~(\\/|\\\\)/ : /^~\\//;\n\n\t\tif (regex.test(field) && process.env.HOME) {\n\t\t\tfield = path.resolve(process.env.HOME, field.substr(2));\n\t\t}\n\n\t\tfield = path.resolve(field);\n\t}\n\n\tif (isNumber && !field.isNan()) {\n\t\tfield = Number(field);\n\t}\n\n\treturn field;\n};\n\n// https://github.com/npm/npm/blob/latest/lib/config/find-prefix.js\nconst findPrefix = name => {\n\tname = path.resolve(name);\n\n\tlet walkedUp = false;\n\n\twhile (path.basename(name) === 'node_modules') {\n\t\tname = path.dirname(name);\n\t\twalkedUp = true;\n\t}\n\n\tif (walkedUp) {\n\t\treturn name;\n\t}\n\n\tconst find = (name, original) => {\n\t\tconst regex = /^[a-zA-Z]:(\\\\|\\/)?$/;\n\n\t\tif (name === '/' || (process.platform === 'win32' && regex.test(name))) {\n\t\t\treturn original;\n\t\t}\n\n\t\ttry {\n\t\t\tconst files = fs.readdirSync(name);\n\n\t\t\tif (files.indexOf('node_modules') !== -1 || files.indexOf('package.json') !== -1) {\n\t\t\t\treturn name;\n\t\t\t}\n\n\t\t\tconst dirname = path.dirname(name);\n\n\t\t\tif (dirname === name) {\n\t\t\t\treturn original;\n\t\t\t}\n\n\t\t\treturn find(dirname, original);\n\t\t} catch (err) {\n\t\t\tif (name === original) {\n\t\t\t\tif (err.code === 'ENOENT') {\n\t\t\t\t\treturn original;\n\t\t\t\t}\n\n\t\t\t\tthrow err;\n\t\t\t}\n\n\t\t\treturn original;\n\t\t}\n\t};\n\n\treturn find(name, name);\n};\n\nexports.envReplace = envReplace;\nexports.findPrefix = findPrefix;\nexports.parseField = parseField;\n","var wrappy = require('wrappy')\nmodule.exports = wrappy(once)\nmodule.exports.strict = wrappy(onceStrict)\n\nonce.proto = once(function () {\n  Object.defineProperty(Function.prototype, 'once', {\n    value: function () {\n      return once(this)\n    },\n    configurable: true\n  })\n\n  Object.defineProperty(Function.prototype, 'onceStrict', {\n    value: function () {\n      return onceStrict(this)\n    },\n    configurable: true\n  })\n})\n\nfunction once (fn) {\n  var f = function () {\n    if (f.called) return f.value\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  f.called = false\n  return f\n}\n\nfunction onceStrict (fn) {\n  var f = function () {\n    if (f.called)\n      throw new Error(f.onceError)\n    f.called = true\n    return f.value = fn.apply(this, arguments)\n  }\n  var name = fn.name || 'Function wrapped with `once`'\n  f.onceError = name + \" shouldn't be called more than once\"\n  f.called = false\n  return f\n}\n","const path = require('path');\nconst childProcess = require('child_process');\nconst {promises: fs, constants: fsConstants} = require('fs');\nconst isWsl = require('is-wsl');\nconst isDocker = require('is-docker');\nconst defineLazyProperty = require('define-lazy-prop');\n\n// Path to included `xdg-open`.\nconst localXdgOpenPath = path.join(__dirname, 'xdg-open');\n\nconst {platform, arch} = process;\n\n// Podman detection\nconst hasContainerEnv = () => {\n\ttry {\n\t\tfs.statSync('/run/.containerenv');\n\t\treturn true;\n\t} catch {\n\t\treturn false;\n\t}\n};\n\nlet cachedResult;\nfunction isInsideContainer() {\n\tif (cachedResult === undefined) {\n\t\tcachedResult = hasContainerEnv() || isDocker();\n\t}\n\n\treturn cachedResult;\n}\n\n/**\nGet the mount point for fixed drives in WSL.\n\n@inner\n@returns {string} The mount point.\n*/\nconst getWslDrivesMountPoint = (() => {\n\t// Default value for \"root\" param\n\t// according to https://docs.microsoft.com/en-us/windows/wsl/wsl-config\n\tconst defaultMountPoint = '/mnt/';\n\n\tlet mountPoint;\n\n\treturn async function () {\n\t\tif (mountPoint) {\n\t\t\t// Return memoized mount point value\n\t\t\treturn mountPoint;\n\t\t}\n\n\t\tconst configFilePath = '/etc/wsl.conf';\n\n\t\tlet isConfigFileExists = false;\n\t\ttry {\n\t\t\tawait fs.access(configFilePath, fsConstants.F_OK);\n\t\t\tisConfigFileExists = true;\n\t\t} catch {}\n\n\t\tif (!isConfigFileExists) {\n\t\t\treturn defaultMountPoint;\n\t\t}\n\n\t\tconst configContent = await fs.readFile(configFilePath, {encoding: 'utf8'});\n\t\tconst configMountPoint = /(?<!#.*)root\\s*=\\s*(?<mountPoint>.*)/g.exec(configContent);\n\n\t\tif (!configMountPoint) {\n\t\t\treturn defaultMountPoint;\n\t\t}\n\n\t\tmountPoint = configMountPoint.groups.mountPoint.trim();\n\t\tmountPoint = mountPoint.endsWith('/') ? mountPoint : `${mountPoint}/`;\n\n\t\treturn mountPoint;\n\t};\n})();\n\nconst pTryEach = async (array, mapper) => {\n\tlet latestError;\n\n\tfor (const item of array) {\n\t\ttry {\n\t\t\treturn await mapper(item); // eslint-disable-line no-await-in-loop\n\t\t} catch (error) {\n\t\t\tlatestError = error;\n\t\t}\n\t}\n\n\tthrow latestError;\n};\n\nconst baseOpen = async options => {\n\toptions = {\n\t\twait: false,\n\t\tbackground: false,\n\t\tnewInstance: false,\n\t\tallowNonzeroExitCode: false,\n\t\t...options\n\t};\n\n\tif (Array.isArray(options.app)) {\n\t\treturn pTryEach(options.app, singleApp => baseOpen({\n\t\t\t...options,\n\t\t\tapp: singleApp\n\t\t}));\n\t}\n\n\tlet {name: app, arguments: appArguments = []} = options.app || {};\n\tappArguments = [...appArguments];\n\n\tif (Array.isArray(app)) {\n\t\treturn pTryEach(app, appName => baseOpen({\n\t\t\t...options,\n\t\t\tapp: {\n\t\t\t\tname: appName,\n\t\t\t\targuments: appArguments\n\t\t\t}\n\t\t}));\n\t}\n\n\tlet command;\n\tconst cliArguments = [];\n\tconst childProcessOptions = {};\n\n\tif (platform === 'darwin') {\n\t\tcommand = 'open';\n\n\t\tif (options.wait) {\n\t\t\tcliArguments.push('--wait-apps');\n\t\t}\n\n\t\tif (options.background) {\n\t\t\tcliArguments.push('--background');\n\t\t}\n\n\t\tif (options.newInstance) {\n\t\t\tcliArguments.push('--new');\n\t\t}\n\n\t\tif (app) {\n\t\t\tcliArguments.push('-a', app);\n\t\t}\n\t} else if (platform === 'win32' || (isWsl && !isInsideContainer() && !app)) {\n\t\tconst mountPoint = await getWslDrivesMountPoint();\n\n\t\tcommand = isWsl ?\n\t\t\t`${mountPoint}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe` :\n\t\t\t`${process.env.SYSTEMROOT}\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell`;\n\n\t\tcliArguments.push(\n\t\t\t'-NoProfile',\n\t\t\t'-NonInteractive',\n\t\t\t'ExecutionPolicy',\n\t\t\t'Bypass',\n\t\t\t'-EncodedCommand'\n\t\t);\n\n\t\tif (!isWsl) {\n\t\t\tchildProcessOptions.windowsVerbatimArguments = true;\n\t\t}\n\n\t\tconst encodedArguments = ['Start'];\n\n\t\tif (options.wait) {\n\t\t\tencodedArguments.push('-Wait');\n\t\t}\n\n\t\tif (app) {\n\t\t\t// Double quote with double quotes to ensure the inner quotes are passed through.\n\t\t\t// Inner quotes are delimited for PowerShell interpretation with backticks.\n\t\t\tencodedArguments.push(`\"\\`\"${app}\\`\"\"`, '-ArgumentList');\n\t\t\tif (options.target) {\n\t\t\t\tappArguments.unshift(options.target);\n\t\t\t}\n\t\t} else if (options.target) {\n\t\t\tencodedArguments.push(`\"${options.target}\"`);\n\t\t}\n\n\t\tif (appArguments.length > 0) {\n\t\t\tappArguments = appArguments.map(arg => `\"\\`\"${arg}\\`\"\"`);\n\t\t\tencodedArguments.push(appArguments.join(','));\n\t\t}\n\n\t\t// Using Base64-encoded command, accepted by PowerShell, to allow special characters.\n\t\toptions.target = Buffer.from(encodedArguments.join(' '), 'utf16le').toString('base64');\n\t} else {\n\t\tif (app) {\n\t\t\tcommand = app;\n\t\t} else {\n\t\t\t// When bundled by Webpack, there's no actual package file path and no local `xdg-open`.\n\t\t\tconst isBundled = !__dirname || __dirname === '/';\n\n\t\t\t// Check if local `xdg-open` exists and is executable.\n\t\t\tlet exeLocalXdgOpen = false;\n\t\t\ttry {\n\t\t\t\tawait fs.access(localXdgOpenPath, fsConstants.X_OK);\n\t\t\t\texeLocalXdgOpen = true;\n\t\t\t} catch {}\n\n\t\t\tconst useSystemXdgOpen = process.versions.electron ||\n\t\t\t\tplatform === 'android' || isBundled || !exeLocalXdgOpen;\n\t\t\tcommand = useSystemXdgOpen ? 'xdg-open' : localXdgOpenPath;\n\t\t}\n\n\t\tif (appArguments.length > 0) {\n\t\t\tcliArguments.push(...appArguments);\n\t\t}\n\n\t\tif (!options.wait) {\n\t\t\t// `xdg-open` will block the process unless stdio is ignored\n\t\t\t// and it's detached from the parent even if it's unref'd.\n\t\t\tchildProcessOptions.stdio = 'ignore';\n\t\t\tchildProcessOptions.detached = true;\n\t\t}\n\t}\n\n\tif (options.target) {\n\t\tcliArguments.push(options.target);\n\t}\n\n\tif (platform === 'darwin' && appArguments.length > 0) {\n\t\tcliArguments.push('--args', ...appArguments);\n\t}\n\n\tconst subprocess = childProcess.spawn(command, cliArguments, childProcessOptions);\n\n\tif (options.wait) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsubprocess.once('error', reject);\n\n\t\t\tsubprocess.once('close', exitCode => {\n\t\t\t\tif (!options.allowNonzeroExitCode && exitCode > 0) {\n\t\t\t\t\treject(new Error(`Exited with code ${exitCode}`));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tresolve(subprocess);\n\t\t\t});\n\t\t});\n\t}\n\n\tsubprocess.unref();\n\n\treturn subprocess;\n};\n\nconst open = (target, options) => {\n\tif (typeof target !== 'string') {\n\t\tthrow new TypeError('Expected a `target`');\n\t}\n\n\treturn baseOpen({\n\t\t...options,\n\t\ttarget\n\t});\n};\n\nconst openApp = (name, options) => {\n\tif (typeof name !== 'string') {\n\t\tthrow new TypeError('Expected a `name`');\n\t}\n\n\tconst {arguments: appArguments = []} = options || {};\n\tif (appArguments !== undefined && appArguments !== null && !Array.isArray(appArguments)) {\n\t\tthrow new TypeError('Expected `appArguments` as Array type');\n\t}\n\n\treturn baseOpen({\n\t\t...options,\n\t\tapp: {\n\t\t\tname,\n\t\t\targuments: appArguments\n\t\t}\n\t});\n};\n\nfunction detectArchBinary(binary) {\n\tif (typeof binary === 'string' || Array.isArray(binary)) {\n\t\treturn binary;\n\t}\n\n\tconst {[arch]: archBinary} = binary;\n\n\tif (!archBinary) {\n\t\tthrow new Error(`${arch} is not supported`);\n\t}\n\n\treturn archBinary;\n}\n\nfunction detectPlatformBinary({[platform]: platformBinary}, {wsl}) {\n\tif (wsl && isWsl) {\n\t\treturn detectArchBinary(wsl);\n\t}\n\n\tif (!platformBinary) {\n\t\tthrow new Error(`${platform} is not supported`);\n\t}\n\n\treturn detectArchBinary(platformBinary);\n}\n\nconst apps = {};\n\ndefineLazyProperty(apps, 'chrome', () => detectPlatformBinary({\n\tdarwin: 'google chrome',\n\twin32: 'chrome',\n\tlinux: ['google-chrome', 'google-chrome-stable', 'chromium']\n}, {\n\twsl: {\n\t\tia32: '/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe',\n\t\tx64: ['/mnt/c/Program Files/Google/Chrome/Application/chrome.exe', '/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe']\n\t}\n}));\n\ndefineLazyProperty(apps, 'firefox', () => detectPlatformBinary({\n\tdarwin: 'firefox',\n\twin32: 'C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe',\n\tlinux: 'firefox'\n}, {\n\twsl: '/mnt/c/Program Files/Mozilla Firefox/firefox.exe'\n}));\n\ndefineLazyProperty(apps, 'edge', () => detectPlatformBinary({\n\tdarwin: 'microsoft edge',\n\twin32: 'msedge',\n\tlinux: ['microsoft-edge', 'microsoft-edge-dev']\n}, {\n\twsl: '/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe'\n}));\n\nopen.apps = apps;\nopen.openApp = openApp;\n\nmodule.exports = open;\n","'use strict';\n\nfunction posix(path) {\n\treturn path.charAt(0) === '/';\n}\n\nfunction win32(path) {\n\t// https://github.com/nodejs/node/blob/b3fcc245fb25539909ef1d5eaa01dbf92e168633/lib/path.js#L56\n\tvar splitDeviceRe = /^([a-zA-Z]:|[\\\\\\/]{2}[^\\\\\\/]+[\\\\\\/]+[^\\\\\\/]+)?([\\\\\\/])?([\\s\\S]*?)$/;\n\tvar result = splitDeviceRe.exec(path);\n\tvar device = result[1] || '';\n\tvar isUnc = Boolean(device && device.charAt(1) !== ':');\n\n\t// UNC paths are always absolute\n\treturn Boolean(result[2] || isUnc);\n}\n\nmodule.exports = process.platform === 'win32' ? win32 : posix;\nmodule.exports.posix = posix;\nmodule.exports.win32 = win32;\n","'use strict';\n\nconst lockfile = require('./lib/lockfile');\nconst { toPromise, toSync, toSyncOptions } = require('./lib/adapter');\n\nasync function lock(file, options) {\n    const release = await toPromise(lockfile.lock)(file, options);\n\n    return toPromise(release);\n}\n\nfunction lockSync(file, options) {\n    const release = toSync(lockfile.lock)(file, toSyncOptions(options));\n\n    return toSync(release);\n}\n\nfunction unlock(file, options) {\n    return toPromise(lockfile.unlock)(file, options);\n}\n\nfunction unlockSync(file, options) {\n    return toSync(lockfile.unlock)(file, toSyncOptions(options));\n}\n\nfunction check(file, options) {\n    return toPromise(lockfile.check)(file, options);\n}\n\nfunction checkSync(file, options) {\n    return toSync(lockfile.check)(file, toSyncOptions(options));\n}\n\nmodule.exports = lock;\nmodule.exports.lock = lock;\nmodule.exports.unlock = unlock;\nmodule.exports.lockSync = lockSync;\nmodule.exports.unlockSync = unlockSync;\nmodule.exports.check = check;\nmodule.exports.checkSync = checkSync;\n","'use strict';\n\nconst fs = require('graceful-fs');\n\nfunction createSyncFs(fs) {\n    const methods = ['mkdir', 'realpath', 'stat', 'rmdir', 'utimes'];\n    const newFs = { ...fs };\n\n    methods.forEach((method) => {\n        newFs[method] = (...args) => {\n            const callback = args.pop();\n            let ret;\n\n            try {\n                ret = fs[`${method}Sync`](...args);\n            } catch (err) {\n                return callback(err);\n            }\n\n            callback(null, ret);\n        };\n    });\n\n    return newFs;\n}\n\n// ----------------------------------------------------------\n\nfunction toPromise(method) {\n    return (...args) => new Promise((resolve, reject) => {\n        args.push((err, result) => {\n            if (err) {\n                reject(err);\n            } else {\n                resolve(result);\n            }\n        });\n\n        method(...args);\n    });\n}\n\nfunction toSync(method) {\n    return (...args) => {\n        let err;\n        let result;\n\n        args.push((_err, _result) => {\n            err = _err;\n            result = _result;\n        });\n\n        method(...args);\n\n        if (err) {\n            throw err;\n        }\n\n        return result;\n    };\n}\n\nfunction toSyncOptions(options) {\n    // Shallow clone options because we are oging to mutate them\n    options = { ...options };\n\n    // Transform fs to use the sync methods instead\n    options.fs = createSyncFs(options.fs || fs);\n\n    // Retries are not allowed because it requires the flow to be sync\n    if (\n        (typeof options.retries === 'number' && options.retries > 0) ||\n        (options.retries && typeof options.retries.retries === 'number' && options.retries.retries > 0)\n    ) {\n        throw Object.assign(new Error('Cannot use retries with the sync api'), { code: 'ESYNC' });\n    }\n\n    return options;\n}\n\nmodule.exports = {\n    toPromise,\n    toSync,\n    toSyncOptions,\n};\n","'use strict';\n\nconst path = require('path');\nconst fs = require('graceful-fs');\nconst retry = require('retry');\nconst onExit = require('signal-exit');\nconst mtimePrecision = require('./mtime-precision');\n\nconst locks = {};\n\nfunction getLockFile(file, options) {\n    return options.lockfilePath || `${file}.lock`;\n}\n\nfunction resolveCanonicalPath(file, options, callback) {\n    if (!options.realpath) {\n        return callback(null, path.resolve(file));\n    }\n\n    // Use realpath to resolve symlinks\n    // It also resolves relative paths\n    options.fs.realpath(file, callback);\n}\n\nfunction acquireLock(file, options, callback) {\n    const lockfilePath = getLockFile(file, options);\n\n    // Use mkdir to create the lockfile (atomic operation)\n    options.fs.mkdir(lockfilePath, (err) => {\n        if (!err) {\n            // At this point, we acquired the lock!\n            // Probe the mtime precision\n            return mtimePrecision.probe(lockfilePath, options.fs, (err, mtime, mtimePrecision) => {\n                // If it failed, try to remove the lock..\n                /* istanbul ignore if */\n                if (err) {\n                    options.fs.rmdir(lockfilePath, () => {});\n\n                    return callback(err);\n                }\n\n                callback(null, mtime, mtimePrecision);\n            });\n        }\n\n        // If error is not EEXIST then some other error occurred while locking\n        if (err.code !== 'EEXIST') {\n            return callback(err);\n        }\n\n        // Otherwise, check if lock is stale by analyzing the file mtime\n        if (options.stale <= 0) {\n            return callback(Object.assign(new Error('Lock file is already being held'), { code: 'ELOCKED', file }));\n        }\n\n        options.fs.stat(lockfilePath, (err, stat) => {\n            if (err) {\n                // Retry if the lockfile has been removed (meanwhile)\n                // Skip stale check to avoid recursiveness\n                if (err.code === 'ENOENT') {\n                    return acquireLock(file, { ...options, stale: 0 }, callback);\n                }\n\n                return callback(err);\n            }\n\n            if (!isLockStale(stat, options)) {\n                return callback(Object.assign(new Error('Lock file is already being held'), { code: 'ELOCKED', file }));\n            }\n\n            // If it's stale, remove it and try again!\n            // Skip stale check to avoid recursiveness\n            removeLock(file, options, (err) => {\n                if (err) {\n                    return callback(err);\n                }\n\n                acquireLock(file, { ...options, stale: 0 }, callback);\n            });\n        });\n    });\n}\n\nfunction isLockStale(stat, options) {\n    return stat.mtime.getTime() < Date.now() - options.stale;\n}\n\nfunction removeLock(file, options, callback) {\n    // Remove lockfile, ignoring ENOENT errors\n    options.fs.rmdir(getLockFile(file, options), (err) => {\n        if (err && err.code !== 'ENOENT') {\n            return callback(err);\n        }\n\n        callback();\n    });\n}\n\nfunction updateLock(file, options) {\n    const lock = locks[file];\n\n    // Just for safety, should never happen\n    /* istanbul ignore if */\n    if (lock.updateTimeout) {\n        return;\n    }\n\n    lock.updateDelay = lock.updateDelay || options.update;\n    lock.updateTimeout = setTimeout(() => {\n        lock.updateTimeout = null;\n\n        // Stat the file to check if mtime is still ours\n        // If it is, we can still recover from a system sleep or a busy event loop\n        options.fs.stat(lock.lockfilePath, (err, stat) => {\n            const isOverThreshold = lock.lastUpdate + options.stale < Date.now();\n\n            // If it failed to update the lockfile, keep trying unless\n            // the lockfile was deleted or we are over the threshold\n            if (err) {\n                if (err.code === 'ENOENT' || isOverThreshold) {\n                    return setLockAsCompromised(file, lock, Object.assign(err, { code: 'ECOMPROMISED' }));\n                }\n\n                lock.updateDelay = 1000;\n\n                return updateLock(file, options);\n            }\n\n            const isMtimeOurs = lock.mtime.getTime() === stat.mtime.getTime();\n\n            if (!isMtimeOurs) {\n                return setLockAsCompromised(\n                    file,\n                    lock,\n                    Object.assign(\n                        new Error('Unable to update lock within the stale threshold'),\n                        { code: 'ECOMPROMISED' }\n                    ));\n            }\n\n            const mtime = mtimePrecision.getMtime(lock.mtimePrecision);\n\n            options.fs.utimes(lock.lockfilePath, mtime, mtime, (err) => {\n                const isOverThreshold = lock.lastUpdate + options.stale < Date.now();\n\n                // Ignore if the lock was released\n                if (lock.released) {\n                    return;\n                }\n\n                // If it failed to update the lockfile, keep trying unless\n                // the lockfile was deleted or we are over the threshold\n                if (err) {\n                    if (err.code === 'ENOENT' || isOverThreshold) {\n                        return setLockAsCompromised(file, lock, Object.assign(err, { code: 'ECOMPROMISED' }));\n                    }\n\n                    lock.updateDelay = 1000;\n\n                    return updateLock(file, options);\n                }\n\n                // All ok, keep updating..\n                lock.mtime = mtime;\n                lock.lastUpdate = Date.now();\n                lock.updateDelay = null;\n                updateLock(file, options);\n            });\n        });\n    }, lock.updateDelay);\n\n    // Unref the timer so that the nodejs process can exit freely\n    // This is safe because all acquired locks will be automatically released\n    // on process exit\n\n    // We first check that `lock.updateTimeout.unref` exists because some users\n    // may be using this module outside of NodeJS (e.g., in an electron app),\n    // and in those cases `setTimeout` return an integer.\n    /* istanbul ignore else */\n    if (lock.updateTimeout.unref) {\n        lock.updateTimeout.unref();\n    }\n}\n\nfunction setLockAsCompromised(file, lock, err) {\n    // Signal the lock has been released\n    lock.released = true;\n\n    // Cancel lock mtime update\n    // Just for safety, at this point updateTimeout should be null\n    /* istanbul ignore if */\n    if (lock.updateTimeout) {\n        clearTimeout(lock.updateTimeout);\n    }\n\n    if (locks[file] === lock) {\n        delete locks[file];\n    }\n\n    lock.options.onCompromised(err);\n}\n\n// ----------------------------------------------------------\n\nfunction lock(file, options, callback) {\n    /* istanbul ignore next */\n    options = {\n        stale: 10000,\n        update: null,\n        realpath: true,\n        retries: 0,\n        fs,\n        onCompromised: (err) => { throw err; },\n        ...options,\n    };\n\n    options.retries = options.retries || 0;\n    options.retries = typeof options.retries === 'number' ? { retries: options.retries } : options.retries;\n    options.stale = Math.max(options.stale || 0, 2000);\n    options.update = options.update == null ? options.stale / 2 : options.update || 0;\n    options.update = Math.max(Math.min(options.update, options.stale / 2), 1000);\n\n    // Resolve to a canonical file path\n    resolveCanonicalPath(file, options, (err, file) => {\n        if (err) {\n            return callback(err);\n        }\n\n        // Attempt to acquire the lock\n        const operation = retry.operation(options.retries);\n\n        operation.attempt(() => {\n            acquireLock(file, options, (err, mtime, mtimePrecision) => {\n                if (operation.retry(err)) {\n                    return;\n                }\n\n                if (err) {\n                    return callback(operation.mainError());\n                }\n\n                // We now own the lock\n                const lock = locks[file] = {\n                    lockfilePath: getLockFile(file, options),\n                    mtime,\n                    mtimePrecision,\n                    options,\n                    lastUpdate: Date.now(),\n                };\n\n                // We must keep the lock fresh to avoid staleness\n                updateLock(file, options);\n\n                callback(null, (releasedCallback) => {\n                    if (lock.released) {\n                        return releasedCallback &&\n                            releasedCallback(Object.assign(new Error('Lock is already released'), { code: 'ERELEASED' }));\n                    }\n\n                    // Not necessary to use realpath twice when unlocking\n                    unlock(file, { ...options, realpath: false }, releasedCallback);\n                });\n            });\n        });\n    });\n}\n\nfunction unlock(file, options, callback) {\n    options = {\n        fs,\n        realpath: true,\n        ...options,\n    };\n\n    // Resolve to a canonical file path\n    resolveCanonicalPath(file, options, (err, file) => {\n        if (err) {\n            return callback(err);\n        }\n\n        // Skip if the lock is not acquired\n        const lock = locks[file];\n\n        if (!lock) {\n            return callback(Object.assign(new Error('Lock is not acquired/owned by you'), { code: 'ENOTACQUIRED' }));\n        }\n\n        lock.updateTimeout && clearTimeout(lock.updateTimeout); // Cancel lock mtime update\n        lock.released = true; // Signal the lock has been released\n        delete locks[file]; // Delete from locks\n\n        removeLock(file, options, callback);\n    });\n}\n\nfunction check(file, options, callback) {\n    options = {\n        stale: 10000,\n        realpath: true,\n        fs,\n        ...options,\n    };\n\n    options.stale = Math.max(options.stale || 0, 2000);\n\n    // Resolve to a canonical file path\n    resolveCanonicalPath(file, options, (err, file) => {\n        if (err) {\n            return callback(err);\n        }\n\n        // Check if lockfile exists\n        options.fs.stat(getLockFile(file, options), (err, stat) => {\n            if (err) {\n                // If does not exist, file is not locked. Otherwise, callback with error\n                return err.code === 'ENOENT' ? callback(null, false) : callback(err);\n            }\n\n            // Otherwise, check if lock is stale by analyzing the file mtime\n            return callback(null, !isLockStale(stat, options));\n        });\n    });\n}\n\nfunction getLocks() {\n    return locks;\n}\n\n// Remove acquired locks on exit\n/* istanbul ignore next */\nonExit(() => {\n    for (const file in locks) {\n        const options = locks[file].options;\n\n        try { options.fs.rmdirSync(getLockFile(file, options)); } catch (e) { /* Empty */ }\n    }\n});\n\nmodule.exports.lock = lock;\nmodule.exports.unlock = unlock;\nmodule.exports.check = check;\nmodule.exports.getLocks = getLocks;\n","'use strict';\n\nconst cacheSymbol = Symbol();\n\nfunction probe(file, fs, callback) {\n    const cachedPrecision = fs[cacheSymbol];\n\n    if (cachedPrecision) {\n        return fs.stat(file, (err, stat) => {\n            /* istanbul ignore if */\n            if (err) {\n                return callback(err);\n            }\n\n            callback(null, stat.mtime, cachedPrecision);\n        });\n    }\n\n    // Set mtime by ceiling Date.now() to seconds + 5ms so that it's \"not on the second\"\n    const mtime = new Date((Math.ceil(Date.now() / 1000) * 1000) + 5);\n\n    fs.utimes(file, mtime, mtime, (err) => {\n        /* istanbul ignore if */\n        if (err) {\n            return callback(err);\n        }\n\n        fs.stat(file, (err, stat) => {\n            /* istanbul ignore if */\n            if (err) {\n                return callback(err);\n            }\n\n            const precision = stat.mtime.getTime() % 1000 === 0 ? 's' : 'ms';\n\n            // Cache the precision in a non-enumerable way\n            Object.defineProperty(fs, cacheSymbol, { value: precision });\n\n            callback(null, stat.mtime, precision);\n        });\n    });\n}\n\nfunction getMtime(precision) {\n    let now = Date.now();\n\n    if (precision === 's') {\n        now = Math.ceil(now / 1000) * 1000;\n    }\n\n    return new Date(now);\n}\n\nmodule.exports.probe = probe;\nmodule.exports.getMtime = getMtime;\n","\nmodule.exports = ProtoList\n\nfunction setProto(obj, proto) {\n  if (typeof Object.setPrototypeOf === \"function\")\n    return Object.setPrototypeOf(obj, proto)\n  else\n    obj.__proto__ = proto\n}\n\nfunction ProtoList () {\n  this.list = []\n  var root = null\n  Object.defineProperty(this, 'root', {\n    get: function () { return root },\n    set: function (r) {\n      root = r\n      if (this.list.length) {\n        setProto(this.list[this.list.length - 1], r)\n      }\n    },\n    enumerable: true,\n    configurable: true\n  })\n}\n\nProtoList.prototype =\n  { get length () { return this.list.length }\n  , get keys () {\n      var k = []\n      for (var i in this.list[0]) k.push(i)\n      return k\n    }\n  , get snapshot () {\n      var o = {}\n      this.keys.forEach(function (k) { o[k] = this.get(k) }, this)\n      return o\n    }\n  , get store () {\n      return this.list[0]\n    }\n  , push : function (obj) {\n      if (typeof obj !== \"object\") obj = {valueOf:obj}\n      if (this.list.length >= 1) {\n        setProto(this.list[this.list.length - 1], obj)\n      }\n      setProto(obj, this.root)\n      return this.list.push(obj)\n    }\n  , pop : function () {\n      if (this.list.length >= 2) {\n        setProto(this.list[this.list.length - 2], this.root)\n      }\n      return this.list.pop()\n    }\n  , unshift : function (obj) {\n      setProto(obj, this.list[0] || this.root)\n      return this.list.unshift(obj)\n    }\n  , shift : function () {\n      if (this.list.length === 1) {\n        setProto(this.list[0], this.root)\n      }\n      return this.list.shift()\n    }\n  , get : function (key) {\n      return this.list[0][key]\n    }\n  , set : function (key, val, save) {\n      if (!this.length) this.push({})\n      if (save && this.list[0].hasOwnProperty(key)) this.push({})\n      return this.list[0][key] = val\n    }\n  , forEach : function (fn, thisp) {\n      for (var key in this.list[0]) fn.call(thisp, key, this.list[0][key])\n    }\n  , slice : function () {\n      return this.list.slice.apply(this.list, arguments)\n    }\n  , splice : function () {\n      // handle injections\n      var ret = this.list.splice.apply(this.list, arguments)\n      for (var i = 0, l = this.list.length; i < l; i++) {\n        setProto(this.list[i], this.list[i + 1] || this.root)\n      }\n      return ret\n    }\n  }\n","'use strict';\n\nvar parseUrl = require('url').parse;\n\nvar DEFAULT_PORTS = {\n  ftp: 21,\n  gopher: 70,\n  http: 80,\n  https: 443,\n  ws: 80,\n  wss: 443,\n};\n\nvar stringEndsWith = String.prototype.endsWith || function(s) {\n  return s.length <= this.length &&\n    this.indexOf(s, this.length - s.length) !== -1;\n};\n\n/**\n * @param {string|object} url - The URL, or the result from url.parse.\n * @return {string} The URL of the proxy that should handle the request to the\n *  given URL. If no proxy is set, this will be an empty string.\n */\nfunction getProxyForUrl(url) {\n  var parsedUrl = typeof url === 'string' ? parseUrl(url) : url || {};\n  var proto = parsedUrl.protocol;\n  var hostname = parsedUrl.host;\n  var port = parsedUrl.port;\n  if (typeof hostname !== 'string' || !hostname || typeof proto !== 'string') {\n    return '';  // Don't proxy URLs without a valid scheme or host.\n  }\n\n  proto = proto.split(':', 1)[0];\n  // Stripping ports in this way instead of using parsedUrl.hostname to make\n  // sure that the brackets around IPv6 addresses are kept.\n  hostname = hostname.replace(/:\\d*$/, '');\n  port = parseInt(port) || DEFAULT_PORTS[proto] || 0;\n  if (!shouldProxy(hostname, port)) {\n    return '';  // Don't proxy URLs that match NO_PROXY.\n  }\n\n  var proxy =\n    getEnv('npm_config_' + proto + '_proxy') ||\n    getEnv(proto + '_proxy') ||\n    getEnv('npm_config_proxy') ||\n    getEnv('all_proxy');\n  if (proxy && proxy.indexOf('://') === -1) {\n    // Missing scheme in proxy, default to the requested URL's scheme.\n    proxy = proto + '://' + proxy;\n  }\n  return proxy;\n}\n\n/**\n * Determines whether a given URL should be proxied.\n *\n * @param {string} hostname - The host name of the URL.\n * @param {number} port - The effective port of the URL.\n * @returns {boolean} Whether the given URL should be proxied.\n * @private\n */\nfunction shouldProxy(hostname, port) {\n  var NO_PROXY =\n    (getEnv('npm_config_no_proxy') || getEnv('no_proxy')).toLowerCase();\n  if (!NO_PROXY) {\n    return true;  // Always proxy if NO_PROXY is not set.\n  }\n  if (NO_PROXY === '*') {\n    return false;  // Never proxy if wildcard is set.\n  }\n\n  return NO_PROXY.split(/[,\\s]/).every(function(proxy) {\n    if (!proxy) {\n      return true;  // Skip zero-length hosts.\n    }\n    var parsedProxy = proxy.match(/^(.+):(\\d+)$/);\n    var parsedProxyHostname = parsedProxy ? parsedProxy[1] : proxy;\n    var parsedProxyPort = parsedProxy ? parseInt(parsedProxy[2]) : 0;\n    if (parsedProxyPort && parsedProxyPort !== port) {\n      return true;  // Skip if ports don't match.\n    }\n\n    if (!/^[.*]/.test(parsedProxyHostname)) {\n      // No wildcards, so stop proxying if there is an exact match.\n      return hostname !== parsedProxyHostname;\n    }\n\n    if (parsedProxyHostname.charAt(0) === '*') {\n      // Remove leading wildcard.\n      parsedProxyHostname = parsedProxyHostname.slice(1);\n    }\n    // Stop proxying if the hostname ends with the no_proxy host.\n    return !stringEndsWith.call(hostname, parsedProxyHostname);\n  });\n}\n\n/**\n * Get the value for an environment variable.\n *\n * @param {string} key - The name of the environment variable.\n * @return {string} The value of the environment variable.\n * @private\n */\nfunction getEnv(key) {\n  return process.env[key.toLowerCase()] || process.env[key.toUpperCase()] || '';\n}\n\nexports.getProxyForUrl = getProxyForUrl;\n","module.exports = require('./lib/retry');","var RetryOperation = require('./retry_operation');\n\nexports.operation = function(options) {\n  var timeouts = exports.timeouts(options);\n  return new RetryOperation(timeouts, {\n      forever: options && options.forever,\n      unref: options && options.unref,\n      maxRetryTime: options && options.maxRetryTime\n  });\n};\n\nexports.timeouts = function(options) {\n  if (options instanceof Array) {\n    return [].concat(options);\n  }\n\n  var opts = {\n    retries: 10,\n    factor: 2,\n    minTimeout: 1 * 1000,\n    maxTimeout: Infinity,\n    randomize: false\n  };\n  for (var key in options) {\n    opts[key] = options[key];\n  }\n\n  if (opts.minTimeout > opts.maxTimeout) {\n    throw new Error('minTimeout is greater than maxTimeout');\n  }\n\n  var timeouts = [];\n  for (var i = 0; i < opts.retries; i++) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  if (options && options.forever && !timeouts.length) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  // sort the array numerically ascending\n  timeouts.sort(function(a,b) {\n    return a - b;\n  });\n\n  return timeouts;\n};\n\nexports.createTimeout = function(attempt, opts) {\n  var random = (opts.randomize)\n    ? (Math.random() + 1)\n    : 1;\n\n  var timeout = Math.round(random * opts.minTimeout * Math.pow(opts.factor, attempt));\n  timeout = Math.min(timeout, opts.maxTimeout);\n\n  return timeout;\n};\n\nexports.wrap = function(obj, options, methods) {\n  if (options instanceof Array) {\n    methods = options;\n    options = null;\n  }\n\n  if (!methods) {\n    methods = [];\n    for (var key in obj) {\n      if (typeof obj[key] === 'function') {\n        methods.push(key);\n      }\n    }\n  }\n\n  for (var i = 0; i < methods.length; i++) {\n    var method   = methods[i];\n    var original = obj[method];\n\n    obj[method] = function retryWrapper(original) {\n      var op       = exports.operation(options);\n      var args     = Array.prototype.slice.call(arguments, 1);\n      var callback = args.pop();\n\n      args.push(function(err) {\n        if (op.retry(err)) {\n          return;\n        }\n        if (err) {\n          arguments[0] = op.mainError();\n        }\n        callback.apply(this, arguments);\n      });\n\n      op.attempt(function() {\n        original.apply(obj, args);\n      });\n    }.bind(obj, original);\n    obj[method].options = options;\n  }\n};\n","function RetryOperation(timeouts, options) {\n  // Compatibility for the old (timeouts, retryForever) signature\n  if (typeof options === 'boolean') {\n    options = { forever: options };\n  }\n\n  this._originalTimeouts = JSON.parse(JSON.stringify(timeouts));\n  this._timeouts = timeouts;\n  this._options = options || {};\n  this._maxRetryTime = options && options.maxRetryTime || Infinity;\n  this._fn = null;\n  this._errors = [];\n  this._attempts = 1;\n  this._operationTimeout = null;\n  this._operationTimeoutCb = null;\n  this._timeout = null;\n  this._operationStart = null;\n\n  if (this._options.forever) {\n    this._cachedTimeouts = this._timeouts.slice(0);\n  }\n}\nmodule.exports = RetryOperation;\n\nRetryOperation.prototype.reset = function() {\n  this._attempts = 1;\n  this._timeouts = this._originalTimeouts;\n}\n\nRetryOperation.prototype.stop = function() {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n\n  this._timeouts       = [];\n  this._cachedTimeouts = null;\n};\n\nRetryOperation.prototype.retry = function(err) {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n\n  if (!err) {\n    return false;\n  }\n  var currentTime = new Date().getTime();\n  if (err && currentTime - this._operationStart >= this._maxRetryTime) {\n    this._errors.unshift(new Error('RetryOperation timeout occurred'));\n    return false;\n  }\n\n  this._errors.push(err);\n\n  var timeout = this._timeouts.shift();\n  if (timeout === undefined) {\n    if (this._cachedTimeouts) {\n      // retry forever, only keep last error\n      this._errors.splice(this._errors.length - 1, this._errors.length);\n      this._timeouts = this._cachedTimeouts.slice(0);\n      timeout = this._timeouts.shift();\n    } else {\n      return false;\n    }\n  }\n\n  var self = this;\n  var timer = setTimeout(function() {\n    self._attempts++;\n\n    if (self._operationTimeoutCb) {\n      self._timeout = setTimeout(function() {\n        self._operationTimeoutCb(self._attempts);\n      }, self._operationTimeout);\n\n      if (self._options.unref) {\n          self._timeout.unref();\n      }\n    }\n\n    self._fn(self._attempts);\n  }, timeout);\n\n  if (this._options.unref) {\n      timer.unref();\n  }\n\n  return true;\n};\n\nRetryOperation.prototype.attempt = function(fn, timeoutOps) {\n  this._fn = fn;\n\n  if (timeoutOps) {\n    if (timeoutOps.timeout) {\n      this._operationTimeout = timeoutOps.timeout;\n    }\n    if (timeoutOps.cb) {\n      this._operationTimeoutCb = timeoutOps.cb;\n    }\n  }\n\n  var self = this;\n  if (this._operationTimeoutCb) {\n    this._timeout = setTimeout(function() {\n      self._operationTimeoutCb();\n    }, self._operationTimeout);\n  }\n\n  this._operationStart = new Date().getTime();\n\n  this._fn(this._attempts);\n};\n\nRetryOperation.prototype.try = function(fn) {\n  console.log('Using RetryOperation.try() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = function(fn) {\n  console.log('Using RetryOperation.start() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = RetryOperation.prototype.try;\n\nRetryOperation.prototype.errors = function() {\n  return this._errors;\n};\n\nRetryOperation.prototype.attempts = function() {\n  return this._attempts;\n};\n\nRetryOperation.prototype.mainError = function() {\n  if (this._errors.length === 0) {\n    return null;\n  }\n\n  var counts = {};\n  var mainError = null;\n  var mainErrorCount = 0;\n\n  for (var i = 0; i < this._errors.length; i++) {\n    var error = this._errors[i];\n    var message = error.message;\n    var count = (counts[message] || 0) + 1;\n\n    counts[message] = count;\n\n    if (count >= mainErrorCount) {\n      mainError = error;\n      mainErrorCount = count;\n    }\n  }\n\n  return mainError;\n};\n","const assert = require(\"assert\")\nconst path = require(\"path\")\nconst fs = require(\"fs\")\nlet glob = undefined\ntry {\n  glob = require(\"glob\")\n} catch (_err) {\n  // treat glob as optional.\n}\n\nconst defaultGlobOpts = {\n  nosort: true,\n  silent: true\n}\n\n// for EMFILE handling\nlet timeout = 0\n\nconst isWindows = (process.platform === \"win32\")\n\nconst defaults = options => {\n  const methods = [\n    'unlink',\n    'chmod',\n    'stat',\n    'lstat',\n    'rmdir',\n    'readdir'\n  ]\n  methods.forEach(m => {\n    options[m] = options[m] || fs[m]\n    m = m + 'Sync'\n    options[m] = options[m] || fs[m]\n  })\n\n  options.maxBusyTries = options.maxBusyTries || 3\n  options.emfileWait = options.emfileWait || 1000\n  if (options.glob === false) {\n    options.disableGlob = true\n  }\n  if (options.disableGlob !== true && glob === undefined) {\n    throw Error('glob dependency not found, set `options.disableGlob = true` if intentional')\n  }\n  options.disableGlob = options.disableGlob || false\n  options.glob = options.glob || defaultGlobOpts\n}\n\nconst rimraf = (p, options, cb) => {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert.equal(typeof cb, 'function', 'rimraf: callback function required')\n  assert(options, 'rimraf: invalid options argument provided')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  defaults(options)\n\n  let busyTries = 0\n  let errState = null\n  let n = 0\n\n  const next = (er) => {\n    errState = errState || er\n    if (--n === 0)\n      cb(errState)\n  }\n\n  const afterGlob = (er, results) => {\n    if (er)\n      return cb(er)\n\n    n = results.length\n    if (n === 0)\n      return cb()\n\n    results.forEach(p => {\n      const CB = (er) => {\n        if (er) {\n          if ((er.code === \"EBUSY\" || er.code === \"ENOTEMPTY\" || er.code === \"EPERM\") &&\n              busyTries < options.maxBusyTries) {\n            busyTries ++\n            // try again, with the same exact callback as this one.\n            return setTimeout(() => rimraf_(p, options, CB), busyTries * 100)\n          }\n\n          // this one won't happen if graceful-fs is used.\n          if (er.code === \"EMFILE\" && timeout < options.emfileWait) {\n            return setTimeout(() => rimraf_(p, options, CB), timeout ++)\n          }\n\n          // already gone\n          if (er.code === \"ENOENT\") er = null\n        }\n\n        timeout = 0\n        next(er)\n      }\n      rimraf_(p, options, CB)\n    })\n  }\n\n  if (options.disableGlob || !glob.hasMagic(p))\n    return afterGlob(null, [p])\n\n  options.lstat(p, (er, stat) => {\n    if (!er)\n      return afterGlob(null, [p])\n\n    glob(p, options.glob, afterGlob)\n  })\n\n}\n\n// Two possible strategies.\n// 1. Assume it's a file.  unlink it, then do the dir stuff on EPERM or EISDIR\n// 2. Assume it's a directory.  readdir, then do the file stuff on ENOTDIR\n//\n// Both result in an extra syscall when you guess wrong.  However, there\n// are likely far more normal files in the world than directories.  This\n// is based on the assumption that a the average number of files per\n// directory is >= 1.\n//\n// If anyone ever complains about this, then I guess the strategy could\n// be made configurable somehow.  But until then, YAGNI.\nconst rimraf_ = (p, options, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // sunos lets the root user unlink directories, which is... weird.\n  // so we have to lstat here and make sure it's not a dir.\n  options.lstat(p, (er, st) => {\n    if (er && er.code === \"ENOENT\")\n      return cb(null)\n\n    // Windows can EPERM on stat.  Life is suffering.\n    if (er && er.code === \"EPERM\" && isWindows)\n      fixWinEPERM(p, options, er, cb)\n\n    if (st && st.isDirectory())\n      return rmdir(p, options, er, cb)\n\n    options.unlink(p, er => {\n      if (er) {\n        if (er.code === \"ENOENT\")\n          return cb(null)\n        if (er.code === \"EPERM\")\n          return (isWindows)\n            ? fixWinEPERM(p, options, er, cb)\n            : rmdir(p, options, er, cb)\n        if (er.code === \"EISDIR\")\n          return rmdir(p, options, er, cb)\n      }\n      return cb(er)\n    })\n  })\n}\n\nconst fixWinEPERM = (p, options, er, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.chmod(p, 0o666, er2 => {\n    if (er2)\n      cb(er2.code === \"ENOENT\" ? null : er)\n    else\n      options.stat(p, (er3, stats) => {\n        if (er3)\n          cb(er3.code === \"ENOENT\" ? null : er)\n        else if (stats.isDirectory())\n          rmdir(p, options, er, cb)\n        else\n          options.unlink(p, cb)\n      })\n  })\n}\n\nconst fixWinEPERMSync = (p, options, er) => {\n  assert(p)\n  assert(options)\n\n  try {\n    options.chmodSync(p, 0o666)\n  } catch (er2) {\n    if (er2.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  let stats\n  try {\n    stats = options.statSync(p)\n  } catch (er3) {\n    if (er3.code === \"ENOENT\")\n      return\n    else\n      throw er\n  }\n\n  if (stats.isDirectory())\n    rmdirSync(p, options, er)\n  else\n    options.unlinkSync(p)\n}\n\nconst rmdir = (p, options, originalEr, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  // try to rmdir first, and only readdir on ENOTEMPTY or EEXIST (SunOS)\n  // if we guessed wrong, and it's not a directory, then\n  // raise the original error.\n  options.rmdir(p, er => {\n    if (er && (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\"))\n      rmkids(p, options, cb)\n    else if (er && er.code === \"ENOTDIR\")\n      cb(originalEr)\n    else\n      cb(er)\n  })\n}\n\nconst rmkids = (p, options, cb) => {\n  assert(p)\n  assert(options)\n  assert(typeof cb === 'function')\n\n  options.readdir(p, (er, files) => {\n    if (er)\n      return cb(er)\n    let n = files.length\n    if (n === 0)\n      return options.rmdir(p, cb)\n    let errState\n    files.forEach(f => {\n      rimraf(path.join(p, f), options, er => {\n        if (errState)\n          return\n        if (er)\n          return cb(errState = er)\n        if (--n === 0)\n          options.rmdir(p, cb)\n      })\n    })\n  })\n}\n\n// this looks simpler, and is strictly *faster*, but will\n// tie up the JavaScript thread and fail on excessively\n// deep directory trees.\nconst rimrafSync = (p, options) => {\n  options = options || {}\n  defaults(options)\n\n  assert(p, 'rimraf: missing path')\n  assert.equal(typeof p, 'string', 'rimraf: path should be a string')\n  assert(options, 'rimraf: missing options')\n  assert.equal(typeof options, 'object', 'rimraf: options should be object')\n\n  let results\n\n  if (options.disableGlob || !glob.hasMagic(p)) {\n    results = [p]\n  } else {\n    try {\n      options.lstatSync(p)\n      results = [p]\n    } catch (er) {\n      results = glob.sync(p, options.glob)\n    }\n  }\n\n  if (!results.length)\n    return\n\n  for (let i = 0; i < results.length; i++) {\n    const p = results[i]\n\n    let st\n    try {\n      st = options.lstatSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n\n      // Windows can EPERM on stat.  Life is suffering.\n      if (er.code === \"EPERM\" && isWindows)\n        fixWinEPERMSync(p, options, er)\n    }\n\n    try {\n      // sunos lets the root user unlink directories, which is... weird.\n      if (st && st.isDirectory())\n        rmdirSync(p, options, null)\n      else\n        options.unlinkSync(p)\n    } catch (er) {\n      if (er.code === \"ENOENT\")\n        return\n      if (er.code === \"EPERM\")\n        return isWindows ? fixWinEPERMSync(p, options, er) : rmdirSync(p, options, er)\n      if (er.code !== \"EISDIR\")\n        throw er\n\n      rmdirSync(p, options, er)\n    }\n  }\n}\n\nconst rmdirSync = (p, options, originalEr) => {\n  assert(p)\n  assert(options)\n\n  try {\n    options.rmdirSync(p)\n  } catch (er) {\n    if (er.code === \"ENOENT\")\n      return\n    if (er.code === \"ENOTDIR\")\n      throw originalEr\n    if (er.code === \"ENOTEMPTY\" || er.code === \"EEXIST\" || er.code === \"EPERM\")\n      rmkidsSync(p, options)\n  }\n}\n\nconst rmkidsSync = (p, options) => {\n  assert(p)\n  assert(options)\n  options.readdirSync(p).forEach(f => rimrafSync(path.join(p, f), options))\n\n  // We only end up here once we got ENOTEMPTY at least once, and\n  // at this point, we are guaranteed to have removed all the kids.\n  // So, we know that it won't be ENOENT or ENOTDIR or anything else.\n  // try really hard to delete stuff on windows, because it has a\n  // PROFOUNDLY annoying habit of not closing handles promptly when\n  // files are deleted, resulting in spurious ENOTEMPTY errors.\n  const retries = isWindows ? 100 : 1\n  let i = 0\n  do {\n    let threw = true\n    try {\n      const ret = options.rmdirSync(p, options)\n      threw = false\n      return ret\n    } finally {\n      if (++i < retries && threw)\n        continue\n    }\n  } while (true)\n}\n\nmodule.exports = rimraf\nrimraf.sync = rimrafSync\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","const SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const match = `-${identifier}`.match(this.options.loose ? re[t.PRERELEASELOOSE] : re[t.PRERELEASE])\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(options.includePrerelease ? re[t.COERCEFULL] : re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    // With includePrerelease option set, '1.2.3.4-rc' wants to coerce '2.3.4-rc', not '2.3.4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    const coerceRtlRegex = options.includePrerelease ? re[t.COERCERTLFULL] : re[t.COERCERTL]\n    let next\n    while ((next = coerceRtlRegex.exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      coerceRtlRegex.lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    coerceRtlRegex.lastIndex = -1\n  }\n\n  if (match === null) {\n    return null\n  }\n\n  const major = match[2]\n  const minor = match[3] || '0'\n  const patch = match[4] || '0'\n  const prerelease = options.includePrerelease && match[5] ? `-${match[5]}` : ''\n  const build = options.includePrerelease && match[6] ? `+${match[6]}` : ''\n\n  return parse(`${major}.${minor}.${patch}${prerelease}${build}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse.js')\n\nconst diff = (version1, version2) => {\n  const v1 = parse(version1, null, true)\n  const v2 = parse(version2, null, true)\n  const comparison = v1.compare(v2)\n\n  if (comparison === 0) {\n    return null\n  }\n\n  const v1Higher = comparison > 0\n  const highVersion = v1Higher ? v1 : v2\n  const lowVersion = v1Higher ? v2 : v1\n  const highHasPre = !!highVersion.prerelease.length\n  const lowHasPre = !!lowVersion.prerelease.length\n\n  if (lowHasPre && !highHasPre) {\n    // Going from prerelease -> no prerelease requires some special casing\n\n    // If the low version has only a major, then it will always be a major\n    // Some examples:\n    // 1.0.0-1 -> 1.0.0\n    // 1.0.0-1 -> 1.1.1\n    // 1.0.0-1 -> 2.0.0\n    if (!lowVersion.patch && !lowVersion.minor) {\n      return 'major'\n    }\n\n    // If the main part has no difference\n    if (lowVersion.compareMain(highVersion) === 0) {\n      if (lowVersion.minor && !lowVersion.patch) {\n        return 'minor'\n      }\n      return 'patch'\n    }\n  }\n\n  // add the `pre` prefix if we are going to a prerelease version\n  const prefix = highHasPre ? 'pre' : ''\n\n  if (v1.major !== v2.major) {\n    return prefix + 'major'\n  }\n\n  if (v1.minor !== v2.minor) {\n    return prefix + 'minor'\n  }\n\n  if (v1.patch !== v2.patch) {\n    return prefix + 'patch'\n  }\n\n  // high and low are preleases\n  return 'prerelease'\n}\n\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier, identifierBase) => {\n  if (typeof (options) === 'string') {\n    identifierBase = identifier\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(\n      version instanceof SemVer ? version.version : version,\n      options\n    ).inc(release, identifier, identifierBase).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nconst constants = require('./internal/constants')\nconst SemVer = require('./classes/semver')\nconst identifiers = require('./internal/identifiers')\nconst parse = require('./functions/parse')\nconst valid = require('./functions/valid')\nconst clean = require('./functions/clean')\nconst inc = require('./functions/inc')\nconst diff = require('./functions/diff')\nconst major = require('./functions/major')\nconst minor = require('./functions/minor')\nconst patch = require('./functions/patch')\nconst prerelease = require('./functions/prerelease')\nconst compare = require('./functions/compare')\nconst rcompare = require('./functions/rcompare')\nconst compareLoose = require('./functions/compare-loose')\nconst compareBuild = require('./functions/compare-build')\nconst sort = require('./functions/sort')\nconst rsort = require('./functions/rsort')\nconst gt = require('./functions/gt')\nconst lt = require('./functions/lt')\nconst eq = require('./functions/eq')\nconst neq = require('./functions/neq')\nconst gte = require('./functions/gte')\nconst lte = require('./functions/lte')\nconst cmp = require('./functions/cmp')\nconst coerce = require('./functions/coerce')\nconst Comparator = require('./classes/comparator')\nconst Range = require('./classes/range')\nconst satisfies = require('./functions/satisfies')\nconst toComparators = require('./ranges/to-comparators')\nconst maxSatisfying = require('./ranges/max-satisfying')\nconst minSatisfying = require('./ranges/min-satisfying')\nconst minVersion = require('./ranges/min-version')\nconst validRange = require('./ranges/valid')\nconst outside = require('./ranges/outside')\nconst gtr = require('./ranges/gtr')\nconst ltr = require('./ranges/ltr')\nconst intersects = require('./ranges/intersects')\nconst simplifyRange = require('./ranges/simplify')\nconst subset = require('./ranges/subset')\nmodule.exports = {\n  parse,\n  valid,\n  clean,\n  inc,\n  diff,\n  major,\n  minor,\n  patch,\n  prerelease,\n  compare,\n  rcompare,\n  compareLoose,\n  compareBuild,\n  sort,\n  rsort,\n  gt,\n  lt,\n  eq,\n  neq,\n  gte,\n  lte,\n  cmp,\n  coerce,\n  Comparator,\n  Range,\n  satisfies,\n  toComparators,\n  maxSatisfying,\n  minSatisfying,\n  minVersion,\n  validRange,\n  outside,\n  gtr,\n  ltr,\n  intersects,\n  simplifyRange,\n  subset,\n  SemVer,\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: constants.SEMVER_SPEC_VERSION,\n  RELEASE_TYPES: constants.RELEASE_TYPES,\n  compareIdentifiers: identifiers.compareIdentifiers,\n  rcompareIdentifiers: identifiers.rcompareIdentifiers,\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","class LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n","// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","const {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2, options)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin))) {\n      minver = setMin\n    }\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst { ANY } = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let first = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!first) {\n        first = version\n      }\n    } else {\n      if (prev) {\n        set.push([first, prev])\n      }\n      prev = null\n      first = null\n    }\n  }\n  if (first) {\n    set.push([first, null])\n  }\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max) {\n      ranges.push(min)\n    } else if (!max && min === v[0]) {\n      ranges.push('*')\n    } else if (!max) {\n      ranges.push(`>=${min}`)\n    } else if (min === v[0]) {\n      ranges.push(`<=${max}`)\n    } else {\n      ranges.push(`${min} - ${max}`)\n    }\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom) {\n    return true\n  }\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub) {\n        continue OUTER\n      }\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull) {\n      return false\n    }\n  }\n  return true\n}\n\nconst minimumVersionWithPreRelease = [new Comparator('>=0.0.0-0')]\nconst minimumVersion = [new Comparator('>=0.0.0')]\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom) {\n    return true\n  }\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY) {\n      return true\n    } else if (options.includePrerelease) {\n      sub = minimumVersionWithPreRelease\n    } else {\n      sub = minimumVersion\n    }\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease) {\n      return true\n    } else {\n      dom = minimumVersion\n    }\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=') {\n      gt = higherGT(gt, c, options)\n    } else if (c.operator === '<' || c.operator === '<=') {\n      lt = lowerLT(lt, c, options)\n    } else {\n      eqSet.add(c.semver)\n    }\n  }\n\n  if (eqSet.size > 1) {\n    return null\n  }\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0) {\n      return null\n    } else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<=')) {\n      return null\n    }\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options)) {\n      return null\n    }\n\n    if (lt && !satisfies(eq, String(lt), options)) {\n      return null\n    }\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options)) {\n        return false\n      }\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt) {\n          return false\n        }\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt) {\n          return false\n        }\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options)) {\n        return false\n      }\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0) {\n      return false\n    }\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0) {\n    return false\n  }\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0) {\n    return false\n  }\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre) {\n    return false\n  }\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a) {\n    return b\n  }\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","module.exports = [\n  'cat',\n  'cd',\n  'chmod',\n  'cp',\n  'dirs',\n  'echo',\n  'exec',\n  'find',\n  'grep',\n  'head',\n  'ln',\n  'ls',\n  'mkdir',\n  'mv',\n  'pwd',\n  'rm',\n  'sed',\n  'set',\n  'sort',\n  'tail',\n  'tempdir',\n  'test',\n  'to',\n  'toEnd',\n  'touch',\n  'uniq',\n  'which',\n];\n","//\n// ShellJS\n// Unix shell commands on top of Node's API\n//\n// Copyright (c) 2012 Artur Adib\n// http://github.com/shelljs/shelljs\n//\n\nvar common = require('./src/common');\n\n//@\n//@ All commands run synchronously, unless otherwise stated.\n//@ All commands accept standard bash globbing characters (`*`, `?`, etc.),\n//@ compatible with the [node `glob` module](https://github.com/isaacs/node-glob).\n//@\n//@ For less-commonly used commands and features, please check out our [wiki\n//@ page](https://github.com/shelljs/shelljs/wiki).\n//@\n\n// Include the docs for all the default commands\n//@commands\n\n// Load all default commands\nrequire('./commands').forEach(function (command) {\n  require('./src/' + command);\n});\n\n//@\n//@ ### exit(code)\n//@\n//@ Exits the current process with the given exit `code`.\nexports.exit = process.exit;\n\n//@include ./src/error\nexports.error = require('./src/error');\n\n//@include ./src/common\nexports.ShellString = common.ShellString;\n\n//@\n//@ ### env['VAR_NAME']\n//@\n//@ Object containing environment variables (both getter and setter). Shortcut\n//@ to `process.env`.\nexports.env = process.env;\n\n//@\n//@ ### Pipes\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ grep('foo', 'file1.txt', 'file2.txt').sed(/o/g, 'a').to('output.txt');\n//@ echo('files with o\\'s in the name:\\n' + ls().grep('o'));\n//@ cat('test.js').exec('node'); // pipe to exec() call\n//@ ```\n//@\n//@ Commands can send their output to another command in a pipe-like fashion.\n//@ `sed`, `grep`, `cat`, `exec`, `to`, and `toEnd` can appear on the right-hand\n//@ side of a pipe. Pipes can be chained.\n\n//@\n//@ ## Configuration\n//@\n\nexports.config = common.config;\n\n//@\n//@ ### config.silent\n//@\n//@ Example:\n//@\n//@ ```javascript\n//@ var sh = require('shelljs');\n//@ var silentState = sh.config.silent; // save old silent state\n//@ sh.config.silent = true;\n//@ /* ... */\n//@ sh.config.silent = silentState; // restore old silent state\n//@ ```\n//@\n//@ Suppresses all command output if `true`, except for `echo()` calls.\n//@ Default is `false`.\n\n//@\n//@ ### config.fatal\n//@\n//@ Example:\n//@\n//@ ```javascript\n//@ require('shelljs/global');\n//@ config.fatal = true; // or set('-e');\n//@ cp('this_file_does_not_exist', '/dev/null'); // throws Error here\n//@ /* more commands... */\n//@ ```\n//@\n//@ If `true`, the script will throw a Javascript error when any shell.js\n//@ command encounters an error. Default is `false`. This is analogous to\n//@ Bash's `set -e`.\n\n//@\n//@ ### config.verbose\n//@\n//@ Example:\n//@\n//@ ```javascript\n//@ config.verbose = true; // or set('-v');\n//@ cd('dir/');\n//@ rm('-rf', 'foo.txt', 'bar.txt');\n//@ exec('echo hello');\n//@ ```\n//@\n//@ Will print each command as follows:\n//@\n//@ ```\n//@ cd dir/\n//@ rm -rf foo.txt bar.txt\n//@ exec echo hello\n//@ ```\n\n//@\n//@ ### config.globOptions\n//@\n//@ Example:\n//@\n//@ ```javascript\n//@ config.globOptions = {nodir: true};\n//@ ```\n//@\n//@ Use this value for calls to `glob.sync()` instead of the default options.\n\n//@\n//@ ### config.reset()\n//@\n//@ Example:\n//@\n//@ ```javascript\n//@ var shell = require('shelljs');\n//@ // Make changes to shell.config, and do stuff...\n//@ /* ... */\n//@ shell.config.reset(); // reset to original state\n//@ // Do more stuff, but with original settings\n//@ /* ... */\n//@ ```\n//@\n//@ Reset `shell.config` to the defaults:\n//@\n//@ ```javascript\n//@ {\n//@   fatal: false,\n//@   globOptions: {},\n//@   maxdepth: 255,\n//@   noglob: false,\n//@   silent: false,\n//@   verbose: false,\n//@ }\n//@ ```\n","var common = require('./common');\nvar fs = require('fs');\n\ncommon.register('cat', _cat, {\n  canReceivePipe: true,\n  cmdOptions: {\n    'n': 'number',\n  },\n});\n\n//@\n//@ ### cat([options,] file [, file ...])\n//@ ### cat([options,] file_array)\n//@\n//@ Available options:\n//@\n//@ + `-n`: number all output lines\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ var str = cat('file*.txt');\n//@ var str = cat('file1', 'file2');\n//@ var str = cat(['file1', 'file2']); // same as above\n//@ ```\n//@\n//@ Returns a string containing the given file, or a concatenated string\n//@ containing the files if more than one file is given (a new line character is\n//@ introduced between each file).\nfunction _cat(options, files) {\n  var cat = common.readFromPipe();\n\n  if (!files && !cat) common.error('no paths given');\n\n  files = [].slice.call(arguments, 1);\n\n  files.forEach(function (file) {\n    if (!fs.existsSync(file)) {\n      common.error('no such file or directory: ' + file);\n    } else if (common.statFollowLinks(file).isDirectory()) {\n      common.error(file + ': Is a directory');\n    }\n\n    cat += fs.readFileSync(file, 'utf8');\n  });\n\n  if (options.number) {\n    cat = addNumbers(cat);\n  }\n\n  return cat;\n}\nmodule.exports = _cat;\n\nfunction addNumbers(cat) {\n  var lines = cat.split('\\n');\n  var lastLine = lines.pop();\n\n  lines = lines.map(function (line, i) {\n    return numberedLine(i + 1, line);\n  });\n\n  if (lastLine.length) {\n    lastLine = numberedLine(lines.length + 1, lastLine);\n  }\n  lines.push(lastLine);\n\n  return lines.join('\\n');\n}\n\nfunction numberedLine(n, line) {\n  // GNU cat use six pad start number + tab. See http://lingrok.org/xref/coreutils/src/cat.c#57\n  // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/padStart\n  var number = ('     ' + n).slice(-6) + '\\t';\n  return number + line;\n}\n","var os = require('os');\nvar common = require('./common');\n\ncommon.register('cd', _cd, {});\n\n//@\n//@ ### cd([dir])\n//@\n//@ Changes to directory `dir` for the duration of the script. Changes to home\n//@ directory if no argument is supplied.\nfunction _cd(options, dir) {\n  if (!dir) dir = os.homedir();\n\n  if (dir === '-') {\n    if (!process.env.OLDPWD) {\n      common.error('could not find previous directory');\n    } else {\n      dir = process.env.OLDPWD;\n    }\n  }\n\n  try {\n    var curDir = process.cwd();\n    process.chdir(dir);\n    process.env.OLDPWD = curDir;\n  } catch (e) {\n    // something went wrong, let's figure out the error\n    var err;\n    try {\n      common.statFollowLinks(dir); // if this succeeds, it must be some sort of file\n      err = 'not a directory: ' + dir;\n    } catch (e2) {\n      err = 'no such file or directory: ' + dir;\n    }\n    if (err) common.error(err);\n  }\n  return '';\n}\nmodule.exports = _cd;\n","var common = require('./common');\nvar fs = require('fs');\nvar path = require('path');\n\nvar PERMS = (function (base) {\n  return {\n    OTHER_EXEC: base.EXEC,\n    OTHER_WRITE: base.WRITE,\n    OTHER_READ: base.READ,\n\n    GROUP_EXEC: base.EXEC << 3,\n    GROUP_WRITE: base.WRITE << 3,\n    GROUP_READ: base.READ << 3,\n\n    OWNER_EXEC: base.EXEC << 6,\n    OWNER_WRITE: base.WRITE << 6,\n    OWNER_READ: base.READ << 6,\n\n    // Literal octal numbers are apparently not allowed in \"strict\" javascript.\n    STICKY: parseInt('01000', 8),\n    SETGID: parseInt('02000', 8),\n    SETUID: parseInt('04000', 8),\n\n    TYPE_MASK: parseInt('0770000', 8),\n  };\n}({\n  EXEC: 1,\n  WRITE: 2,\n  READ: 4,\n}));\n\ncommon.register('chmod', _chmod, {\n});\n\n//@\n//@ ### chmod([options,] octal_mode || octal_string, file)\n//@ ### chmod([options,] symbolic_mode, file)\n//@\n//@ Available options:\n//@\n//@ + `-v`: output a diagnostic for every file processed//@\n//@ + `-c`: like verbose, but report only when a change is made//@\n//@ + `-R`: change files and directories recursively//@\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ chmod(755, '/Users/brandon');\n//@ chmod('755', '/Users/brandon'); // same as above\n//@ chmod('u+x', '/Users/brandon');\n//@ chmod('-R', 'a-w', '/Users/brandon');\n//@ ```\n//@\n//@ Alters the permissions of a file or directory by either specifying the\n//@ absolute permissions in octal form or expressing the changes in symbols.\n//@ This command tries to mimic the POSIX behavior as much as possible.\n//@ Notable exceptions:\n//@\n//@ + In symbolic modes, `a-r` and `-r` are identical.  No consideration is\n//@   given to the `umask`.\n//@ + There is no \"quiet\" option, since default behavior is to run silent.\nfunction _chmod(options, mode, filePattern) {\n  if (!filePattern) {\n    if (options.length > 0 && options.charAt(0) === '-') {\n      // Special case where the specified file permissions started with - to subtract perms, which\n      // get picked up by the option parser as command flags.\n      // If we are down by one argument and options starts with -, shift everything over.\n      [].unshift.call(arguments, '');\n    } else {\n      common.error('You must specify a file.');\n    }\n  }\n\n  options = common.parseOptions(options, {\n    'R': 'recursive',\n    'c': 'changes',\n    'v': 'verbose',\n  });\n\n  filePattern = [].slice.call(arguments, 2);\n\n  var files;\n\n  // TODO: replace this with a call to common.expand()\n  if (options.recursive) {\n    files = [];\n    filePattern.forEach(function addFile(expandedFile) {\n      var stat = common.statNoFollowLinks(expandedFile);\n\n      if (!stat.isSymbolicLink()) {\n        files.push(expandedFile);\n\n        if (stat.isDirectory()) {  // intentionally does not follow symlinks.\n          fs.readdirSync(expandedFile).forEach(function (child) {\n            addFile(expandedFile + '/' + child);\n          });\n        }\n      }\n    });\n  } else {\n    files = filePattern;\n  }\n\n  files.forEach(function innerChmod(file) {\n    file = path.resolve(file);\n    if (!fs.existsSync(file)) {\n      common.error('File not found: ' + file);\n    }\n\n    // When recursing, don't follow symlinks.\n    if (options.recursive && common.statNoFollowLinks(file).isSymbolicLink()) {\n      return;\n    }\n\n    var stat = common.statFollowLinks(file);\n    var isDir = stat.isDirectory();\n    var perms = stat.mode;\n    var type = perms & PERMS.TYPE_MASK;\n\n    var newPerms = perms;\n\n    if (isNaN(parseInt(mode, 8))) {\n      // parse options\n      mode.split(',').forEach(function (symbolicMode) {\n        var pattern = /([ugoa]*)([=\\+-])([rwxXst]*)/i;\n        var matches = pattern.exec(symbolicMode);\n\n        if (matches) {\n          var applyTo = matches[1];\n          var operator = matches[2];\n          var change = matches[3];\n\n          var changeOwner = applyTo.indexOf('u') !== -1 || applyTo === 'a' || applyTo === '';\n          var changeGroup = applyTo.indexOf('g') !== -1 || applyTo === 'a' || applyTo === '';\n          var changeOther = applyTo.indexOf('o') !== -1 || applyTo === 'a' || applyTo === '';\n\n          var changeRead = change.indexOf('r') !== -1;\n          var changeWrite = change.indexOf('w') !== -1;\n          var changeExec = change.indexOf('x') !== -1;\n          var changeExecDir = change.indexOf('X') !== -1;\n          var changeSticky = change.indexOf('t') !== -1;\n          var changeSetuid = change.indexOf('s') !== -1;\n\n          if (changeExecDir && isDir) {\n            changeExec = true;\n          }\n\n          var mask = 0;\n          if (changeOwner) {\n            mask |= (changeRead ? PERMS.OWNER_READ : 0) + (changeWrite ? PERMS.OWNER_WRITE : 0) + (changeExec ? PERMS.OWNER_EXEC : 0) + (changeSetuid ? PERMS.SETUID : 0);\n          }\n          if (changeGroup) {\n            mask |= (changeRead ? PERMS.GROUP_READ : 0) + (changeWrite ? PERMS.GROUP_WRITE : 0) + (changeExec ? PERMS.GROUP_EXEC : 0) + (changeSetuid ? PERMS.SETGID : 0);\n          }\n          if (changeOther) {\n            mask |= (changeRead ? PERMS.OTHER_READ : 0) + (changeWrite ? PERMS.OTHER_WRITE : 0) + (changeExec ? PERMS.OTHER_EXEC : 0);\n          }\n\n          // Sticky bit is special - it's not tied to user, group or other.\n          if (changeSticky) {\n            mask |= PERMS.STICKY;\n          }\n\n          switch (operator) {\n            case '+':\n              newPerms |= mask;\n              break;\n\n            case '-':\n              newPerms &= ~mask;\n              break;\n\n            case '=':\n              newPerms = type + mask;\n\n              // According to POSIX, when using = to explicitly set the\n              // permissions, setuid and setgid can never be cleared.\n              if (common.statFollowLinks(file).isDirectory()) {\n                newPerms |= (PERMS.SETUID + PERMS.SETGID) & perms;\n              }\n              break;\n            default:\n              common.error('Could not recognize operator: `' + operator + '`');\n          }\n\n          if (options.verbose) {\n            console.log(file + ' -> ' + newPerms.toString(8));\n          }\n\n          if (perms !== newPerms) {\n            if (!options.verbose && options.changes) {\n              console.log(file + ' -> ' + newPerms.toString(8));\n            }\n            fs.chmodSync(file, newPerms);\n            perms = newPerms; // for the next round of changes!\n          }\n        } else {\n          common.error('Invalid symbolic mode change: ' + symbolicMode);\n        }\n      });\n    } else {\n      // they gave us a full number\n      newPerms = type + parseInt(mode, 8);\n\n      // POSIX rules are that setuid and setgid can only be added using numeric\n      // form, but not cleared.\n      if (common.statFollowLinks(file).isDirectory()) {\n        newPerms |= (PERMS.SETUID + PERMS.SETGID) & perms;\n      }\n\n      fs.chmodSync(file, newPerms);\n    }\n  });\n  return '';\n}\nmodule.exports = _chmod;\n","// Ignore warning about 'new String()'\n/* eslint no-new-wrappers: 0 */\n'use strict';\n\nvar os = require('os');\nvar fs = require('fs');\nvar glob = require('glob');\nvar shell = require('..');\n\nvar shellMethods = Object.create(shell);\n\nexports.extend = Object.assign;\n\n// Check if we're running under electron\nvar isElectron = Boolean(process.versions.electron);\n\n// Module globals (assume no execPath by default)\nvar DEFAULT_CONFIG = {\n  fatal: false,\n  globOptions: {},\n  maxdepth: 255,\n  noglob: false,\n  silent: false,\n  verbose: false,\n  execPath: null,\n  bufLength: 64 * 1024, // 64KB\n};\n\nvar config = {\n  reset: function () {\n    Object.assign(this, DEFAULT_CONFIG);\n    if (!isElectron) {\n      this.execPath = process.execPath;\n    }\n  },\n  resetForTesting: function () {\n    this.reset();\n    this.silent = true;\n  },\n};\n\nconfig.reset();\nexports.config = config;\n\n// Note: commands should generally consider these as read-only values.\nvar state = {\n  error: null,\n  errorCode: 0,\n  currentCmd: 'shell.js',\n};\nexports.state = state;\n\ndelete process.env.OLDPWD; // initially, there's no previous directory\n\n// Reliably test if something is any sort of javascript object\nfunction isObject(a) {\n  return typeof a === 'object' && a !== null;\n}\nexports.isObject = isObject;\n\nfunction log() {\n  /* istanbul ignore next */\n  if (!config.silent) {\n    console.error.apply(console, arguments);\n  }\n}\nexports.log = log;\n\n// Converts strings to be equivalent across all platforms. Primarily responsible\n// for making sure we use '/' instead of '\\' as path separators, but this may be\n// expanded in the future if necessary\nfunction convertErrorOutput(msg) {\n  if (typeof msg !== 'string') {\n    throw new TypeError('input must be a string');\n  }\n  return msg.replace(/\\\\/g, '/');\n}\nexports.convertErrorOutput = convertErrorOutput;\n\n// Shows error message. Throws if config.fatal is true\nfunction error(msg, _code, options) {\n  // Validate input\n  if (typeof msg !== 'string') throw new Error('msg must be a string');\n\n  var DEFAULT_OPTIONS = {\n    continue: false,\n    code: 1,\n    prefix: state.currentCmd + ': ',\n    silent: false,\n  };\n\n  if (typeof _code === 'number' && isObject(options)) {\n    options.code = _code;\n  } else if (isObject(_code)) { // no 'code'\n    options = _code;\n  } else if (typeof _code === 'number') { // no 'options'\n    options = { code: _code };\n  } else if (typeof _code !== 'number') { // only 'msg'\n    options = {};\n  }\n  options = Object.assign({}, DEFAULT_OPTIONS, options);\n\n  if (!state.errorCode) state.errorCode = options.code;\n\n  var logEntry = convertErrorOutput(options.prefix + msg);\n  state.error = state.error ? state.error + '\\n' : '';\n  state.error += logEntry;\n\n  // Throw an error, or log the entry\n  if (config.fatal) throw new Error(logEntry);\n  if (msg.length > 0 && !options.silent) log(logEntry);\n\n  if (!options.continue) {\n    throw {\n      msg: 'earlyExit',\n      retValue: (new ShellString('', state.error, state.errorCode)),\n    };\n  }\n}\nexports.error = error;\n\n//@\n//@ ### ShellString(str)\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ var foo = ShellString('hello world');\n//@ ```\n//@\n//@ Turns a regular string into a string-like object similar to what each\n//@ command returns. This has special methods, like `.to()` and `.toEnd()`.\nfunction ShellString(stdout, stderr, code) {\n  var that;\n  if (stdout instanceof Array) {\n    that = stdout;\n    that.stdout = stdout.join('\\n');\n    if (stdout.length > 0) that.stdout += '\\n';\n  } else {\n    that = new String(stdout);\n    that.stdout = stdout;\n  }\n  that.stderr = stderr;\n  that.code = code;\n  // A list of all commands that can appear on the right-hand side of a pipe\n  // (populated by calls to common.wrap())\n  pipeMethods.forEach(function (cmd) {\n    that[cmd] = shellMethods[cmd].bind(that);\n  });\n  return that;\n}\n\nexports.ShellString = ShellString;\n\n// Returns {'alice': true, 'bob': false} when passed a string and dictionary as follows:\n//   parseOptions('-a', {'a':'alice', 'b':'bob'});\n// Returns {'reference': 'string-value', 'bob': false} when passed two dictionaries of the form:\n//   parseOptions({'-r': 'string-value'}, {'r':'reference', 'b':'bob'});\n// Throws an error when passed a string that does not start with '-':\n//   parseOptions('a', {'a':'alice'}); // throws\nfunction parseOptions(opt, map, errorOptions) {\n  // Validate input\n  if (typeof opt !== 'string' && !isObject(opt)) {\n    throw new Error('options must be strings or key-value pairs');\n  } else if (!isObject(map)) {\n    throw new Error('parseOptions() internal error: map must be an object');\n  } else if (errorOptions && !isObject(errorOptions)) {\n    throw new Error('parseOptions() internal error: errorOptions must be object');\n  }\n\n  if (opt === '--') {\n    // This means there are no options.\n    return {};\n  }\n\n  // All options are false by default\n  var options = {};\n  Object.keys(map).forEach(function (letter) {\n    var optName = map[letter];\n    if (optName[0] !== '!') {\n      options[optName] = false;\n    }\n  });\n\n  if (opt === '') return options; // defaults\n\n  if (typeof opt === 'string') {\n    if (opt[0] !== '-') {\n      throw new Error(\"Options string must start with a '-'\");\n    }\n\n    // e.g. chars = ['R', 'f']\n    var chars = opt.slice(1).split('');\n\n    chars.forEach(function (c) {\n      if (c in map) {\n        var optionName = map[c];\n        if (optionName[0] === '!') {\n          options[optionName.slice(1)] = false;\n        } else {\n          options[optionName] = true;\n        }\n      } else {\n        error('option not recognized: ' + c, errorOptions || {});\n      }\n    });\n  } else { // opt is an Object\n    Object.keys(opt).forEach(function (key) {\n      // key is a string of the form '-r', '-d', etc.\n      var c = key[1];\n      if (c in map) {\n        var optionName = map[c];\n        options[optionName] = opt[key]; // assign the given value\n      } else {\n        error('option not recognized: ' + c, errorOptions || {});\n      }\n    });\n  }\n  return options;\n}\nexports.parseOptions = parseOptions;\n\n// Expands wildcards with matching (ie. existing) file names.\n// For example:\n//   expand(['file*.js']) = ['file1.js', 'file2.js', ...]\n//   (if the files 'file1.js', 'file2.js', etc, exist in the current dir)\nfunction expand(list) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('must be an array');\n  }\n  var expanded = [];\n  list.forEach(function (listEl) {\n    // Don't expand non-strings\n    if (typeof listEl !== 'string') {\n      expanded.push(listEl);\n    } else {\n      var ret;\n      try {\n        ret = glob.sync(listEl, config.globOptions);\n        // if nothing matched, interpret the string literally\n        ret = ret.length > 0 ? ret : [listEl];\n      } catch (e) {\n        // if glob fails, interpret the string literally\n        ret = [listEl];\n      }\n      expanded = expanded.concat(ret);\n    }\n  });\n  return expanded;\n}\nexports.expand = expand;\n\n// Normalizes Buffer creation, using Buffer.alloc if possible.\n// Also provides a good default buffer length for most use cases.\nvar buffer = typeof Buffer.alloc === 'function' ?\n  function (len) {\n    return Buffer.alloc(len || config.bufLength);\n  } :\n  function (len) {\n    return new Buffer(len || config.bufLength);\n  };\nexports.buffer = buffer;\n\n// Normalizes _unlinkSync() across platforms to match Unix behavior, i.e.\n// file can be unlinked even if it's read-only, see https://github.com/joyent/node/issues/3006\nfunction unlinkSync(file) {\n  try {\n    fs.unlinkSync(file);\n  } catch (e) {\n    // Try to override file permission\n    /* istanbul ignore next */\n    if (e.code === 'EPERM') {\n      fs.chmodSync(file, '0666');\n      fs.unlinkSync(file);\n    } else {\n      throw e;\n    }\n  }\n}\nexports.unlinkSync = unlinkSync;\n\n// wrappers around common.statFollowLinks and common.statNoFollowLinks that clarify intent\n// and improve readability\nfunction statFollowLinks() {\n  return fs.statSync.apply(fs, arguments);\n}\nexports.statFollowLinks = statFollowLinks;\n\nfunction statNoFollowLinks() {\n  return fs.lstatSync.apply(fs, arguments);\n}\nexports.statNoFollowLinks = statNoFollowLinks;\n\n// e.g. 'shelljs_a5f185d0443ca...'\nfunction randomFileName() {\n  function randomHash(count) {\n    if (count === 1) {\n      return parseInt(16 * Math.random(), 10).toString(16);\n    }\n    var hash = '';\n    for (var i = 0; i < count; i++) {\n      hash += randomHash(1);\n    }\n    return hash;\n  }\n\n  return 'shelljs_' + randomHash(20);\n}\nexports.randomFileName = randomFileName;\n\n// Common wrapper for all Unix-like commands that performs glob expansion,\n// command-logging, and other nice things\nfunction wrap(cmd, fn, options) {\n  options = options || {};\n  return function () {\n    var retValue = null;\n\n    state.currentCmd = cmd;\n    state.error = null;\n    state.errorCode = 0;\n\n    try {\n      var args = [].slice.call(arguments, 0);\n\n      // Log the command to stderr, if appropriate\n      if (config.verbose) {\n        console.error.apply(console, [cmd].concat(args));\n      }\n\n      // If this is coming from a pipe, let's set the pipedValue (otherwise, set\n      // it to the empty string)\n      state.pipedValue = (this && typeof this.stdout === 'string') ? this.stdout : '';\n\n      if (options.unix === false) { // this branch is for exec()\n        retValue = fn.apply(this, args);\n      } else { // and this branch is for everything else\n        if (isObject(args[0]) && args[0].constructor.name === 'Object') {\n          // a no-op, allowing the syntax `touch({'-r': file}, ...)`\n        } else if (args.length === 0 || typeof args[0] !== 'string' || args[0].length <= 1 || args[0][0] !== '-') {\n          args.unshift(''); // only add dummy option if '-option' not already present\n        }\n\n        // flatten out arrays that are arguments, to make the syntax:\n        //    `cp([file1, file2, file3], dest);`\n        // equivalent to:\n        //    `cp(file1, file2, file3, dest);`\n        args = args.reduce(function (accum, cur) {\n          if (Array.isArray(cur)) {\n            return accum.concat(cur);\n          }\n          accum.push(cur);\n          return accum;\n        }, []);\n\n        // Convert ShellStrings (basically just String objects) to regular strings\n        args = args.map(function (arg) {\n          if (isObject(arg) && arg.constructor.name === 'String') {\n            return arg.toString();\n          }\n          return arg;\n        });\n\n        // Expand the '~' if appropriate\n        var homeDir = os.homedir();\n        args = args.map(function (arg) {\n          if (typeof arg === 'string' && arg.slice(0, 2) === '~/' || arg === '~') {\n            return arg.replace(/^~/, homeDir);\n          }\n          return arg;\n        });\n\n        // Perform glob-expansion on all arguments after globStart, but preserve\n        // the arguments before it (like regexes for sed and grep)\n        if (!config.noglob && options.allowGlobbing === true) {\n          args = args.slice(0, options.globStart).concat(expand(args.slice(options.globStart)));\n        }\n\n        try {\n          // parse options if options are provided\n          if (isObject(options.cmdOptions)) {\n            args[0] = parseOptions(args[0], options.cmdOptions);\n          }\n\n          retValue = fn.apply(this, args);\n        } catch (e) {\n          /* istanbul ignore else */\n          if (e.msg === 'earlyExit') {\n            retValue = e.retValue;\n          } else {\n            throw e; // this is probably a bug that should be thrown up the call stack\n          }\n        }\n      }\n    } catch (e) {\n      /* istanbul ignore next */\n      if (!state.error) {\n        // If state.error hasn't been set it's an error thrown by Node, not us - probably a bug...\n        e.name = 'ShellJSInternalError';\n        throw e;\n      }\n      if (config.fatal) throw e;\n    }\n\n    if (options.wrapOutput &&\n        (typeof retValue === 'string' || Array.isArray(retValue))) {\n      retValue = new ShellString(retValue, state.error, state.errorCode);\n    }\n\n    state.currentCmd = 'shell.js';\n    return retValue;\n  };\n} // wrap\nexports.wrap = wrap;\n\n// This returns all the input that is piped into the current command (or the\n// empty string, if this isn't on the right-hand side of a pipe\nfunction _readFromPipe() {\n  return state.pipedValue;\n}\nexports.readFromPipe = _readFromPipe;\n\nvar DEFAULT_WRAP_OPTIONS = {\n  allowGlobbing: true,\n  canReceivePipe: false,\n  cmdOptions: null,\n  globStart: 1,\n  pipeOnly: false,\n  wrapOutput: true,\n  unix: true,\n};\n\n// This is populated during plugin registration\nvar pipeMethods = [];\n\n// Register a new ShellJS command\nfunction _register(name, implementation, wrapOptions) {\n  wrapOptions = wrapOptions || {};\n\n  // Validate options\n  Object.keys(wrapOptions).forEach(function (option) {\n    if (!DEFAULT_WRAP_OPTIONS.hasOwnProperty(option)) {\n      throw new Error(\"Unknown option '\" + option + \"'\");\n    }\n    if (typeof wrapOptions[option] !== typeof DEFAULT_WRAP_OPTIONS[option]) {\n      throw new TypeError(\"Unsupported type '\" + typeof wrapOptions[option] +\n        \"' for option '\" + option + \"'\");\n    }\n  });\n\n  // If an option isn't specified, use the default\n  wrapOptions = Object.assign({}, DEFAULT_WRAP_OPTIONS, wrapOptions);\n\n  if (shell.hasOwnProperty(name)) {\n    throw new Error('Command `' + name + '` already exists');\n  }\n\n  if (wrapOptions.pipeOnly) {\n    wrapOptions.canReceivePipe = true;\n    shellMethods[name] = wrap(name, implementation, wrapOptions);\n  } else {\n    shell[name] = wrap(name, implementation, wrapOptions);\n  }\n\n  if (wrapOptions.canReceivePipe) {\n    pipeMethods.push(name);\n  }\n}\nexports.register = _register;\n","var fs = require('fs');\nvar path = require('path');\nvar common = require('./common');\n\ncommon.register('cp', _cp, {\n  cmdOptions: {\n    'f': '!no_force',\n    'n': 'no_force',\n    'u': 'update',\n    'R': 'recursive',\n    'r': 'recursive',\n    'L': 'followsymlink',\n    'P': 'noFollowsymlink',\n  },\n  wrapOutput: false,\n});\n\n// Buffered file copy, synchronous\n// (Using readFileSync() + writeFileSync() could easily cause a memory overflow\n//  with large files)\nfunction copyFileSync(srcFile, destFile, options) {\n  if (!fs.existsSync(srcFile)) {\n    common.error('copyFileSync: no such file or directory: ' + srcFile);\n  }\n\n  var isWindows = process.platform === 'win32';\n\n  // Check the mtimes of the files if the '-u' flag is provided\n  try {\n    if (options.update && common.statFollowLinks(srcFile).mtime < fs.statSync(destFile).mtime) {\n      return;\n    }\n  } catch (e) {\n    // If we're here, destFile probably doesn't exist, so just do a normal copy\n  }\n\n  if (common.statNoFollowLinks(srcFile).isSymbolicLink() && !options.followsymlink) {\n    try {\n      common.statNoFollowLinks(destFile);\n      common.unlinkSync(destFile); // re-link it\n    } catch (e) {\n      // it doesn't exist, so no work needs to be done\n    }\n\n    var symlinkFull = fs.readlinkSync(srcFile);\n    fs.symlinkSync(symlinkFull, destFile, isWindows ? 'junction' : null);\n  } else {\n    var buf = common.buffer();\n    var bufLength = buf.length;\n    var bytesRead = bufLength;\n    var pos = 0;\n    var fdr = null;\n    var fdw = null;\n\n    try {\n      fdr = fs.openSync(srcFile, 'r');\n    } catch (e) {\n      /* istanbul ignore next */\n      common.error('copyFileSync: could not read src file (' + srcFile + ')');\n    }\n\n    try {\n      fdw = fs.openSync(destFile, 'w');\n    } catch (e) {\n      /* istanbul ignore next */\n      common.error('copyFileSync: could not write to dest file (code=' + e.code + '):' + destFile);\n    }\n\n    while (bytesRead === bufLength) {\n      bytesRead = fs.readSync(fdr, buf, 0, bufLength, pos);\n      fs.writeSync(fdw, buf, 0, bytesRead);\n      pos += bytesRead;\n    }\n\n    fs.closeSync(fdr);\n    fs.closeSync(fdw);\n\n    fs.chmodSync(destFile, common.statFollowLinks(srcFile).mode);\n  }\n}\n\n// Recursively copies 'sourceDir' into 'destDir'\n// Adapted from https://github.com/ryanmcgrath/wrench-js\n//\n// Copyright (c) 2010 Ryan McGrath\n// Copyright (c) 2012 Artur Adib\n//\n// Licensed under the MIT License\n// http://www.opensource.org/licenses/mit-license.php\nfunction cpdirSyncRecursive(sourceDir, destDir, currentDepth, opts) {\n  if (!opts) opts = {};\n\n  // Ensure there is not a run away recursive copy\n  if (currentDepth >= common.config.maxdepth) return;\n  currentDepth++;\n\n  var isWindows = process.platform === 'win32';\n\n  // Create the directory where all our junk is moving to; read the mode of the\n  // source directory and mirror it\n  try {\n    fs.mkdirSync(destDir);\n  } catch (e) {\n    // if the directory already exists, that's okay\n    if (e.code !== 'EEXIST') throw e;\n  }\n\n  var files = fs.readdirSync(sourceDir);\n\n  for (var i = 0; i < files.length; i++) {\n    var srcFile = sourceDir + '/' + files[i];\n    var destFile = destDir + '/' + files[i];\n    var srcFileStat = common.statNoFollowLinks(srcFile);\n\n    var symlinkFull;\n    if (opts.followsymlink) {\n      if (cpcheckcycle(sourceDir, srcFile)) {\n        // Cycle link found.\n        console.error('Cycle link found.');\n        symlinkFull = fs.readlinkSync(srcFile);\n        fs.symlinkSync(symlinkFull, destFile, isWindows ? 'junction' : null);\n        continue;\n      }\n    }\n    if (srcFileStat.isDirectory()) {\n      /* recursion this thing right on back. */\n      cpdirSyncRecursive(srcFile, destFile, currentDepth, opts);\n    } else if (srcFileStat.isSymbolicLink() && !opts.followsymlink) {\n      symlinkFull = fs.readlinkSync(srcFile);\n      try {\n        common.statNoFollowLinks(destFile);\n        common.unlinkSync(destFile); // re-link it\n      } catch (e) {\n        // it doesn't exist, so no work needs to be done\n      }\n      fs.symlinkSync(symlinkFull, destFile, isWindows ? 'junction' : null);\n    } else if (srcFileStat.isSymbolicLink() && opts.followsymlink) {\n      srcFileStat = common.statFollowLinks(srcFile);\n      if (srcFileStat.isDirectory()) {\n        cpdirSyncRecursive(srcFile, destFile, currentDepth, opts);\n      } else {\n        copyFileSync(srcFile, destFile, opts);\n      }\n    } else {\n      /* At this point, we've hit a file actually worth copying... so copy it on over. */\n      if (fs.existsSync(destFile) && opts.no_force) {\n        common.log('skipping existing file: ' + files[i]);\n      } else {\n        copyFileSync(srcFile, destFile, opts);\n      }\n    }\n  } // for files\n\n  // finally change the mode for the newly created directory (otherwise, we\n  // couldn't add files to a read-only directory).\n  var checkDir = common.statFollowLinks(sourceDir);\n  fs.chmodSync(destDir, checkDir.mode);\n} // cpdirSyncRecursive\n\n// Checks if cureent file was created recently\nfunction checkRecentCreated(sources, index) {\n  var lookedSource = sources[index];\n  return sources.slice(0, index).some(function (src) {\n    return path.basename(src) === path.basename(lookedSource);\n  });\n}\n\nfunction cpcheckcycle(sourceDir, srcFile) {\n  var srcFileStat = common.statNoFollowLinks(srcFile);\n  if (srcFileStat.isSymbolicLink()) {\n    // Do cycle check. For example:\n    //   $ mkdir -p 1/2/3/4\n    //   $ cd  1/2/3/4\n    //   $ ln -s ../../3 link\n    //   $ cd ../../../..\n    //   $ cp -RL 1 copy\n    var cyclecheck = common.statFollowLinks(srcFile);\n    if (cyclecheck.isDirectory()) {\n      var sourcerealpath = fs.realpathSync(sourceDir);\n      var symlinkrealpath = fs.realpathSync(srcFile);\n      var re = new RegExp(symlinkrealpath);\n      if (re.test(sourcerealpath)) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n//@\n//@ ### cp([options,] source [, source ...], dest)\n//@ ### cp([options,] source_array, dest)\n//@\n//@ Available options:\n//@\n//@ + `-f`: force (default behavior)\n//@ + `-n`: no-clobber\n//@ + `-u`: only copy if `source` is newer than `dest`\n//@ + `-r`, `-R`: recursive\n//@ + `-L`: follow symlinks\n//@ + `-P`: don't follow symlinks\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ cp('file1', 'dir1');\n//@ cp('-R', 'path/to/dir/', '~/newCopy/');\n//@ cp('-Rf', '/tmp/*', '/usr/local/*', '/home/tmp');\n//@ cp('-Rf', ['/tmp/*', '/usr/local/*'], '/home/tmp'); // same as above\n//@ ```\n//@\n//@ Copies files.\nfunction _cp(options, sources, dest) {\n  // If we're missing -R, it actually implies -L (unless -P is explicit)\n  if (options.followsymlink) {\n    options.noFollowsymlink = false;\n  }\n  if (!options.recursive && !options.noFollowsymlink) {\n    options.followsymlink = true;\n  }\n\n  // Get sources, dest\n  if (arguments.length < 3) {\n    common.error('missing <source> and/or <dest>');\n  } else {\n    sources = [].slice.call(arguments, 1, arguments.length - 1);\n    dest = arguments[arguments.length - 1];\n  }\n\n  var destExists = fs.existsSync(dest);\n  var destStat = destExists && common.statFollowLinks(dest);\n\n  // Dest is not existing dir, but multiple sources given\n  if ((!destExists || !destStat.isDirectory()) && sources.length > 1) {\n    common.error('dest is not a directory (too many sources)');\n  }\n\n  // Dest is an existing file, but -n is given\n  if (destExists && destStat.isFile() && options.no_force) {\n    return new common.ShellString('', '', 0);\n  }\n\n  sources.forEach(function (src, srcIndex) {\n    if (!fs.existsSync(src)) {\n      if (src === '') src = \"''\"; // if src was empty string, display empty string\n      common.error('no such file or directory: ' + src, { continue: true });\n      return; // skip file\n    }\n    var srcStat = common.statFollowLinks(src);\n    if (!options.noFollowsymlink && srcStat.isDirectory()) {\n      if (!options.recursive) {\n        // Non-Recursive\n        common.error(\"omitting directory '\" + src + \"'\", { continue: true });\n      } else {\n        // Recursive\n        // 'cp /a/source dest' should create 'source' in 'dest'\n        var newDest = (destStat && destStat.isDirectory()) ?\n            path.join(dest, path.basename(src)) :\n            dest;\n\n        try {\n          common.statFollowLinks(path.dirname(dest));\n          cpdirSyncRecursive(src, newDest, 0, { no_force: options.no_force, followsymlink: options.followsymlink });\n        } catch (e) {\n          /* istanbul ignore next */\n          common.error(\"cannot create directory '\" + dest + \"': No such file or directory\");\n        }\n      }\n    } else {\n      // If here, src is a file\n\n      // When copying to '/path/dir':\n      //    thisDest = '/path/dir/file1'\n      var thisDest = dest;\n      if (destStat && destStat.isDirectory()) {\n        thisDest = path.normalize(dest + '/' + path.basename(src));\n      }\n\n      var thisDestExists = fs.existsSync(thisDest);\n      if (thisDestExists && checkRecentCreated(sources, srcIndex)) {\n        // cannot overwrite file created recently in current execution, but we want to continue copying other files\n        if (!options.no_force) {\n          common.error(\"will not overwrite just-created '\" + thisDest + \"' with '\" + src + \"'\", { continue: true });\n        }\n        return;\n      }\n\n      if (thisDestExists && options.no_force) {\n        return; // skip file\n      }\n\n      if (path.relative(src, thisDest) === '') {\n        // a file cannot be copied to itself, but we want to continue copying other files\n        common.error(\"'\" + thisDest + \"' and '\" + src + \"' are the same file\", { continue: true });\n        return;\n      }\n\n      copyFileSync(src, thisDest, options);\n    }\n  }); // forEach(src)\n\n  return new common.ShellString('', common.state.error, common.state.errorCode);\n}\nmodule.exports = _cp;\n","var common = require('./common');\nvar _cd = require('./cd');\nvar path = require('path');\n\ncommon.register('dirs', _dirs, {\n  wrapOutput: false,\n});\ncommon.register('pushd', _pushd, {\n  wrapOutput: false,\n});\ncommon.register('popd', _popd, {\n  wrapOutput: false,\n});\n\n// Pushd/popd/dirs internals\nvar _dirStack = [];\n\nfunction _isStackIndex(index) {\n  return (/^[\\-+]\\d+$/).test(index);\n}\n\nfunction _parseStackIndex(index) {\n  if (_isStackIndex(index)) {\n    if (Math.abs(index) < _dirStack.length + 1) { // +1 for pwd\n      return (/^-/).test(index) ? Number(index) - 1 : Number(index);\n    }\n    common.error(index + ': directory stack index out of range');\n  } else {\n    common.error(index + ': invalid number');\n  }\n}\n\nfunction _actualDirStack() {\n  return [process.cwd()].concat(_dirStack);\n}\n\n//@\n//@ ### pushd([options,] [dir | '-N' | '+N'])\n//@\n//@ Available options:\n//@\n//@ + `-n`: Suppresses the normal change of directory when adding directories to the stack, so that only the stack is manipulated.\n//@ + `-q`: Supresses output to the console.\n//@\n//@ Arguments:\n//@\n//@ + `dir`: Sets the current working directory to the top of the stack, then executes the equivalent of `cd dir`.\n//@ + `+N`: Brings the Nth directory (counting from the left of the list printed by dirs, starting with zero) to the top of the list by rotating the stack.\n//@ + `-N`: Brings the Nth directory (counting from the right of the list printed by dirs, starting with zero) to the top of the list by rotating the stack.\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ // process.cwd() === '/usr'\n//@ pushd('/etc'); // Returns /etc /usr\n//@ pushd('+1');   // Returns /usr /etc\n//@ ```\n//@\n//@ Save the current directory on the top of the directory stack and then `cd` to `dir`. With no arguments, `pushd` exchanges the top two directories. Returns an array of paths in the stack.\nfunction _pushd(options, dir) {\n  if (_isStackIndex(options)) {\n    dir = options;\n    options = '';\n  }\n\n  options = common.parseOptions(options, {\n    'n': 'no-cd',\n    'q': 'quiet',\n  });\n\n  var dirs = _actualDirStack();\n\n  if (dir === '+0') {\n    return dirs; // +0 is a noop\n  } else if (!dir) {\n    if (dirs.length > 1) {\n      dirs = dirs.splice(1, 1).concat(dirs);\n    } else {\n      return common.error('no other directory');\n    }\n  } else if (_isStackIndex(dir)) {\n    var n = _parseStackIndex(dir);\n    dirs = dirs.slice(n).concat(dirs.slice(0, n));\n  } else {\n    if (options['no-cd']) {\n      dirs.splice(1, 0, dir);\n    } else {\n      dirs.unshift(dir);\n    }\n  }\n\n  if (options['no-cd']) {\n    dirs = dirs.slice(1);\n  } else {\n    dir = path.resolve(dirs.shift());\n    _cd('', dir);\n  }\n\n  _dirStack = dirs;\n  return _dirs(options.quiet ? '-q' : '');\n}\nexports.pushd = _pushd;\n\n//@\n//@\n//@ ### popd([options,] ['-N' | '+N'])\n//@\n//@ Available options:\n//@\n//@ + `-n`: Suppress the normal directory change when removing directories from the stack, so that only the stack is manipulated.\n//@ + `-q`: Supresses output to the console.\n//@\n//@ Arguments:\n//@\n//@ + `+N`: Removes the Nth directory (counting from the left of the list printed by dirs), starting with zero.\n//@ + `-N`: Removes the Nth directory (counting from the right of the list printed by dirs), starting with zero.\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ echo(process.cwd()); // '/usr'\n//@ pushd('/etc');       // '/etc /usr'\n//@ echo(process.cwd()); // '/etc'\n//@ popd();              // '/usr'\n//@ echo(process.cwd()); // '/usr'\n//@ ```\n//@\n//@ When no arguments are given, `popd` removes the top directory from the stack and performs a `cd` to the new top directory. The elements are numbered from 0, starting at the first directory listed with dirs (i.e., `popd` is equivalent to `popd +0`). Returns an array of paths in the stack.\nfunction _popd(options, index) {\n  if (_isStackIndex(options)) {\n    index = options;\n    options = '';\n  }\n\n  options = common.parseOptions(options, {\n    'n': 'no-cd',\n    'q': 'quiet',\n  });\n\n  if (!_dirStack.length) {\n    return common.error('directory stack empty');\n  }\n\n  index = _parseStackIndex(index || '+0');\n\n  if (options['no-cd'] || index > 0 || _dirStack.length + index === 0) {\n    index = index > 0 ? index - 1 : index;\n    _dirStack.splice(index, 1);\n  } else {\n    var dir = path.resolve(_dirStack.shift());\n    _cd('', dir);\n  }\n\n  return _dirs(options.quiet ? '-q' : '');\n}\nexports.popd = _popd;\n\n//@\n//@\n//@ ### dirs([options | '+N' | '-N'])\n//@\n//@ Available options:\n//@\n//@ + `-c`: Clears the directory stack by deleting all of the elements.\n//@ + `-q`: Supresses output to the console.\n//@\n//@ Arguments:\n//@\n//@ + `+N`: Displays the Nth directory (counting from the left of the list printed by dirs when invoked without options), starting with zero.\n//@ + `-N`: Displays the Nth directory (counting from the right of the list printed by dirs when invoked without options), starting with zero.\n//@\n//@ Display the list of currently remembered directories. Returns an array of paths in the stack, or a single path if `+N` or `-N` was specified.\n//@\n//@ See also: `pushd`, `popd`\nfunction _dirs(options, index) {\n  if (_isStackIndex(options)) {\n    index = options;\n    options = '';\n  }\n\n  options = common.parseOptions(options, {\n    'c': 'clear',\n    'q': 'quiet',\n  });\n\n  if (options.clear) {\n    _dirStack = [];\n    return _dirStack;\n  }\n\n  var stack = _actualDirStack();\n\n  if (index) {\n    index = _parseStackIndex(index);\n\n    if (index < 0) {\n      index = stack.length + index;\n    }\n\n    if (!options.quiet) {\n      common.log(stack[index]);\n    }\n    return stack[index];\n  }\n\n  if (!options.quiet) {\n    common.log(stack.join(' '));\n  }\n\n  return stack;\n}\nexports.dirs = _dirs;\n","var format = require('util').format;\n\nvar common = require('./common');\n\ncommon.register('echo', _echo, {\n  allowGlobbing: false,\n});\n\n//@\n//@ ### echo([options,] string [, string ...])\n//@\n//@ Available options:\n//@\n//@ + `-e`: interpret backslash escapes (default)\n//@ + `-n`: remove trailing newline from output\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ echo('hello world');\n//@ var str = echo('hello world');\n//@ echo('-n', 'no newline at end');\n//@ ```\n//@\n//@ Prints `string` to stdout, and returns string with additional utility methods\n//@ like `.to()`.\nfunction _echo(opts) {\n  // allow strings starting with '-', see issue #20\n  var messages = [].slice.call(arguments, opts ? 0 : 1);\n  var options = {};\n\n  // If the first argument starts with '-', parse it as options string.\n  // If parseOptions throws, it wasn't an options string.\n  try {\n    options = common.parseOptions(messages[0], {\n      'e': 'escapes',\n      'n': 'no_newline',\n    }, {\n      silent: true,\n    });\n\n    // Allow null to be echoed\n    if (messages[0]) {\n      messages.shift();\n    }\n  } catch (_) {\n    // Clear out error if an error occurred\n    common.state.error = null;\n  }\n\n  var output = format.apply(null, messages);\n\n  // Add newline if -n is not passed.\n  if (!options.no_newline) {\n    output += '\\n';\n  }\n\n  process.stdout.write(output);\n\n  return output;\n}\n\nmodule.exports = _echo;\n","var common = require('./common');\n\n//@\n//@ ### error()\n//@\n//@ Tests if error occurred in the last command. Returns a truthy value if an\n//@ error returned, or a falsy value otherwise.\n//@\n//@ **Note**: do not rely on the\n//@ return value to be an error message. If you need the last error message, use\n//@ the `.stderr` attribute from the last command's return value instead.\nfunction error() {\n  return common.state.error;\n}\nmodule.exports = error;\n","if (require.main !== module) {\n  throw new Error('This file should not be required');\n}\n\nvar childProcess = require('child_process');\nvar fs = require('fs');\n\nvar paramFilePath = process.argv[2];\n\nvar serializedParams = fs.readFileSync(paramFilePath, 'utf8');\nvar params = JSON.parse(serializedParams);\n\nvar cmd = params.command;\nvar execOptions = params.execOptions;\nvar pipe = params.pipe;\nvar stdoutFile = params.stdoutFile;\nvar stderrFile = params.stderrFile;\n\nvar c = childProcess.exec(cmd, execOptions, function (err) {\n  if (!err) {\n    process.exitCode = 0;\n  } else if (err.code === undefined) {\n    process.exitCode = 1;\n  } else {\n    process.exitCode = err.code;\n  }\n});\n\nvar stdoutStream = fs.createWriteStream(stdoutFile);\nvar stderrStream = fs.createWriteStream(stderrFile);\n\nc.stdout.pipe(stdoutStream);\nc.stderr.pipe(stderrStream);\nc.stdout.pipe(process.stdout);\nc.stderr.pipe(process.stderr);\n\nif (pipe) {\n  c.stdin.end(pipe);\n}\n","var common = require('./common');\nvar _tempDir = require('./tempdir').tempDir;\nvar _pwd = require('./pwd');\nvar path = require('path');\nvar fs = require('fs');\nvar child = require('child_process');\n\nvar DEFAULT_MAXBUFFER_SIZE = 20 * 1024 * 1024;\nvar DEFAULT_ERROR_CODE = 1;\n\ncommon.register('exec', _exec, {\n  unix: false,\n  canReceivePipe: true,\n  wrapOutput: false,\n});\n\n// We use this function to run `exec` synchronously while also providing realtime\n// output.\nfunction execSync(cmd, opts, pipe) {\n  if (!common.config.execPath) {\n    common.error('Unable to find a path to the node binary. Please manually set config.execPath');\n  }\n\n  var tempDir = _tempDir();\n  var paramsFile = path.resolve(tempDir + '/' + common.randomFileName());\n  var stderrFile = path.resolve(tempDir + '/' + common.randomFileName());\n  var stdoutFile = path.resolve(tempDir + '/' + common.randomFileName());\n\n  opts = common.extend({\n    silent: common.config.silent,\n    cwd: _pwd().toString(),\n    env: process.env,\n    maxBuffer: DEFAULT_MAXBUFFER_SIZE,\n    encoding: 'utf8',\n  }, opts);\n\n  if (fs.existsSync(paramsFile)) common.unlinkSync(paramsFile);\n  if (fs.existsSync(stderrFile)) common.unlinkSync(stderrFile);\n  if (fs.existsSync(stdoutFile)) common.unlinkSync(stdoutFile);\n\n  opts.cwd = path.resolve(opts.cwd);\n\n  var paramsToSerialize = {\n    command: cmd,\n    execOptions: opts,\n    pipe: pipe,\n    stdoutFile: stdoutFile,\n    stderrFile: stderrFile,\n  };\n\n  // Create the files and ensure these are locked down (for read and write) to\n  // the current user. The main concerns here are:\n  //\n  // * If we execute a command which prints sensitive output, then\n  //   stdoutFile/stderrFile must not be readable by other users.\n  // * paramsFile must not be readable by other users, or else they can read it\n  //   to figure out the path for stdoutFile/stderrFile and create these first\n  //   (locked down to their own access), which will crash exec() when it tries\n  //   to write to the files.\n  function writeFileLockedDown(filePath, data) {\n    fs.writeFileSync(filePath, data, {\n      encoding: 'utf8',\n      mode: parseInt('600', 8),\n    });\n  }\n  writeFileLockedDown(stdoutFile, '');\n  writeFileLockedDown(stderrFile, '');\n  writeFileLockedDown(paramsFile, JSON.stringify(paramsToSerialize));\n\n  var execArgs = [\n    path.join(__dirname, 'exec-child.js'),\n    paramsFile,\n  ];\n\n  /* istanbul ignore else */\n  if (opts.silent) {\n    opts.stdio = 'ignore';\n  } else {\n    opts.stdio = [0, 1, 2];\n  }\n\n  var code = 0;\n\n  // Welcome to the future\n  try {\n    // Bad things if we pass in a `shell` option to child_process.execFileSync,\n    // so we need to explicitly remove it here.\n    delete opts.shell;\n\n    child.execFileSync(common.config.execPath, execArgs, opts);\n  } catch (e) {\n    // Commands with non-zero exit code raise an exception.\n    code = e.status || DEFAULT_ERROR_CODE;\n  }\n\n  // fs.readFileSync uses buffer encoding by default, so call\n  // it without the encoding option if the encoding is 'buffer'.\n  // Also, if the exec timeout is too short for node to start up,\n  // the files will not be created, so these calls will throw.\n  var stdout = '';\n  var stderr = '';\n  if (opts.encoding === 'buffer') {\n    stdout = fs.readFileSync(stdoutFile);\n    stderr = fs.readFileSync(stderrFile);\n  } else {\n    stdout = fs.readFileSync(stdoutFile, opts.encoding);\n    stderr = fs.readFileSync(stderrFile, opts.encoding);\n  }\n\n  // No biggie if we can't erase the files now -- they're in a temp dir anyway\n  // and we locked down permissions (see the note above).\n  try { common.unlinkSync(paramsFile); } catch (e) {}\n  try { common.unlinkSync(stderrFile); } catch (e) {}\n  try { common.unlinkSync(stdoutFile); } catch (e) {}\n\n  if (code !== 0) {\n    // Note: `silent` should be unconditionally true to avoid double-printing\n    // the command's stderr, and to avoid printing any stderr when the user has\n    // set `shell.config.silent`.\n    common.error(stderr, code, { continue: true, silent: true });\n  }\n  var obj = common.ShellString(stdout, stderr, code);\n  return obj;\n} // execSync()\n\n// Wrapper around exec() to enable echoing output to console in real time\nfunction execAsync(cmd, opts, pipe, callback) {\n  opts = common.extend({\n    silent: common.config.silent,\n    cwd: _pwd().toString(),\n    env: process.env,\n    maxBuffer: DEFAULT_MAXBUFFER_SIZE,\n    encoding: 'utf8',\n  }, opts);\n\n  var c = child.exec(cmd, opts, function (err, stdout, stderr) {\n    if (callback) {\n      if (!err) {\n        callback(0, stdout, stderr);\n      } else if (err.code === undefined) {\n        // See issue #536\n        /* istanbul ignore next */\n        callback(1, stdout, stderr);\n      } else {\n        callback(err.code, stdout, stderr);\n      }\n    }\n  });\n\n  if (pipe) c.stdin.end(pipe);\n\n  if (!opts.silent) {\n    c.stdout.pipe(process.stdout);\n    c.stderr.pipe(process.stderr);\n  }\n\n  return c;\n}\n\n//@\n//@ ### exec(command [, options] [, callback])\n//@\n//@ Available options:\n//@\n//@ + `async`: Asynchronous execution. If a callback is provided, it will be set to\n//@   `true`, regardless of the passed value (default: `false`).\n//@ + `silent`: Do not echo program output to console (default: `false`).\n//@ + `encoding`: Character encoding to use. Affects the values returned to stdout and stderr, and\n//@   what is written to stdout and stderr when not in silent mode (default: `'utf8'`).\n//@ + and any option available to Node.js's\n//@   [`child_process.exec()`](https://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback)\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ var version = exec('node --version', {silent:true}).stdout;\n//@\n//@ var child = exec('some_long_running_process', {async:true});\n//@ child.stdout.on('data', function(data) {\n//@   /* ... do something with data ... */\n//@ });\n//@\n//@ exec('some_long_running_process', function(code, stdout, stderr) {\n//@   console.log('Exit code:', code);\n//@   console.log('Program output:', stdout);\n//@   console.log('Program stderr:', stderr);\n//@ });\n//@ ```\n//@\n//@ Executes the given `command` _synchronously_, unless otherwise specified.  When in synchronous\n//@ mode, this returns a `ShellString` (compatible with ShellJS v0.6.x, which returns an object\n//@ of the form `{ code:..., stdout:... , stderr:... }`). Otherwise, this returns the child process\n//@ object, and the `callback` receives the arguments `(code, stdout, stderr)`.\n//@\n//@ Not seeing the behavior you want? `exec()` runs everything through `sh`\n//@ by default (or `cmd.exe` on Windows), which differs from `bash`. If you\n//@ need bash-specific behavior, try out the `{shell: 'path/to/bash'}` option.\nfunction _exec(command, options, callback) {\n  options = options || {};\n  if (!command) common.error('must specify command');\n\n  var pipe = common.readFromPipe();\n\n  // Callback is defined instead of options.\n  if (typeof options === 'function') {\n    callback = options;\n    options = { async: true };\n  }\n\n  // Callback is defined with options.\n  if (typeof options === 'object' && typeof callback === 'function') {\n    options.async = true;\n  }\n\n  options = common.extend({\n    silent: common.config.silent,\n    async: false,\n  }, options);\n\n  if (options.async) {\n    return execAsync(command, options, pipe, callback);\n  } else {\n    return execSync(command, options, pipe);\n  }\n}\nmodule.exports = _exec;\n","var path = require('path');\nvar common = require('./common');\nvar _ls = require('./ls');\n\ncommon.register('find', _find, {});\n\n//@\n//@ ### find(path [, path ...])\n//@ ### find(path_array)\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ find('src', 'lib');\n//@ find(['src', 'lib']); // same as above\n//@ find('.').filter(function(file) { return file.match(/\\.js$/); });\n//@ ```\n//@\n//@ Returns array of all files (however deep) in the given paths.\n//@\n//@ The main difference from `ls('-R', path)` is that the resulting file names\n//@ include the base directories (e.g., `lib/resources/file1` instead of just `file1`).\nfunction _find(options, paths) {\n  if (!paths) {\n    common.error('no path specified');\n  } else if (typeof paths === 'string') {\n    paths = [].slice.call(arguments, 1);\n  }\n\n  var list = [];\n\n  function pushFile(file) {\n    if (process.platform === 'win32') {\n      file = file.replace(/\\\\/g, '/');\n    }\n    list.push(file);\n  }\n\n  // why not simply do `ls('-R', paths)`? because the output wouldn't give the base dirs\n  // to get the base dir in the output, we need instead `ls('-R', 'dir/*')` for every directory\n\n  paths.forEach(function (file) {\n    var stat;\n    try {\n      stat = common.statFollowLinks(file);\n    } catch (e) {\n      common.error('no such file or directory: ' + file);\n    }\n\n    pushFile(file);\n\n    if (stat.isDirectory()) {\n      _ls({ recursive: true, all: true }, file).forEach(function (subfile) {\n        pushFile(path.join(file, subfile));\n      });\n    }\n  });\n\n  return list;\n}\nmodule.exports = _find;\n","var common = require('./common');\nvar fs = require('fs');\n\ncommon.register('grep', _grep, {\n  globStart: 2, // don't glob-expand the regex\n  canReceivePipe: true,\n  cmdOptions: {\n    'v': 'inverse',\n    'l': 'nameOnly',\n    'i': 'ignoreCase',\n  },\n});\n\n//@\n//@ ### grep([options,] regex_filter, file [, file ...])\n//@ ### grep([options,] regex_filter, file_array)\n//@\n//@ Available options:\n//@\n//@ + `-v`: Invert `regex_filter` (only print non-matching lines).\n//@ + `-l`: Print only filenames of matching files.\n//@ + `-i`: Ignore case.\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ grep('-v', 'GLOBAL_VARIABLE', '*.js');\n//@ grep('GLOBAL_VARIABLE', '*.js');\n//@ ```\n//@\n//@ Reads input string from given files and returns a string containing all lines of the\n//@ file that match the given `regex_filter`.\nfunction _grep(options, regex, files) {\n  // Check if this is coming from a pipe\n  var pipe = common.readFromPipe();\n\n  if (!files && !pipe) common.error('no paths given', 2);\n\n  files = [].slice.call(arguments, 2);\n\n  if (pipe) {\n    files.unshift('-');\n  }\n\n  var grep = [];\n  if (options.ignoreCase) {\n    regex = new RegExp(regex, 'i');\n  }\n  files.forEach(function (file) {\n    if (!fs.existsSync(file) && file !== '-') {\n      common.error('no such file or directory: ' + file, 2, { continue: true });\n      return;\n    }\n\n    var contents = file === '-' ? pipe : fs.readFileSync(file, 'utf8');\n    if (options.nameOnly) {\n      if (contents.match(regex)) {\n        grep.push(file);\n      }\n    } else {\n      var lines = contents.split('\\n');\n      lines.forEach(function (line) {\n        var matched = line.match(regex);\n        if ((options.inverse && !matched) || (!options.inverse && matched)) {\n          grep.push(line);\n        }\n      });\n    }\n  });\n\n  return grep.join('\\n') + '\\n';\n}\nmodule.exports = _grep;\n","var common = require('./common');\nvar fs = require('fs');\n\ncommon.register('head', _head, {\n  canReceivePipe: true,\n  cmdOptions: {\n    'n': 'numLines',\n  },\n});\n\n// Reads |numLines| lines or the entire file, whichever is less.\nfunction readSomeLines(file, numLines) {\n  var buf = common.buffer();\n  var bufLength = buf.length;\n  var bytesRead = bufLength;\n  var pos = 0;\n\n  var fdr = fs.openSync(file, 'r');\n  var numLinesRead = 0;\n  var ret = '';\n  while (bytesRead === bufLength && numLinesRead < numLines) {\n    bytesRead = fs.readSync(fdr, buf, 0, bufLength, pos);\n    var bufStr = buf.toString('utf8', 0, bytesRead);\n    numLinesRead += bufStr.split('\\n').length - 1;\n    ret += bufStr;\n    pos += bytesRead;\n  }\n\n  fs.closeSync(fdr);\n  return ret;\n}\n\n//@\n//@ ### head([{'-n': \\<num\\>},] file [, file ...])\n//@ ### head([{'-n': \\<num\\>},] file_array)\n//@\n//@ Available options:\n//@\n//@ + `-n <num>`: Show the first `<num>` lines of the files\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ var str = head({'-n': 1}, 'file*.txt');\n//@ var str = head('file1', 'file2');\n//@ var str = head(['file1', 'file2']); // same as above\n//@ ```\n//@\n//@ Read the start of a file.\nfunction _head(options, files) {\n  var head = [];\n  var pipe = common.readFromPipe();\n\n  if (!files && !pipe) common.error('no paths given');\n\n  var idx = 1;\n  if (options.numLines === true) {\n    idx = 2;\n    options.numLines = Number(arguments[1]);\n  } else if (options.numLines === false) {\n    options.numLines = 10;\n  }\n  files = [].slice.call(arguments, idx);\n\n  if (pipe) {\n    files.unshift('-');\n  }\n\n  var shouldAppendNewline = false;\n  files.forEach(function (file) {\n    if (file !== '-') {\n      if (!fs.existsSync(file)) {\n        common.error('no such file or directory: ' + file, { continue: true });\n        return;\n      } else if (common.statFollowLinks(file).isDirectory()) {\n        common.error(\"error reading '\" + file + \"': Is a directory\", {\n          continue: true,\n        });\n        return;\n      }\n    }\n\n    var contents;\n    if (file === '-') {\n      contents = pipe;\n    } else if (options.numLines < 0) {\n      contents = fs.readFileSync(file, 'utf8');\n    } else {\n      contents = readSomeLines(file, options.numLines);\n    }\n\n    var lines = contents.split('\\n');\n    var hasTrailingNewline = (lines[lines.length - 1] === '');\n    if (hasTrailingNewline) {\n      lines.pop();\n    }\n    shouldAppendNewline = (hasTrailingNewline || options.numLines < lines.length);\n\n    head = head.concat(lines.slice(0, options.numLines));\n  });\n\n  if (shouldAppendNewline) {\n    head.push(''); // to add a trailing newline once we join\n  }\n  return head.join('\\n');\n}\nmodule.exports = _head;\n","var fs = require('fs');\nvar path = require('path');\nvar common = require('./common');\n\ncommon.register('ln', _ln, {\n  cmdOptions: {\n    's': 'symlink',\n    'f': 'force',\n  },\n});\n\n//@\n//@ ### ln([options,] source, dest)\n//@\n//@ Available options:\n//@\n//@ + `-s`: symlink\n//@ + `-f`: force\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ ln('file', 'newlink');\n//@ ln('-sf', 'file', 'existing');\n//@ ```\n//@\n//@ Links `source` to `dest`. Use `-f` to force the link, should `dest` already exist.\nfunction _ln(options, source, dest) {\n  if (!source || !dest) {\n    common.error('Missing <source> and/or <dest>');\n  }\n\n  source = String(source);\n  var sourcePath = path.normalize(source).replace(RegExp(path.sep + '$'), '');\n  var isAbsolute = (path.resolve(source) === sourcePath);\n  dest = path.resolve(process.cwd(), String(dest));\n\n  if (fs.existsSync(dest)) {\n    if (!options.force) {\n      common.error('Destination file exists', { continue: true });\n    }\n\n    fs.unlinkSync(dest);\n  }\n\n  if (options.symlink) {\n    var isWindows = process.platform === 'win32';\n    var linkType = isWindows ? 'file' : null;\n    var resolvedSourcePath = isAbsolute ? sourcePath : path.resolve(process.cwd(), path.dirname(dest), source);\n    if (!fs.existsSync(resolvedSourcePath)) {\n      common.error('Source file does not exist', { continue: true });\n    } else if (isWindows && common.statFollowLinks(resolvedSourcePath).isDirectory()) {\n      linkType = 'junction';\n    }\n\n    try {\n      fs.symlinkSync(linkType === 'junction' ? resolvedSourcePath : source, dest, linkType);\n    } catch (err) {\n      common.error(err.message);\n    }\n  } else {\n    if (!fs.existsSync(source)) {\n      common.error('Source file does not exist', { continue: true });\n    }\n    try {\n      fs.linkSync(source, dest);\n    } catch (err) {\n      common.error(err.message);\n    }\n  }\n  return '';\n}\nmodule.exports = _ln;\n","var path = require('path');\nvar fs = require('fs');\nvar common = require('./common');\nvar glob = require('glob');\n\nvar globPatternRecursive = path.sep + '**';\n\ncommon.register('ls', _ls, {\n  cmdOptions: {\n    'R': 'recursive',\n    'A': 'all',\n    'L': 'link',\n    'a': 'all_deprecated',\n    'd': 'directory',\n    'l': 'long',\n  },\n});\n\n//@\n//@ ### ls([options,] [path, ...])\n//@ ### ls([options,] path_array)\n//@\n//@ Available options:\n//@\n//@ + `-R`: recursive\n//@ + `-A`: all files (include files beginning with `.`, except for `.` and `..`)\n//@ + `-L`: follow symlinks\n//@ + `-d`: list directories themselves, not their contents\n//@ + `-l`: list objects representing each file, each with fields containing `ls\n//@         -l` output fields. See\n//@         [`fs.Stats`](https://nodejs.org/api/fs.html#fs_class_fs_stats)\n//@         for more info\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ ls('projs/*.js');\n//@ ls('-R', '/users/me', '/tmp');\n//@ ls('-R', ['/users/me', '/tmp']); // same as above\n//@ ls('-l', 'file.txt'); // { name: 'file.txt', mode: 33188, nlink: 1, ...}\n//@ ```\n//@\n//@ Returns array of files in the given `path`, or files in\n//@ the current directory if no `path` is  provided.\nfunction _ls(options, paths) {\n  if (options.all_deprecated) {\n    // We won't support the -a option as it's hard to image why it's useful\n    // (it includes '.' and '..' in addition to '.*' files)\n    // For backwards compatibility we'll dump a deprecated message and proceed as before\n    common.log('ls: Option -a is deprecated. Use -A instead');\n    options.all = true;\n  }\n\n  if (!paths) {\n    paths = ['.'];\n  } else {\n    paths = [].slice.call(arguments, 1);\n  }\n\n  var list = [];\n\n  function pushFile(abs, relName, stat) {\n    if (process.platform === 'win32') {\n      relName = relName.replace(/\\\\/g, '/');\n    }\n    if (options.long) {\n      stat = stat || (options.link ? common.statFollowLinks(abs) : common.statNoFollowLinks(abs));\n      list.push(addLsAttributes(relName, stat));\n    } else {\n      // list.push(path.relative(rel || '.', file));\n      list.push(relName);\n    }\n  }\n\n  paths.forEach(function (p) {\n    var stat;\n\n    try {\n      stat = options.link ? common.statFollowLinks(p) : common.statNoFollowLinks(p);\n      // follow links to directories by default\n      if (stat.isSymbolicLink()) {\n        /* istanbul ignore next */\n        // workaround for https://github.com/shelljs/shelljs/issues/795\n        // codecov seems to have a bug that miscalculate this block as uncovered.\n        // but according to nyc report this block does get covered.\n        try {\n          var _stat = common.statFollowLinks(p);\n          if (_stat.isDirectory()) {\n            stat = _stat;\n          }\n        } catch (_) {} // bad symlink, treat it like a file\n      }\n    } catch (e) {\n      common.error('no such file or directory: ' + p, 2, { continue: true });\n      return;\n    }\n\n    // If the stat succeeded\n    if (stat.isDirectory() && !options.directory) {\n      if (options.recursive) {\n        // use glob, because it's simple\n        glob.sync(p + globPatternRecursive, { dot: options.all, follow: options.link })\n          .forEach(function (item) {\n            // Glob pattern returns the directory itself and needs to be filtered out.\n            if (path.relative(p, item)) {\n              pushFile(item, path.relative(p, item));\n            }\n          });\n      } else if (options.all) {\n        // use fs.readdirSync, because it's fast\n        fs.readdirSync(p).forEach(function (item) {\n          pushFile(path.join(p, item), item);\n        });\n      } else {\n        // use fs.readdirSync and then filter out secret files\n        fs.readdirSync(p).forEach(function (item) {\n          if (item[0] !== '.') {\n            pushFile(path.join(p, item), item);\n          }\n        });\n      }\n    } else {\n      pushFile(p, p, stat);\n    }\n  });\n\n  // Add methods, to make this more compatible with ShellStrings\n  return list;\n}\n\nfunction addLsAttributes(pathName, stats) {\n  // Note: this object will contain more information than .toString() returns\n  stats.name = pathName;\n  stats.toString = function () {\n    // Return a string resembling unix's `ls -l` format\n    return [this.mode, this.nlink, this.uid, this.gid, this.size, this.mtime, this.name].join(' ');\n  };\n  return stats;\n}\n\nmodule.exports = _ls;\n","var common = require('./common');\nvar fs = require('fs');\nvar path = require('path');\n\ncommon.register('mkdir', _mkdir, {\n  cmdOptions: {\n    'p': 'fullpath',\n  },\n});\n\n// Recursively creates `dir`\nfunction mkdirSyncRecursive(dir) {\n  var baseDir = path.dirname(dir);\n\n  // Prevents some potential problems arising from malformed UNCs or\n  // insufficient permissions.\n  /* istanbul ignore next */\n  if (baseDir === dir) {\n    common.error('dirname() failed: [' + dir + ']');\n  }\n\n  // Base dir exists, no recursion necessary\n  if (fs.existsSync(baseDir)) {\n    fs.mkdirSync(dir, parseInt('0777', 8));\n    return;\n  }\n\n  // Base dir does not exist, go recursive\n  mkdirSyncRecursive(baseDir);\n\n  // Base dir created, can create dir\n  fs.mkdirSync(dir, parseInt('0777', 8));\n}\n\n//@\n//@ ### mkdir([options,] dir [, dir ...])\n//@ ### mkdir([options,] dir_array)\n//@\n//@ Available options:\n//@\n//@ + `-p`: full path (and create intermediate directories, if necessary)\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ mkdir('-p', '/tmp/a/b/c/d', '/tmp/e/f/g');\n//@ mkdir('-p', ['/tmp/a/b/c/d', '/tmp/e/f/g']); // same as above\n//@ ```\n//@\n//@ Creates directories.\nfunction _mkdir(options, dirs) {\n  if (!dirs) common.error('no paths given');\n\n  if (typeof dirs === 'string') {\n    dirs = [].slice.call(arguments, 1);\n  }\n  // if it's array leave it as it is\n\n  dirs.forEach(function (dir) {\n    try {\n      var stat = common.statNoFollowLinks(dir);\n      if (!options.fullpath) {\n        common.error('path already exists: ' + dir, { continue: true });\n      } else if (stat.isFile()) {\n        common.error('cannot create directory ' + dir + ': File exists', { continue: true });\n      }\n      return; // skip dir\n    } catch (e) {\n      // do nothing\n    }\n\n    // Base dir does not exist, and no -p option given\n    var baseDir = path.dirname(dir);\n    if (!fs.existsSync(baseDir) && !options.fullpath) {\n      common.error('no such file or directory: ' + baseDir, { continue: true });\n      return; // skip dir\n    }\n\n    try {\n      if (options.fullpath) {\n        mkdirSyncRecursive(path.resolve(dir));\n      } else {\n        fs.mkdirSync(dir, parseInt('0777', 8));\n      }\n    } catch (e) {\n      var reason;\n      if (e.code === 'EACCES') {\n        reason = 'Permission denied';\n      } else if (e.code === 'ENOTDIR' || e.code === 'ENOENT') {\n        reason = 'Not a directory';\n      } else {\n        /* istanbul ignore next */\n        throw e;\n      }\n      common.error('cannot create directory ' + dir + ': ' + reason, { continue: true });\n    }\n  });\n  return '';\n} // mkdir\nmodule.exports = _mkdir;\n","var fs = require('fs');\nvar path = require('path');\nvar common = require('./common');\nvar cp = require('./cp');\nvar rm = require('./rm');\n\ncommon.register('mv', _mv, {\n  cmdOptions: {\n    'f': '!no_force',\n    'n': 'no_force',\n  },\n});\n\n// Checks if cureent file was created recently\nfunction checkRecentCreated(sources, index) {\n  var lookedSource = sources[index];\n  return sources.slice(0, index).some(function (src) {\n    return path.basename(src) === path.basename(lookedSource);\n  });\n}\n\n//@\n//@ ### mv([options ,] source [, source ...], dest')\n//@ ### mv([options ,] source_array, dest')\n//@\n//@ Available options:\n//@\n//@ + `-f`: force (default behavior)\n//@ + `-n`: no-clobber\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ mv('-n', 'file', 'dir/');\n//@ mv('file1', 'file2', 'dir/');\n//@ mv(['file1', 'file2'], 'dir/'); // same as above\n//@ ```\n//@\n//@ Moves `source` file(s) to `dest`.\nfunction _mv(options, sources, dest) {\n  // Get sources, dest\n  if (arguments.length < 3) {\n    common.error('missing <source> and/or <dest>');\n  } else if (arguments.length > 3) {\n    sources = [].slice.call(arguments, 1, arguments.length - 1);\n    dest = arguments[arguments.length - 1];\n  } else if (typeof sources === 'string') {\n    sources = [sources];\n  } else {\n    // TODO(nate): figure out if we actually need this line\n    common.error('invalid arguments');\n  }\n\n  var exists = fs.existsSync(dest);\n  var stats = exists && common.statFollowLinks(dest);\n\n  // Dest is not existing dir, but multiple sources given\n  if ((!exists || !stats.isDirectory()) && sources.length > 1) {\n    common.error('dest is not a directory (too many sources)');\n  }\n\n  // Dest is an existing file, but no -f given\n  if (exists && stats.isFile() && options.no_force) {\n    common.error('dest file already exists: ' + dest);\n  }\n\n  sources.forEach(function (src, srcIndex) {\n    if (!fs.existsSync(src)) {\n      common.error('no such file or directory: ' + src, { continue: true });\n      return; // skip file\n    }\n\n    // If here, src exists\n\n    // When copying to '/path/dir':\n    //    thisDest = '/path/dir/file1'\n    var thisDest = dest;\n    if (fs.existsSync(dest) && common.statFollowLinks(dest).isDirectory()) {\n      thisDest = path.normalize(dest + '/' + path.basename(src));\n    }\n\n    var thisDestExists = fs.existsSync(thisDest);\n\n    if (thisDestExists && checkRecentCreated(sources, srcIndex)) {\n      // cannot overwrite file created recently in current execution, but we want to continue copying other files\n      if (!options.no_force) {\n        common.error(\"will not overwrite just-created '\" + thisDest + \"' with '\" + src + \"'\", { continue: true });\n      }\n      return;\n    }\n\n    if (fs.existsSync(thisDest) && options.no_force) {\n      common.error('dest file already exists: ' + thisDest, { continue: true });\n      return; // skip file\n    }\n\n    if (path.resolve(src) === path.dirname(path.resolve(thisDest))) {\n      common.error('cannot move to self: ' + src, { continue: true });\n      return; // skip file\n    }\n\n    try {\n      fs.renameSync(src, thisDest);\n    } catch (e) {\n      /* istanbul ignore next */\n      if (e.code === 'EXDEV') {\n        // If we're trying to `mv` to an external partition, we'll actually need\n        // to perform a copy and then clean up the original file. If either the\n        // copy or the rm fails with an exception, we should allow this\n        // exception to pass up to the top level.\n        cp('-r', src, thisDest);\n        rm('-rf', src);\n      }\n    }\n  }); // forEach(src)\n  return '';\n} // mv\nmodule.exports = _mv;\n","var path = require('path');\nvar common = require('./common');\n\ncommon.register('pwd', _pwd, {\n  allowGlobbing: false,\n});\n\n//@\n//@ ### pwd()\n//@\n//@ Returns the current directory.\nfunction _pwd() {\n  var pwd = path.resolve(process.cwd());\n  return pwd;\n}\nmodule.exports = _pwd;\n","var common = require('./common');\nvar fs = require('fs');\n\ncommon.register('rm', _rm, {\n  cmdOptions: {\n    'f': 'force',\n    'r': 'recursive',\n    'R': 'recursive',\n  },\n});\n\n// Recursively removes 'dir'\n// Adapted from https://github.com/ryanmcgrath/wrench-js\n//\n// Copyright (c) 2010 Ryan McGrath\n// Copyright (c) 2012 Artur Adib\n//\n// Licensed under the MIT License\n// http://www.opensource.org/licenses/mit-license.php\nfunction rmdirSyncRecursive(dir, force, fromSymlink) {\n  var files;\n\n  files = fs.readdirSync(dir);\n\n  // Loop through and delete everything in the sub-tree after checking it\n  for (var i = 0; i < files.length; i++) {\n    var file = dir + '/' + files[i];\n    var currFile = common.statNoFollowLinks(file);\n\n    if (currFile.isDirectory()) { // Recursive function back to the beginning\n      rmdirSyncRecursive(file, force);\n    } else { // Assume it's a file - perhaps a try/catch belongs here?\n      if (force || isWriteable(file)) {\n        try {\n          common.unlinkSync(file);\n        } catch (e) {\n          /* istanbul ignore next */\n          common.error('could not remove file (code ' + e.code + '): ' + file, {\n            continue: true,\n          });\n        }\n      }\n    }\n  }\n\n  // if was directory was referenced through a symbolic link,\n  // the contents should be removed, but not the directory itself\n  if (fromSymlink) return;\n\n  // Now that we know everything in the sub-tree has been deleted, we can delete the main directory.\n  // Huzzah for the shopkeep.\n\n  var result;\n  try {\n    // Retry on windows, sometimes it takes a little time before all the files in the directory are gone\n    var start = Date.now();\n\n    // TODO: replace this with a finite loop\n    for (;;) {\n      try {\n        result = fs.rmdirSync(dir);\n        if (fs.existsSync(dir)) throw { code: 'EAGAIN' };\n        break;\n      } catch (er) {\n        /* istanbul ignore next */\n        // In addition to error codes, also check if the directory still exists and loop again if true\n        if (process.platform === 'win32' && (er.code === 'ENOTEMPTY' || er.code === 'EBUSY' || er.code === 'EPERM' || er.code === 'EAGAIN')) {\n          if (Date.now() - start > 1000) throw er;\n        } else if (er.code === 'ENOENT') {\n          // Directory did not exist, deletion was successful\n          break;\n        } else {\n          throw er;\n        }\n      }\n    }\n  } catch (e) {\n    common.error('could not remove directory (code ' + e.code + '): ' + dir, { continue: true });\n  }\n\n  return result;\n} // rmdirSyncRecursive\n\n// Hack to determine if file has write permissions for current user\n// Avoids having to check user, group, etc, but it's probably slow\nfunction isWriteable(file) {\n  var writePermission = true;\n  try {\n    var __fd = fs.openSync(file, 'a');\n    fs.closeSync(__fd);\n  } catch (e) {\n    writePermission = false;\n  }\n\n  return writePermission;\n}\n\nfunction handleFile(file, options) {\n  if (options.force || isWriteable(file)) {\n    // -f was passed, or file is writable, so it can be removed\n    common.unlinkSync(file);\n  } else {\n    common.error('permission denied: ' + file, { continue: true });\n  }\n}\n\nfunction handleDirectory(file, options) {\n  if (options.recursive) {\n    // -r was passed, so directory can be removed\n    rmdirSyncRecursive(file, options.force);\n  } else {\n    common.error('path is a directory', { continue: true });\n  }\n}\n\nfunction handleSymbolicLink(file, options) {\n  var stats;\n  try {\n    stats = common.statFollowLinks(file);\n  } catch (e) {\n    // symlink is broken, so remove the symlink itself\n    common.unlinkSync(file);\n    return;\n  }\n\n  if (stats.isFile()) {\n    common.unlinkSync(file);\n  } else if (stats.isDirectory()) {\n    if (file[file.length - 1] === '/') {\n      // trailing separator, so remove the contents, not the link\n      if (options.recursive) {\n        // -r was passed, so directory can be removed\n        var fromSymlink = true;\n        rmdirSyncRecursive(file, options.force, fromSymlink);\n      } else {\n        common.error('path is a directory', { continue: true });\n      }\n    } else {\n      // no trailing separator, so remove the link\n      common.unlinkSync(file);\n    }\n  }\n}\n\nfunction handleFIFO(file) {\n  common.unlinkSync(file);\n}\n\n//@\n//@ ### rm([options,] file [, file ...])\n//@ ### rm([options,] file_array)\n//@\n//@ Available options:\n//@\n//@ + `-f`: force\n//@ + `-r, -R`: recursive\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ rm('-rf', '/tmp/*');\n//@ rm('some_file.txt', 'another_file.txt');\n//@ rm(['some_file.txt', 'another_file.txt']); // same as above\n//@ ```\n//@\n//@ Removes files.\nfunction _rm(options, files) {\n  if (!files) common.error('no paths given');\n\n  // Convert to array\n  files = [].slice.call(arguments, 1);\n\n  files.forEach(function (file) {\n    var lstats;\n    try {\n      var filepath = (file[file.length - 1] === '/')\n        ? file.slice(0, -1) // remove the '/' so lstatSync can detect symlinks\n        : file;\n      lstats = common.statNoFollowLinks(filepath); // test for existence\n    } catch (e) {\n      // Path does not exist, no force flag given\n      if (!options.force) {\n        common.error('no such file or directory: ' + file, { continue: true });\n      }\n      return; // skip file\n    }\n\n    // If here, path exists\n    if (lstats.isFile()) {\n      handleFile(file, options);\n    } else if (lstats.isDirectory()) {\n      handleDirectory(file, options);\n    } else if (lstats.isSymbolicLink()) {\n      handleSymbolicLink(file, options);\n    } else if (lstats.isFIFO()) {\n      handleFIFO(file);\n    }\n  }); // forEach(file)\n  return '';\n} // rm\nmodule.exports = _rm;\n","var common = require('./common');\nvar fs = require('fs');\n\ncommon.register('sed', _sed, {\n  globStart: 3, // don't glob-expand regexes\n  canReceivePipe: true,\n  cmdOptions: {\n    'i': 'inplace',\n  },\n});\n\n//@\n//@ ### sed([options,] search_regex, replacement, file [, file ...])\n//@ ### sed([options,] search_regex, replacement, file_array)\n//@\n//@ Available options:\n//@\n//@ + `-i`: Replace contents of `file` in-place. _Note that no backups will be created!_\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ sed('-i', 'PROGRAM_VERSION', 'v0.1.3', 'source.js');\n//@ sed(/.*DELETE_THIS_LINE.*\\n/, '', 'source.js');\n//@ ```\n//@\n//@ Reads an input string from `file`s, and performs a JavaScript `replace()` on the input\n//@ using the given `search_regex` and `replacement` string or function. Returns the new string after replacement.\n//@\n//@ Note:\n//@\n//@ Like unix `sed`, ShellJS `sed` supports capture groups. Capture groups are specified\n//@ using the `$n` syntax:\n//@\n//@ ```javascript\n//@ sed(/(\\w+)\\s(\\w+)/, '$2, $1', 'file.txt');\n//@ ```\nfunction _sed(options, regex, replacement, files) {\n  // Check if this is coming from a pipe\n  var pipe = common.readFromPipe();\n\n  if (typeof replacement !== 'string' && typeof replacement !== 'function') {\n    if (typeof replacement === 'number') {\n      replacement = replacement.toString(); // fallback\n    } else {\n      common.error('invalid replacement string');\n    }\n  }\n\n  // Convert all search strings to RegExp\n  if (typeof regex === 'string') {\n    regex = RegExp(regex);\n  }\n\n  if (!files && !pipe) {\n    common.error('no files given');\n  }\n\n  files = [].slice.call(arguments, 3);\n\n  if (pipe) {\n    files.unshift('-');\n  }\n\n  var sed = [];\n  files.forEach(function (file) {\n    if (!fs.existsSync(file) && file !== '-') {\n      common.error('no such file or directory: ' + file, 2, { continue: true });\n      return;\n    }\n\n    var contents = file === '-' ? pipe : fs.readFileSync(file, 'utf8');\n    var lines = contents.split('\\n');\n    var result = lines.map(function (line) {\n      return line.replace(regex, replacement);\n    }).join('\\n');\n\n    sed.push(result);\n\n    if (options.inplace) {\n      fs.writeFileSync(file, result, 'utf8');\n    }\n  });\n\n  return sed.join('\\n');\n}\nmodule.exports = _sed;\n","var common = require('./common');\n\ncommon.register('set', _set, {\n  allowGlobbing: false,\n  wrapOutput: false,\n});\n\n//@\n//@ ### set(options)\n//@\n//@ Available options:\n//@\n//@ + `+/-e`: exit upon error (`config.fatal`)\n//@ + `+/-v`: verbose: show all commands (`config.verbose`)\n//@ + `+/-f`: disable filename expansion (globbing)\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ set('-e'); // exit upon first error\n//@ set('+e'); // this undoes a \"set('-e')\"\n//@ ```\n//@\n//@ Sets global configuration variables.\nfunction _set(options) {\n  if (!options) {\n    var args = [].slice.call(arguments, 0);\n    if (args.length < 2) common.error('must provide an argument');\n    options = args[1];\n  }\n  var negate = (options[0] === '+');\n  if (negate) {\n    options = '-' + options.slice(1); // parseOptions needs a '-' prefix\n  }\n  options = common.parseOptions(options, {\n    'e': 'fatal',\n    'v': 'verbose',\n    'f': 'noglob',\n  });\n\n  if (negate) {\n    Object.keys(options).forEach(function (key) {\n      options[key] = !options[key];\n    });\n  }\n\n  Object.keys(options).forEach(function (key) {\n    // Only change the global config if `negate` is false and the option is true\n    // or if `negate` is true and the option is false (aka negate !== option)\n    if (negate !== options[key]) {\n      common.config[key] = options[key];\n    }\n  });\n  return;\n}\nmodule.exports = _set;\n","var common = require('./common');\nvar fs = require('fs');\n\ncommon.register('sort', _sort, {\n  canReceivePipe: true,\n  cmdOptions: {\n    'r': 'reverse',\n    'n': 'numerical',\n  },\n});\n\n// parse out the number prefix of a line\nfunction parseNumber(str) {\n  var match = str.match(/^\\s*(\\d*)\\s*(.*)$/);\n  return { num: Number(match[1]), value: match[2] };\n}\n\n// compare two strings case-insensitively, but examine case for strings that are\n// case-insensitive equivalent\nfunction unixCmp(a, b) {\n  var aLower = a.toLowerCase();\n  var bLower = b.toLowerCase();\n  return (aLower === bLower ?\n      -1 * a.localeCompare(b) : // unix sort treats case opposite how javascript does\n      aLower.localeCompare(bLower));\n}\n\n// compare two strings in the fashion that unix sort's -n option works\nfunction numericalCmp(a, b) {\n  var objA = parseNumber(a);\n  var objB = parseNumber(b);\n  if (objA.hasOwnProperty('num') && objB.hasOwnProperty('num')) {\n    return ((objA.num !== objB.num) ?\n        (objA.num - objB.num) :\n        unixCmp(objA.value, objB.value));\n  } else {\n    return unixCmp(objA.value, objB.value);\n  }\n}\n\n//@\n//@ ### sort([options,] file [, file ...])\n//@ ### sort([options,] file_array)\n//@\n//@ Available options:\n//@\n//@ + `-r`: Reverse the results\n//@ + `-n`: Compare according to numerical value\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ sort('foo.txt', 'bar.txt');\n//@ sort('-r', 'foo.txt');\n//@ ```\n//@\n//@ Return the contents of the `file`s, sorted line-by-line. Sorting multiple\n//@ files mixes their content (just as unix `sort` does).\nfunction _sort(options, files) {\n  // Check if this is coming from a pipe\n  var pipe = common.readFromPipe();\n\n  if (!files && !pipe) common.error('no files given');\n\n  files = [].slice.call(arguments, 1);\n\n  if (pipe) {\n    files.unshift('-');\n  }\n\n  var lines = files.reduce(function (accum, file) {\n    if (file !== '-') {\n      if (!fs.existsSync(file)) {\n        common.error('no such file or directory: ' + file, { continue: true });\n        return accum;\n      } else if (common.statFollowLinks(file).isDirectory()) {\n        common.error('read failed: ' + file + ': Is a directory', {\n          continue: true,\n        });\n        return accum;\n      }\n    }\n\n    var contents = file === '-' ? pipe : fs.readFileSync(file, 'utf8');\n    return accum.concat(contents.trimRight().split('\\n'));\n  }, []);\n\n  var sorted = lines.sort(options.numerical ? numericalCmp : unixCmp);\n\n  if (options.reverse) {\n    sorted = sorted.reverse();\n  }\n\n  return sorted.join('\\n') + '\\n';\n}\n\nmodule.exports = _sort;\n","var common = require('./common');\nvar fs = require('fs');\n\ncommon.register('tail', _tail, {\n  canReceivePipe: true,\n  cmdOptions: {\n    'n': 'numLines',\n  },\n});\n\n//@\n//@ ### tail([{'-n': \\<num\\>},] file [, file ...])\n//@ ### tail([{'-n': \\<num\\>},] file_array)\n//@\n//@ Available options:\n//@\n//@ + `-n <num>`: Show the last `<num>` lines of `file`s\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ var str = tail({'-n': 1}, 'file*.txt');\n//@ var str = tail('file1', 'file2');\n//@ var str = tail(['file1', 'file2']); // same as above\n//@ ```\n//@\n//@ Read the end of a `file`.\nfunction _tail(options, files) {\n  var tail = [];\n  var pipe = common.readFromPipe();\n\n  if (!files && !pipe) common.error('no paths given');\n\n  var idx = 1;\n  if (options.numLines === true) {\n    idx = 2;\n    options.numLines = Number(arguments[1]);\n  } else if (options.numLines === false) {\n    options.numLines = 10;\n  }\n  options.numLines = -1 * Math.abs(options.numLines);\n  files = [].slice.call(arguments, idx);\n\n  if (pipe) {\n    files.unshift('-');\n  }\n\n  var shouldAppendNewline = false;\n  files.forEach(function (file) {\n    if (file !== '-') {\n      if (!fs.existsSync(file)) {\n        common.error('no such file or directory: ' + file, { continue: true });\n        return;\n      } else if (common.statFollowLinks(file).isDirectory()) {\n        common.error(\"error reading '\" + file + \"': Is a directory\", {\n          continue: true,\n        });\n        return;\n      }\n    }\n\n    var contents = file === '-' ? pipe : fs.readFileSync(file, 'utf8');\n\n    var lines = contents.split('\\n');\n    if (lines[lines.length - 1] === '') {\n      lines.pop();\n      shouldAppendNewline = true;\n    } else {\n      shouldAppendNewline = false;\n    }\n\n    tail = tail.concat(lines.slice(options.numLines));\n  });\n\n  if (shouldAppendNewline) {\n    tail.push(''); // to add a trailing newline once we join\n  }\n  return tail.join('\\n');\n}\nmodule.exports = _tail;\n","var common = require('./common');\nvar os = require('os');\nvar fs = require('fs');\n\ncommon.register('tempdir', _tempDir, {\n  allowGlobbing: false,\n  wrapOutput: false,\n});\n\n// Returns false if 'dir' is not a writeable directory, 'dir' otherwise\nfunction writeableDir(dir) {\n  if (!dir || !fs.existsSync(dir)) return false;\n\n  if (!common.statFollowLinks(dir).isDirectory()) return false;\n\n  var testFile = dir + '/' + common.randomFileName();\n  try {\n    fs.writeFileSync(testFile, ' ');\n    common.unlinkSync(testFile);\n    return dir;\n  } catch (e) {\n    /* istanbul ignore next */\n    return false;\n  }\n}\n\n// Variable to cache the tempdir value for successive lookups.\nvar cachedTempDir;\n\n//@\n//@ ### tempdir()\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ var tmp = tempdir(); // \"/tmp\" for most *nix platforms\n//@ ```\n//@\n//@ Searches and returns string containing a writeable, platform-dependent temporary directory.\n//@ Follows Python's [tempfile algorithm](http://docs.python.org/library/tempfile.html#tempfile.tempdir).\nfunction _tempDir() {\n  if (cachedTempDir) return cachedTempDir;\n\n  cachedTempDir = writeableDir(os.tmpdir()) ||\n                  writeableDir(process.env.TMPDIR) ||\n                  writeableDir(process.env.TEMP) ||\n                  writeableDir(process.env.TMP) ||\n                  writeableDir(process.env.Wimp$ScrapDir) || // RiscOS\n                  writeableDir('C:\\\\TEMP') || // Windows\n                  writeableDir('C:\\\\TMP') || // Windows\n                  writeableDir('\\\\TEMP') || // Windows\n                  writeableDir('\\\\TMP') || // Windows\n                  writeableDir('/tmp') ||\n                  writeableDir('/var/tmp') ||\n                  writeableDir('/usr/tmp') ||\n                  writeableDir('.'); // last resort\n\n  return cachedTempDir;\n}\n\n// Indicates if the tempdir value is currently cached. This is exposed for tests\n// only. The return value should only be tested for truthiness.\nfunction isCached() {\n  return cachedTempDir;\n}\n\n// Clears the cached tempDir value, if one is cached. This is exposed for tests\n// only.\nfunction clearCache() {\n  cachedTempDir = undefined;\n}\n\nmodule.exports.tempDir = _tempDir;\nmodule.exports.isCached = isCached;\nmodule.exports.clearCache = clearCache;\n","var common = require('./common');\nvar fs = require('fs');\n\ncommon.register('test', _test, {\n  cmdOptions: {\n    'b': 'block',\n    'c': 'character',\n    'd': 'directory',\n    'e': 'exists',\n    'f': 'file',\n    'L': 'link',\n    'p': 'pipe',\n    'S': 'socket',\n  },\n  wrapOutput: false,\n  allowGlobbing: false,\n});\n\n\n//@\n//@ ### test(expression)\n//@\n//@ Available expression primaries:\n//@\n//@ + `'-b', 'path'`: true if path is a block device\n//@ + `'-c', 'path'`: true if path is a character device\n//@ + `'-d', 'path'`: true if path is a directory\n//@ + `'-e', 'path'`: true if path exists\n//@ + `'-f', 'path'`: true if path is a regular file\n//@ + `'-L', 'path'`: true if path is a symbolic link\n//@ + `'-p', 'path'`: true if path is a pipe (FIFO)\n//@ + `'-S', 'path'`: true if path is a socket\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ if (test('-d', path)) { /* do something with dir */ };\n//@ if (!test('-f', path)) continue; // skip if it's a regular file\n//@ ```\n//@\n//@ Evaluates `expression` using the available primaries and returns corresponding value.\nfunction _test(options, path) {\n  if (!path) common.error('no path given');\n\n  var canInterpret = false;\n  Object.keys(options).forEach(function (key) {\n    if (options[key] === true) {\n      canInterpret = true;\n    }\n  });\n\n  if (!canInterpret) common.error('could not interpret expression');\n\n  if (options.link) {\n    try {\n      return common.statNoFollowLinks(path).isSymbolicLink();\n    } catch (e) {\n      return false;\n    }\n  }\n\n  if (!fs.existsSync(path)) return false;\n\n  if (options.exists) return true;\n\n  var stats = common.statFollowLinks(path);\n\n  if (options.block) return stats.isBlockDevice();\n\n  if (options.character) return stats.isCharacterDevice();\n\n  if (options.directory) return stats.isDirectory();\n\n  if (options.file) return stats.isFile();\n\n  /* istanbul ignore next */\n  if (options.pipe) return stats.isFIFO();\n\n  /* istanbul ignore next */\n  if (options.socket) return stats.isSocket();\n\n  /* istanbul ignore next */\n  return false; // fallback\n} // test\nmodule.exports = _test;\n","var common = require('./common');\nvar fs = require('fs');\nvar path = require('path');\n\ncommon.register('to', _to, {\n  pipeOnly: true,\n  wrapOutput: false,\n});\n\n//@\n//@ ### ShellString.prototype.to(file)\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ cat('input.txt').to('output.txt');\n//@ ```\n//@\n//@ Analogous to the redirection operator `>` in Unix, but works with\n//@ `ShellStrings` (such as those returned by `cat`, `grep`, etc.). _Like Unix\n//@ redirections, `to()` will overwrite any existing file!_\nfunction _to(options, file) {\n  if (!file) common.error('wrong arguments');\n\n  if (!fs.existsSync(path.dirname(file))) {\n    common.error('no such file or directory: ' + path.dirname(file));\n  }\n\n  try {\n    fs.writeFileSync(file, this.stdout || this.toString(), 'utf8');\n    return this;\n  } catch (e) {\n    /* istanbul ignore next */\n    common.error('could not write to file (code ' + e.code + '): ' + file, { continue: true });\n  }\n}\nmodule.exports = _to;\n","var common = require('./common');\nvar fs = require('fs');\nvar path = require('path');\n\ncommon.register('toEnd', _toEnd, {\n  pipeOnly: true,\n  wrapOutput: false,\n});\n\n//@\n//@ ### ShellString.prototype.toEnd(file)\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ cat('input.txt').toEnd('output.txt');\n//@ ```\n//@\n//@ Analogous to the redirect-and-append operator `>>` in Unix, but works with\n//@ `ShellStrings` (such as those returned by `cat`, `grep`, etc.).\nfunction _toEnd(options, file) {\n  if (!file) common.error('wrong arguments');\n\n  if (!fs.existsSync(path.dirname(file))) {\n    common.error('no such file or directory: ' + path.dirname(file));\n  }\n\n  try {\n    fs.appendFileSync(file, this.stdout || this.toString(), 'utf8');\n    return this;\n  } catch (e) {\n    /* istanbul ignore next */\n    common.error('could not append to file (code ' + e.code + '): ' + file, { continue: true });\n  }\n}\nmodule.exports = _toEnd;\n","var common = require('./common');\nvar fs = require('fs');\n\ncommon.register('touch', _touch, {\n  cmdOptions: {\n    'a': 'atime_only',\n    'c': 'no_create',\n    'd': 'date',\n    'm': 'mtime_only',\n    'r': 'reference',\n  },\n});\n\n//@\n//@ ### touch([options,] file [, file ...])\n//@ ### touch([options,] file_array)\n//@\n//@ Available options:\n//@\n//@ + `-a`: Change only the access time\n//@ + `-c`: Do not create any files\n//@ + `-m`: Change only the modification time\n//@ + `-d DATE`: Parse `DATE` and use it instead of current time\n//@ + `-r FILE`: Use `FILE`'s times instead of current time\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ touch('source.js');\n//@ touch('-c', '/path/to/some/dir/source.js');\n//@ touch({ '-r': FILE }, '/path/to/some/dir/source.js');\n//@ ```\n//@\n//@ Update the access and modification times of each `FILE` to the current time.\n//@ A `FILE` argument that does not exist is created empty, unless `-c` is supplied.\n//@ This is a partial implementation of [`touch(1)`](http://linux.die.net/man/1/touch).\nfunction _touch(opts, files) {\n  if (!files) {\n    common.error('no files given');\n  } else if (typeof files === 'string') {\n    files = [].slice.call(arguments, 1);\n  } else {\n    common.error('file arg should be a string file path or an Array of string file paths');\n  }\n\n  files.forEach(function (f) {\n    touchFile(opts, f);\n  });\n  return '';\n}\n\nfunction touchFile(opts, file) {\n  var stat = tryStatFile(file);\n\n  if (stat && stat.isDirectory()) {\n    // don't error just exit\n    return;\n  }\n\n  // if the file doesn't already exist and the user has specified --no-create then\n  // this script is finished\n  if (!stat && opts.no_create) {\n    return;\n  }\n\n  // open the file and then close it. this will create it if it doesn't exist but will\n  // not truncate the file\n  fs.closeSync(fs.openSync(file, 'a'));\n\n  //\n  // Set timestamps\n  //\n\n  // setup some defaults\n  var now = new Date();\n  var mtime = opts.date || now;\n  var atime = opts.date || now;\n\n  // use reference file\n  if (opts.reference) {\n    var refStat = tryStatFile(opts.reference);\n    if (!refStat) {\n      common.error('failed to get attributess of ' + opts.reference);\n    }\n    mtime = refStat.mtime;\n    atime = refStat.atime;\n  } else if (opts.date) {\n    mtime = opts.date;\n    atime = opts.date;\n  }\n\n  if (opts.atime_only && opts.mtime_only) {\n    // keep the new values of mtime and atime like GNU\n  } else if (opts.atime_only) {\n    mtime = stat.mtime;\n  } else if (opts.mtime_only) {\n    atime = stat.atime;\n  }\n\n  fs.utimesSync(file, atime, mtime);\n}\n\nmodule.exports = _touch;\n\nfunction tryStatFile(filePath) {\n  try {\n    return common.statFollowLinks(filePath);\n  } catch (e) {\n    return null;\n  }\n}\n","var common = require('./common');\nvar fs = require('fs');\n\n// add c spaces to the left of str\nfunction lpad(c, str) {\n  var res = '' + str;\n  if (res.length < c) {\n    res = Array((c - res.length) + 1).join(' ') + res;\n  }\n  return res;\n}\n\ncommon.register('uniq', _uniq, {\n  canReceivePipe: true,\n  cmdOptions: {\n    'i': 'ignoreCase',\n    'c': 'count',\n    'd': 'duplicates',\n  },\n});\n\n//@\n//@ ### uniq([options,] [input, [output]])\n//@\n//@ Available options:\n//@\n//@ + `-i`: Ignore case while comparing\n//@ + `-c`: Prefix lines by the number of occurrences\n//@ + `-d`: Only print duplicate lines, one for each group of identical lines\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ uniq('foo.txt');\n//@ uniq('-i', 'foo.txt');\n//@ uniq('-cd', 'foo.txt', 'bar.txt');\n//@ ```\n//@\n//@ Filter adjacent matching lines from `input`.\nfunction _uniq(options, input, output) {\n  // Check if this is coming from a pipe\n  var pipe = common.readFromPipe();\n\n  if (!pipe) {\n    if (!input) common.error('no input given');\n\n    if (!fs.existsSync(input)) {\n      common.error(input + ': No such file or directory');\n    } else if (common.statFollowLinks(input).isDirectory()) {\n      common.error(\"error reading '\" + input + \"'\");\n    }\n  }\n  if (output && fs.existsSync(output) && common.statFollowLinks(output).isDirectory()) {\n    common.error(output + ': Is a directory');\n  }\n\n  var lines = (input ? fs.readFileSync(input, 'utf8') : pipe).\n              trimRight().\n              split('\\n');\n\n  var compare = function (a, b) {\n    return options.ignoreCase ?\n           a.toLocaleLowerCase().localeCompare(b.toLocaleLowerCase()) :\n           a.localeCompare(b);\n  };\n  var uniqed = lines.reduceRight(function (res, e) {\n    // Perform uniq -c on the input\n    if (res.length === 0) {\n      return [{ count: 1, ln: e }];\n    } else if (compare(res[0].ln, e) === 0) {\n      return [{ count: res[0].count + 1, ln: e }].concat(res.slice(1));\n    } else {\n      return [{ count: 1, ln: e }].concat(res);\n    }\n  }, []).filter(function (obj) {\n                 // Do we want only duplicated objects?\n    return options.duplicates ? obj.count > 1 : true;\n  }).map(function (obj) {\n                 // Are we tracking the counts of each line?\n    return (options.count ? (lpad(7, obj.count) + ' ') : '') + obj.ln;\n  }).join('\\n') + '\\n';\n\n  if (output) {\n    (new common.ShellString(uniqed)).to(output);\n    // if uniq writes to output, nothing is passed to the next command in the pipeline (if any)\n    return '';\n  } else {\n    return uniqed;\n  }\n}\n\nmodule.exports = _uniq;\n","var common = require('./common');\nvar fs = require('fs');\nvar path = require('path');\n\ncommon.register('which', _which, {\n  allowGlobbing: false,\n  cmdOptions: {\n    'a': 'all',\n  },\n});\n\n// XP's system default value for `PATHEXT` system variable, just in case it's not\n// set on Windows.\nvar XP_DEFAULT_PATHEXT = '.com;.exe;.bat;.cmd;.vbs;.vbe;.js;.jse;.wsf;.wsh';\n\n// For earlier versions of NodeJS that doesn't have a list of constants (< v6)\nvar FILE_EXECUTABLE_MODE = 1;\n\nfunction isWindowsPlatform() {\n  return process.platform === 'win32';\n}\n\n// Cross-platform method for splitting environment `PATH` variables\nfunction splitPath(p) {\n  return p ? p.split(path.delimiter) : [];\n}\n\n// Tests are running all cases for this func but it stays uncovered by codecov due to unknown reason\n/* istanbul ignore next */\nfunction isExecutable(pathName) {\n  try {\n    // TODO(node-support): replace with fs.constants.X_OK once remove support for node < v6\n    fs.accessSync(pathName, FILE_EXECUTABLE_MODE);\n  } catch (err) {\n    return false;\n  }\n  return true;\n}\n\nfunction checkPath(pathName) {\n  return fs.existsSync(pathName) && !common.statFollowLinks(pathName).isDirectory()\n    && (isWindowsPlatform() || isExecutable(pathName));\n}\n\n//@\n//@ ### which(command)\n//@\n//@ Examples:\n//@\n//@ ```javascript\n//@ var nodeExec = which('node');\n//@ ```\n//@\n//@ Searches for `command` in the system's `PATH`. On Windows, this uses the\n//@ `PATHEXT` variable to append the extension if it's not already executable.\n//@ Returns string containing the absolute path to `command`.\nfunction _which(options, cmd) {\n  if (!cmd) common.error('must specify command');\n\n  var isWindows = isWindowsPlatform();\n  var pathArray = splitPath(process.env.PATH);\n\n  var queryMatches = [];\n\n  // No relative/absolute paths provided?\n  if (cmd.indexOf('/') === -1) {\n    // Assume that there are no extensions to append to queries (this is the\n    // case for unix)\n    var pathExtArray = [''];\n    if (isWindows) {\n      // In case the PATHEXT variable is somehow not set (e.g.\n      // child_process.spawn with an empty environment), use the XP default.\n      var pathExtEnv = process.env.PATHEXT || XP_DEFAULT_PATHEXT;\n      pathExtArray = splitPath(pathExtEnv.toUpperCase());\n    }\n\n    // Search for command in PATH\n    for (var k = 0; k < pathArray.length; k++) {\n      // already found it\n      if (queryMatches.length > 0 && !options.all) break;\n\n      var attempt = path.resolve(pathArray[k], cmd);\n\n      if (isWindows) {\n        attempt = attempt.toUpperCase();\n      }\n\n      var match = attempt.match(/\\.[^<>:\"/\\|?*.]+$/);\n      if (match && pathExtArray.indexOf(match[0]) >= 0) { // this is Windows-only\n        // The user typed a query with the file extension, like\n        // `which('node.exe')`\n        if (checkPath(attempt)) {\n          queryMatches.push(attempt);\n          break;\n        }\n      } else { // All-platforms\n        // Cycle through the PATHEXT array, and check each extension\n        // Note: the array is always [''] on Unix\n        for (var i = 0; i < pathExtArray.length; i++) {\n          var ext = pathExtArray[i];\n          var newAttempt = attempt + ext;\n          if (checkPath(newAttempt)) {\n            queryMatches.push(newAttempt);\n            break;\n          }\n        }\n      }\n    }\n  } else if (checkPath(cmd)) { // a valid absolute or relative path\n    queryMatches.push(path.resolve(cmd));\n  }\n\n  if (queryMatches.length > 0) {\n    return options.all ? queryMatches : queryMatches[0];\n  }\n  return options.all ? [] : null;\n}\nmodule.exports = _which;\n","var map = {\n\t\"./cat\": 1634,\n\t\"./cat.js\": 1634,\n\t\"./cd\": 5407,\n\t\"./cd.js\": 5407,\n\t\"./chmod\": 9855,\n\t\"./chmod.js\": 9855,\n\t\"./common\": 4673,\n\t\"./common.js\": 4673,\n\t\"./cp\": 7547,\n\t\"./cp.js\": 7547,\n\t\"./dirs\": 884,\n\t\"./dirs.js\": 884,\n\t\"./echo\": 9209,\n\t\"./echo.js\": 9209,\n\t\"./error\": 2383,\n\t\"./error.js\": 2383,\n\t\"./exec\": 2637,\n\t\"./exec-child\": 4102,\n\t\"./exec-child.js\": 4102,\n\t\"./exec.js\": 2637,\n\t\"./find\": 1323,\n\t\"./find.js\": 1323,\n\t\"./grep\": 8659,\n\t\"./grep.js\": 8659,\n\t\"./head\": 9726,\n\t\"./head.js\": 9726,\n\t\"./ln\": 5502,\n\t\"./ln.js\": 5502,\n\t\"./ls\": 1161,\n\t\"./ls.js\": 1161,\n\t\"./mkdir\": 1793,\n\t\"./mkdir.js\": 1793,\n\t\"./mv\": 8439,\n\t\"./mv.js\": 8439,\n\t\"./popd\": 2381,\n\t\"./popd.js\": 2381,\n\t\"./pushd\": 9214,\n\t\"./pushd.js\": 9214,\n\t\"./pwd\": 5961,\n\t\"./pwd.js\": 5961,\n\t\"./rm\": 4281,\n\t\"./rm.js\": 4281,\n\t\"./sed\": 7446,\n\t\"./sed.js\": 7446,\n\t\"./set\": 1798,\n\t\"./set.js\": 1798,\n\t\"./sort\": 4924,\n\t\"./sort.js\": 4924,\n\t\"./tail\": 7774,\n\t\"./tail.js\": 7774,\n\t\"./tempdir\": 7479,\n\t\"./tempdir.js\": 7479,\n\t\"./test\": 4496,\n\t\"./test.js\": 4496,\n\t\"./to\": 5285,\n\t\"./to.js\": 5285,\n\t\"./toEnd\": 8060,\n\t\"./toEnd.js\": 8060,\n\t\"./touch\": 8361,\n\t\"./touch.js\": 8361,\n\t\"./uniq\": 7665,\n\t\"./uniq.js\": 7665,\n\t\"./which\": 7351,\n\t\"./which.js\": 7351\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 8700;","// Note: since nyc uses this module to output coverage, any lines\n// that are in the direct sync flow of nyc's outputCoverage are\n// ignored, since we can never get coverage for them.\n// grab a reference to node's real process object right away\nvar process = global.process\n\nconst processOk = function (process) {\n  return process &&\n    typeof process === 'object' &&\n    typeof process.removeListener === 'function' &&\n    typeof process.emit === 'function' &&\n    typeof process.reallyExit === 'function' &&\n    typeof process.listeners === 'function' &&\n    typeof process.kill === 'function' &&\n    typeof process.pid === 'number' &&\n    typeof process.on === 'function'\n}\n\n// some kind of non-node environment, just no-op\n/* istanbul ignore if */\nif (!processOk(process)) {\n  module.exports = function () {\n    return function () {}\n  }\n} else {\n  var assert = require('assert')\n  var signals = require('./signals.js')\n  var isWin = /^win/i.test(process.platform)\n\n  var EE = require('events')\n  /* istanbul ignore if */\n  if (typeof EE !== 'function') {\n    EE = EE.EventEmitter\n  }\n\n  var emitter\n  if (process.__signal_exit_emitter__) {\n    emitter = process.__signal_exit_emitter__\n  } else {\n    emitter = process.__signal_exit_emitter__ = new EE()\n    emitter.count = 0\n    emitter.emitted = {}\n  }\n\n  // Because this emitter is a global, we have to check to see if a\n  // previous version of this library failed to enable infinite listeners.\n  // I know what you're about to say.  But literally everything about\n  // signal-exit is a compromise with evil.  Get used to it.\n  if (!emitter.infinite) {\n    emitter.setMaxListeners(Infinity)\n    emitter.infinite = true\n  }\n\n  module.exports = function (cb, opts) {\n    /* istanbul ignore if */\n    if (!processOk(global.process)) {\n      return function () {}\n    }\n    assert.equal(typeof cb, 'function', 'a callback must be provided for exit handler')\n\n    if (loaded === false) {\n      load()\n    }\n\n    var ev = 'exit'\n    if (opts && opts.alwaysLast) {\n      ev = 'afterexit'\n    }\n\n    var remove = function () {\n      emitter.removeListener(ev, cb)\n      if (emitter.listeners('exit').length === 0 &&\n          emitter.listeners('afterexit').length === 0) {\n        unload()\n      }\n    }\n    emitter.on(ev, cb)\n\n    return remove\n  }\n\n  var unload = function unload () {\n    if (!loaded || !processOk(global.process)) {\n      return\n    }\n    loaded = false\n\n    signals.forEach(function (sig) {\n      try {\n        process.removeListener(sig, sigListeners[sig])\n      } catch (er) {}\n    })\n    process.emit = originalProcessEmit\n    process.reallyExit = originalProcessReallyExit\n    emitter.count -= 1\n  }\n  module.exports.unload = unload\n\n  var emit = function emit (event, code, signal) {\n    /* istanbul ignore if */\n    if (emitter.emitted[event]) {\n      return\n    }\n    emitter.emitted[event] = true\n    emitter.emit(event, code, signal)\n  }\n\n  // { <signal>: <listener fn>, ... }\n  var sigListeners = {}\n  signals.forEach(function (sig) {\n    sigListeners[sig] = function listener () {\n      /* istanbul ignore if */\n      if (!processOk(global.process)) {\n        return\n      }\n      // If there are no other listeners, an exit is coming!\n      // Simplest way: remove us and then re-send the signal.\n      // We know that this will kill the process, so we can\n      // safely emit now.\n      var listeners = process.listeners(sig)\n      if (listeners.length === emitter.count) {\n        unload()\n        emit('exit', null, sig)\n        /* istanbul ignore next */\n        emit('afterexit', null, sig)\n        /* istanbul ignore next */\n        if (isWin && sig === 'SIGHUP') {\n          // \"SIGHUP\" throws an `ENOSYS` error on Windows,\n          // so use a supported signal instead\n          sig = 'SIGINT'\n        }\n        /* istanbul ignore next */\n        process.kill(process.pid, sig)\n      }\n    }\n  })\n\n  module.exports.signals = function () {\n    return signals\n  }\n\n  var loaded = false\n\n  var load = function load () {\n    if (loaded || !processOk(global.process)) {\n      return\n    }\n    loaded = true\n\n    // This is the number of onSignalExit's that are in play.\n    // It's important so that we can count the correct number of\n    // listeners on signals, and don't wait for the other one to\n    // handle it instead of us.\n    emitter.count += 1\n\n    signals = signals.filter(function (sig) {\n      try {\n        process.on(sig, sigListeners[sig])\n        return true\n      } catch (er) {\n        return false\n      }\n    })\n\n    process.emit = processEmit\n    process.reallyExit = processReallyExit\n  }\n  module.exports.load = load\n\n  var originalProcessReallyExit = process.reallyExit\n  var processReallyExit = function processReallyExit (code) {\n    /* istanbul ignore if */\n    if (!processOk(global.process)) {\n      return\n    }\n    process.exitCode = code || /* istanbul ignore next */ 0\n    emit('exit', process.exitCode, null)\n    /* istanbul ignore next */\n    emit('afterexit', process.exitCode, null)\n    /* istanbul ignore next */\n    originalProcessReallyExit.call(process, process.exitCode)\n  }\n\n  var originalProcessEmit = process.emit\n  var processEmit = function processEmit (ev, arg) {\n    if (ev === 'exit' && processOk(global.process)) {\n      /* istanbul ignore else */\n      if (arg !== undefined) {\n        process.exitCode = arg\n      }\n      var ret = originalProcessEmit.apply(this, arguments)\n      /* istanbul ignore next */\n      emit('exit', process.exitCode, null)\n      /* istanbul ignore next */\n      emit('afterexit', process.exitCode, null)\n      /* istanbul ignore next */\n      return ret\n    } else {\n      return originalProcessEmit.apply(this, arguments)\n    }\n  }\n}\n","// This is not the set of all possible signals.\n//\n// It IS, however, the set of all signals that trigger\n// an exit on either Linux or BSD systems.  Linux is a\n// superset of the signal names supported on BSD, and\n// the unknown signals just fail to register, so we can\n// catch that easily enough.\n//\n// Don't bother with SIGKILL.  It's uncatchable, which\n// means that we can't fire any callbacks anyway.\n//\n// If a user does happen to register a handler on a non-\n// fatal signal like SIGWINCH or something, and then\n// exit, it'll end up firing `process.emit('exit')`, so\n// the handler will be fired anyway.\n//\n// SIGBUS, SIGFPE, SIGSEGV and SIGILL, when not raised\n// artificially, inherently leave the process in a\n// state from which it is not safe to try and enter JS\n// listeners.\nmodule.exports = [\n  'SIGABRT',\n  'SIGALRM',\n  'SIGHUP',\n  'SIGINT',\n  'SIGTERM'\n]\n\nif (process.platform !== 'win32') {\n  module.exports.push(\n    'SIGVTALRM',\n    'SIGXCPU',\n    'SIGXFSZ',\n    'SIGUSR2',\n    'SIGTRAP',\n    'SIGSYS',\n    'SIGQUIT',\n    'SIGIOT'\n    // should detect profiler and enable/disable accordingly.\n    // see #21\n    // 'SIGPROF'\n  )\n}\n\nif (process.platform === 'linux') {\n  module.exports.push(\n    'SIGIO',\n    'SIGPOLL',\n    'SIGPWR',\n    'SIGSTKFLT',\n    'SIGUNUSED'\n  )\n}\n","'use strict';\nconst os = require('os');\nconst tty = require('tty');\nconst hasFlag = require('has-flag');\n\nconst {env} = process;\n\nlet flagForceColor;\nif (hasFlag('no-color') ||\n\thasFlag('no-colors') ||\n\thasFlag('color=false') ||\n\thasFlag('color=never')) {\n\tflagForceColor = 0;\n} else if (hasFlag('color') ||\n\thasFlag('colors') ||\n\thasFlag('color=true') ||\n\thasFlag('color=always')) {\n\tflagForceColor = 1;\n}\n\nfunction envForceColor() {\n\tif ('FORCE_COLOR' in env) {\n\t\tif (env.FORCE_COLOR === 'true') {\n\t\t\treturn 1;\n\t\t}\n\n\t\tif (env.FORCE_COLOR === 'false') {\n\t\t\treturn 0;\n\t\t}\n\n\t\treturn env.FORCE_COLOR.length === 0 ? 1 : Math.min(Number.parseInt(env.FORCE_COLOR, 10), 3);\n\t}\n}\n\nfunction translateLevel(level) {\n\tif (level === 0) {\n\t\treturn false;\n\t}\n\n\treturn {\n\t\tlevel,\n\t\thasBasic: true,\n\t\thas256: level >= 2,\n\t\thas16m: level >= 3\n\t};\n}\n\nfunction supportsColor(haveStream, {streamIsTTY, sniffFlags = true} = {}) {\n\tconst noFlagForceColor = envForceColor();\n\tif (noFlagForceColor !== undefined) {\n\t\tflagForceColor = noFlagForceColor;\n\t}\n\n\tconst forceColor = sniffFlags ? flagForceColor : noFlagForceColor;\n\n\tif (forceColor === 0) {\n\t\treturn 0;\n\t}\n\n\tif (sniffFlags) {\n\t\tif (hasFlag('color=16m') ||\n\t\t\thasFlag('color=full') ||\n\t\t\thasFlag('color=truecolor')) {\n\t\t\treturn 3;\n\t\t}\n\n\t\tif (hasFlag('color=256')) {\n\t\t\treturn 2;\n\t\t}\n\t}\n\n\tif (haveStream && !streamIsTTY && forceColor === undefined) {\n\t\treturn 0;\n\t}\n\n\tconst min = forceColor || 0;\n\n\tif (env.TERM === 'dumb') {\n\t\treturn min;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\t// Windows 10 build 10586 is the first Windows release that supports 256 colors.\n\t\t// Windows 10 build 14931 is the first release that supports 16m/TrueColor.\n\t\tconst osRelease = os.release().split('.');\n\t\tif (\n\t\t\tNumber(osRelease[0]) >= 10 &&\n\t\t\tNumber(osRelease[2]) >= 10586\n\t\t) {\n\t\t\treturn Number(osRelease[2]) >= 14931 ? 3 : 2;\n\t\t}\n\n\t\treturn 1;\n\t}\n\n\tif ('CI' in env) {\n\t\tif (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI', 'GITHUB_ACTIONS', 'BUILDKITE', 'DRONE'].some(sign => sign in env) || env.CI_NAME === 'codeship') {\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn min;\n\t}\n\n\tif ('TEAMCITY_VERSION' in env) {\n\t\treturn /^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;\n\t}\n\n\tif (env.COLORTERM === 'truecolor') {\n\t\treturn 3;\n\t}\n\n\tif ('TERM_PROGRAM' in env) {\n\t\tconst version = Number.parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n\t\tswitch (env.TERM_PROGRAM) {\n\t\t\tcase 'iTerm.app':\n\t\t\t\treturn version >= 3 ? 3 : 2;\n\t\t\tcase 'Apple_Terminal':\n\t\t\t\treturn 2;\n\t\t\t// No default\n\t\t}\n\t}\n\n\tif (/-256(color)?$/i.test(env.TERM)) {\n\t\treturn 2;\n\t}\n\n\tif (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n\t\treturn 1;\n\t}\n\n\tif ('COLORTERM' in env) {\n\t\treturn 1;\n\t}\n\n\treturn min;\n}\n\nfunction getSupportLevel(stream, options = {}) {\n\tconst level = supportsColor(stream, {\n\t\tstreamIsTTY: stream && stream.isTTY,\n\t\t...options\n\t});\n\n\treturn translateLevel(level);\n}\n\nmodule.exports = {\n\tsupportsColor: getSupportLevel,\n\tstdout: getSupportLevel({isTTY: tty.isatty(1)}),\n\tstderr: getSupportLevel({isTTY: tty.isatty(2)})\n};\n","// Returns a wrapper function that returns a wrapped callback\n// The wrapper function should do some stuff, and return a\n// presumably different callback function.\n// This makes sure that own properties are retained, so that\n// decorations and such are not lost along the way.\nmodule.exports = wrappy\nfunction wrappy (fn, cb) {\n  if (fn && cb) return wrappy(fn)(cb)\n\n  if (typeof fn !== 'function')\n    throw new TypeError('need wrapper function')\n\n  Object.keys(fn).forEach(function (k) {\n    wrapper[k] = fn[k]\n  })\n\n  return wrapper\n\n  function wrapper() {\n    var args = new Array(arguments.length)\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n    var ret = fn.apply(this, args)\n    var cb = args[args.length-1]\n    if (typeof ret === 'function' && ret !== cb) {\n      Object.keys(cb).forEach(function (k) {\n        ret[k] = cb[k]\n      })\n    }\n    return ret\n  }\n}\n","module.exports = require(\"vscode\");","module.exports = require(\"assert\");","module.exports = require(\"child_process\");","module.exports = require(\"constants\");","module.exports = require(\"crypto\");","module.exports = require(\"dns\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nmodule.exports = _asyncToGenerator, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(e) {\n  return e && e.__esModule ? e : {\n    \"default\": e\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nmodule.exports = toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nmodule.exports = toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/*!\n * Axios Cache Interceptor 1.6.2\n * (c) 2021-present Arthur Fiorette & Contributors\n * Released under the MIT License.\n */\nvar cacheParser = require('cache-parser');\nvar fastDefer = require('fast-defer');\nvar objectCode = require('object-code');\n\nconst Header = Object.freeze({\n  /**\n   * ```txt\n   * If-Modified-Since: <day-name>, <day> <month> <year> <hour>:<minute>:<second> GMT\n   * ```\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-Modified-Since\n   */\n  IfModifiedSince: 'if-modified-since',\n  /**\n   * ```txt\n   * Last-Modified: <day-name>, <day> <month> <year> <hour>:<minute>:<second> GMT\n   * ```\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified\n   */\n  LastModified: 'last-modified',\n  /**\n   * ```txt\n   * If-None-Match: \"<etag_value>\"\n   * If-None-Match: \"<etag_value>\", \"<etag_value>\", \n   * If-None-Match: *\n   * ```\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/If-None-Match\n   */\n  IfNoneMatch: 'if-none-match',\n  /**\n   * ```txt\n   * Cache-Control: max-age=604800\n   * ```\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Cache-Control\n   */\n  CacheControl: 'cache-control',\n  /**\n   * ```txt\n   * Pragma: no - cache;\n   * ```\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Pragma\n   */\n  Pragma: 'pragma',\n  /**\n   * ```txt\n   * ETag: W / '<etag_value>';\n   * ETag: '<etag_value>';\n   * ```\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/ETag\n   */\n  ETag: 'etag',\n  /**\n   * ```txt\n   * Expires: <http-date>\n   * ```\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Expires\n   */\n  Expires: 'expires',\n  /**\n   * ```txt\n   * Age: <delta-seconds>\n   * ```\n   *\n   * @link https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Age\n   */\n  Age: 'age',\n  /**\n   * Used internally as metadata to mark the cache item as revalidatable and enabling\n   * stale cache state Contains a string of ASCII characters that can be used as ETag for\n   * `If-Match` header Provided by user using `cache.etag` value.\n   *\n   * ```txt\n   * X-Axios-Cache-Etag: \"<etag_value>\"\n   * ```\n   */\n  XAxiosCacheEtag: 'x-axios-cache-etag',\n  /**\n   * Used internally as metadata to mark the cache item as revalidatable and enabling\n   * stale cache state may contain `'use-cache-timestamp'` if `cache.modifiedSince` is\n   * `true`, otherwise will contain a date from `cache.modifiedSince`. If a date is\n   * provided, it can be used for `If-Modified-Since` header, otherwise the cache\n   * timestamp can be used for `If-Modified-Since` header.\n   *\n   * ```txt\n   * X-Axios-Cache-Last-Modified: <day-name>, <day> <month> <year> <hour>:<minute>:<second> GMT\n   * X-Axios-Cache-Last-Modified: use-cache-timestamp\n   * ```\n   */\n  XAxiosCacheLastModified: 'x-axios-cache-last-modified',\n  /**\n   * Used internally as metadata to mark the cache item able to be used if the server\n   * returns an error. The stale-if-error response directive indicates that the cache can\n   * reuse a stale response when any error occurs.\n   *\n   * ```txt\n   * XAxiosCacheStaleIfError: <seconds>\n   * ```\n   */\n  XAxiosCacheStaleIfError: 'x-axios-cache-stale-if-error'\n});\n\nconst defaultHeaderInterpreter = headers => {\n  if (!headers) return 'not enough headers';\n  const cacheControl = headers[Header.CacheControl];\n  if (cacheControl) {\n    const {\n      noCache,\n      noStore,\n      maxAge,\n      maxStale,\n      immutable,\n      staleWhileRevalidate\n    } = cacheParser.parse(String(cacheControl));\n    // Header told that this response should not be cached.\n    if (noCache || noStore) {\n      return 'dont cache';\n    }\n    if (immutable) {\n      // 1 year is sufficient, as Infinity may cause problems with certain storages.\n      // It might not be the best way, but a year is better than none. Facebook shows\n      // that a browser session stays at the most 1 month.\n      return {\n        cache: 1000 * 60 * 60 * 24 * 365\n      };\n    }\n    if (maxAge !== undefined) {\n      const age = headers[Header.Age];\n      return {\n        cache: age ?\n        // If age is present, we must subtract it from maxAge\n        (maxAge - Number(age)) * 1000 : maxAge * 1000,\n        // Already out of date, must be requested again\n        stale:\n        // I couldn't find any documentation about who should be used, as they\n        // are not meant to overlap each other. But, as we cannot request in the\n        // background, as the stale-while-revalidate says, and we just increase\n        // its staleTtl when its present, max-stale is being preferred over\n        // stale-while-revalidate.\n        maxStale !== undefined ? maxStale * 1000 : staleWhileRevalidate !== undefined ? staleWhileRevalidate * 1000 : undefined\n      };\n    }\n  }\n  const expires = headers[Header.Expires];\n  if (expires) {\n    const milliseconds = Date.parse(String(expires)) - Date.now();\n    return milliseconds >= 0 ? {\n      cache: milliseconds\n    } : 'dont cache';\n  }\n  return 'not enough headers';\n};\n\n/**\n * Creates a new validateStatus function that will use the one already used and also\n * accept status code 304.\n */\nfunction createValidateStatus(oldValidate) {\n  return oldValidate ? status => oldValidate(status) || status === 304 : status => status >= 200 && status < 300 || status === 304;\n}\n/** Checks if the given method is in the methods array */\nfunction isMethodIn(requestMethod = 'get', methodList = []) {\n  requestMethod = requestMethod.toLowerCase();\n  return methodList.some(method => method === requestMethod);\n}\n/**\n * This function updates the cache when the request is stale. So, the next request to the\n * server will be made with proper header / settings.\n */\nfunction updateStaleRequest(cache, config) {\n  config.headers || (config.headers = {});\n  const {\n    etag,\n    modifiedSince\n  } = config.cache;\n  if (etag) {\n    var _cache$data;\n    const etagValue = etag === true ? (_cache$data = cache.data) == null ? void 0 : _cache$data.headers[Header.ETag] : etag;\n    if (etagValue) {\n      config.headers[Header.IfNoneMatch] = etagValue;\n    }\n  }\n  if (modifiedSince) {\n    config.headers[Header.IfModifiedSince] = modifiedSince === true ?\n    // If last-modified is not present, use the createdAt timestamp\n    cache.data.headers[Header.LastModified] || new Date(cache.createdAt).toUTCString() : modifiedSince.toUTCString();\n  }\n}\n/**\n * Creates the new date to the cache by the provided response. Also handles possible 304\n * Not Modified by updating response properties.\n */\nfunction createCacheResponse(response, previousCache) {\n  if (response.status === 304 && previousCache) {\n    // Set the cache information into the response object\n    response.cached = true;\n    response.data = previousCache.data;\n    response.status = previousCache.status;\n    response.statusText = previousCache.statusText;\n    // Update possible new headers\n    response.headers = {\n      ...previousCache.headers,\n      ...response.headers\n    };\n    // return the old cache\n    return previousCache;\n  }\n  // New Response\n  return {\n    data: response.data,\n    status: response.status,\n    statusText: response.statusText,\n    headers: response.headers\n  };\n}\n\nfunction defaultRequestInterceptor(axios) {\n  const onFulfilled = async config => {\n    config.id = axios.generateKey(config);\n    if (config.cache === false) {\n      return config;\n    }\n    // merge defaults with per request configuration\n    config.cache = {\n      ...axios.defaults.cache,\n      ...config.cache\n    };\n    if (typeof config.cache.cachePredicate === 'object' && config.cache.cachePredicate.ignoreUrls && config.url) {\n      for (const url of config.cache.cachePredicate.ignoreUrls) {\n        if (url instanceof RegExp ? (\n        // Handles stateful regexes\n        // biome-ignore lint: reduces the number of checks\n        url.lastIndex = 0, url.test(config.url)) : config.url.includes(url)) {\n          return config;\n        }\n      }\n    }\n    // Applies sufficient headers to prevent other cache systems to work along with this one\n    //\n    // Its currently used before isMethodIn because if the isMethodIn returns false, the request\n    // shouldn't be cached an therefore neither in the browser.\n    if (config.cache.cacheTakeover) {\n      var _config$headers, _Header$CacheControl, _config$headers$_Head, _config$headers2, _Header$Pragma, _config$headers2$_Hea, _config$headers3, _Header$Expires, _config$headers3$_Hea;\n      (_config$headers$_Head = (_config$headers = config.headers)[_Header$CacheControl = Header.CacheControl]) != null ? _config$headers$_Head : _config$headers[_Header$CacheControl] = 'no-cache';\n      (_config$headers2$_Hea = (_config$headers2 = config.headers)[_Header$Pragma = Header.Pragma]) != null ? _config$headers2$_Hea : _config$headers2[_Header$Pragma] = 'no-cache';\n      (_config$headers3$_Hea = (_config$headers3 = config.headers)[_Header$Expires = Header.Expires]) != null ? _config$headers3$_Hea : _config$headers3[_Header$Expires] = '0';\n    }\n    if (!isMethodIn(config.method, config.cache.methods)) {\n      return config;\n    }\n    // Assumes that the storage handled staled responses\n    let cache = await axios.storage.get(config.id, config);\n    const overrideCache = config.cache.override;\n    // Not cached, continue the request, and mark it as fetching\n    // biome-ignore lint/suspicious/noConfusingLabels: required to break condition in simultaneous accesses\n    ignoreAndRequest: if (cache.state === 'empty' || cache.state === 'stale' || cache.state === 'must-revalidate' || overrideCache) {\n      // This checks for simultaneous access to a new key. The js event loop jumps on the\n      // first await statement, so the second (asynchronous call) request may have already\n      // started executing.\n      if (axios.waiting.has(config.id) && !overrideCache) {\n        cache = await axios.storage.get(config.id, config);\n        // @ts-expect-error This check is required when a request has it own cache deleted manually, lets\n        // say by a `axios.storage.delete(key)` and has a concurrent loading request.\n        // Because in this case, the cache will be empty and may still has a pending key\n        // on waiting map.\n        if (cache.state !== 'empty' && cache.state !== 'must-revalidate') {\n          break ignoreAndRequest;\n        }\n      }\n      // Create a deferred to resolve other requests for the same key when it's completed\n      const def = fastDefer.deferred();\n      axios.waiting.set(config.id, def);\n      // Adds a default reject handler to catch when the request gets aborted without\n      // others waiting for it.\n      def.catch(() => undefined);\n      await axios.storage.set(config.id, {\n        state: 'loading',\n        previous: overrideCache ?\n        // Simply determine if the request is stale or not\n        // based if it had previous data or not\n        cache.data ? 'stale' : 'empty' :\n        // Typescript doesn't know that cache.state here can only be 'empty' or 'stale'\n        cache.state,\n        data: cache.data,\n        // If the cache is empty and asked to override it, use the current timestamp\n        createdAt: overrideCache && !cache.createdAt ? Date.now() : cache.createdAt\n      }, config);\n      if (cache.state === 'stale' || cache.state === 'must-revalidate') {\n        updateStaleRequest(cache, config);\n      }\n      config.validateStatus = createValidateStatus(config.validateStatus);\n      // Hydrates any UI temporarily, if cache is available\n      if (cache.state === 'stale' || cache.data && cache.state !== 'must-revalidate') {\n        await (config.cache.hydrate == null ? void 0 : config.cache.hydrate(cache));\n      }\n      return config;\n    }\n    let cachedResponse;\n    if (cache.state === 'loading') {\n      const deferred = axios.waiting.get(config.id);\n      // The deferred may not exists when the process is using a persistent\n      // storage and cancelled  in the middle of a request, this would result in\n      // a pending loading state in the storage but no current promises to resolve\n      if (!deferred) {\n        // Hydrates any UI temporarily, if cache is available\n        if (cache.data) {\n          await (config.cache.hydrate == null ? void 0 : config.cache.hydrate(cache));\n        }\n        return config;\n      }\n      try {\n        // Deferred can't reuse the value because the user's storage might clone\n        // or mutate the value, so we need to ask it again.\n        // For example with memoryStorage + cloneData\n        await deferred;\n        const state = await axios.storage.get(config.id, config);\n        // This is a cache mismatch and should never happen, but in case it does,\n        // we need to redo the request all over again.\n        /* c8 ignore start */\n        if (!state.data) {\n          if (false) ;\n          return onFulfilled(config);\n        }\n        /* c8 ignore end */\n        cachedResponse = state.data;\n      } catch (err) {\n        // Hydrates any UI temporarily, if cache is available\n        /* c8 ignore start */\n        if (cache.data) {\n          await (config.cache.hydrate == null ? void 0 : config.cache.hydrate(cache));\n        }\n        /* c8 ignore end */\n        // The deferred is rejected when the request that we are waiting rejects its cache.\n        // In this case, we need to redo the request all over again.\n        return onFulfilled(config);\n      }\n    } else {\n      cachedResponse = cache.data;\n    }\n    // The cached data is already transformed after receiving the response from the server.\n    // Reapplying the transformation on the transformed data will have an unintended effect.\n    // Since the cached data is already in the desired format, there is no need to apply the transformation function again.\n    config.transformResponse = undefined;\n    // Even though the response interceptor receives this one from here,\n    // it has been configured to ignore cached responses = true\n    config.adapter = function cachedAdapter() {\n      return Promise.resolve({\n        config,\n        data: cachedResponse.data,\n        headers: cachedResponse.headers,\n        status: cachedResponse.status,\n        statusText: cachedResponse.statusText,\n        cached: true,\n        stale: cache.previous === 'stale',\n        id: config.id\n      });\n    };\n    return config;\n  };\n  return {\n    onFulfilled,\n    apply: () => axios.interceptors.request.use(onFulfilled)\n  };\n}\n\n/** Tests an response against a {@link CachePredicateObject}. */\nasync function testCachePredicate(response, predicate) {\n  if (typeof predicate === 'function') {\n    return predicate(response);\n  }\n  const {\n    statusCheck,\n    responseMatch,\n    containsHeaders\n  } = predicate;\n  if (statusCheck && !(await statusCheck(response.status)) || responseMatch && !(await responseMatch(response))) {\n    return false;\n  }\n  if (containsHeaders) {\n    for (const [header, predicate] of Object.entries(containsHeaders)) {\n      var _response$headers$hea;\n      if (!(await predicate( // Avoid bugs in case the header is not in lower case\n      (_response$headers$hea = response.headers[header.toLowerCase()]) != null ? _response$headers$hea : response.headers[header]))) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\n/** Function to update all caches, from CacheProperties.update, with the new data. */\nasync function updateCache(storage, data, cacheUpdater) {\n  // Global cache update function.\n  if (typeof cacheUpdater === 'function') {\n    return cacheUpdater(data);\n  }\n  for (const [cacheKey, updater] of Object.entries(cacheUpdater)) {\n    if (updater === 'delete') {\n      await storage.remove(cacheKey, data.config);\n      continue;\n    }\n    const value = await storage.get(cacheKey, data.config);\n    if (value.state === 'loading') {\n      continue;\n    }\n    const newValue = await updater(value, data);\n    if (newValue === 'delete') {\n      await storage.remove(cacheKey, data.config);\n      continue;\n    }\n    if (newValue !== 'ignore') {\n      await storage.set(cacheKey, newValue, data.config);\n    }\n  }\n}\n\nfunction defaultResponseInterceptor(axios) {\n  /**\n   * Rejects cache for an response response.\n   *\n   * Also update the waiting list for this key by rejecting it.\n   */\n  const rejectResponse = async (responseId, config, clearCache) => {\n    // Updates the cache to empty to prevent infinite loading state\n    if (clearCache) {\n      await axios.storage.remove(responseId, config);\n    }\n    // Rejects the deferred, if present\n    const deferred = axios.waiting.get(responseId);\n    if (deferred) {\n      deferred.reject();\n      axios.waiting.delete(responseId);\n    }\n  };\n  const onFulfilled = async response => {\n    var _response$cached;\n    // When response.config is not present, the response is indeed a error.\n    if (!(response != null && response.config)) {\n      // Re-throws the error\n      throw response;\n    }\n    response.id = response.config.id;\n    (_response$cached = response.cached) != null ? _response$cached : response.cached = false;\n    const config = response.config;\n    // Request interceptor merges defaults with per request configuration\n    const cacheConfig = config.cache;\n    // Response is already cached\n    if (response.cached) {\n      return response;\n    }\n    // Skip cache: either false or weird behavior\n    // config.cache should always exists, at least from global config merge.\n    if (!cacheConfig) {\n      response.cached = false;\n      return response;\n    }\n    // Update other entries before updating himself\n    if (cacheConfig.update) {\n      await updateCache(axios.storage, response, cacheConfig.update);\n    }\n    if (!isMethodIn(config.method, cacheConfig.methods)) {\n      return response;\n    }\n    const cache = await axios.storage.get(response.id, config);\n    if (\n    // If the request interceptor had a problem or it wasn't cached\n    cache.state !== 'loading') {\n      return response;\n    }\n    // Config told that this response should be cached.\n    if (\n    // For 'loading' values (previous: stale), this check already ran in the past.\n    !cache.data && !(await testCachePredicate(response, cacheConfig.cachePredicate))) {\n      await rejectResponse(response.id, config, true);\n      return response;\n    }\n    // Avoid remnant headers from remote server to break implementation\n    for (const header of Object.keys(response.headers)) {\n      if (header.startsWith('x-axios-cache')) {\n        delete response.headers[header];\n      }\n    }\n    if (cacheConfig.etag && cacheConfig.etag !== true) {\n      response.headers[Header.XAxiosCacheEtag] = cacheConfig.etag;\n    }\n    if (cacheConfig.modifiedSince) {\n      response.headers[Header.XAxiosCacheLastModified] = cacheConfig.modifiedSince === true ? 'use-cache-timestamp' : cacheConfig.modifiedSince.toUTCString();\n    }\n    let ttl = cacheConfig.ttl || -1; // always set from global config\n    let staleTtl;\n    if (cacheConfig.interpretHeader) {\n      const expirationTime = axios.headerInterpreter(response.headers);\n      // Cache should not be used\n      if (expirationTime === 'dont cache') {\n        await rejectResponse(response.id, config, true);\n        return response;\n      }\n      if (expirationTime !== 'not enough headers') {\n        if (typeof expirationTime === 'number') {\n          ttl = expirationTime;\n        } else {\n          ttl = expirationTime.cache;\n          staleTtl = expirationTime.stale;\n        }\n      }\n    }\n    const data = createCacheResponse(response, cache.data);\n    if (typeof ttl === 'function') {\n      ttl = await ttl(response);\n    }\n    if (cacheConfig.staleIfError) {\n      response.headers[Header.XAxiosCacheStaleIfError] = String(ttl);\n    }\n    const newCache = {\n      state: 'cached',\n      ttl,\n      staleTtl,\n      createdAt: Date.now(),\n      data\n    };\n    // Define this key as cache on the storage\n    await axios.storage.set(response.id, newCache, config);\n    // Resolve all other requests waiting for this response\n    const waiting = axios.waiting.get(response.id);\n    if (waiting) {\n      waiting.resolve();\n      axios.waiting.delete(response.id);\n    }\n    // Return the response with cached as false, because it was not cached at all\n    return response;\n  };\n  const onRejected = async error => {\n    // When response.config is not present, the response is indeed a error.\n    if (!error.isAxiosError || !error.config) {\n      // We should probably re-request the response to avoid an infinite loading state here\n      // but, since this is an unknown error, we cannot figure out what request ID to use.\n      // And the only solution is to let the storage actively reject the current loading state.\n      throw error;\n    }\n    const config = error.config;\n    const id = config.id;\n    const cacheConfig = config.cache;\n    const response = error.response;\n    // config.cache should always exist, at least from global config merge.\n    if (!cacheConfig || !id) {\n      throw error;\n    }\n    if (!isMethodIn(config.method, cacheConfig.methods)) {\n      // Rejects all other requests waiting for this response\n      await rejectResponse(id, config, true);\n      throw error;\n    }\n    const cache = await axios.storage.get(id, config);\n    if (\n    // This will only not be loading if the interceptor broke\n    cache.state !== 'loading' || cache.previous !== 'stale') {\n      // Rejects all other requests waiting for this response\n      await rejectResponse(id, config,\n      // Do not clear cache if this request is cached, but the request was cancelled before returning the cached response\n      error.code !== 'ERR_CANCELED' || error.code === 'ERR_CANCELED' && cache.state !== 'cached');\n      throw error;\n    }\n    if (cacheConfig.staleIfError) {\n      const cacheControl = String(response == null ? void 0 : response.headers[Header.CacheControl]);\n      const staleHeader = cacheControl && cacheParser.parse(cacheControl).staleIfError;\n      const staleIfError = typeof cacheConfig.staleIfError === 'function' ? await cacheConfig.staleIfError(response, cache, error) : cacheConfig.staleIfError === true && staleHeader ? staleHeader * 1000 //staleIfError is in seconds\n      : cacheConfig.staleIfError;\n      if (staleIfError === true ||\n      // staleIfError is the number of seconds that stale is allowed to be used\n      typeof staleIfError === 'number' && cache.createdAt + staleIfError > Date.now()) {\n        // re-mark the cache as stale\n        await axios.storage.set(id, {\n          state: 'stale',\n          createdAt: Date.now(),\n          data: cache.data\n        }, config);\n        // Resolve all other requests waiting for this response\n        const waiting = axios.waiting.get(id);\n        if (waiting) {\n          waiting.resolve();\n          axios.waiting.delete(id);\n        }\n        return {\n          cached: true,\n          stale: true,\n          config,\n          id,\n          data: cache.data.data,\n          headers: cache.data.headers,\n          status: cache.data.status,\n          statusText: cache.data.statusText\n        };\n      }\n    }\n    // Rejects all other requests waiting for this response\n    await rejectResponse(id, config, true);\n    throw error;\n  };\n  return {\n    onFulfilled,\n    onRejected,\n    apply: () => axios.interceptors.response.use(onFulfilled, onRejected)\n  };\n}\n\n/** Returns true if the provided object was created from {@link buildStorage} function. */\nconst isStorage = obj => !!obj && !!obj['is-storage'];\nfunction hasUniqueIdentifierHeader(value) {\n  const headers = value.data.headers;\n  return Header.ETag in headers || Header.LastModified in headers || Header.XAxiosCacheEtag in headers || Header.XAxiosCacheLastModified in headers;\n}\n/** Returns true if value must be revalidated */\nfunction mustRevalidate(value) {\n  // Must revalidate is a special case and should not serve stale values\n  // We could use cache-control's parse function, but this is way faster and simpler\n  return String(value.data.headers[Header.CacheControl]).includes('must-revalidate');\n}\n/** Returns true if this has sufficient properties to stale instead of expire. */\nfunction canStale(value) {\n  if (hasUniqueIdentifierHeader(value)) {\n    return true;\n  }\n  return value.state === 'cached' && value.staleTtl !== undefined &&\n  // Only allow stale values after the ttl is already in the past and the staleTtl is in the future.\n  // In cases that just createdAt + ttl > Date.now(), isn't enough because the staleTtl could be <= 0.\n  // This logic only returns true when Date.now() is between the (createdAt + ttl) and (createdAt + ttl + staleTtl).\n  // Following the example below:\n  // |--createdAt--:--ttl--:---staleTtl--->\n  // [        past        ][now is in here]\n  Math.abs(Date.now() - (value.createdAt + value.ttl)) <= value.staleTtl;\n}\n/**\n * Checks if the provided cache is expired. You should also check if the cache\n * {@link canStale} and {@link mayUseStale}\n */\nfunction isExpired(value) {\n  return value.ttl !== undefined && value.createdAt + value.ttl <= Date.now();\n}\n/**\n * All integrated storages are wrappers around the `buildStorage` function. External\n * libraries use it and if you want to build your own, `buildStorage` is the way to go!\n *\n * The exported `buildStorage` function abstracts the storage interface and requires a\n * super simple object to build the storage.\n *\n * **Note**: You can only create an custom storage with this function.\n *\n * @example\n *\n * ```js\n * const myStorage = buildStorage({\n *   find: () => {...},\n *   set: () => {...},\n *   remove: () => {...},\n *   clear: () => {...}\n * });\n *\n * const axios = setupCache(axios, { storage: myStorage });\n * ```\n *\n * @see https://axios-cache-interceptor.js.org/guide/storages#buildstorage\n */\nfunction buildStorage({\n  set,\n  find,\n  remove,\n  clear\n}) {\n  return {\n    //@ts-expect-error - we don't want to expose this\n    'is-storage': 1,\n    set,\n    remove,\n    clear,\n    get: async (key, config) => {\n      let value = await find(key, config);\n      if (!value) {\n        return {\n          state: 'empty'\n        };\n      }\n      if (value.state === 'empty' || value.state === 'loading' || value.state === 'must-revalidate') {\n        return value;\n      }\n      // Handle cached values\n      if (value.state === 'cached') {\n        if (!isExpired(value)) {\n          return value;\n        }\n        // Tries to stale expired value\n        if (!canStale(value)) {\n          await remove(key, config);\n          return {\n            state: 'empty'\n          };\n        }\n        value = {\n          state: 'stale',\n          createdAt: value.createdAt,\n          data: value.data,\n          ttl: value.staleTtl !== undefined ? value.staleTtl + value.ttl : undefined\n        };\n        await set(key, value, config);\n        // Must revalidate is a special case and should not serve stale values\n        if (mustRevalidate(value)) {\n          return {\n            ...value,\n            state: 'must-revalidate'\n          };\n        }\n      }\n      // A second check in case the new stale value was created already expired.\n      if (!isExpired(value)) {\n        return value;\n      }\n      if (hasUniqueIdentifierHeader(value)) {\n        return value;\n      }\n      await remove(key, config);\n      return {\n        state: 'empty'\n      };\n    }\n  };\n}\n\n/* c8 ignore start */\n/**\n * Clones an object using the structured clone algorithm if available, otherwise\n * it uses JSON.parse(JSON.stringify(value)).\n */\nconst clone =\n// https://caniuse.com/mdn-api_structuredclone (10/18/2023 92.51%)\ntypeof structuredClone === 'function' ? structuredClone : value => JSON.parse(JSON.stringify(value));\n/* c8 ignore stop */\n/**\n * Creates a simple in-memory storage. This means that if you need to persist data between\n * page or server reloads, this will not help.\n *\n * This is the storage used by default.\n *\n * If you need to modify it's data, you can do by the `data` property.\n *\n * @example\n *\n * ```js\n * const memoryStorage = buildMemoryStorage();\n *\n * setupCache(axios, { storage: memoryStorage });\n *\n * // Simple example to force delete the request cache\n *\n * const { id } = axios.get('url');\n *\n * delete memoryStorage.data[id];\n * ```\n *\n * @param {boolean | 'double'} cloneData Use `true` if the data returned by `find()`\n *   should be cloned to avoid mutating the original data outside the `set()` method. Use\n *   `'double'` to also clone before saving value in storage using `set()`. Disabled is\n *   default\n * @param {number | false} cleanupInterval The interval in milliseconds to run a\n *   setInterval job of cleaning old entries. If false, the job will not be created.\n *   Disabled is default\n * @param {number | false} maxEntries The maximum number of entries to keep in the\n *   storage. Its hard to determine the size of the entries, so a smart FIFO order is used\n *   to determine eviction. If false, no check will be done and you may grow up memory\n *   usage. Disabled is default\n */\nfunction buildMemoryStorage(cloneData = false, cleanupInterval = false, maxEntries = false) {\n  const storage = buildStorage({\n    set: (key, value) => {\n      if (maxEntries) {\n        let keys = Object.keys(storage.data);\n        // Tries to cleanup first\n        if (keys.length >= maxEntries) {\n          storage.cleanup();\n          // Recalculates the keys\n          keys = Object.keys(storage.data);\n          // Keeps deleting until there's space\n          while (keys.length >= maxEntries) {\n            // There's always at least one key here, otherwise it would not be\n            // in the loop.\n            delete storage.data[keys.shift()];\n          }\n        }\n      }\n      // Clone the value before storing to prevent future mutations\n      // from affecting cached data.\n      storage.data[key] = cloneData === 'double' ? clone(value) : value;\n    },\n    remove: key => {\n      delete storage.data[key];\n    },\n    find: key => {\n      const value = storage.data[key];\n      return cloneData && value !== undefined ? clone(value) : value;\n    },\n    clear: () => {\n      storage.data = Object.create(null);\n    }\n  });\n  storage.data = Object.create(null);\n  // When this program gets running for more than the specified interval, there's a good\n  // chance of it being a long-running process or at least have a lot of entries. Therefore,\n  // \"faster\" loop is more important than code readability.\n  storage.cleanup = () => {\n    const keys = Object.keys(storage.data);\n    let i = -1;\n    let value;\n    let key;\n    // Looping forward, as older entries are more likely to be expired\n    // than newer ones.\n    while (++i < keys.length) {\n      key = keys[i];\n      value = storage.data[key];\n      if (value.state === 'empty') {\n        storage.remove(key);\n        continue;\n      }\n      // If the value is expired and can't be stale, remove it\n      if (value.state === 'cached' && isExpired(value) && !canStale(value)) {\n        // this storage returns void.\n        storage.remove(key);\n      }\n    }\n  };\n  if (cleanupInterval) {\n    storage.cleaner = setInterval(storage.cleanup, cleanupInterval);\n  }\n  return storage;\n}\n\n// Remove first and last '/' char, if present\nconst SLASHES_REGEX = /^\\/|\\/$/g;\n/**\n * Builds an generator that receives a {@link CacheRequestConfig} and returns a value\n * hashed by {@link hash}.\n *\n * The value is hashed into a signed integer when the returned value from the provided\n * generator is not a `string` or a `number`.\n *\n * You can return any type of data structure.\n *\n * @example\n *\n * ```js\n * // This generator will return a hash code.\n * // The code will only be the same if url, method and data are the same.\n * const generator = buildKeyGenerator(({ url, method, data }) => ({\n *   url,\n *   method,\n *   data\n * }));\n * ```\n */\nfunction buildKeyGenerator(generator) {\n  return request => {\n    if (request.id) {\n      return request.id;\n    }\n    const key = generator(request);\n    if (typeof key === 'string' || typeof key === 'number') {\n      return `${key}`;\n    }\n    return `${objectCode.hash(key)}`;\n  };\n}\nconst defaultKeyGenerator = buildKeyGenerator(({\n  baseURL,\n  url,\n  method,\n  params,\n  data\n}) => {\n  // Remove trailing slashes to avoid generating different keys for the \"same\" final url.\n  if (baseURL !== undefined) {\n    baseURL = baseURL.replace(SLASHES_REGEX, '');\n  } else {\n    // just to have a consistent hash\n    baseURL = '';\n  }\n  if (url !== undefined) {\n    url = url.replace(SLASHES_REGEX, '');\n  } else {\n    // just to have a consistent hash\n    url = '';\n  }\n  if (method !== undefined) {\n    method = method.toLowerCase();\n  } else {\n    // just to have a consistent hash\n    method = 'get';\n  }\n  return {\n    url: baseURL + (baseURL && url ? '/' : '') + url,\n    params: params,\n    method: method,\n    data: data\n  };\n});\n\n/**\n * Apply the caching interceptors for a already created axios instance.\n *\n * ```ts\n * const axios = setupCache(axios, OPTIONS);\n * ```\n *\n * The `setupCache` function receives global options and all [request\n * specifics](https://axios-cache-interceptor.js.org/config/request-specifics) ones too.\n * This way, you can customize the defaults for all requests.\n *\n * @param axios The already created axios instance\n * @param config The config for the caching interceptors\n * @returns The same instance with extended typescript types.\n * @see https://axios-cache-interceptor.js.org/config\n */\nfunction setupCache(axios, options = {}) {\n  var _options$ttl, _options$etag, _options$modifiedSinc, _options$interpretHea, _options$cacheTakeove, _options$staleIfError, _options$override, _options$hydrate;\n  const axiosCache = axios;\n  if (axiosCache.defaults.cache) {\n    throw new Error('setupCache() should be called only once');\n  }\n  axiosCache.storage = options.storage || buildMemoryStorage();\n  if (!isStorage(axiosCache.storage)) {\n    throw new Error('Use buildStorage() function');\n  }\n  axiosCache.waiting = options.waiting || new Map();\n  axiosCache.generateKey = options.generateKey || defaultKeyGenerator;\n  axiosCache.headerInterpreter = options.headerInterpreter || defaultHeaderInterpreter;\n  axiosCache.requestInterceptor = options.requestInterceptor || defaultRequestInterceptor(axiosCache);\n  axiosCache.responseInterceptor = options.responseInterceptor || defaultResponseInterceptor(axiosCache);\n  axiosCache.debug = options.debug || function noop() {};\n  // CacheRequestConfig values\n  axiosCache.defaults.cache = {\n    update: options.update || {},\n    ttl: (_options$ttl = options.ttl) != null ? _options$ttl : 1000 * 60 * 5,\n    // Although RFC 7231 also marks POST as cacheable, most users don't know that\n    // and may have problems about why their \"create X\" route not working.\n    methods: options.methods || ['get', 'head'],\n    cachePredicate: options.cachePredicate || {\n      // All cacheable status codes defined in RFC 7231\n      statusCheck: status => [200, 203, 300, 301, 302, 404, 405, 410, 414, 501].includes(status)\n    },\n    etag: (_options$etag = options.etag) != null ? _options$etag : true,\n    // This option is going to be ignored by servers when ETag is enabled\n    // Checks strict equality to false to avoid undefined-ish values\n    modifiedSince: (_options$modifiedSinc = options.modifiedSince) != null ? _options$modifiedSinc : options.etag === false,\n    interpretHeader: (_options$interpretHea = options.interpretHeader) != null ? _options$interpretHea : true,\n    cacheTakeover: (_options$cacheTakeove = options.cacheTakeover) != null ? _options$cacheTakeove : true,\n    staleIfError: (_options$staleIfError = options.staleIfError) != null ? _options$staleIfError : true,\n    override: (_options$override = options.override) != null ? _options$override : false,\n    hydrate: (_options$hydrate = options.hydrate) != null ? _options$hydrate : undefined\n  };\n  // Apply interceptors\n  axiosCache.requestInterceptor.apply();\n  axiosCache.responseInterceptor.apply();\n  return axiosCache;\n}\n\n/**\n * Creates a simple storage. You can persist his data by using `sessionStorage` or\n * `localStorage` with it.\n *\n * **ImplNote**: Without polyfill, this storage only works on browser environments.\n *\n * @example\n *\n * ```js\n * const fromLocalStorage = buildWebStorage(localStorage);\n * const fromSessionStorage = buildWebStorage(sessionStorage);\n *\n * const myStorage = new Storage();\n * const fromMyStorage = buildWebStorage(myStorage);\n * ```\n *\n * @param storage The type of web storage to use. localStorage or sessionStorage.\n * @param prefix The prefix to index the storage. Useful to prevent collision between\n *   multiple places using the same storage.\n */\nfunction buildWebStorage(storage, prefix = 'axios-cache-') {\n  return buildStorage({\n    clear: () => {\n      for (const key in storage) {\n        if (key.startsWith(prefix)) {\n          storage.removeItem(key);\n        }\n      }\n    },\n    find: key => {\n      const json = storage.getItem(prefix + key);\n      return json ? JSON.parse(json) : undefined;\n    },\n    remove: key => {\n      storage.removeItem(prefix + key);\n    },\n    set: (key, value) => {\n      const save = () => storage.setItem(prefix + key, JSON.stringify(value));\n      try {\n        return save();\n      } catch (error) {\n        const allValues = Object.entries(storage).filter(item => item[0].startsWith(prefix)).map(item => [item[0], JSON.parse(item[1])]);\n        // Remove all expired values\n        for (const value of allValues) {\n          if (value[1].state === 'cached' && isExpired(value[1]) && !canStale(value[1])) {\n            storage.removeItem(value[0]);\n          }\n        }\n        // Try save again after removing expired values\n        try {\n          return save();\n        } catch {\n          // Storage still full, try removing the oldest value until it can be saved\n          // Descending sort by createdAt\n          const sortedItems = allValues.sort((a, b) => (a[1].createdAt || 0) - (b[1].createdAt || 0));\n          for (const item of sortedItems) {\n            storage.removeItem(item[0]);\n            try {\n              return save();\n            } catch {\n              // This key didn't free all the required space\n            }\n          }\n        }\n        // Clear the cache for the specified key\n        storage.removeItem(prefix + key);\n      }\n    }\n  });\n}\n\nexports.Header = Header;\nexports.buildKeyGenerator = buildKeyGenerator;\nexports.buildMemoryStorage = buildMemoryStorage;\nexports.buildStorage = buildStorage;\nexports.buildWebStorage = buildWebStorage;\nexports.canStale = canStale;\nexports.createCacheResponse = createCacheResponse;\nexports.createValidateStatus = createValidateStatus;\nexports.defaultHeaderInterpreter = defaultHeaderInterpreter;\nexports.defaultKeyGenerator = defaultKeyGenerator;\nexports.defaultRequestInterceptor = defaultRequestInterceptor;\nexports.defaultResponseInterceptor = defaultResponseInterceptor;\nexports.isExpired = isExpired;\nexports.isMethodIn = isMethodIn;\nexports.isStorage = isStorage;\nexports.mustRevalidate = mustRevalidate;\nexports.setupCache = setupCache;\nexports.testCachePredicate = testCachePredicate;\nexports.updateCache = updateCache;\nexports.updateStaleRequest = updateStaleRequest;\n//# sourceMappingURL=index.cjs.map","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isNetworkError = isNetworkError;\nexports.isRetryableError = isRetryableError;\nexports.isSafeRequestError = isSafeRequestError;\nexports.isIdempotentRequestError = isIdempotentRequestError;\nexports.isNetworkOrIdempotentRequestError = isNetworkOrIdempotentRequestError;\nexports.exponentialDelay = exponentialDelay;\nexports.default = axiosRetry;\nexports.DEFAULT_OPTIONS = exports.namespace = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _isRetryAllowed = _interopRequireDefault(require(\"is-retry-allowed\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar namespace = 'axios-retry';\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\n\nexports.namespace = namespace;\n\nfunction isNetworkError(error) {\n  var CODE_EXCLUDE_LIST = ['ERR_CANCELED', 'ECONNABORTED'];\n  return !error.response && Boolean(error.code) && // Prevents retrying cancelled requests\n  !CODE_EXCLUDE_LIST.includes(error.code) && // Prevents retrying timed out & cancelled requests\n  (0, _isRetryAllowed.default)(error) // Prevents retrying unsafe errors\n  ;\n}\n\nvar SAFE_HTTP_METHODS = ['get', 'head', 'options'];\nvar IDEMPOTENT_HTTP_METHODS = SAFE_HTTP_METHODS.concat(['put', 'delete']);\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\n\nfunction isRetryableError(error) {\n  return error.code !== 'ECONNABORTED' && (!error.response || error.response.status >= 500 && error.response.status <= 599);\n}\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\n\n\nfunction isSafeRequestError(error) {\n  if (!error.config) {\n    // Cannot determine if the request can be retried\n    return false;\n  }\n\n  return isRetryableError(error) && SAFE_HTTP_METHODS.indexOf(error.config.method) !== -1;\n}\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\n\n\nfunction isIdempotentRequestError(error) {\n  if (!error.config) {\n    // Cannot determine if the request can be retried\n    return false;\n  }\n\n  return isRetryableError(error) && IDEMPOTENT_HTTP_METHODS.indexOf(error.config.method) !== -1;\n}\n/**\n * @param  {Error}  error\n * @return {boolean}\n */\n\n\nfunction isNetworkOrIdempotentRequestError(error) {\n  return isNetworkError(error) || isIdempotentRequestError(error);\n}\n/**\n * @return {number} - delay in milliseconds, always 0\n */\n\n\nfunction noDelay() {\n  return 0;\n}\n/**\n * Set delayFactor 1000 for an exponential delay to occur on the order\n * of seconds\n * @param  {number} [retryNumber=0]\n * @param  {Error}  error - unused; for existing API of retryDelay callback\n * @param  {number} [delayFactor=100] milliseconds\n * @return {number} - delay in milliseconds\n */\n\n\nfunction exponentialDelay() {\n  var retryNumber = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  var error = arguments.length > 1 ? arguments[1] : undefined;\n  var delayFactor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n  var delay = Math.pow(2, retryNumber) * delayFactor;\n  var randomSum = delay * 0.2 * Math.random(); // 0-20% of the delay\n\n  return delay + randomSum;\n}\n/** @type {IAxiosRetryConfig} */\n\n\nvar DEFAULT_OPTIONS = {\n  retries: 3,\n  retryCondition: isNetworkOrIdempotentRequestError,\n  retryDelay: noDelay,\n  shouldResetTimeout: false,\n  onRetry: function onRetry() {}\n};\n/**\n * Returns the axios-retry options for the current request\n * @param  {AxiosRequestConfig} config\n * @param  {IAxiosRetryConfig} defaultOptions\n * @return {IAxiosRetryConfigExtended}\n */\n\nexports.DEFAULT_OPTIONS = DEFAULT_OPTIONS;\n\nfunction getRequestOptions(config, defaultOptions) {\n  return _objectSpread(_objectSpread(_objectSpread({}, DEFAULT_OPTIONS), defaultOptions), config[namespace]);\n}\n/**\n * Initializes and returns the retry state for the given request/config\n * @param  {AxiosRequestConfig} config\n * @param  {IAxiosRetryConfig} defaultOptions\n * @return {IAxiosRetryConfigExtended}\n */\n\n\nfunction getCurrentState(config, defaultOptions) {\n  var currentState = getRequestOptions(config, defaultOptions);\n  currentState.retryCount = currentState.retryCount || 0;\n  config[namespace] = currentState;\n  return currentState;\n}\n/**\n * @param  {Axios} axios\n * @param  {AxiosRequestConfig} config\n */\n\n\nfunction fixConfig(axios, config) {\n  if (axios.defaults.agent === config.agent) {\n    delete config.agent;\n  }\n\n  if (axios.defaults.httpAgent === config.httpAgent) {\n    delete config.httpAgent;\n  }\n\n  if (axios.defaults.httpsAgent === config.httpsAgent) {\n    delete config.httpsAgent;\n  }\n}\n/**\n * Checks retryCondition if request can be retried. Handles it's returning value or Promise.\n * @param  {IAxiosRetryConfigExtended} currentState\n * @param  {Error} error\n * @return {Promise<boolean>}\n */\n\n\nfunction shouldRetry(_x, _x2) {\n  return _shouldRetry.apply(this, arguments);\n}\n/**\n * Adds response interceptors to an axios instance to retry requests failed due to network issues\n *\n * @example\n *\n * import axios from 'axios';\n *\n * axiosRetry(axios, { retries: 3 });\n *\n * axios.get('http://example.com/test') // The first request fails and the second returns 'ok'\n *   .then(result => {\n *     result.data; // 'ok'\n *   });\n *\n * // Exponential back-off retry delay between requests\n * axiosRetry(axios, { retryDelay : axiosRetry.exponentialDelay});\n *\n * // Custom retry delay\n * axiosRetry(axios, { retryDelay : (retryCount) => {\n *   return retryCount * 1000;\n * }});\n *\n * // Also works with custom axios instances\n * const client = axios.create({ baseURL: 'http://example.com' });\n * axiosRetry(client, { retries: 3 });\n *\n * client.get('/test') // The first request fails and the second returns 'ok'\n *   .then(result => {\n *     result.data; // 'ok'\n *   });\n *\n * // Allows request-specific configuration\n * client\n *   .get('/test', {\n *     'axios-retry': {\n *       retries: 0\n *     }\n *   })\n *   .catch(error => { // The first request fails\n *     error !== undefined\n *   });\n *\n * @param {Axios} axios An axios instance (the axios object or one created from axios.create)\n * @param {Object} [defaultOptions]\n * @param {number} [defaultOptions.retries=3] Number of retries\n * @param {boolean} [defaultOptions.shouldResetTimeout=false]\n *        Defines if the timeout should be reset between retries\n * @param {Function} [defaultOptions.retryCondition=isNetworkOrIdempotentRequestError]\n *        A function to determine if the error can be retried\n * @param {Function} [defaultOptions.retryDelay=noDelay]\n *        A function to determine the delay between retry requests\n * @param {Function} [defaultOptions.onRetry=()=>{}]\n *        A function to get notified when a retry occurs\n * @return {{ requestInterceptorId: number, responseInterceptorId: number }}\n *        The ids of the interceptors added to the request and to the response (so they can be ejected at a later time)\n */\n\n\nfunction _shouldRetry() {\n  _shouldRetry = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2(currentState, error) {\n    var retries, retryCondition, shouldRetryOrPromise, shouldRetryPromiseResult;\n    return _regenerator.default.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            retries = currentState.retries, retryCondition = currentState.retryCondition;\n            shouldRetryOrPromise = currentState.retryCount < retries && retryCondition(error); // This could be a promise\n\n            if (!((0, _typeof2.default)(shouldRetryOrPromise) === 'object')) {\n              _context2.next = 13;\n              break;\n            }\n\n            _context2.prev = 3;\n            _context2.next = 6;\n            return shouldRetryOrPromise;\n\n          case 6:\n            shouldRetryPromiseResult = _context2.sent;\n            return _context2.abrupt(\"return\", shouldRetryPromiseResult !== false);\n\n          case 10:\n            _context2.prev = 10;\n            _context2.t0 = _context2[\"catch\"](3);\n            return _context2.abrupt(\"return\", false);\n\n          case 13:\n            return _context2.abrupt(\"return\", shouldRetryOrPromise);\n\n          case 14:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[3, 10]]);\n  }));\n  return _shouldRetry.apply(this, arguments);\n}\n\nfunction axiosRetry(axios, defaultOptions) {\n  var requestInterceptorId = axios.interceptors.request.use(function (config) {\n    var currentState = getCurrentState(config, defaultOptions);\n    currentState.lastRequestTime = Date.now();\n    return config;\n  });\n  var responseInterceptorId = axios.interceptors.response.use(null, /*#__PURE__*/function () {\n    var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee(error) {\n      var config, currentState, retryDelay, shouldResetTimeout, onRetry, delay, lastRequestDuration, timeout;\n      return _regenerator.default.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              config = error.config; // If we have no information to retry the request\n\n              if (config) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Promise.reject(error));\n\n            case 3:\n              currentState = getCurrentState(config, defaultOptions);\n              _context.next = 6;\n              return shouldRetry(currentState, error);\n\n            case 6:\n              if (!_context.sent) {\n                _context.next = 21;\n                break;\n              }\n\n              currentState.retryCount += 1;\n              retryDelay = currentState.retryDelay, shouldResetTimeout = currentState.shouldResetTimeout, onRetry = currentState.onRetry;\n              delay = retryDelay(currentState.retryCount, error); // Axios fails merging this configuration to the default configuration because it has an issue\n              // with circular structures: https://github.com/mzabriskie/axios/issues/370\n\n              fixConfig(axios, config);\n\n              if (!(!shouldResetTimeout && config.timeout && currentState.lastRequestTime)) {\n                _context.next = 17;\n                break;\n              }\n\n              lastRequestDuration = Date.now() - currentState.lastRequestTime;\n              timeout = config.timeout - lastRequestDuration - delay;\n\n              if (!(timeout <= 0)) {\n                _context.next = 16;\n                break;\n              }\n\n              return _context.abrupt(\"return\", Promise.reject(error));\n\n            case 16:\n              config.timeout = timeout;\n\n            case 17:\n              config.transformRequest = [function (data) {\n                return data;\n              }];\n              _context.next = 20;\n              return onRetry(currentState.retryCount, error, config);\n\n            case 20:\n              return _context.abrupt(\"return\", new Promise(function (resolve) {\n                return setTimeout(function () {\n                  return resolve(axios(config));\n                }, delay);\n              }));\n\n            case 21:\n              return _context.abrupt(\"return\", Promise.reject(error));\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x3) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return {\n    requestInterceptorId: requestInterceptorId,\n    responseInterceptorId: responseInterceptorId\n  };\n} // Compatibility with CommonJS\n\n\naxiosRetry.isNetworkError = isNetworkError;\naxiosRetry.isSafeRequestError = isSafeRequestError;\naxiosRetry.isIdempotentRequestError = isIdempotentRequestError;\naxiosRetry.isNetworkOrIdempotentRequestError = isNetworkOrIdempotentRequestError;\naxiosRetry.exponentialDelay = exponentialDelay;\naxiosRetry.isRetryableError = isRetryableError;\n//# sourceMappingURL=index.js.map","// Axios v1.7.9 Copyright (c) 2024 Matt Zabriskie and contributors\n'use strict';\n\nconst FormData$1 = require('form-data');\nconst url = require('url');\nconst proxyFromEnv = require('proxy-from-env');\nconst http = require('http');\nconst https = require('https');\nconst util = require('util');\nconst followRedirects = require('follow-redirects');\nconst zlib = require('zlib');\nconst stream = require('stream');\nconst events = require('events');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nconst FormData__default = /*#__PURE__*/_interopDefaultLegacy(FormData$1);\nconst url__default = /*#__PURE__*/_interopDefaultLegacy(url);\nconst proxyFromEnv__default = /*#__PURE__*/_interopDefaultLegacy(proxyFromEnv);\nconst http__default = /*#__PURE__*/_interopDefaultLegacy(http);\nconst https__default = /*#__PURE__*/_interopDefaultLegacy(https);\nconst util__default = /*#__PURE__*/_interopDefaultLegacy(util);\nconst followRedirects__default = /*#__PURE__*/_interopDefaultLegacy(followRedirects);\nconst zlib__default = /*#__PURE__*/_interopDefaultLegacy(zlib);\nconst stream__default = /*#__PURE__*/_interopDefaultLegacy(stream);\n\nfunction bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n};\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n};\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n};\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  };\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n};\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n};\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n};\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n};\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n};\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n};\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n};\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n};\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n};\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n};\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  };\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n};\n\nconst noop = () => {};\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n};\n\nconst ALPHA = 'abcdefghijklmnopqrstuvwxyz';\n\nconst DIGIT = '0123456789';\n\nconst ALPHABET = {\n  DIGIT,\n  ALPHA,\n  ALPHA_DIGIT: ALPHA + ALPHA.toUpperCase() + DIGIT\n};\n\nconst generateString = (size = 16, alphabet = ALPHABET.ALPHA_DIGIT) => {\n  let str = '';\n  const {length} = alphabet;\n  while (size--) {\n    str += alphabet[Math.random() * length|0];\n  }\n\n  return str;\n};\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  };\n\n  return visit(obj, 0);\n};\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\nconst utils$1 = {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  ALPHABET,\n  generateString,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap\n};\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils$1.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils$1.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype$1 = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype$1, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype$1);\n\n  utils$1.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils$1.isPlainObject(thing) || utils$1.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils$1.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils$1.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils$1.toFlatObject(utils$1, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (FormData__default[\"default\"] || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils$1.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils$1.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils$1.isSpecCompliantForm(formData);\n\n  if (!utils$1.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils$1.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils$1.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils$1.isArrayBuffer(value) || utils$1.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils$1.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils$1.isArray(value) && isFlatArray(value)) ||\n        ((utils$1.isFileList(value) || utils$1.endsWith(key, '[]')) && (arr = utils$1.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils$1.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils$1.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils$1.forEach(value, function each(el, key) {\n      const result = !(utils$1.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils$1.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils$1.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode$1(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode$1);\n  } : encode$1;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nfunction buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils$1.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils$1.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils$1.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nconst InterceptorManager$1 = InterceptorManager;\n\nconst transitionalDefaults = {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n\nconst URLSearchParams = url__default[\"default\"].URLSearchParams;\n\nconst platform$1 = {\n  isNode: true,\n  classes: {\n    URLSearchParams,\n    FormData: FormData__default[\"default\"],\n    Blob: typeof Blob !== 'undefined' && Blob || null\n  },\n  protocols: [ 'http', 'https', 'file', 'data' ]\n};\n\nconst hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nconst utils = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  hasBrowserEnv: hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv: hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv: hasStandardBrowserEnv,\n  navigator: _navigator,\n  origin: origin\n});\n\nconst platform = {\n  ...utils,\n  ...platform$1\n};\n\nfunction toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils$1.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils$1.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils$1.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils$1.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils$1.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils$1.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils$1.isFormData(formData) && utils$1.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils$1.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils$1.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils$1.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils$1.isObject(data);\n\n    if (isObjectPayload && utils$1.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils$1.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils$1.isArrayBuffer(data) ||\n      utils$1.isBuffer(data) ||\n      utils$1.isStream(data) ||\n      utils$1.isFile(data) ||\n      utils$1.isBlob(data) ||\n      utils$1.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils$1.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils$1.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils$1.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils$1.isResponse(data) || utils$1.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils$1.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils$1.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nconst defaults$1 = defaults;\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils$1.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nconst parseHeaders = rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils$1.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils$1.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils$1.isString(value)) return;\n\n  if (utils$1.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils$1.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils$1.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils$1.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils$1.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils$1.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite);\n    } else if(utils$1.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils$1.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils$1.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils$1.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils$1.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils$1.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils$1.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils$1.forEach(this, (value, header) => {\n      const key = utils$1.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils$1.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils$1.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils$1.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils$1.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils$1.freezeMethods(AxiosHeaders);\n\nconst AxiosHeaders$1 = AxiosHeaders;\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nfunction transformData(fns, response) {\n  const config = this || defaults$1;\n  const context = response || config;\n  const headers = AxiosHeaders$1.from(context.headers);\n  let data = context.data;\n\n  utils$1.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n\nfunction isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils$1.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nfunction settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nfunction isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nfunction combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nfunction buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n\nconst VERSION = \"1.7.9\";\n\nfunction parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n\nconst DATA_URL_PATTERN = /^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\\s\\S]*)$/;\n\n/**\n * Parse data uri to a Buffer or Blob\n *\n * @param {String} uri\n * @param {?Boolean} asBlob\n * @param {?Object} options\n * @param {?Function} options.Blob\n *\n * @returns {Buffer|Blob}\n */\nfunction fromDataURI(uri, asBlob, options) {\n  const _Blob = options && options.Blob || platform.classes.Blob;\n  const protocol = parseProtocol(uri);\n\n  if (asBlob === undefined && _Blob) {\n    asBlob = true;\n  }\n\n  if (protocol === 'data') {\n    uri = protocol.length ? uri.slice(protocol.length + 1) : uri;\n\n    const match = DATA_URL_PATTERN.exec(uri);\n\n    if (!match) {\n      throw new AxiosError('Invalid URL', AxiosError.ERR_INVALID_URL);\n    }\n\n    const mime = match[1];\n    const isBase64 = match[2];\n    const body = match[3];\n    const buffer = Buffer.from(decodeURIComponent(body), isBase64 ? 'base64' : 'utf8');\n\n    if (asBlob) {\n      if (!_Blob) {\n        throw new AxiosError('Blob is not supported', AxiosError.ERR_NOT_SUPPORT);\n      }\n\n      return new _Blob([buffer], {type: mime});\n    }\n\n    return buffer;\n  }\n\n  throw new AxiosError('Unsupported protocol ' + protocol, AxiosError.ERR_NOT_SUPPORT);\n}\n\nconst kInternals = Symbol('internals');\n\nclass AxiosTransformStream extends stream__default[\"default\"].Transform{\n  constructor(options) {\n    options = utils$1.toFlatObject(options, {\n      maxRate: 0,\n      chunkSize: 64 * 1024,\n      minChunkSize: 100,\n      timeWindow: 500,\n      ticksRate: 2,\n      samplesCount: 15\n    }, null, (prop, source) => {\n      return !utils$1.isUndefined(source[prop]);\n    });\n\n    super({\n      readableHighWaterMark: options.chunkSize\n    });\n\n    const internals = this[kInternals] = {\n      timeWindow: options.timeWindow,\n      chunkSize: options.chunkSize,\n      maxRate: options.maxRate,\n      minChunkSize: options.minChunkSize,\n      bytesSeen: 0,\n      isCaptured: false,\n      notifiedBytesLoaded: 0,\n      ts: Date.now(),\n      bytes: 0,\n      onReadCallback: null\n    };\n\n    this.on('newListener', event => {\n      if (event === 'progress') {\n        if (!internals.isCaptured) {\n          internals.isCaptured = true;\n        }\n      }\n    });\n  }\n\n  _read(size) {\n    const internals = this[kInternals];\n\n    if (internals.onReadCallback) {\n      internals.onReadCallback();\n    }\n\n    return super._read(size);\n  }\n\n  _transform(chunk, encoding, callback) {\n    const internals = this[kInternals];\n    const maxRate = internals.maxRate;\n\n    const readableHighWaterMark = this.readableHighWaterMark;\n\n    const timeWindow = internals.timeWindow;\n\n    const divider = 1000 / timeWindow;\n    const bytesThreshold = (maxRate / divider);\n    const minChunkSize = internals.minChunkSize !== false ? Math.max(internals.minChunkSize, bytesThreshold * 0.01) : 0;\n\n    const pushChunk = (_chunk, _callback) => {\n      const bytes = Buffer.byteLength(_chunk);\n      internals.bytesSeen += bytes;\n      internals.bytes += bytes;\n\n      internals.isCaptured && this.emit('progress', internals.bytesSeen);\n\n      if (this.push(_chunk)) {\n        process.nextTick(_callback);\n      } else {\n        internals.onReadCallback = () => {\n          internals.onReadCallback = null;\n          process.nextTick(_callback);\n        };\n      }\n    };\n\n    const transformChunk = (_chunk, _callback) => {\n      const chunkSize = Buffer.byteLength(_chunk);\n      let chunkRemainder = null;\n      let maxChunkSize = readableHighWaterMark;\n      let bytesLeft;\n      let passed = 0;\n\n      if (maxRate) {\n        const now = Date.now();\n\n        if (!internals.ts || (passed = (now - internals.ts)) >= timeWindow) {\n          internals.ts = now;\n          bytesLeft = bytesThreshold - internals.bytes;\n          internals.bytes = bytesLeft < 0 ? -bytesLeft : 0;\n          passed = 0;\n        }\n\n        bytesLeft = bytesThreshold - internals.bytes;\n      }\n\n      if (maxRate) {\n        if (bytesLeft <= 0) {\n          // next time window\n          return setTimeout(() => {\n            _callback(null, _chunk);\n          }, timeWindow - passed);\n        }\n\n        if (bytesLeft < maxChunkSize) {\n          maxChunkSize = bytesLeft;\n        }\n      }\n\n      if (maxChunkSize && chunkSize > maxChunkSize && (chunkSize - maxChunkSize) > minChunkSize) {\n        chunkRemainder = _chunk.subarray(maxChunkSize);\n        _chunk = _chunk.subarray(0, maxChunkSize);\n      }\n\n      pushChunk(_chunk, chunkRemainder ? () => {\n        process.nextTick(_callback, null, chunkRemainder);\n      } : _callback);\n    };\n\n    transformChunk(chunk, function transformNextChunk(err, _chunk) {\n      if (err) {\n        return callback(err);\n      }\n\n      if (_chunk) {\n        transformChunk(_chunk, transformNextChunk);\n      } else {\n        callback(null);\n      }\n    });\n  }\n}\n\nconst AxiosTransformStream$1 = AxiosTransformStream;\n\nconst {asyncIterator} = Symbol;\n\nconst readBlob = async function* (blob) {\n  if (blob.stream) {\n    yield* blob.stream();\n  } else if (blob.arrayBuffer) {\n    yield await blob.arrayBuffer();\n  } else if (blob[asyncIterator]) {\n    yield* blob[asyncIterator]();\n  } else {\n    yield blob;\n  }\n};\n\nconst readBlob$1 = readBlob;\n\nconst BOUNDARY_ALPHABET = utils$1.ALPHABET.ALPHA_DIGIT + '-_';\n\nconst textEncoder = typeof TextEncoder === 'function' ? new TextEncoder() : new util__default[\"default\"].TextEncoder();\n\nconst CRLF = '\\r\\n';\nconst CRLF_BYTES = textEncoder.encode(CRLF);\nconst CRLF_BYTES_COUNT = 2;\n\nclass FormDataPart {\n  constructor(name, value) {\n    const {escapeName} = this.constructor;\n    const isStringValue = utils$1.isString(value);\n\n    let headers = `Content-Disposition: form-data; name=\"${escapeName(name)}\"${\n      !isStringValue && value.name ? `; filename=\"${escapeName(value.name)}\"` : ''\n    }${CRLF}`;\n\n    if (isStringValue) {\n      value = textEncoder.encode(String(value).replace(/\\r?\\n|\\r\\n?/g, CRLF));\n    } else {\n      headers += `Content-Type: ${value.type || \"application/octet-stream\"}${CRLF}`;\n    }\n\n    this.headers = textEncoder.encode(headers + CRLF);\n\n    this.contentLength = isStringValue ? value.byteLength : value.size;\n\n    this.size = this.headers.byteLength + this.contentLength + CRLF_BYTES_COUNT;\n\n    this.name = name;\n    this.value = value;\n  }\n\n  async *encode(){\n    yield this.headers;\n\n    const {value} = this;\n\n    if(utils$1.isTypedArray(value)) {\n      yield value;\n    } else {\n      yield* readBlob$1(value);\n    }\n\n    yield CRLF_BYTES;\n  }\n\n  static escapeName(name) {\n      return String(name).replace(/[\\r\\n\"]/g, (match) => ({\n        '\\r' : '%0D',\n        '\\n' : '%0A',\n        '\"' : '%22',\n      }[match]));\n  }\n}\n\nconst formDataToStream = (form, headersHandler, options) => {\n  const {\n    tag = 'form-data-boundary',\n    size = 25,\n    boundary = tag + '-' + utils$1.generateString(size, BOUNDARY_ALPHABET)\n  } = options || {};\n\n  if(!utils$1.isFormData(form)) {\n    throw TypeError('FormData instance required');\n  }\n\n  if (boundary.length < 1 || boundary.length > 70) {\n    throw Error('boundary must be 10-70 characters long')\n  }\n\n  const boundaryBytes = textEncoder.encode('--' + boundary + CRLF);\n  const footerBytes = textEncoder.encode('--' + boundary + '--' + CRLF + CRLF);\n  let contentLength = footerBytes.byteLength;\n\n  const parts = Array.from(form.entries()).map(([name, value]) => {\n    const part = new FormDataPart(name, value);\n    contentLength += part.size;\n    return part;\n  });\n\n  contentLength += boundaryBytes.byteLength * parts.length;\n\n  contentLength = utils$1.toFiniteNumber(contentLength);\n\n  const computedHeaders = {\n    'Content-Type': `multipart/form-data; boundary=${boundary}`\n  };\n\n  if (Number.isFinite(contentLength)) {\n    computedHeaders['Content-Length'] = contentLength;\n  }\n\n  headersHandler && headersHandler(computedHeaders);\n\n  return stream.Readable.from((async function *() {\n    for(const part of parts) {\n      yield boundaryBytes;\n      yield* part.encode();\n    }\n\n    yield footerBytes;\n  })());\n};\n\nconst formDataToStream$1 = formDataToStream;\n\nclass ZlibHeaderTransformStream extends stream__default[\"default\"].Transform {\n  __transform(chunk, encoding, callback) {\n    this.push(chunk);\n    callback();\n  }\n\n  _transform(chunk, encoding, callback) {\n    if (chunk.length !== 0) {\n      this._transform = this.__transform;\n\n      // Add Default Compression headers if no zlib headers are present\n      if (chunk[0] !== 120) { // Hex: 78\n        const header = Buffer.alloc(2);\n        header[0] = 120; // Hex: 78\n        header[1] = 156; // Hex: 9C \n        this.push(header, encoding);\n      }\n    }\n\n    this.__transform(chunk, encoding, callback);\n  }\n}\n\nconst ZlibHeaderTransformStream$1 = ZlibHeaderTransformStream;\n\nconst callbackify = (fn, reducer) => {\n  return utils$1.isAsyncFn(fn) ? function (...args) {\n    const cb = args.pop();\n    fn.apply(this, args).then((value) => {\n      try {\n        reducer ? cb(null, ...reducer(value)) : cb(null, value);\n      } catch (err) {\n        cb(err);\n      }\n    }, cb);\n  } : fn;\n};\n\nconst callbackify$1 = callbackify;\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\n/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  };\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs);\n        }, threshold - passed);\n      }\n    }\n  };\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nconst progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n};\n\nconst progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n};\n\nconst asyncDecorator = (fn) => (...args) => utils$1.asap(() => fn(...args));\n\nconst zlibOptions = {\n  flush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.Z_SYNC_FLUSH\n};\n\nconst brotliOptions = {\n  flush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH,\n  finishFlush: zlib__default[\"default\"].constants.BROTLI_OPERATION_FLUSH\n};\n\nconst isBrotliSupported = utils$1.isFunction(zlib__default[\"default\"].createBrotliDecompress);\n\nconst {http: httpFollow, https: httpsFollow} = followRedirects__default[\"default\"];\n\nconst isHttps = /https:?/;\n\nconst supportedProtocols = platform.protocols.map(protocol => {\n  return protocol + ':';\n});\n\nconst flushOnFinish = (stream, [throttled, flush]) => {\n  stream\n    .on('end', flush)\n    .on('error', flush);\n\n  return throttled;\n};\n\n/**\n * If the proxy or config beforeRedirects functions are defined, call them with the options\n * object.\n *\n * @param {Object<string, any>} options - The options object that was passed to the request.\n *\n * @returns {Object<string, any>}\n */\nfunction dispatchBeforeRedirect(options, responseDetails) {\n  if (options.beforeRedirects.proxy) {\n    options.beforeRedirects.proxy(options);\n  }\n  if (options.beforeRedirects.config) {\n    options.beforeRedirects.config(options, responseDetails);\n  }\n}\n\n/**\n * If the proxy or config afterRedirects functions are defined, call them with the options\n *\n * @param {http.ClientRequestArgs} options\n * @param {AxiosProxyConfig} configProxy configuration from Axios options object\n * @param {string} location\n *\n * @returns {http.ClientRequestArgs}\n */\nfunction setProxy(options, configProxy, location) {\n  let proxy = configProxy;\n  if (!proxy && proxy !== false) {\n    const proxyUrl = proxyFromEnv__default[\"default\"].getProxyForUrl(location);\n    if (proxyUrl) {\n      proxy = new URL(proxyUrl);\n    }\n  }\n  if (proxy) {\n    // Basic proxy authorization\n    if (proxy.username) {\n      proxy.auth = (proxy.username || '') + ':' + (proxy.password || '');\n    }\n\n    if (proxy.auth) {\n      // Support proxy auth object form\n      if (proxy.auth.username || proxy.auth.password) {\n        proxy.auth = (proxy.auth.username || '') + ':' + (proxy.auth.password || '');\n      }\n      const base64 = Buffer\n        .from(proxy.auth, 'utf8')\n        .toString('base64');\n      options.headers['Proxy-Authorization'] = 'Basic ' + base64;\n    }\n\n    options.headers.host = options.hostname + (options.port ? ':' + options.port : '');\n    const proxyHost = proxy.hostname || proxy.host;\n    options.hostname = proxyHost;\n    // Replace 'host' since options is not a URL object\n    options.host = proxyHost;\n    options.port = proxy.port;\n    options.path = location;\n    if (proxy.protocol) {\n      options.protocol = proxy.protocol.includes(':') ? proxy.protocol : `${proxy.protocol}:`;\n    }\n  }\n\n  options.beforeRedirects.proxy = function beforeRedirect(redirectOptions) {\n    // Configure proxy for redirected request, passing the original config proxy to apply\n    // the exact same logic as if the redirected request was performed by axios directly.\n    setProxy(redirectOptions, configProxy, redirectOptions.href);\n  };\n}\n\nconst isHttpAdapterSupported = typeof process !== 'undefined' && utils$1.kindOf(process) === 'process';\n\n// temporary hotfix\n\nconst wrapAsync = (asyncExecutor) => {\n  return new Promise((resolve, reject) => {\n    let onDone;\n    let isDone;\n\n    const done = (value, isRejected) => {\n      if (isDone) return;\n      isDone = true;\n      onDone && onDone(value, isRejected);\n    };\n\n    const _resolve = (value) => {\n      done(value);\n      resolve(value);\n    };\n\n    const _reject = (reason) => {\n      done(reason, true);\n      reject(reason);\n    };\n\n    asyncExecutor(_resolve, _reject, (onDoneHandler) => (onDone = onDoneHandler)).catch(_reject);\n  })\n};\n\nconst resolveFamily = ({address, family}) => {\n  if (!utils$1.isString(address)) {\n    throw TypeError('address must be a string');\n  }\n  return ({\n    address,\n    family: family || (address.indexOf('.') < 0 ? 6 : 4)\n  });\n};\n\nconst buildAddressEntry = (address, family) => resolveFamily(utils$1.isObject(address) ? address : {address, family});\n\n/*eslint consistent-return:0*/\nconst httpAdapter = isHttpAdapterSupported && function httpAdapter(config) {\n  return wrapAsync(async function dispatchHttpRequest(resolve, reject, onDone) {\n    let {data, lookup, family} = config;\n    const {responseType, responseEncoding} = config;\n    const method = config.method.toUpperCase();\n    let isDone;\n    let rejected = false;\n    let req;\n\n    if (lookup) {\n      const _lookup = callbackify$1(lookup, (value) => utils$1.isArray(value) ? value : [value]);\n      // hotfix to support opt.all option which is required for node 20.x\n      lookup = (hostname, opt, cb) => {\n        _lookup(hostname, opt, (err, arg0, arg1) => {\n          if (err) {\n            return cb(err);\n          }\n\n          const addresses = utils$1.isArray(arg0) ? arg0.map(addr => buildAddressEntry(addr)) : [buildAddressEntry(arg0, arg1)];\n\n          opt.all ? cb(err, addresses) : cb(err, addresses[0].address, addresses[0].family);\n        });\n      };\n    }\n\n    // temporary internal emitter until the AxiosRequest class will be implemented\n    const emitter = new events.EventEmitter();\n\n    const onFinished = () => {\n      if (config.cancelToken) {\n        config.cancelToken.unsubscribe(abort);\n      }\n\n      if (config.signal) {\n        config.signal.removeEventListener('abort', abort);\n      }\n\n      emitter.removeAllListeners();\n    };\n\n    onDone((value, isRejected) => {\n      isDone = true;\n      if (isRejected) {\n        rejected = true;\n        onFinished();\n      }\n    });\n\n    function abort(reason) {\n      emitter.emit('abort', !reason || reason.type ? new CanceledError(null, config, req) : reason);\n    }\n\n    emitter.once('abort', reject);\n\n    if (config.cancelToken || config.signal) {\n      config.cancelToken && config.cancelToken.subscribe(abort);\n      if (config.signal) {\n        config.signal.aborted ? abort() : config.signal.addEventListener('abort', abort);\n      }\n    }\n\n    // Parse url\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    const parsed = new URL(fullPath, platform.hasBrowserEnv ? platform.origin : undefined);\n    const protocol = parsed.protocol || supportedProtocols[0];\n\n    if (protocol === 'data:') {\n      let convertedData;\n\n      if (method !== 'GET') {\n        return settle(resolve, reject, {\n          status: 405,\n          statusText: 'method not allowed',\n          headers: {},\n          config\n        });\n      }\n\n      try {\n        convertedData = fromDataURI(config.url, responseType === 'blob', {\n          Blob: config.env && config.env.Blob\n        });\n      } catch (err) {\n        throw AxiosError.from(err, AxiosError.ERR_BAD_REQUEST, config);\n      }\n\n      if (responseType === 'text') {\n        convertedData = convertedData.toString(responseEncoding);\n\n        if (!responseEncoding || responseEncoding === 'utf8') {\n          convertedData = utils$1.stripBOM(convertedData);\n        }\n      } else if (responseType === 'stream') {\n        convertedData = stream__default[\"default\"].Readable.from(convertedData);\n      }\n\n      return settle(resolve, reject, {\n        data: convertedData,\n        status: 200,\n        statusText: 'OK',\n        headers: new AxiosHeaders$1(),\n        config\n      });\n    }\n\n    if (supportedProtocols.indexOf(protocol) === -1) {\n      return reject(new AxiosError(\n        'Unsupported protocol ' + protocol,\n        AxiosError.ERR_BAD_REQUEST,\n        config\n      ));\n    }\n\n    const headers = AxiosHeaders$1.from(config.headers).normalize();\n\n    // Set User-Agent (required by some servers)\n    // See https://github.com/axios/axios/issues/69\n    // User-Agent is specified; handle case where no UA header is desired\n    // Only set header if it hasn't been set in config\n    headers.set('User-Agent', 'axios/' + VERSION, false);\n\n    const {onUploadProgress, onDownloadProgress} = config;\n    const maxRate = config.maxRate;\n    let maxUploadRate = undefined;\n    let maxDownloadRate = undefined;\n\n    // support for spec compliant FormData objects\n    if (utils$1.isSpecCompliantForm(data)) {\n      const userBoundary = headers.getContentType(/boundary=([-_\\w\\d]{10,70})/i);\n\n      data = formDataToStream$1(data, (formHeaders) => {\n        headers.set(formHeaders);\n      }, {\n        tag: `axios-${VERSION}-boundary`,\n        boundary: userBoundary && userBoundary[1] || undefined\n      });\n      // support for https://www.npmjs.com/package/form-data api\n    } else if (utils$1.isFormData(data) && utils$1.isFunction(data.getHeaders)) {\n      headers.set(data.getHeaders());\n\n      if (!headers.hasContentLength()) {\n        try {\n          const knownLength = await util__default[\"default\"].promisify(data.getLength).call(data);\n          Number.isFinite(knownLength) && knownLength >= 0 && headers.setContentLength(knownLength);\n          /*eslint no-empty:0*/\n        } catch (e) {\n        }\n      }\n    } else if (utils$1.isBlob(data) || utils$1.isFile(data)) {\n      data.size && headers.setContentType(data.type || 'application/octet-stream');\n      headers.setContentLength(data.size || 0);\n      data = stream__default[\"default\"].Readable.from(readBlob$1(data));\n    } else if (data && !utils$1.isStream(data)) {\n      if (Buffer.isBuffer(data)) ; else if (utils$1.isArrayBuffer(data)) {\n        data = Buffer.from(new Uint8Array(data));\n      } else if (utils$1.isString(data)) {\n        data = Buffer.from(data, 'utf-8');\n      } else {\n        return reject(new AxiosError(\n          'Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n\n      // Add Content-Length header if data exists\n      headers.setContentLength(data.length, false);\n\n      if (config.maxBodyLength > -1 && data.length > config.maxBodyLength) {\n        return reject(new AxiosError(\n          'Request body larger than maxBodyLength limit',\n          AxiosError.ERR_BAD_REQUEST,\n          config\n        ));\n      }\n    }\n\n    const contentLength = utils$1.toFiniteNumber(headers.getContentLength());\n\n    if (utils$1.isArray(maxRate)) {\n      maxUploadRate = maxRate[0];\n      maxDownloadRate = maxRate[1];\n    } else {\n      maxUploadRate = maxDownloadRate = maxRate;\n    }\n\n    if (data && (onUploadProgress || maxUploadRate)) {\n      if (!utils$1.isStream(data)) {\n        data = stream__default[\"default\"].Readable.from(data, {objectMode: false});\n      }\n\n      data = stream__default[\"default\"].pipeline([data, new AxiosTransformStream$1({\n        maxRate: utils$1.toFiniteNumber(maxUploadRate)\n      })], utils$1.noop);\n\n      onUploadProgress && data.on('progress', flushOnFinish(\n        data,\n        progressEventDecorator(\n          contentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress), false, 3)\n        )\n      ));\n    }\n\n    // HTTP basic authentication\n    let auth = undefined;\n    if (config.auth) {\n      const username = config.auth.username || '';\n      const password = config.auth.password || '';\n      auth = username + ':' + password;\n    }\n\n    if (!auth && parsed.username) {\n      const urlUsername = parsed.username;\n      const urlPassword = parsed.password;\n      auth = urlUsername + ':' + urlPassword;\n    }\n\n    auth && headers.delete('authorization');\n\n    let path;\n\n    try {\n      path = buildURL(\n        parsed.pathname + parsed.search,\n        config.params,\n        config.paramsSerializer\n      ).replace(/^\\?/, '');\n    } catch (err) {\n      const customErr = new Error(err.message);\n      customErr.config = config;\n      customErr.url = config.url;\n      customErr.exists = true;\n      return reject(customErr);\n    }\n\n    headers.set(\n      'Accept-Encoding',\n      'gzip, compress, deflate' + (isBrotliSupported ? ', br' : ''), false\n      );\n\n    const options = {\n      path,\n      method: method,\n      headers: headers.toJSON(),\n      agents: { http: config.httpAgent, https: config.httpsAgent },\n      auth,\n      protocol,\n      family,\n      beforeRedirect: dispatchBeforeRedirect,\n      beforeRedirects: {}\n    };\n\n    // cacheable-lookup integration hotfix\n    !utils$1.isUndefined(lookup) && (options.lookup = lookup);\n\n    if (config.socketPath) {\n      options.socketPath = config.socketPath;\n    } else {\n      options.hostname = parsed.hostname.startsWith(\"[\") ? parsed.hostname.slice(1, -1) : parsed.hostname;\n      options.port = parsed.port;\n      setProxy(options, config.proxy, protocol + '//' + parsed.hostname + (parsed.port ? ':' + parsed.port : '') + options.path);\n    }\n\n    let transport;\n    const isHttpsRequest = isHttps.test(options.protocol);\n    options.agent = isHttpsRequest ? config.httpsAgent : config.httpAgent;\n    if (config.transport) {\n      transport = config.transport;\n    } else if (config.maxRedirects === 0) {\n      transport = isHttpsRequest ? https__default[\"default\"] : http__default[\"default\"];\n    } else {\n      if (config.maxRedirects) {\n        options.maxRedirects = config.maxRedirects;\n      }\n      if (config.beforeRedirect) {\n        options.beforeRedirects.config = config.beforeRedirect;\n      }\n      transport = isHttpsRequest ? httpsFollow : httpFollow;\n    }\n\n    if (config.maxBodyLength > -1) {\n      options.maxBodyLength = config.maxBodyLength;\n    } else {\n      // follow-redirects does not skip comparison, so it should always succeed for axios -1 unlimited\n      options.maxBodyLength = Infinity;\n    }\n\n    if (config.insecureHTTPParser) {\n      options.insecureHTTPParser = config.insecureHTTPParser;\n    }\n\n    // Create the request\n    req = transport.request(options, function handleResponse(res) {\n      if (req.destroyed) return;\n\n      const streams = [res];\n\n      const responseLength = +res.headers['content-length'];\n\n      if (onDownloadProgress || maxDownloadRate) {\n        const transformStream = new AxiosTransformStream$1({\n          maxRate: utils$1.toFiniteNumber(maxDownloadRate)\n        });\n\n        onDownloadProgress && transformStream.on('progress', flushOnFinish(\n          transformStream,\n          progressEventDecorator(\n            responseLength,\n            progressEventReducer(asyncDecorator(onDownloadProgress), true, 3)\n          )\n        ));\n\n        streams.push(transformStream);\n      }\n\n      // decompress the response body transparently if required\n      let responseStream = res;\n\n      // return the last request in case of redirects\n      const lastRequest = res.req || req;\n\n      // if decompress disabled we should not decompress\n      if (config.decompress !== false && res.headers['content-encoding']) {\n        // if no content, but headers still say that it is encoded,\n        // remove the header not confuse downstream operations\n        if (method === 'HEAD' || res.statusCode === 204) {\n          delete res.headers['content-encoding'];\n        }\n\n        switch ((res.headers['content-encoding'] || '').toLowerCase()) {\n        /*eslint default-case:0*/\n        case 'gzip':\n        case 'x-gzip':\n        case 'compress':\n        case 'x-compress':\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'deflate':\n          streams.push(new ZlibHeaderTransformStream$1());\n\n          // add the unzipper to the body stream processing pipeline\n          streams.push(zlib__default[\"default\"].createUnzip(zlibOptions));\n\n          // remove the content-encoding in order to not confuse downstream operations\n          delete res.headers['content-encoding'];\n          break;\n        case 'br':\n          if (isBrotliSupported) {\n            streams.push(zlib__default[\"default\"].createBrotliDecompress(brotliOptions));\n            delete res.headers['content-encoding'];\n          }\n        }\n      }\n\n      responseStream = streams.length > 1 ? stream__default[\"default\"].pipeline(streams, utils$1.noop) : streams[0];\n\n      const offListeners = stream__default[\"default\"].finished(responseStream, () => {\n        offListeners();\n        onFinished();\n      });\n\n      const response = {\n        status: res.statusCode,\n        statusText: res.statusMessage,\n        headers: new AxiosHeaders$1(res.headers),\n        config,\n        request: lastRequest\n      };\n\n      if (responseType === 'stream') {\n        response.data = responseStream;\n        settle(resolve, reject, response);\n      } else {\n        const responseBuffer = [];\n        let totalResponseBytes = 0;\n\n        responseStream.on('data', function handleStreamData(chunk) {\n          responseBuffer.push(chunk);\n          totalResponseBytes += chunk.length;\n\n          // make sure the content length is not over the maxContentLength if specified\n          if (config.maxContentLength > -1 && totalResponseBytes > config.maxContentLength) {\n            // stream.destroy() emit aborted event before calling reject() on Node.js v16\n            rejected = true;\n            responseStream.destroy();\n            reject(new AxiosError('maxContentLength size of ' + config.maxContentLength + ' exceeded',\n              AxiosError.ERR_BAD_RESPONSE, config, lastRequest));\n          }\n        });\n\n        responseStream.on('aborted', function handlerStreamAborted() {\n          if (rejected) {\n            return;\n          }\n\n          const err = new AxiosError(\n            'stream has been aborted',\n            AxiosError.ERR_BAD_RESPONSE,\n            config,\n            lastRequest\n          );\n          responseStream.destroy(err);\n          reject(err);\n        });\n\n        responseStream.on('error', function handleStreamError(err) {\n          if (req.destroyed) return;\n          reject(AxiosError.from(err, null, config, lastRequest));\n        });\n\n        responseStream.on('end', function handleStreamEnd() {\n          try {\n            let responseData = responseBuffer.length === 1 ? responseBuffer[0] : Buffer.concat(responseBuffer);\n            if (responseType !== 'arraybuffer') {\n              responseData = responseData.toString(responseEncoding);\n              if (!responseEncoding || responseEncoding === 'utf8') {\n                responseData = utils$1.stripBOM(responseData);\n              }\n            }\n            response.data = responseData;\n          } catch (err) {\n            return reject(AxiosError.from(err, null, config, response.request, response));\n          }\n          settle(resolve, reject, response);\n        });\n      }\n\n      emitter.once('abort', err => {\n        if (!responseStream.destroyed) {\n          responseStream.emit('error', err);\n          responseStream.destroy();\n        }\n      });\n    });\n\n    emitter.once('abort', err => {\n      reject(err);\n      req.destroy(err);\n    });\n\n    // Handle errors\n    req.on('error', function handleRequestError(err) {\n      // @todo remove\n      // if (req.aborted && err.code !== AxiosError.ERR_FR_TOO_MANY_REDIRECTS) return;\n      reject(AxiosError.from(err, null, config, req));\n    });\n\n    // set tcp keep alive to prevent drop connection by peer\n    req.on('socket', function handleRequestSocket(socket) {\n      // default interval of sending ack packet is 1 minute\n      socket.setKeepAlive(true, 1000 * 60);\n    });\n\n    // Handle request timeout\n    if (config.timeout) {\n      // This is forcing a int timeout to avoid problems if the `req` interface doesn't handle other types.\n      const timeout = parseInt(config.timeout, 10);\n\n      if (Number.isNaN(timeout)) {\n        reject(new AxiosError(\n          'error trying to parse `config.timeout` to int',\n          AxiosError.ERR_BAD_OPTION_VALUE,\n          config,\n          req\n        ));\n\n        return;\n      }\n\n      // Sometime, the response will be very slow, and does not respond, the connect event will be block by event loop system.\n      // And timer callback will be fired, and abort() will be invoked before connection, then get \"socket hang up\" and code ECONNRESET.\n      // At this time, if we have a large number of request, nodejs will hang up some socket on background. and the number will up and up.\n      // And then these socket which be hang up will devouring CPU little by little.\n      // ClientRequest.setTimeout will be fired on the specify milliseconds, and can make sure that abort() will be fired after connect.\n      req.setTimeout(timeout, function handleRequestTimeout() {\n        if (isDone) return;\n        let timeoutErrorMessage = config.timeout ? 'timeout of ' + config.timeout + 'ms exceeded' : 'timeout exceeded';\n        const transitional = config.transitional || transitionalDefaults;\n        if (config.timeoutErrorMessage) {\n          timeoutErrorMessage = config.timeoutErrorMessage;\n        }\n        reject(new AxiosError(\n          timeoutErrorMessage,\n          transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n          config,\n          req\n        ));\n        abort();\n      });\n    }\n\n\n    // Send the request\n    if (utils$1.isStream(data)) {\n      let ended = false;\n      let errored = false;\n\n      data.on('end', () => {\n        ended = true;\n      });\n\n      data.once('error', err => {\n        errored = true;\n        req.destroy(err);\n      });\n\n      data.on('close', () => {\n        if (!ended && !errored) {\n          abort(new CanceledError('Request stream has been aborted', config, req));\n        }\n      });\n\n      data.pipe(req);\n    } else {\n      req.end(data);\n    }\n  });\n};\n\nconst isURLSameOrigin = platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n\nconst cookies = platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils$1.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils$1.isString(path) && cookie.push('path=' + path);\n\n      utils$1.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders$1 ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nfunction mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils$1.isPlainObject(target) && utils$1.isPlainObject(source)) {\n      return utils$1.merge.call({caseless}, target, source);\n    } else if (utils$1.isPlainObject(source)) {\n      return utils$1.merge({}, source);\n    } else if (utils$1.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils$1.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils$1.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils$1.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils$1.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n\nconst resolveConfig = (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders$1.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils$1.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils$1.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n};\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nconst xhrAdapter = isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders$1.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders$1.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils$1.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils$1.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n};\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    };\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT));\n    }, timeout);\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    };\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils$1.asap(unsubscribe);\n\n    return signal;\n  }\n};\n\nconst composeSignals$1 = composeSignals;\n\nconst streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n};\n\nconst readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n};\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n};\n\nconst trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  };\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n};\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n};\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils$1.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils$1.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      });\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils$1.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils$1.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils$1.isArrayBufferView(body) || utils$1.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils$1.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils$1.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n};\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils$1.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n};\n\nconst fetchAdapter = isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals$1([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils$1.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader);\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils$1.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils$1.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils$1.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders$1.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      });\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n};\n\nutils$1.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils$1.isFunction(adapter) || adapter === null || adapter === false;\n\nconst adapters = {\n  getAdapter: (adapters) => {\n    adapters = utils$1.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n};\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nfunction dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders$1.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults$1.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders$1.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders$1.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n\nconst validators$1 = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators$1[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators$1.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators$1.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nconst validator = {\n  assertOptions,\n  validators: validators$1\n};\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager$1(),\n      response: new InterceptorManager$1()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack;\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils$1.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        };\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils$1.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils$1.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders$1.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils$1.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils$1.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nconst Axios$1 = Axios;\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nconst CancelToken$1 = CancelToken;\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nfunction spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nfunction isAxiosError(payload) {\n  return utils$1.isObject(payload) && (payload.isAxiosError === true);\n}\n\nconst HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nconst HttpStatusCode$1 = HttpStatusCode;\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios$1(defaultConfig);\n  const instance = bind(Axios$1.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils$1.extend(instance, Axios$1.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils$1.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults$1);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios$1;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken$1;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders$1;\n\naxios.formToJSON = thing => formDataToJSON(utils$1.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode$1;\n\naxios.default = axios;\n\nmodule.exports = axios;\n//# sourceMappingURL=axios.cjs.map\n","var e=Symbol(\"cache-parser\");function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,a=new Array(r);t<r;t++)a[t]=e[t];return a}function t(e){return(\"string\"==typeof e||\"number\"==typeof e)&&(e=Number(e))>=0&&e<Infinity}function a(e){return!0===e||\"number\"==typeof e||\"string\"==typeof e&&\"false\"!==e}var n=Number;function o(o){var i=Object.defineProperty({},e,{enumerable:!1,value:1});if(!o||\"string\"!=typeof o)return i;var s=function(e){for(var t,a={},n=function(e,t){var a=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=function(e,t){if(e){if(\"string\"==typeof e)return r(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return\"Object\"===a&&e.constructor&&(a=e.constructor.name),\"Map\"===a||\"Set\"===a?Array.from(e):\"Arguments\"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?r(e,t):void 0}}(e))){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}(e.toLowerCase().replace(/\\s+/g,\"\").split(\",\"));!(t=n()).done;){var o,i=t.value.split(\"=\",2);a[i[0]]=null==(o=i[1])||o}return a}(o),l=s[\"max-age\"],u=s[\"max-stale\"],m=s[\"min-fresh\"],p=s[\"s-maxage\"],f=s[\"stale-if-error\"],c=s[\"stale-while-revalidate\"];return a(s.immutable)&&(i.immutable=!0),t(l)&&(i.maxAge=n(l)),t(u)&&(i.maxStale=n(u)),t(m)&&(i.minFresh=n(m)),a(s[\"must-revalidate\"])&&(i.mustRevalidate=!0),a(s[\"must-understand\"])&&(i.mustUnderstand=!0),a(s[\"no-cache\"])&&(i.noCache=!0),a(s[\"no-store\"])&&(i.noStore=!0),a(s[\"no-transform\"])&&(i.noTransform=!0),a(s[\"only-if-cached\"])&&(i.onlyIfCached=!0),a(s.private)&&(i.private=!0),a(s[\"proxy-revalidate\"])&&(i.proxyRevalidate=!0),a(s.public)&&(i.public=!0),t(p)&&(i.sMaxAge=n(p)),t(f)&&(i.staleIfError=n(f)),t(c)&&(i.staleWhileRevalidate=n(c)),i}function i(e){if(!e||\"object\"!=typeof e)return[];var r=[];return a(e.immutable)&&r.push(\"immutable\"),t(e.maxAge)&&r.push(\"max-age=\"+e.maxAge),t(e.maxStale)&&r.push(\"max-stale=\"+e.maxStale),t(e.minFresh)&&r.push(\"min-fresh=\"+e.minFresh),a(e.mustRevalidate)&&r.push(\"must-revalidate\"),a(e.mustUnderstand)&&r.push(\"must-understand\"),a(e.noCache)&&r.push(\"no-cache\"),a(e.noStore)&&r.push(\"no-store\"),a(e.noTransform)&&r.push(\"no-transform\"),a(e.onlyIfCached)&&r.push(\"only-if-cached\"),a(e.private)&&r.push(\"private\"),a(e.proxyRevalidate)&&r.push(\"proxy-revalidate\"),a(e.public)&&r.push(\"public\"),t(e.sMaxAge)&&r.push(\"s-maxage=\"+e.sMaxAge),t(e.staleIfError)&&r.push(\"stale-if-error=\"+e.staleIfError),t(e.staleWhileRevalidate)&&r.push(\"stale-while-revalidate=\"+e.staleWhileRevalidate),r}function s(r){return!!r&&!!r[e]}export{s as isCacheControl,o as parse,i as tokenize};\n//# sourceMappingURL=index.mjs.map\n","var r=Symbol();function e(){var e,n,o=new Promise(function(r,o){e=r,n=o});return o.resolve=e,o.reject=n,o[r]=1,o}function n(e){return!!e&&!!e[r]}export{e as deferred,n as isDeferred};\n//# sourceMappingURL=index.mjs.map\n","function t(t,r){return t>r?1:-1}function r(o,e){var n=5381;if(\"object\"==typeof o&&null!==o&&(o.toString===Object.prototype.toString||o.toString===Array.prototype.toString)){e||(e=new WeakSet);for(var i=Object.keys(o).sort(t),a=0;a<i.length;a++){var c=i[a],g=o[c];if(n=33*n^r(c,e),\"object\"==typeof g&&null!==g&&(o.toString===Object.prototype.toString||o.toString===Array.prototype.toString)){if(e.has(g))continue;e.add(g)}n=33*n^r(g,e)}return 33*n^r(o.constructor,e)}var p=typeof o;try{o instanceof Date?p+=o.getTime():p+=String(o)}catch(t){p+=String(Object.assign({},o))}for(var f=0;f<p.length;f++)n=33*n^p.charCodeAt(f);return n}export{r as hash,t as sortNumbers};\n//# sourceMappingURL=index.mjs.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the module cache\n__webpack_require__.c = __webpack_module_cache__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// module cache are used so entry inlining is disabled\n// startup\n// Load entry module and return exports\nvar __webpack_exports__ = __webpack_require__(__webpack_require__.s = 4265);\n"],"names":["module","exports","object","propertyName","fn","define","value","Object","defineProperty","enumerable","writable","configurable","get","result","set","fs","isDocker","undefined","statSync","_","hasDockerEnv","readFileSync","includes","hasDockerCGroup","os","isWsl","process","platform","release","toLowerCase","env","__IS_WSL_TEST__","path","childProcess","promises","constants","fsConstants","defineLazyProperty","localXdgOpenPath","join","__dirname","arch","cachedResult","getWslDrivesMountPoint","defaultMountPoint","mountPoint","async","configFilePath","isConfigFileExists","access","F_OK","configContent","readFile","encoding","configMountPoint","exec","groups","trim","endsWith","pTryEach","array","mapper","latestError","item","error","baseOpen","options","wait","background","newInstance","allowNonzeroExitCode","Array","isArray","app","singleApp","command","name","arguments","appArguments","appName","cliArguments","childProcessOptions","push","hasContainerEnv","SYSTEMROOT","windowsVerbatimArguments","encodedArguments","target","unshift","length","map","arg","Buffer","from","toString","isBundled","exeLocalXdgOpen","X_OK","versions","electron","stdio","detached","subprocess","spawn","Promise","resolve","reject","once","exitCode","Error","unref","open","TypeError","detectArchBinary","binary","archBinary","detectPlatformBinary","platformBinary","wsl","apps","darwin","win32","linux","ia32","x64","openApp","dotnetCoreAcquisitionExtensionId","vsCodeContext","extensionContext","DOTNET_INSTALL_TOOL_UNDER_TEST","extensionMode","vscode","ExtensionMode","Test","disableActivationUnderTest","extensionConfiguration","workspace","getConfiguration","configPrefix","timeoutValue","configKeys","installTimeoutValue","existsSync","globalStoragePath","mkdirSync","recursive","resolvedTimeoutSeconds","defaultTimeoutValue","proxyLink","proxyUrl","cacheTimeToLiveMultiplier","Math","abs","Number","allowInvalidPathSetting","LocalMemoryCacheSingleton","getInstance","allowInvalidPaths","isExtensionTelemetryEnabled","enableExtensionTelemetry","enableTelemetry","displayWorker","WindowDisplayWorker","utilContext","ui","vsCodeEnv","VSCodeEnvironment","vsCodeExtensionContext","VSCodeExtensionContext","eventStreamContext","displayChannelName","logPath","extensionId","telemetryReporter","showLogCommand","commandPrefix","commandKeys","showAcquisitionLog","packageJson","globalEventStream","outputChannel","loggingObserver","eventStreamObservers","telemetryObserver","registerEventStream","existingPathConfigWorker","ExtensionConfigurationWorker","existingPath","existingSharedPath","isSupported","isRunningUnderWSL","commands","executeCommand","checkIfSDKAcquisitionIsSupported","dotnetAcquireRegistration","registerCommand","acquire","commandContext","worker","getAcquisitionWorker","mode","workerContext","getAcquisitionWorkerContext","dotnetPath","callWithErrorHandling","post","DotnetAcquisitionRequested","version","requestingExtensionId","installType","setAcquisitionContext","NoExtensionIdProvided","window","showWarningMessage","EventBasedError","resolveExistingPathIfExists","existingOfflinePath","getExistingInstallIfOffline","runtimeVersionResolver","VersionResolver","getFullVersion","acquisitionInvoker","AcquisitionInvoker","acquireLocalASPNET","acquireLocalRuntime","getIssueContext","errorConfiguration","install","installId","getInstallIdCustomArchitecture","architecture","installMode","isGlobal","DotnetCoreAcquisitionWorker","defaultArchitecture","DotnetAcquisitionTotalSuccessEvent","dispose","dotnetAcquireGlobalSDKRegistration","acquireGlobalSDK","fullyResolvedVersion","pathResult","EventCancellationError","globalInstallerResolver","GlobalInstallerResolver","getFullySpecifiedVersion","show","CommandExecutor","setPathEnvVar","moreInfoUrl","dotnetListVersionsRegistration","listVersions","customWebWorker","getAvailableVersions","dotnetRecommendedVersionRegistration","recommendedVersion","availableVersions","activeSupportVersions","filter","supportPhase","err","JSON","stringify","DotnetVersionResolutionError","acquireGlobalSDKPublicRegistration","globalAcquireSDKPublic","GlobalAcquisitionContextMenuOpened","recommendedVersionResult","chosenVersion","showInputBox","placeHolder","prompt","UserManualInstallVersionChosen","UserManualInstallRequested","userCommandContext","UserManualInstallSuccess","UserManualInstallFailure","showErrorMessage","dotnetAcquireStatusRegistration","acquireStatus","DotnetAcquisitionStatusRequested","resolvedVersion","dotnetUninstallPublicRegistration","uninstallPublic","existingInstalls","InstallTrackerSingleton","globalState","getExistingInstalls","menuItems","sort","x","y","dotnetInstall","localeCompare","label","description","detail","installingExtensions","some","iconPath","ThemeIcon","internalId","showInformationMessage","showQuickPick","installRecord","find","selectedInstall","canContinue","yes","canUninstall","brokenExtensions","modal","uninstall","dotnetUninstallRegistration","dotnetFindPathRegistration","findPath","DotnetFindPathCommandInvoked","acquireContext","DotnetFindPathLookupSetting","versionSpecRequirement","DotnetFindPathSettingFound","validator","DotnetConditionValidator","finder","DotnetPathFinder","dotnetsOnPATH","findRawPathEnvironmentSetting","validatedPATH","getPathIfValid","dotnetsOnRealPATH","findRealPathEnvironmentSetting","validatedRealPATH","dotnetOnROOT","findDotnetRootPath","validatedRoot","dotnetOnHostfxrRecord","findHostInstallPaths","validatedHostfxr","DOTNET_INSTALL_TOOL_SKIP_HOSTFXR","DotnetFindPathNoPathMetCondition","dotnetMeetsRequirement","DotnetFindPathMetCondition","force","InvalidUninstallRequest","versionResolver","uninstallLocal","uninstallGlobal","dotnetUninstallAllRegistration","uninstallAll","installDirectoryProvider","directoryProviderFactory","getStoragePath","showOutputChannelRegistration","ensureDependenciesRegistration","ensureDotnetDependencies","cp","spawnSync","installer","DotnetCoreDependencyInstaller","signalIndicatesMissingLinuxDependencies","signal","DotnetAcquisitionMissingLinuxDependencies","promptLinuxDependencyInstall","reportIssueRegistration","reportIssue","url","issueBody","formatIssueUrl","AcquireErrorConfiguration","DisableErrorPopups","clipboard","writeText","catch","configResolver","utilityContext","requirement","existingPathResolver","ExistingPathResolver","resolveExistingPath","getAllPathConfigurationValues","DotnetExistingPathResolutionCompleted","onRecommendationMode","customVersionResolver","GetAvailableDotnetVersions","linuxResolver","LinuxVersionResolver","suggestedVersion","getRecommendedDotnetVersion","osAgnosticVersionData","resolvedSupportPhase","getMajorMinor","channelVersion","supportStatus","getMajor","acquiringContext","storagePath","extensionState","eventStream","installationValidator","InstallationValidator","timeoutSeconds","acquisitionContext","isExtensionTelemetryInitiallyEnabled","commandName","logger","DisplayAllErrorPopups","extensionConfigWorker","timeoutInfoUrl","WebRequestWorker","isOnline","getSimilarExistingInstall","DotnetOfflineWarning","JsonInstaller","subscriptions","ASPNetRuntimeInstallationDirectoryProvider","IInstallationDirectoryProvider_1","IInstallationDirectoryProvider","getInstallDir","this","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","e","rejected","done","then","apply","EventStreamEvents_1","ErrorHandler_1","InstallScriptAcquisitionWorker_1","TelemetryUtilities_1","FileUtilities_1","CommandExecutor_1","IAcquisitionInvoker_1","WebRequestWorker_1","IAcquisitionInvoker","constructor","super","noPowershellError","scriptWorker","InstallScriptAcquisitionWorker","fileUtilities","FileUtilities","installDotnet","installContext","winOS","installCommand","getInstallCommand","installDir","windowsFullCommand","powershellReference","verifyPowershellCanRun","replace","cwd","maxBuffer","timeout","killSignal","stdout","stderr","DotnetAcquisitionScriptOutput","TelemetryUtilities","HashAllPaths","looksLikeBadExecutionPolicyError","badPolicyError","PowershellBadExecutionPolicy","looksLikeBadLanguageModeError","code","badLanguageModeSet","badModeError","PowershellBadLanguageMode","newError","timeoutConstants","timeoutMessage","message","killed","stack","DotnetAcquisitionTimeoutError","DotnetAcquisitionInstallError","offlineError","DotnetOfflineFailure","DotnetAcquisitionCompleted","DotnetAcquisitionUnexpectedError","languageMode","shell","dotnetInstallDir","nodeArchToDotnetArch","args","escapeFilePath","concat","scriptPath","getDotnetInstallScriptPath","pathToEsc","knownError","possibleCommands","makeCommand","tryFindWorkingCommand","DotnetAcquisitionScriptError","commandRoot","SYSTEM_INFORMATION_CACHE_DURATION_MS","READ_SYMLINK_CACHE_DURATION_MS","SYS_CMD_SEARCH_CACHE_DURATION_MS","DOTNET_INFORMATION_CACHE_DURATION_MS","RuntimeInstallationDirectoryProvider_1","RuntimeInstallationDirectoryProvider","SdkInstallationDirectoryProvider_1","SdkInstallationDirectoryProvider","ASPNetRuntimeInstallationDirectoryProvider_1","versionUtils","CacheTimeConstants_1","executor","_a","dotnetExecutablePath","availableRuntimes","getRuntimes","hostArch","getHostArchitecture","runtime","stringArchitectureMeetsRequirement","stringVersionMeetsRequirement","allowPreview","getSDKs","sdk","DotnetFindPathDidNotMeetCondition","hostPath","infoCommand","envWithForceEnglish","DOTNET_CLI_UI_LANGUAGE","execute","dotnetInstallToolCacheTtlMs","archLine","split","line","startsWith","DotnetUnableToCheckPATHArchitecture","DOTNET_INSTALL_TOOL_DONT_ACCEPT_UNKNOWN_ARCH","findSDKsCommand","setCodePage","directory","slice","availableVersion","requestedVersion","availableMajor","requestedMajor","requestedPatchStr","getRuntimePatchVersionString","getSDKCompleteBandAndPatchVersionString","requestedPatch","availableMinor","getMinor","requestedMinor","availablePatchStr","availablePatch","outputArchitecture","requiredArchitecture","dotnetInfoArchToNodeArch","rejectPreviews","isPreviewVersion","findRuntimesCommand","parts","rimraf","Debugging_1","InstallIdUtilities_1","DotnetInstall_1","InstallationGraveyard_1","InstallTrackerSingleton_1","LinuxGlobalInstaller_1","WinMacGlobalInstaller_1","usingNoInstallInvoker","dotnetExtension","dotnetExecutable","globalResolver","DotnetUninstallAllStarted","clearPromises","removeFolderRecursively","uninstallAllRecords","DotnetUninstallAllCompleted","acquireLocalSDK","context","invoker","installerResolver","possibleInstallWithSameMajorMinor","getInstallFromContext","installedVersions","dotnetExePath","LinuxGlobalInstaller","getExpectedGlobalSDKPath","WinMacGlobalInstaller","DotnetAcquisitionStatusResolved","DotnetOfflineInstallUsed","GetDotnetInstallInfo","getDefaultInternalArchitecture","existingAcquisitionPromise","getPromise","IsEquivalentInstallationFile","checkForUnrecordedLocalSDKSuccessfulInstall","DotnetAcquisitionStatusUndefined","context_1","mode_1","localInvoker","DotnetInstallIdCreatedEvent","acquisitionPromise","Debugging","log","acquireGlobalCore","untrackInstallingVersion","getErrorOrStringAsEventError","acquireLocalCore","addPromise","res","_b","checkForPartialInstalls","existingInstall","getExistingInstall","trackInstallingVersion","DotnetAcquisitionStarted","reason","validateDotnetInstall","removeMatchingLegacyInstall","tryCleanUpInstallGraveyard","reclassifyInstallingVersionToInstalled","IsEquivalentInstallation","sdkIsFound","DotnetAcquisitionAlreadyInstalled","trackInstalledVersion","untrackInstalledVersion","listSDKsCommand","status","installingVersions","DotnetAcquisitionPartialInstallation","graveyard","InstallationGraveyard","installsToRemove","DotnetInstallGraveyardEvent","existingArch","installingVersion","DotnetGlobalVersionResolutionCompletionEvent","getInstallerUrl","getInstallerHash","VSCODE_DOTNET_GLOBAL_INSTALL_FAKE_PATH","DotnetFakeSDKEnvironmentVariableTriggered","DotnetBeginGlobalInstallerExecution","installerResult","installSDK","DotnetCompletedGlobalInstallerExecution","DotnetNonZeroInstallerExitCodeError","InterpretExitCode","setDotnetSDKTelemetryToMatch","endSudoProcessMaster","DotnetGlobalAcquisitionCompletionEvent","legacyInstalls","existingLegacyInstalls","legacyInstall","DotnetLegacyInstallRemovalRequestEvent","allInstalls","DotnetLegacyInstallDetectedEvent","install_1","add","DotnetUninstallStarted","DotnetUninstallCompleted","remove","SuppressedAcquisitionError","globalInstallerResolver_1","ok","uninstallSDK","DotnetUninstallFailed","folderPath","DotnetAcquisitionDeletion","chmodSync","sync","shelljs_1","installLinuxDependencies","additionalLibs","skipDotNetCore","scriptRoot","shellCommand","getShellCommand","console","distro","additionalLibsKey","executeCommandInTerminal","message_1","response","msg","Uri","parse","name_1","command_1","promptAfterRun","fullCommand","exitCodeFile","floor","random","commandList","commandSequence","terminal","createTerminal","sendText","onDidCloseTerminal","terminalEvent","exitFile","unlinkSync","parseInt","_c","_d","which","a","b","InstallToStrings","looksLikeRuntimeVersion","band","at","installVersion","installationMode","installArchitecture","DOTNET_INSTALL_MODE_LIST","lodash","fs_1","TypescriptUtilities_1","DotnetConditionValidator_1","RegistryReader_1","file","requestedArchitecture","DotnetFindPathLookupRootPATH","getOSArch","dotnetOnRootEmulationPath","DOTNET_ROOT_X64","EnvironmentVariableIsDefined","getDotnetExecutable","DotnetFindPathRootEmulationPATHFound","DotnetFindPathRootUnderEmulationButNoneSet","dotnetOnRootPath","DOTNET_ROOT","DotnetFindPathRootPATHFound","tryUseTrueShell","_e","_f","_g","_h","_j","_k","_l","_m","_o","oldLookup","DOTNET_MULTILEVEL_LOOKUP","searchEnvironment","SHELL","DotnetFindPathLookupPATH","PATH","pathLocatorCommand","findCommand","DotnetFindPathPATHFound","returnWithRestoringEnvironment","getTruePath","pathsOnPATH","getPathSeparator","validPathsOnPATH","pathOnPATH","resolvedDotnetPath","returnValue","envVarToRestore","envResToRestore","DotnetFindPathLookupRealPATH","realPaths","realpathSync","DotnetFindPathRealPATHFound","DotnetFindPathHostFxrResolutionLookup","registryReader","RegistryReader","hostPathWin","getHostLocation","paths","DotnetFindPathOnRegistry","DotnetFindPathNoHostOnRegistry","uniq","netSixAndAboveHostInstallSaveLocation","netFiveAndNetSixAboveFallBackInstallSaveLocation","getPathsFromEtc","DotnetFindPathOnFileSystem","DotnetFindPathNoHostOnFileSystem","etcLoc","installPath","readSync","FileDoesNotExist","tentativePaths","truePaths","tentativePath","runtimeInfo","dirname","DotnetFindPathNoRuntimesOnHost","DotnetPathFinder_1","lastSeenNonTruePathValue","existingPaths","windowDisplayWorker","getExistingPath","allowInvalidPath","dotnetFinder","resolvedPaths","providedPathMeetsAPIRequirement","getlastSeenNonTruePathValue","individualizedExtensionPaths","sharedExistingPath","matchingExtensions","pair","existingLocalPath","apiRequest","validated","GenericDistroSDKProvider","IDistroDotnetSDKProvider_1","IDistroDotnetSDKProvider","resolvePathAsSymlink","fullySpecifiedVersion","injectPMCFeed","myDistroCommands","installCommandKey","sdkPackage","myDotnetVersionPackageName","replaceSubstringsInCommands","missingPackageNameKey","commandRunner","executeMultipleCommands","getInstalledGlobalDotnetPathIfExists","commandResult","currentInstallPathCommandKey","symLinkReadCommand","readSymbolicLinkCommandKey","missingPathKey","resolvedPath","dotnetPackageExistsOnSystem","fullySpecifiedDotnetVersion","packageLookupCommandKey","JsonDotnetVersion","getExpectedDotnetDistroFeedInstallationDirectory","myDistroStrings","expectedDistroFeedInstallDirKey","getExpectedDotnetMicrosoftFeedInstallationDirectory","expectedMicrosoftFeedInstallDirKey","upgradeDotnet","versionToUpgrade","updateCommandKey","uninstallDotnet","versionToUninstall","uninstallCommandKey","getInstalledDotnetSDKVersions","installedSDKVersionsCommandKey","outputLines","splitLine","getInstalledDotnetRuntimeVersions","installedRuntimeVersionsCommandKey","getInstalledGlobalDotnetVersionIfExists","currentInstallVersionCommandKey","rootDir","root","isValidLongFormVersionFormat","getDotnetVersionSupportStatus","getFeatureBandFromVersion","myVersionDetails","hasOwnProperty","preinstallCommandKey","myVersionPackages","isMidFeedInjection","simplifiedVersion","dotnetPackages","maxVersion","json","isPackageFoundInSearch","resultOfSearchCommand","searchCommandExitCode","VersionResolver_1","releasesJsonErrorString","badResolvedVersionErrorString","releasesJsonKey","releasesSdksKey","releasesSdkRidKey","releasesSdkFileKey","releasesSdkVersionKey","releasesSdkNameKey","releasesUrlKey","releasesHashKey","releasesLatestSdkKey","customWebRequestWorker","discoveredInstallerUrl","fullySpecifiedVersionRequested","expectedInstallerHash","determineVersionAndInstallerUrl","routeRequestToProperVersionRequestType","isNonSpecificMajorOrMajorMinorVersion","DotnetVersionCategorizedEvent","numberOfPeriods","indexUrl","getIndexUrl","fetchJsonObjectFromUrl","installerUrlAndHash","findCorrectInstallerUrlAndHash","isNonSpecificFeatureBandedVersion","getNewestSpecificVersionFromFeatureBand","isFullySpecifiedVersion","specificVersion","versionErr","convertedOs","nodeOSToDotnetOS","osErr","DotnetUnexpectedInstallerOSError","convertedArch","archErr","DotnetUnexpectedInstallerArchitectureError","desiredRidPackage","releases","jsonErr","DotnetInvalidReleasesJSONError","sdks","releasesKeyAlias","forEach","thisSDKFiles","installerMatchesDesiredFileExtension","installerUrl","releaseJsonErr","startsWithAny","DotnetFileIntegrityCheckEvent","installerHash","installerErr","DotnetNoInstallerFileExistsError","fileErr","majorMinor","installerJson","operatingSystemInDotnetFormat","installerFileName","desiredFileExtension","extname","badJsonErr","thisSDKVersion","availableBands","Set","DotnetFeatureBandDoesNotExistError","str","substrings","substring","getCachedData","InstallationValidator_1","distroVersion","distroJson","searchCommandKey","isInstalledCommandKey","distroVersionsKey","versionKey","dotnetPackagesKey","distroPackagesKey","sdkKey","runtimeKey","aspNetKey","cachedMyVersionPacakges","distroDataFile","DotnetAcquisitionDistroUnknownError","validCommandSet","getAllValidCommands","isDotnetVersionSupported","installType_1","haveTriedFeedInjectionAlready","potentialDotnetPackageNames","packageSet","thisVersionPackage","packages","packageName","packageIsAvailableResult","fakeVersionToCheckMicrosoftSupportStatus","preInstallCommands","distroVersions","versionData","closestVersion","findMostSimilarVersion","parseFloat","myVersion","knownVersions","sameMajorVersions","max","lowerMajorVersions","min","stringKey","commandKey","validCommands","baseCommands","values","flat","sudoCommands","runUnderSudo","commandParts","prettifyCommandExecutorCommand","allPackages","newCommand","distroPackages","myDotnetVersions","dotnetPackage","IGlobalInstaller","crypto","getDownloadedInstallFilesFolder","uniqueInstallerId","createHash","update","digest","installFolderName","_VSCODE_DOTNET_INSTALL_FOLDER","IInstallationValidator","IJsonInstaller","vscodeAccessor","IRegistryReader","scriptAcquisitionUrl","scriptFileEnding","scriptFilePath","webWorker","script","writeFileOntoDisk","DotnetInstallScriptAcquisitionCompleted","DotnetInstallScriptAcquisitionError","fallbackPath","getFallbackScriptPath","DotnetFallbackInstallScriptUsed","lockfile","DotnetCoreAcquisitionWorker_1","inProgressInstalls","installingVersionsId","installedVersionsId","executeWithLock","alreadyHoldingLock","dataKey","f","trackingLock","lockPath","returnResult","writeFileSync","DotnetLockAttemptingAcquireEvent","Date","toISOString","lock","retries","minTimeout","maxTimeout","DotnetLockReleasedEvent","DotnetLockErrorEvent","instance","overrideMembers","clear","acquisitionContext_1","disableOutput","xAsId","DotnetAcquisitionInProgress","installingPromise","installPromise","removePromise","resolvedInstall","delete","NoMatchingInstallToStopTracking","isFinishedInstall_1","dotnetInstall_1","isFinishedInstall","allowUninstallUserOnlyInstall","id","RemovingVersionFromExtensionState","remainingInstallingVersions","remainingInstalledVersions","getAlreadyInstalledVersion_1","getAlreadyInstalledVersion","getAlreadyInstalledVersions","extensionStateAccessor","convertedInstalls","ConvertingLegacyInstallRecord","getAssumedInstallInfo","installKey","FoundTrackingVersions","owner","removeVersionFromExtensionState","idStr_1","installIdObj_1","idStr","installIdObj","forceUninstall","DuplicateInstallDetected","preExistingRecord","owners","RemovingExtensionFromList","RemovingOwnerFromList","addVersionToExtensionState","installObj_1","installObj","existingVersions","preExistingInstallIndex","findIndex","SkipAddingInstallEvent","AddTrackingVersions","dotnetInstallDirectory","installedInstallIdsList","installedInstallIds","localSDKDirectoryIdIter","installIds","readdirSync","getVersionFromLegacyInstallId","DotnetPreinstallDetected","DotnetPreinstallDetectionError","installPathsGraveyardKey","getGraveyard","entries","key","newPath","newGraveyard","IInstallationValidator_1","isDotnetFolder","failOnErr","dotnetValidationFailed","folder","assertOrThrowError","lstatSync","isFile","DotnetInstallationValidated","passedValidation","DotnetInstallationValidationError","DotnetInstallationValidationMissed","IJsonInstaller_1","registerOnExtensionChange","DotnetVSCodeExtensionChange","executeJSONRequests","extensions","getExtensions","extension","extensionPackage","packageJSON","DotnetVSCodeExtensionFound","DotnetVSCodeExtensionHasInstallRequest","jsonRequest","assign","IGlobalInstaller_1","LinuxVersionResolver_1","linuxSDKResolver","Initialize","ValidateAndInstallSDK","UninstallSDK","specificSDKVersionInstalled_1","installedArch_1","specificSDKVersionInstalled","installedArch","macPathShouldExist","distroCall","getGlobalSdkVersionsInstalledOnMachine","GenericDistroSDKProvider_1","RedHatDistroSDKProvider_1","distroProvider","distroSDKProvider","okUpdateExitCode","okAlreadyExistsExitCode","conflictingInstallErrorMessage","conflictingCustomInstallErrorMessage","baseUnsupportedDistroErrorMessage","unsupportedDistroErrorMessage","redhatUnsupportedDistroErrorMessage","acquireCtx","getRunningDistro","stdOutWithSeparatedKeyValues","keyValueMap","fromEntries","distroName","DistroProviderFactory","isRedHatVersion7","rhelVersion","distroAndVersion","unknownDistroErr","unsupportedRhelErr","RedHatDistroSDKProvider","VerifyNoConflictInstallTypeExists","microsoftFeedDir","DotnetConflictingLinuxInstallTypesError","distroFeedDir","VerifyNoCustomInstallExists","DotnetCustomLinuxInstallExistsError","UpdateOrRejectIfVersionRequestDoesNotRequireInstall","DotnetInstallLinuxChecks","existingGlobalInstallSDKVersion","isPatchUpgrade","getFeatureBandPatchVersion","DotnetUpgradedEvent","String","updateOrRejectState","targetVersion","toFixed","IRegistryReader_1","queryForPATHLocationNotViaPATH","queryForInstallLocationNotPATH","queryForPATH","queriedInstallationLocation","queryRegistry","keyRow","sdkInstallRecords64Bit","sdkInstallRecords32Bit","sdkInstallRecordsArm64","queries","query","registryLookup","installRecordKeysOfXBit","installedSdks","extractVersionsOutOfRegistryKeyStrings","indexOf","underWowNode","querySingleValue","registryQueryCommand","SystemRoot","queryParameters","registryQueryResult","i","semver","releasesUrl","getSdkVersions","listRuntimes","releasesVersions","getReleasesInfo","versionResult","resolveVersion","DotnetVersionResolutionCompleted","validateVersionInput","matchingVersion","parsedVer","coerce","apiContext","considerErrorIfNoBand","getSDKPatchVersionString","patch","isNumber","event","DotnetInvalidRuntimePatchVersion","every","invalidFeatureBandErrorString","charAt","nonErrEvent","FeatureBandDoesNotExist","DotnetVersionParseEvent","isNaN","validationPromptConstants","noSignatureMessage","cancelOption","allowOption","cleanupInstallFiles","completedInstall","invalidIntegrityError","registry","reportLogMessage","conflictingVersion","GlobalWindowsInstallWithConflictingVersionAlreadyExists","DotnetConflictingGlobalWindowsInstallError","installerFile","downloadInstaller","installerFileHasValidIntegrity","executeInstall","handleStatus","installerResult_1","installerFile_1","allowRetry","wipeDirectory","DotnetInstallCancelledByUserError","retryWithElevationResult","uninstallArgs","handleTimeout","macPath","getMacPath","ourInstallerDownloadFolder","installerPath","installerDir","downloadFile","permissionsCommand","commandRes","userChoosesToContinueWithInvalidHash","no","userConsentsToContinue","getModalWarningResponse","realFileHash","getFileHash","expectedFileHash","DotnetFileIntegrityFailureEvent","programfiles","noResponseError","DotnetNoInstallerResponseError","standardHostPath","arm64EmulationHostPath","installerPath_1","elevateVsCode","workingCommand","OSXOpenNotAvailableError","NetInstallerBeginExecutionEvent","NetInstallerEndExecutionEvent","commandOptions","isElevated","EventStream","subscribeEmitter","EventEmitter","fire","subscribe","DotnetAcquisitionVersionError","DotnetWSLSecurityError","DotnetCommandFailed","DotnetNotInstallRelatedCommandFailed","CommandExecutionNonZeroExitFailure","TimeoutSudoCommandExecutionError","TimeoutSudoProcessSpawnerError","DotnetDownloadFailure","DiskIsFullError","WebRequestError","OfflineDetectionLogicTriggered","DotnetInstallExpectedAbort","DotnetNonAcquisitionError","DotnetASPNetRuntimeFinalAcquisitionError","DotnetRuntimeFinalAcquisitionError","DotnetGlobalSDKAcquisitionError","DotnetAcquisitionFinalError","DotnetAcquisitionError","DotnetASPNetRuntimeAcquisitionRequested","DotnetGlobalSDKAcquisitionRequested","DotnetRuntimeAcquisitionRequested","DotnetASPNetRuntimeAcquisitionTotalSuccessEvent","DotnetGlobalSDKAcquisitionTotalSuccessEvent","DotnetRuntimeAcquisitionTotalSuccessEvent","DotnetASPNetRuntimeAcquisitionStarted","DotnetGlobalSDKAcquisitionStarted","DotnetSDKAcquisitionStarted","DotnetRuntimeAcquisitionStarted","GenericModalEvent","TriedToExitMasterSudoProcess","FileToWipe","EmptyDirectoryToWipe","WebRequestTimeUnknown","WebRequestCachedTime","WebRequestTime","WebRequestTimer","DotnetVisibleWarningEvent","DotnetCustomMessageEvent","DotnetAcquisitionMessage","DotnetCommandSucceeded","DotnetAcquisitionSuccessEvent","DotnetDebuggingMessage","DotnetCommandFallbackArchitectureEvent","DotnetAlternativeCommandFoundEvent","CommandProcessorExecutionEnd","CommandProcessorExecutionBegin","CommandProcessesExecutionFailureNonTerminal","DotnetGlobalAcquisitionBeginEvent","CommandExecutionStdError","CommandExecutionStdOut","DotnetCommandNotFoundEvent","DotnetTelemetrySettingEvent","CacheGetEvent","CachePutEvent","CacheClearEvent","DotnetWSLOperationOutputEvent","DotnetWSLCheckEvent","TestAcquireCalled","WebRequestSent","DotnetFileWriteRequestEvent","DotnetLockAcquiredEvent","DotnetLockEvent","DotnetFileEvent","CommandExecutionUnknownCommandExecutionAttempt","CommandExecutionUserRejectedPasswordRequest","CommandExecutionUnderSudoEvent","CommandExecutionUserCompletedDialogueEvent","CommandExecutionUserAskDialogueEvent","SudoProcCommandExchangeEnd","WaitingForDotnetInstallerResponse","SudoProcCommandExchangePing","SudoProcCommandExchangeBegin","SudoProcAliveCheckEnd","SudoProcAliveCheckBegin","CommandExecutionEvent","CommandExecutionStatusEvent","CommandExecutionSignalSentEvent","CommandExecutionNoStatusCodeWarning","DotnetCommandFallbackOSEvent","EventType_1","IEvent_1","eventType","IEvent","startingVersion","eventName","type","EventType","DotnetAcquisitionStart","getProperties","AcquisitionStartVersion","AcquisitionInstallId","DotnetAcquisitionStartedBase","HashData","DotnetModalChildEvent","finalPath","DotnetTotalSuccessEvent","ExtensionId","FinalPath","DotnetAcquisitionTotalSuccessEventBase","requestingId","RequestingExtensionId","DotnetAcquisitionRequestedEventBase","Mode","telemetry","AcquisitionCompletedInstallId","AcquisitionCompletedVersion","AcquisitionCompletedDotnetPath","isError","ErrorName","ErrorMessage","StackTrace","InstallId","originalEventName","DotnetAcquisitionFinalErrorBase","FailureMode","supplementalMessage","SupplementMessage","CommandName","AcquisitionErrorInstallId","TimeoutValue","fileStructure","getFileStructure","FileStructure","basename","files","isDirectory","fileName","relativeFiles","relative","RequestedVersion","ResolvedVersion","ConfiguredPath","DeletedFolderPath","eventMessage","Message","DotnetVisibleWarning","suppressTelemetry","durationMs","finished","DurationMs","Finished","Url","Status","DotnetUninstallMessage","request","Context","indexStr","ttl","eventMsg","OfflineInstallUsed","OfflineWarning","time","Time","File","Lock","PartialInstallationInstallId","InProgressInstallationInstallId","output","ScriptOutput","ValidatedInstallId","AcquisitionStatusInstallId","AcquisitionStatusVersion","WebRequestUri","PreinstalledInstallId","DotnetAcquisitionTest","createOutputChannel","logFile","getTime","LoggingObserver_1","LoggingObserver","StatusBarObserver_1","StatusBarObserver","createStatusBarItem","StatusBarAlignment","Left","MIN_VALUE","OutputChannelObserver_1","OutputChannelObserver","EventStream_1","observer","TelemetryObserver_1","TelemetryObserver","modalEventObserver","ModalEventPublisher_1","ModalEventRepublisher","enableTelemetryKey","extensionTelemetry","vscodeTelemetry","ContentSantizer_1","getSanitizedProperties","sanitizeProperties","logFilePath","writeLine","toLocaleString","properties","property","getFileLocation","eventStreamReference","getSpecificEvent","republishEvent","modeSpecificEvent","inProgressDownloads","acquisitionStarted","append","appendLine","startDownloadIndicator","startVersionString","acquisitionCompleted","inProgressVersionDone","completedVersionString","stopDownloadIndicator","updateDownloadIndicators","abortEvent","upgradeMessage","loggedMessage","offlineUsedMsg","offlineWarning","uninstallMessage","errorVersionString","downloadProgressInterval","setInterval","clearTimeout","index","splice","StatusBarColors","statusBarItem","setAndShowStatusBar","resetAndHideStatusBar","Red","text","color","tooltip","hide","extension_telemetry_1","connectionString","default","onDidChangeTelemetryEnabled","newIsTelemetryEnabledSetting","underlyingAcquisitionContext","isTelemetryEnabled","sendTelemetryErrorEvent","sendTelemetryEvent","util_1","dataToHash","hasher","utf8Bytes","TextEncoder","encode","toUpperCase","stringWithPaths","hashedPathsString","word","convertedLine","logTelemetryChange","setEnvironmentVariable","isDotnetSDKTelemetryDisabled","optOut","DOTNET_CLI_TELEMETRY_OPTOUT","changeMessage","vscode_1","pathPlaceholder","pathPrompt","callback","items","copyToUserClipboard","displayPathConfigPopUp","ignoreFocusOut","ExistingPathKeys","extensionIdKey","pathKey","IVSCodeExtensionContext","nodeCache","timeToLiveMultiplier","cache","getCommand","cacheableCommandToKey","put","obj","metadata","ttlMs","putCommand","invalidate","flushAll","k","v","proc","sudo_prompt_1","ICommandExecutor_1","LocalMemoryCacheSingleton_1","ICommandExecutor","validSudoCommands","pathTroubleshootingOption","englishOutputEnvironmentVariables","LC_ALL","LANG","LANGUAGE","sudoProcessCommunicationDir","hasEverLaunchedSudoFork","fileUtil","ExecSudoAsync","terminalFailure","fullCommandString","shellScript","startupSudoProc","sudoProcIsLive","executeSudoViaProcessCommunication","shellScriptPath","getSanitizedCallerName","parseVSCodeSudoExecError","errorIfDead","isLive","processAliveOkSentinelFile","fakeLockFile","directoryLockPath","lockfilePath","waitTime","loopWithTimeoutOnCond","commandToExecuteString_1","terminalFailure_1","commandToExecuteString","failOnNonZeroExit","commandOutputJson","commandFile","stderrFile","stdoutFile","statusFile","outputFile","didDelete","processExitFile","commands_1","options_1","results","useCache","sudoResult","execStdout","execStderr","logCommandResult","statusCode","standardResult","fullCommandStringForTelemetryOnly","cancelledErr","securityErr","variable","vscodeContext","failureWarningMessage","nonWinFailureMessage","environmentEditExitCode","setVSCodeEnvironmentVariable","setShellVariable","setSystemVariable","shellEditResponse","systemEditResponse","pathAddition","troubleshootingUrl","pathCommand","getWindowsPathCommand","getLinuxPathCommand","runPathCommand","appendToEnvironmentVariable","delimiter","sanitizedCallerName","profileFile","homedir","execSync","sanitize","content","user","USERNAME","USER","replacer","RegExp","sanitizedProperties","keys","debugOn","logToTerminal","createWriteStream","flags","write","logToFile","errorConstants","EnsureDependenciesErrorConfiguration","UninstallErrorConfiguration","isAcquisitionError","caughtError","isCancellationStyleError","errorMessage","moreInfoOption","showMessage","errorOptions","reportOption","hideOption","configureManuallyOption","IssueReporter_1","manualPath","setSharedPathConfigurationValue","configureManualInstall","pathConfigValueName","sharedExistingDotnetPath","unsupportedMessage","getSharedPathConfigurationValue","configValue","eol","IFileUtilities_1","IFileUtilities","scriptContent_1","filePath_1","scriptContent","filePath","innerWriteFile","auto","directoryToWipe","fileExtensionsToDelete","toLocaleLowerCase","rmSync","nodeArchitecture","dotnetInfoArch","nodeOS","sha512Hasher","hash","fileStream","createReadStream","on","chunk","isSudo","includeSudo","replaceSubstringsInCommand","replacement","newCommandRoot","newCommandParts","commandPart","newCommands","IVSCodeEnvironment","ctx","isRuntimeInstallId","isGlobalLegacyInstallId","getArchFromLegacyInstallId","DotnetInstallMode_1","installIdVersion","splitId","issuesUrl","sampleRatePerMs","durationToWaitBeforeTimeoutMs","conditionToStop","doAfterStop","waitEvent","waitAndResolve","setTimeout","findTrueArchCommand","IVSCodeEnvironment_1","axios_1","https_proxy_agent_1","VSCODE_DOTNET_INSTALL_TOOL_ORIGINAL_HOME","HOME","get_proxy_settings_1","axios_cache_interceptor_1","dns","axiosRetry","stream","cacheTimeToLive","proxyAgent","websiteTimeoutMs","proxy","uncachedAxiosClient","create","retryDelay","retryCount","pow","interceptors","use","config","startTime","hrtime","bigint","finalTime","client","setupCache","storage","buildMemoryStorage","axiosGet","url_1","timeoutCancelTokenHook","AbortController","abort","formattedError","startTimeNs","finalTimeNs","MAX_SAFE_INTEGER","cached","retriesCount","makeWebRequest","timeoutSec","expectedDNSResolutionTimeMs","dnsResolver","Resolver","isUrlCached","urlInQuestion","requestFunction","getAxiosOptions","ActivateProxyAgentIfFound","proxyEnabled","autoDetectProxies","getProxySettings","https","http","HttpsProxyAgent","dest","promisify","responseType","transformResponse","data","pipe","numRetries_1","furtherOptions_1","numRetries","furtherOptions","keepAlive","headers","httpsAgent","throwOnError","isAxiosError","axiosBasedError","summarizedError","cause","genericError","IVSCodeExtensionContext_1","trueContext","environmentVariableCollection","appendingValue","environment","onDidChange","all","__createBinding","o","m","k2","desc","getOwnPropertyDescriptor","__esModule","__exportStar","p","prototype","call","MockEnvironmentVariableCollection","persistent","variables","envVar","prepend","Symbol","iterator","MockInstallTracker","MockExtensionConfiguration","MockLoggingObserver","MockInstallationValidator","MockTelemetryReporter","FailingInstallScriptWorker","MockDistroProvider","MockFileUtilities","MockCommandExecutor","MockAcquisitionInvoker","MockApostropheScriptAcquisitionWorker","MockInstallScriptWorker","MockVersionResolver","MockVSCodeEnvironment","MockVSCodeExtensionContext","MockIndexWebRequestWorker","MockWebRequestWorker","MockTrackingWebRequestWorker","FailingWebRequestWorker","FileWebRequestWorker","versionPairs","ErrorAcquisitionInvoker","RejectingAcquisitionInvoker","MockDotnetCoreAcquisitionWorker","NoInstallAcquisitionInvoker","MockEventStream","MockExtensionContext","AcquisitionInvoker_1","TestUtility_1","defaultValue","events","enableNoInstallInvoker","AddToGraveyard","uri","mockFilePath","succeed","webTimeToLive","testDefaultTimeoutTimeMs","requestCount","getRequestCount","incrementRequestCount","_super","shouldThrow","knownUrls","matchingUrlResponses","urlResponseIndex","pathAdditionWithDelimiter","failing","fallback","installFolder","getMockUtilityContext","fakeReturnValue","attemptedCommand","otherCommandPatternsToMock","otherCommandsReturnValues","trueExecutor","shouldActuallyExecuteCommand","commandPatternToLookFor","resetReturnValues","trueUtilities","filePathsAndExistValues","filePathsAndReadValues","eventSteam","installReturnValue","installedSDKsReturnValue","installedRuntimesReturnValue","globalPathReturnValue","globalVersionReturnValue","distroFeedReturnValue","microsoftFeedReturnValue","packageExistsReturnValue","supportStatusReturnValue","recommendedVersionReturnValue","upgradeReturnValue","uninstallReturnValue","versionPackagesReturnValue","measures","telemetryEvents","errorProps","section","getExtensionState","setExtensionState","MockWindowDisplayWorker","mockPath","warningMessage","infoMessage","clipboardText","getMockAcquisitionContext","timeoutTime","standardTimeoutTime","customEventStream","customContext","MockObjects_1","myEventStream","getMockAcquireContext","DirectoryProviderFactory_1","getMockAcquisitionWorkerContext","getMockAcquisitionWorker","mockContext","MockWindowDisplayWorker_1","nextAcquiringVersion","defaultConfig","endpointUrl","S","propertyStorageOverride","isVal","getProperty","setProperty","AppInsightsCore","_this","_self","_base","notificationManager","cfg","logger_1","track","telemetryItem","trackStart","latency","itemExt","ext","ver","baseData","itemProperties","pluginVersionString","__ieDyn","ValueKind","NotSet","Pii_DistinguishedName","Pii_GenericData","Pii_IPV4Address","Pii_IPv6Address","Pii_MailSubject","Pii_PhoneNumber","Pii_QueryString","Pii_SipAddress","Pii_SmtpAddress","Pii_Identity","Pii_Uri","Pii_Fqdn","Pii_IPV4AddressLegacy","Pii_IPv6ScrubLastHextets","Pii_DropValue","CustomerContent_GenericContent","EventLatency","Normal","CostDeferred","RealTime","Immediate","EventPropertyType","Unspecified","Int32","UInt32","Int64","UInt64","Double","Bool","Guid","DateTime","EventPersistence","Critical","TraceLevel","NONE","ERROR","WARNING","INFORMATION","ValueSanitizer","fieldSanitizerProvider","_sanitizerMap","_sanitizers","_fieldSanitizers","_getFieldSanitizer","fieldLookup","lp","canHandle","fieldHandler","handler","_handleProperty","mapValue","fieldType","stringifyObjects","_callFieldSanitizer","_convertToProperty","fieldProvider","theType","sanitizer","getSanitizer","propertyType","newValue_1","propValue","propKey","theValue","newProp","details","prop","clearCache","addSanitizer","newSanitizer","addFieldSanitizer","fieldSanitizer","theSanitizer","idx","theFieldSanitizer","isEmpty","subType","getFieldType","MinChannelPriorty","LoggingSeverity","DISABLED","CRITICAL","DEBUG","STR_EMPTY","STR_DEFAULT_ENDPOINT_URL","STR_VERSION","STR_PROPERTIES","Version","FullVersionString","ObjHasOwnProperty","strDisabledPropertyName","strWithCredentials","strTimeout","_fieldTypeEventPropMap","uInt8ArraySupported","isDocumentObjectAvailable","isWindowObjectAvailable","isValueAssigned","getTenantId","apiKey","indexTenantId","isUint8ArrayAvailable","Uint8Array","nav","userAgent","ua","isSafariOrFirefox","isLatency","sanitizeProperty","propType","isArrayValid","isValueKind","getCommonSchemaMetaData","kind","encodedTypeValue","isDataType","getFieldValueType","getCookieValue","cookieMgr","decode","cookieValue","decodeURIComponent","createGuid","style","theGuid","extend","obj2","obj3","obj4","obj5","extended","deep","theArgs","arrayValue","arrayIndex","setProcessTelemetryTimings","identifier","evt","objType","isChromium","openXhr","method","urlString","withCredentials","disabled","isSync","_wrapSetXhrProp","xhr","XMLHttpRequest","isGreaterThanZero","_DYN_INITIALIZE","_DYN_LOGGER","_DYN_INDEX_OF","_DYN_TIMINGS","_DYN_POLL_INTERNAL_LOGS","_DYN_VALUE","_DYN_KIND","_DYN_LENGTH","_DYN_PROCESS_TELEMETRY_ST0","_DYN_HANDLE_FIELD","_DYN_RM_SANITIZER","_DYN_RM_FIELD_SANITIZER","_DYN_CAN_HANDLE","RT_PROFILE","NRT_PROFILE","BE_PROFILE","STR_DROPPED","STR_REQUEUE","DEFAULT_CACHE_CONTROL","DEFAULT_CONTENT_TYPE","STR_CACHE_CONTROL","STR_CONTENT_TYPE_HEADER","STR_CLIENT_VERSION","STR_CLIENT_ID","STR_TIME_DELTA_TO_APPLY","STR_UPLOAD_TIME","STR_API_KEY","STR_MSA_DEVICE_TICKET","STR_AUTH_WEB_TOKEN","STR_AUTH_XTOKEN","STR_MSFPC","STR_TRACE","STR_USER","_DYN_ALLOW_REQUEST_SENDIN0","_DYN_FIRST_REQUEST_SENT","_DYN_SHOULD_ADD_CLOCK_SKE1","_DYN_GET_CLOCK_SKEW_HEADE2","_DYN_SET_CLOCK_SKEW","_DYN_CONCAT","_DYN_I_KEY","_DYN_COUNT","_DYN_EVENTS","_DYN_PUSH","_DYN_SPLIT","_DYN_SPLICE","_DYN_TO_LOWER_CASE","_DYN_HDRS","_DYN_USE_HDRS","_DYN_SET_TIMEOUT_OVERRIDE","_DYN_CLEAR_TIMEOUT_OVERRI3","_DYN_OVERRIDE_ENDPOINT_UR4","_DYN_AVOID_OPTIONS","_DYN_ENABLE_COMPOUND_KEY","_DYN_DISABLE_XHR_SYNC","_DYN_DISABLE_FETCH_KEEP_A6","_DYN_USE_SEND_BEACON","_DYN_FETCH_CREDENTIALS","_DYN_ALWAYS_USE_XHR_OVERR7","_DYN_SERIALIZE_OFFLINE_EV8","_DYN_GET_OFFLINE_REQUEST_9","_DYN_CREATE_PAYLOAD","_DYN_CREATE_ONE_DSPAYLOAD","_DYN_PAYLOAD_BLOB","_DYN_HEADERS","_DYN__THE_PAYLOAD","_DYN_URL_STRING","_DYN_BATCHES","_DYN_SEND_TYPE","_DYN_ADD_HEADER","_DYN_CAN_SEND_REQUEST","_DYN_SEND_QUEUED_REQUESTS","_DYN_IS_COMPLETELY_IDLE","_DYN_SET_UNLOADING","_DYN_RESUME","_DYN_SEND_SYNCHRONOUS_BAT10","_DYN__TRANSPORT","_DYN_GET_WPARAM","_DYN_IS_BEACON","_DYN_IS_TEARDOWN","_DYN_IS_SYNC","_DYN_DATA","_DYN__SEND_REASON","_DYN_SET_KILL_SWITCH_TENA11","_DYN__BACK_OFF_TRANSMISSI12","_DYN_IDENTIFIER","_DYN_EVENTS_LIMIT_IN_MEM","_DYN_AUTO_FLUSH_EVENTS_LI14","_DYN_BASE_DATA","_DYN_SEND_ATTEMPT","_DYN_LATENCY","_DYN_SYNC","_getEventMsfpc","theEvent","intWeb","_getMsfpc","theEvents","msfpc","EventBatch","iKey","addEvents","_msfpc","Msfpc","addEvent","fromEvent","numEvents","cnt","ClockSkewManager","_allowRequestSending","_shouldAddClockSkewHeaders","_isFirstRequest","_clockSkewHeaderValue","_clockSkewSet","timeDeltaInMillis","KillSwitch","_killedTokenDictionary","killTokens","killDuration","killedTokens","ex","tenantToken","killDictionary","retryPolicyGetMillisToBackoffForRetry","retriesSoFar","waitDuration","randomBackoff","BaseBackoff","MaxRecordSize","MaxBeaconRecordSize","rCheckDot","Serializer","perfManager","valueSanitizer","enableCompoundKey","getEncodedTypeOverride","excludeCsMetaData","strData","strBaseData","_checkForCompoundkey","_processSubKeys","_theSanitizer","_isReservedCache","_excludeCsMetaData","_getEncodedType","_processPathKeys","srcObj","thePath","checkReserved","metadataPathKeys","metadataCallback","processSubKeys","srcValue","theMetaPathKeys","destObj","test","subKeys","keyLen","subKey","isReserved","_isReservedField","handleField","newValue","createPayload","retryCnt","isTeardown","isReducedPayload","sendReason","sendType","apiKeys","payloadBlob","overflow","sizeExceed","failedEvts","batches","isBeacon","appendPayload","payload","theBatch","maxEventsPerBatch","canAddEvents","payloadEvents","eventsAdded","sizeExceeded","isBeaconPayload","requestMaxSize","recordMaxSize","joinCount","eventBlob","getEventBlob","blobLength","evts","eventData","serializedEvent","_addMetadataCallback","serializedExt","pathKeys","getEncodedType","propKeys","propertyValue","metaData","metaTarget","newTarget","t","_addJSONPropertyMetaData","eventExt","serializedData","baseType","serializedBaseData","createTimeoutWrapper","argSetTimeout","argClearTimeout","ms","_i","strSendAttempt","UrlQueryString","_eventActionMap","_collectorQsHeaders","_collectorHeaderToQs","_addCollectorHeaderQsMapping","qsName","headerName","allowQs","_hasHeader","header","hasHeader","lowerHeader","_addRequestDetails","useHeaders","HttpManager","maxConnections","maxRequestRetriesBeforeBackoff","actions","_urlString","_killSwitch","_paused","_clockSkewManager","_outstandingRequests","_postManager","_logger","_sendInterfaces","_core","_customHttpInterface","_queryStringParameters","_headers","_batchQueue","_serializer","_enableEventTimings","_cookieMgr","_isUnloading","_useHeaders","_xhrTimeout","_disableXhrSync","_disableFetchKeepAlive","_canHaveReducedPayload","_addNoResponse","_unloadHooks","_sendHook","_sendListener","_responseHandlers","_isInitialized","_timeoutWrapper","_sendPostMgr","_fetchCredentials","_useBeacons","_getSenderInterface","transports","syncSupport","getSenderInst","_getSendPostMgrConfig","enableSendPromise","isOneDs","disableCredentials","fetchCredentials","disableXhr","disableBeacon","disableBeaconSync","disableFetchKeepAlive","timeWrapper","addNoResponse","senderOnCompleteCallBack","xdrOnComplete","_xdrOncomplete","fetchOnComplete","_fetchOnComplete","xhrOnComplete","_xhrOnComplete","beaconOnRetry","_onBeaconRetry","xdr","oncomplete","_doOnComplete","_handleCollectorResponse","onComplete","resValue","headerMap","responseText","handleResponse","canSend","thePayload","theUrl","nav_1","persistStorage","getPlugin","droppedBatches_1","sentBatches_1","sendBeacon","sentEvts","_sendBatchesNotification","_isBeaconPayload","_adjustSendType","_hasIdleConnection","_clearQueue","theQueue","_canSendPayload","theBatches","_createDebugBatches","_sendBatches","orgBatches_1","isSynchronous_1","perfEvt","droppedBatches","serializationStart","sendInterface","sendTransport","_isSync","shift","isTenantKilled","_doPayloadSend","isSynchronous","useSendBeacon","_buildRequestDetails","requestDetails","hdrs","useHdrs","apiQsKeys","encodeURIComponent","wParam","_setTimingValue","timings","serializationCompleted","useSendHook_1","sendInterface_1","useHeaders_1","requestDetails_1","sendEventStart_1","batchLp","evtLp","orgPayloadData","_thePayload","_sendReason","disableXhrSync","sender","httpStatusCode","isRetrying","backOffTrans","shouldRetry","killToken","removedEvents","retryCount_1","_doAction","batchReason","_clearBackOff","sendEventCompleted_1","sendEventCompleted","_addEventCompletedTimings","_addCompleteTimings","sendQueuedRequests","_handleRequestFinished","_retryRequestIfNeeded","sendPOST","hookData_1","senderCalled_1","cb","interval","responseHandlers","webResult","sendSync","theAction_1","action","isSyncRequest_1","undefValue","_initDefaults","theConfig","core","postChannel","getCookieMgr","diagLog","coreConfig","channelConfig","extensionConfig","anonCookieName","qsParams","_addQueryStringParameter","_removeQueryStringParameter","payloadListener","httpInterface","httpXHROverride","xhrTimeout","sendPostConfig","SetConfig","SenderPostManager","syncHttpInterface","beaconHttpInterface","fetchSyncHttpInterface","beaconUnloadTransports","theTransports","addResponseHandler","responseHandler","rm","optimize","theBatches_1","batch","payloadData","removeHeader","addBatch","teardown","hook","pause","MaxEventsLimitInMem","strEventsDiscarded","defaultPostChannelConfig","eventsLimitInMem","immediateEventLimit","autoFlushEventsLimit","disableAutoBatchFlushLimit","overrideInstrumentationKey","overrideEndpointUrl","disableTelemetry","ignoreMc1Ms0CookieProcessing","setTimeoutOverride","clearTimeoutOverride","payloadPreprocessor","disableEventTimings","disableOptimizeObj","unloadTransports","avoidOptions","alwaysUseXhrOverride","maxEventRetryAttempts","maxUnloadEventRetryAttempts","PostChannel","_postConfig","priority","_flushCallbackTimer","_immediateQueueSizeLimit","_queueSizeLimit","_scheduledTimer","_immediateTimer","_currentBackoffCount","_timerCount","_httpManager","_batchQueues","_autoFlushEventsLimit","_autoFlushBatchLimit","_delayedBatchSendLatency","_delayedBatchReason","_optimizeObject","_isPageUnloadTriggered","_maxEventSendAttempts","_maxUnloadEventSendAttempts","_evtNamespace","_ignoreMc1Ms0CookieProcessing","_disableAutoBatchFlushLimit","_notificationManager","_unloadHandlersAdded","_overrideInstrumentationKey","_disableTelemetry","_isTeardownCalled","_flushCallbackQueue","_immediateQueueSize","_queueSize","_profiles","_currentProfile","_removeUnloadHandlers","_batch","arr","rlt","_serialize","_cleanEvent","_handleUnloadEvents","_releaseAllQueues","_handleShowEvents","_addEventToQueues","evtLatency","queueSize","queueLimit","eventDropped","_addEventToProperQueue","dropLatency","dropNumber","currentLatency","eventBatch","_getEventBatch","droppedEvents","droppedCount","_notifyBatchEvents","EventsDiscardedReason","QueueFull","_resetQueueCounts","_dropEventWithLatencyOrLess","_notifyEvents","_sendEventsForLatencyAndAbove","queued","_queueBatches","_hasEvents","_scheduleTimer","immediateTimeOut","_createTimer","timeOut","requeue","_requeueEvents","send","_sendingEvent","sent","_eventsSentEvent","drop","_eventsDropped","rspFail","_eventsResponseFail","oth","_otherEvent","_initializeProfiles","iKeyMap","_setAutoLimits","theTimerFunc","timerMultiplier","_clearScheduledTimer","cancel","batchQueue","_performAutoFlush","isAsync","doFlush","flush","immediateQueue","normalQueue","_loop_1","eventsQueued","latencyToProcess","_flushImpl","_waitForIdleManager","maxSendAttempts","NonRetryableStatus","_callNotification","evtName","manager","notifyFunc","extraArgs","isSyncRequest","Unknown","MaxNumberEventPerBatch","getNotifyMgr","evtNamespace","_addHook","getExtCfg","existingGetWParamMethod","wparam","_hookWParam","excludePageUnloadEvents","disablePageUnloadEvents","disablePageShowEvents","setInitialized","processTelemetry","ev","itemCtx","_getTelCtx","processNext","getOfflineSupport","details_1","getUrl","serialize","shouldProcess","createOneDSPayload","_doTeardown","unloadCtx","unloadState","setEventQueueLimits","eventLimit","autoFlushLimit","_loadTransmitProfiles","profiles","profileName","profileValue","profLen","directValue","ceil","cleared","setMsaAuthTicket","ticket","setAuthPluginHeader","token","removeAuthPluginHeader","hasEvents","_setTransmitProfile","BaseTelemetryPlugin","_FIELDS_SEPARATOR","_FIELD_KEY_VALUE_SEPARATOR","parseConnectionString","kvPairs","fields","kv","kvParts","endpointsuffix","locationPrefix","location","ConnectionStringParser","DisabledPropertyName","SampleRate","ProcessLegacy","HttpMethod","DEFAULT_BREEZE_ENDPOINT","DEFAULT_BREEZE_PATH","strNotSpecified","strIkey","StorageType","LocalStorage","SessionStorage","DistributedTracingModes","AI","AI_AND_W3C","W3C","strEmpty","stringToBoolOrDefault","msToTimeSpan","totalms","round","sec","hour","days","getExtensionByName","isCrossOriginError","lineNumber","columnNumber","_aiNameFunc","baseName","aiName","_aiApplication","_aiDevice","_aiLocation","_aiOperation","_aiSession","_aiUser","_aiCloud","_aiInternal","ContextTagKeys","applicationVersion","applicationBuild","applicationTypeId","applicationId","applicationLayer","deviceId","deviceIp","deviceLanguage","deviceLocale","deviceModel","deviceFriendlyName","deviceNetwork","deviceNetworkName","deviceOEMName","deviceOS","deviceOSVersion","deviceRoleInstance","deviceRoleName","deviceScreenResolution","deviceType","deviceMachineName","deviceVMName","deviceBrowser","deviceBrowserVersion","locationIp","locationCountry","locationProvince","locationCity","operationId","operationName","operationParentId","operationRootId","operationSyntheticSource","operationCorrelationVector","sessionId","sessionIsFirst","sessionIsNew","userAccountAcquisitionDate","userAccountId","userId","userStoreRegion","userAuthUserId","userAnonymousUserAcquisitionDate","userAuthenticatedUserAcquisitionDate","cloudName","cloudRole","cloudRoleVer","cloudRoleInstance","cloudEnvironment","cloudLocation","cloudDeploymentUnit","internalNodeName","internalSdkVersion","internalAgentVersion","internalSnippet","internalSdkSrc","SeverityLevel","Verbose","Information","Warning","Extensions","UserExt","DeviceExt","TraceExt","WebExt","AppExt","OSExt","SessionExt","SDKExt","CtxTagKeys","_disableEvents","createOfflineListener","parentEvtNamespace","_document","_navigator","_isListening","listenerList","rState","onLine","uState","_currentState","calCurrentState","_enableEvents","body","ononline","enabled","_setOnline","_setOffline","listnerNoticeCheck","newState","offlineState","isListening","unload","win","addListener","setOnlineState","RequestHeaders","requestContextHeader","requestContextTargetKey","requestContextAppIdFormat","requestIdHeader","traceParentHeader","traceStateHeader","sdkContextHeader","sdkContextHeaderAppIdRequest","requestContextHeaderLowerCase","_canUseLocalStorage","_canUseSessionStorage","_storagePrefix","_getLocalStorageObject","utlCanUseLocalStorage","_getVerifiedStorageObject","storageType","uid","setItem","fail","getItem","exception","_getSessionStorageObject","utlCanUseSessionStorage","utlDisableStorage","utlSetStoragePrefix","storagePrefix","utlEnableStorage","reset","utlGetLocalStorage","utlSetLocalStorage","utlRemoveStorage","utlGetSessionStorageKeys","utlGetSessionStorage","utlSetSessionStorage","utlRemoveSessionStorage","Data","aiDataContract","dataSanitizeKeyAndAddUniqueness","origLength","field","dataSanitizeKey","uniqueField","dsPadNumber","nameTrunc","dataSanitizeString","maxLength","valueTrunc","dataSanitizeUrl","dataSanitizeInput","dataSanitizeMessage","messageTrunc","dataSanitizeException","exceptionTrunc","dataSanitizeProperties","tempProps_1","dataSanitizeMeasurements","measurements","tempMeasurements_1","measure","dataSanitizeId","input","_msgId","inputTrunc","num","s","Envelope","sampleRate","tags","Event","envelopeType","dataType","strError","strStack","strStackDetails","strErrorSrc","strMessage","strDescription","_stringify","convertToString","_formatMessage","errorType","evtMessage","_isStackDetails","src","_convertStackObj","errorStack","_getStackFromErrorObj","errorObj","lines","entry","_getOperaStack","_getErrorType","typeName","_formatErrorCode","Exception","severityLevel","exceptions","_isExceptionInternal","_ExceptionDetails","CreateAutoException","errorSrc","stackDetails","CreateFromInterface","toInterface","problemGroup","isManual","exceptionDetailsInterface","CreateSimpleException","assembly","formatError","outerId","hasFullStack","parsedStack","_isExceptionDetailsInternal","frames","level_1","totalSizeInBytes_1","frame","theFrame","_StackFrame","regex","parsedFrame","left","right","size","acceptedLeft","acceptedRight","howMany","_parseStack","_formatStackTrace","sourceFrame","level","matches","match","sizeInBytes","baseSize","DataPoint","count","stdDev","Metric","metrics","dataPoint","PageView","duration","PageViewPerformance","unused","cs4BaseData","perfTotal","networkConnect","sentRequest","receivedResponse","domProcessing","RemoteDependencyData","absoluteUrl","success","resultCode","requestAPI","correlationContext","dependencyKind","dependencySource","dependencyTypeName","dependencyFields","Trace","_htmlAnchorIdx","_htmlAnchorElement","urlParseUrl","anchorIdx","anchorCache","tempAnchor","createElement","host","urlParseHost","href","urlGetAbsoluteUrl","urlGetPathName","urlGetCompleteUrl","inclPort","fullHost","urlParseFullHost","protocol","port","_internalEndpoints","_correlationIdPrefix","isInternalApplicationInsightsEndpoint","correlationIdSetPrefix","prefix","correlationIdGetPrefix","correlationIdCanIncludeCorrelationHeader","requestUrl","currentHost","disableCorrelationHeaders","correlationHeaderExcludePatterns","requestHost","enableCorsCorrelation","matchExists_1","includedDomains","correlationHeaderDomains","domain","excludedDomains","correlationHeaderExcludedDomains","correlationIdGetCorrelationContext","responseHeader","correlationId","correlationIdGetCorrelationContextValue","keyValues","keyValue","AjaxHelperParseDependencyPath","parsedUrl","pathName","pathname","dateTimeUtilsNow","perf","now","timing","navigationStart","dateTimeUtilsDuration","start","end","createDistributedTraceContextFromTrace","telemetryTrace","parentCtx","trace","getName","setName","getTraceId","traceID","setTraceId","getSpanId","parentID","setSpanId","getTraceFlags","traceFlags","setTraceFlags","newTraceFlags","_DYN_INGESTIONENDPOINT","_DYN_TO_STRING","_DYN_REMOVE_ITEM","_DYN_NAME","_DYN_MESSAGE","_DYN_PRE_TRIGGER_DATE","_DYN_DISABLED","_DYN_INTERVAL","_DYN_DAYS_OF_MONTH","_DYN_DATE","_DYN_GET_UTCDATE","_DYN_STRINGIFY","_DYN_PATHNAME","_DYN_CORRELATION_HEADER_E0","_DYN_EXTENSION_CONFIG","_DYN_EXCEPTIONS","_DYN_PARSED_STACK","_DYN_PROPERTIES","_DYN_MEASUREMENTS","_DYN_SIZE_IN_BYTES","_DYN_TYPE_NAME","_DYN_SEVERITY_LEVEL","_DYN_PROBLEM_GROUP","_DYN_IS_MANUAL","_DYN__CREATE_FROM_INTERFA1","_DYN_ASSEMBLY","_DYN_FILE_NAME","_DYN_HAS_FULL_STACK","_DYN_LEVEL","_DYN_METHOD","_DYN_LINE","_DYN_DURATION","_DYN_RECEIVED_RESPONSE","ThrottleMgr","namePrefix","_config","_localStorageObj","_isTriggered","_namePrefix","_queue","_isReady","_isSpecificDaysGiven","_flushMessage","msgID","severity","saveUnsentMsg","isSampledIn","_getCfgByKey","limit","samplingRate","_canSampledIn","localStorageObj","_getLocalStorageObjByKey","canThrottle","_canThrottle","throttled","number","isTriggered","_isTrigger","maxSendNumber","localStorageName","_getLocalStorageName","_resetLocalStorage","_sendMessage","isThrottled","throttleNum","_getQueueByKey","_setCfgByKey","monthInterval","dayInterval","curCfg","configInterval","daysOfMonth","canUseLocalStorage","curDate","_getThrottleDate","date","monthCheck","monthExpand","getUTCFullYear","getUTCMonth","_checkInterval","dayCheck","daySpan","msgKey","fix","dateStr","getDate","storageName","current","curObj","storageObj","preTriggerDate","_getLocalStorageObj","isTrigger","_isTriggeredOnCurDate","addUnloadHook","configMgr","throttleMgrCfg","getConfig","msgId","localObj","isReady","queue","result_1","isFlushed","onReadyState","sendMessage","ConfigurationManager","createTelemetryItem","envelopeName","customProperties","systemProperties","TelemetryItemCreator","createDomEvent","doc","createEvent","initEvent","PropertiesPluginIdentifier","BreezeChannelIdentifier","AnalyticsPluginIdentifier","_stringToBoolOrDefault","cfgDfMerge","mrg","cfgDfValidate","fallBackName","fb","cfgDfBoolean","_isConfigDefaults","_getDefault","dynamicHandler","cfgDefaults","defValue","isDefaultValid","dfVal","fallbacks","fbValue","_resolveDefaultValue","_applyDefaultValue","isValid","setFn","mergeDf","reference","readOnly","blkDynamicValue","ref","usingDefault","cfgValue","dfName","dfValue","aggregationErrorType","arrayMethodsToPatch","_throwDynamicError","_getOwnPropGetter","propDesc","_setDynamicProperty","state","getter","n","h","trk","clr","checkDynamic","isObjectOrArray","_getProperty","_makeDynamicObject","activeHandler","act","chng","g","ro","upd","isReferenced","rf","hdlr","valueState","newIsObjectOrArray","_createDynamicProperty","_setDynamicPropertyState","isDynamic","inPlace","rdOnly","blkProp","blkVal","orgMethod","_patchArray","symPrefix","symPostfix","_createDynamicHandler","theState","cfgHandler","defaultValues","configHandler","_createAndUseHandler","_block","allowUpdate","prevUpd","c","w","dynamicPropertySymbol","dynamicPropertyReadOnly","dynamicPropertyReferenced","dynamicPropertyBlockValue","dynamicPropertyDetail","_waitingHandlers","_watcherTimer","_useHandler","prevWatcher","bind","setDf","_notifyWatchers","notifyHandlers","watcherFailures_1","sourceErrors","self","errors","theMessage","srcError","throwAggregationError","_createState","createDynamicConfig","onConfigChange","_logInvalidAccess","CFG_HANDLER_LINK","BLOCK_DYNAMIC","FORCE_DYNAMIC","_cfgDeepCopy","source","target_1","getDynamicConfigHandler","blockDynamicConversion","forceDynamicConversion","_canMakeDynamic","getFunc","throwInvalidAccess","createEnumStyle","createValueMap","InvalidEvent","SizeLimitExceeded","CleanStorage","MaxInStorageTimeExceeded","ActiveStatus","PENDING","INACTIVE","ACTIVE","TelemetryInitializerPlugin","_id","_initializers","addTelemetryInitializer","telemetryInitializer","theInitializer","initializer","_addInitializer","doNotSendItem","telemetryInitializersCount","_runInitializers","strValidationError","strSdkUnloadingError","cookieCfg","loggingLevelConsole","diagnosticLogInterval","_createPerfManager","notificationMgr","PerfManager","_isPluginPresent","thePlugin","plugins","exists","plugin","_deepMergeConfig","newValues","merge","_findWatcher","listeners","newWatcher","theListener","listener","l","_configHandler","_eventQueue","_perfManager","_cfgPerfManager","_cookieManager","_pluginChain","_configExtensions","_channelConfig","_channels","_telemetryInitializerPlugin","_internalLogsEventName","_unloadHandlers","_hookContainer","_debugListener","_traceCtx","_instrumentationKey","_cfgListeners","_extensions","_pluginVersionStringArr","_pluginVersionString","_activeStatus","_endpoint","_initInMemoMaxSize","_isStatusSet","_internalLogPoller","_internalLogPollerListening","_forceStopInternalLogPoller","_setStatus","_releaseQueues","releaseQueue","_startLogPoller","alwaysStart","_addUnloadHook","isRunning","_flushInternalLogs","_setPluginVersions","thePlugins","_addPluginVersions","channels","updateCfg","DiagnosticLogger","newLogger","cfgExtensions","_createTelCtx","theCtx","_getPluginChain","_initPluginChain","updateState","theExtensions","channelPriority","allExtensions","coreExtensions","extPriorities","extPriority","_validateExtensions","rootCtx","_doUpdate","_getPlugin","pluginIdentifier","theExt","channelHosts","getChannel","setEnabled","isEnabled","pluginState","removeCb","pluginsToRemove","_removePlugins","removed","removeComplete","unloadChain","newConfigExtensions","newChannelConfig","newQueue","channel","logMessage","_flushChannels","callBack","cbTimeout","waiting","doneIterating","cbTimer","doCallback","iterate","handled_1","updateCtx","_updateHook","_logOrThrowError","_notifyInvalidEvent","hooks","activeStatus","_setPendingStatus","prevCfgPerfMgr","rootCfg","initInMemoMaxSize","ikey","initTimeout","initTimeOut","allPromises","ikeyRes","endpointRes","extCfg","unloadContainer","debugListener","disableDbgExt","_initDebugListener","enablePerfMgr","createPerfMgr","teeController","unloadHdl","_registerDelayedCfgListener","getChannels","controls","NotificationManager","setCookieMgr","setPerfMgr","perfMgr","eventCnt","eventQueue","unloadComplete","flushComplete","processUnloadCtx","_doUnload","run","addPlugin","replaceExisting","addCb","existingPlugin","_addPlugin","added","removedPlugins_1","newConfig","mergeExisting","oldCfg","getTraceCtx","createNew","setTraceCtx","traceCtx","onCfgChange","unloadHook","fnd","_createUnloadHook","getWParam","enableWParam","runTargetUnload","doUnloadAll","targets","resolved","strGetPlugin","_isinitialized","_rootCtx","_nextPlugin","_unloadHandlerContainer","currentCtx","_setDefaults","pluginChain","nextPlugin","unloadDone","theUnloadCtx","theUnloadState","_unloadCallback","updateDone","theUpdateCtx","theUpdateState","_updateCallback","getCfg","isInitialized","ChannelControllerPriority","_doc","strToGMTString","strToUTCString","strCookie","strExpires","strIsCookieUseDisabled","strDisableCookiesUsage","strConfigCookieMgr","_supportsCookies","_allowUaSameSite","_parsedCookieValue","_cookieCache","_globalCookieConfig","rootDefaultConfig","ignoreCookies","blockedCookies","cookieDomain","cookiePath","_getDoc","_isMgrEnabled","_isIgnoredCookie","cookieMgrCfg","_isCfgEnabled","rootConfig","cookieMgrConfig","isCfgEnabled","cookieEnabled","safeGetCookieMgr","createCookieMgr","inst","_gblCookieMgr","_path","_domain","unloadHandler","_enabled","_getCookieFn","_setCookieFn","_delCookieFn","getCookie","_getCookieValue","setCookie","_setCookieValue","delCookie","areCookiesSupported","gblManager","maxAgeSec","_isBlockedCookie","_extractParts","_isIE","expireMs","expiry","setTime","_formatDate","location_1","uaDisallowsSameSiteNone","_formatCookieValue","del","purge","thePart","theDate","func","theCookie","newGuid","uuid","generateW3CId","tmp","hexValues","oct","clockSequenceHi","instanceName","_dataUid","_canAcceptData","createUniqueNamespace","includeVersion","createElmNodeData","accept","addDefault","theCache","_getCache","kill","listenerFuncs","_aiNamespace","_listenerProxyFunc","dbgExt","getDebugExt","ns","getDebugListener","STR_WARN_TO_CONSOLE","loggingLevelTelemetry","maxMessageLimit","enableDebug","_logFuncs","_sanitizeDiagnosticText","_logToConsole","theConsole","logFunc","_InternalLogMessage","isUserAct","strProps","diagnosticText","safeGetLogger","_loggingLevelConsole","_loggingLevelTelemetry","_maxInternalMessageLimit","_enableDebug","_unloadHandler","_messageCount","_messageLogged","_logInternalMessage","messageKey","_debugExtMsg","throttleLimitMessage","throttleMessage","errorToConsole","_setDefaultsFromConfig","consoleLoggingLevel","debugToConsole","resetInternalMessageCount","_getLogger","_throwInternal","_warnToConsole","strDocumentMode","strLocation","strConsole","strJSON","strCrypto","strMsCrypto","strReactNative","strMsie","strTrident","strXMLHttpRequest","_isTrident","_navUserAgentCheck","_enableMocks","_useXDomainRequest","_beaconsSupported","_hasProperty","theClass","supported","proto","setEnableEnvMocks","getLocation","checkForMock","mockLocation","getConsole","hasJSON","Boolean","getJSON","getCrypto","getMsCrypto","isReactNative","product","isIE","getIEVersion","userAgentStr","navigator_1","tridentVer","isBeaconsSupported","useCached","isFetchSupported","withKeepAlive","useXDomainRequest","XDomainRequest","isXhrSupported","_getNamedValue","findMetaTag","querySelectorAll","findNamedServerTiming","navPerf","getEntriesByType","serverTiming","strOnPrefix","strAttachEvent","strAddEventHelper","strDetachEvent","strRemoveEventListener","strEvents","strVisibilityChangeEvt","strPageHide","strPageShow","strUnload","strBeforeUnload","strPageHideNamespace","strPageShowNamespace","rRemoveEmptyNs","rRemoveTrailingEmptyNs","_guid","elmNodeData","eventNamespace","_normalizeNamespace","_getEvtNamespace","theNamespace_1","parsedEvent","__getRegisteredEvents","eventCache","evtType","registeredEvents","_getRegisteredEvents","aiEvts","_doDetach","handlerRef","useCapture","_doUnregister","unRegFn","capture","mergeEvtNamespace","theNamespace","namespaces","eventOn","_doAttach","registeredEvent","guid","eventOff","evtName_1","found_1","_unregisterEvents","regEvent","attachEvent","eventNameWithoutOn","detachEvent","addEventHandler","removeEventHandler","_addEventListeners","excludeEvents","addEventListeners","removeEventListeners","addPageUnloadEventListener","removePageUnloadEventListener","addPageHideEventListener","newNamespaces","pageUnloadAdded","visibilityState","removePageHideEventListener","addPageShowEventListener","pageShowAdded","removePageShowEventListener","rCamelCase","rNormalizeInvalid","rLeadingNumeric","isNotNullOrUndefined","normalizeJsName","_all","letter","strContains","search","getExceptionName","setValue","valChk","srcChk","getSetValue","_createProxyFunction","funcName","srcFunc","originalArguments","proxyAssign","chkSet","proxyFunctionAs","theFunc","overwriteTarget","proxyFunctions","functionsToProxy","theFuncName","createClassFromInterface","defaults","optimizeObject","theObject","objExtend","obj1","obj6","argLen","isArgArray","isArgObj","isNewArray","clone","getResponseText","formatErrorMessageXdr","formatErrorMessageXhr","prependTransports","newTransports","convertAllHeadersToMap","headersString","headersArray","headerEntry","_appendHeader","theHeaders","STR_KILL_DURATION_HEADER","STR_KILL_DURATION_SECONDS_HEADER","STR_TIME_DELTA_HEADER","_getAllResponseHeaders","UNDEFINED_VALUE","STR_CHANNELS","STR_CORE","STR_CREATE_PERF_MGR","STR_DISABLED","STR_EXTENSION_CONFIG","STR_EXTENSIONS","STR_PROCESS_TELEMETRY","STR_PRIORITY","STR_EVENTS_SENT","STR_EVENTS_DISCARDED","STR_EVENTS_SEND_REQUEST","STR_PERF_EVENT","STR_OFFLINE_STORE","STR_OFFLINE_SENT","STR_OFFLINE_DROP","STR_GET_PERF_MGR","STR_DOMAIN","STR_PATH","STR_NOT_DYNAMIC_ERROR","perfEvtsSendAll","_runScheduledListeners","asyncNotifications","callbacks","_runListeners","_listeners","_asyncNotifications","perfEvent","rn_1","_finishUnload","asyncUnload","strExecutionContextKey","strParentContextKey","strChildrenContextKey","_defaultPerfManager","PerfEvent","payloadDetails","theDetails_1","childTime","childEvts","childEvt","exTime","ParentContextKey","ChildrenContextKey","doPerfActiveKey","doPerf","mgrSource","getSource","currentActive","children","getGblPerfMgr","strTelemetryPluginChain","strHasRunFlags","strGetTelCtx","_chainId","_createInternalContext","telemetryChain","startAt","_nextProxy","_onComplete","createTelemetryProxyChain","_getNextProxyStart","_next","nextProxy","completeDetails","_getExtCfg","extConfig","hasNext","getNext","setNext","that","createIfMissing","idCfg","createProcessTelemetryContext","internalContext","createProcessTelemetryUnloadContext","createProcessTelemetryUpdateContext","firstProxy","lastProxy_1","newProxy","chainId","hasProcessTelemetry","hasSetNext","proxyChain","_processChain","hasRun","pluginCore","_setNext","processPluginFn","hasRunContext","nextId","hasNextRun","createTelemetryPluginProxy","ProcessTelemetryContext","UInt32Mask","MaxUInt32","SEED1","SEED2","_mwcSeeded","_mwcW","_mwcZ","_autoSeedMwc","seedValue","randomValue","maxValue","random32","signed","getRandomValues","Uint32Array","mwcRandom32","newId","chars","parseResponse","itemsAccepted","itemsReceived","_noResponseQs","STR_POST_METHOD","_enableSendPromise","_diagLog","_isOneDs","_onCompleteFuncs","_disableCredentials","_fallbackInst","_disableXhr","_disableBeacon","_disableBeaconSync","_syncFetchPayload","_sendCredentials","_onError","_onNoPayloadUrl","_doBeaconSend","plainTextBatch","Blob","_beaconSender","onRetry","_xhrSender","thePromise","resolveFunc","rejectFunc","endPointUrl","_doOnReadyFunc","onReadyFunc","onreadystatechange","readyState","onload","onerror","ontimeout","_doFetchSender","requestHeaders","Headers","batchLength","ignoreResponse","responseHandled","init","credentials","keepalive","Request","_handleError","_onFetchComplete","onCompleteFunc","fetch","response_1","resp","statusText","_xdrSender","_window","onloadFunc","onprogress","hostingProtocol","endpoint","lastIndexOf","getSyncFetchPayload","transportType","sendPostFunc","_transport","getFallbackInst","pluginStateData","_getPluginState","initializePlugins","processContext","initPlugins","lastPlugin","sortPlugins","extA","extB","bHasProcess","createDistributedTraceContext","createUnloadHandlerContainer","handlers","_maxHooks","_hookAddMonitor","_testHookMaxUnloadHooksCb","maxHooks","addMonitor","createUnloadHookContainer","_hooks","oldHooks","TRACE_PARENT_REGEX","DEFAULT_VERSION","INVALID_VERSION","INVALID_TRACE_ID","INVALID_SPAN_ID","SAMPLED_FLAG","_isValid","len","invalidValue","_formatValue","_formatFlags","createTraceParent","traceId","spanId","isValidTraceId","isValidSpanId","parseTraceParent","selectIdx","isValidTraceParent","isSampledFlag","formatTraceParent","findW3cTraceParent","traceParent","findAllScripts","scripts","getElementsByTagName","crossOrigin","hasAttribute","defer","referrerPolicy","info","_DYN_BLK_VAL","_DYN_RD_ONLY","_DYN_NOTIFY","_DYN_WARN_TO_CONSOLE","_DYN_THROW_INTERNAL","_DYN_SET_DF","_DYN_WATCH","_DYN_APPLY","_DYN_HDLR","_DYN_CANCEL","_DYN_REMOVE_NOTIFICATION_0","_DYN_ADD_NOTIFICATION_LIS1","_DYN_IS_INITIALIZED","_DYN_INSTRUMENTATION_KEY","_DYN__INACTIVE","_DYN_GET_NOTIFY_MGR","_DYN_GET_PLUGIN","_DYN_TIME","_DYN_PROCESS_NEXT","_DYN_GET_PROCESS_TEL_CONT2","_DYN_ENABLED","_DYN_STOP_POLLING_INTERNA3","_DYN_UNLOAD","_DYN_ON_COMPLETE","_DYN_VERSION","_DYN_LOGGING_LEVEL_CONSOL4","_DYN_CREATE_NEW","_DYN_TEARDOWN","_DYN_MESSAGE_ID","_DYN_IS_ASYNC","_DYN_DIAG_LOG","_DYN__DO_TEARDOWN","_DYN_UPDATE","_DYN_GET_NEXT","_DYN_SET_NEXT_PLUGIN","_DYN_PROTOCOL","_DYN_USER_AGENT","_DYN_NODE_TYPE","_DYN_REPLACE","_DYN_LOG_INTERNAL_MESSAGE","_DYN_TYPE","_DYN_HANDLER","_DYN_STATUS","_DYN_GET_RESPONSE_HEADER","_DYN_GET_ALL_RESPONSE_HEA5","_DYN_IS_CHILD_EVT","_DYN_GET_CTX","_DYN_SET_CTX","_DYN_COMPLETE","_DYN_ITEMS_RECEIVED","_DYN_SEND_POST","_DYN_TIMEOUT","_DYN_SET_REQUEST_HEADER","_DYN_TRACE_ID","_DYN_SPAN_ID","_DYN_TRACE_FLAGS","_DYN_GET_ATTRIBUTE","strShimFunction","strShimObject","strShimUndefined","strShimPrototype","ObjClass","ObjProto","strHasOwnProperty","__assignFn","extendStaticsFn","d","__proto__","__extendsFn","__","__spreadArrayFn","to","il","j","STR_DURATION","_DYN_TAGS","_DYN_DEVICE_TYPE","_DYN_DATA_TYPE","_DYN_ENVELOPE_TYPE","_DYN__GET","_DYN_ENQUEUE","_DYN_ITEM","_DYN_EMIT_LINE_DELIMITED_0","_DYN_CLEAR","_DYN_MARK_AS_SENT","_DYN_CLEAR_SENT","_DYN_BUFFER_OVERRIDE","_DYN__BUFFER__KEY","_DYN__SENT__BUFFER__KEY","_DYN__MAX__BUFFER__SIZE","_DYN_TRIGGER_SEND","_DYN__SENDER","_DYN_ENDPOINT_URL","_DYN_CUSTOM_HEADERS","_DYN_MAX_BATCH_SIZE_IN_BY1","_DYN_ONUNLOAD_DISABLE_BEA2","_DYN_IS_BEACON_API_DISABL3","_DYN_ALWAYS_USE_XHR_OVERR4","_DYN_DISABLE_XHR","_DYN_ENABLE_SESSION_STORA5","_DYN__BUFFER","_DYN_ONUNLOAD_DISABLE_FET6","_DYN_DISABLE_SEND_BEACON_7","_DYN_ENABLE_SEND_PROMISE","_DYN_GET_SENDER_INST","_DYN_UNLOAD_TRANSPORTS","_DYN_CONVERT_UNDEFINED","_DYN_MAX_BATCH_INTERVAL","_DYN_SERIALIZE","_DYN__ON_ERROR","_DYN__ON_PARTIAL_SUCCESS","_DYN__ON_SUCCESS","_DYN_ITEMS_ACCEPTED","_DYN_ORI_PAYLOAD","_DYN_BASE_TYPE","_DYN_SAMPLE_RATE","_DYN_EVENTS_SEND_REQUEST","_DYN_GET_SAMPLING_SCORE","strBaseType","strProperties","strTrue","_setValueIf","_extractPropsAndMeasurements","_convertPropsUndefinedToCustomDefinedValue","customUndefinedValue","_createEnvelope","envelope","iKeyNoDashes","envTags","itmExt","itmTags","extUser","authId","localId","extApp","sesId","extDevice","device","deviceClass","ip","model","web","browserLang","browserVer","browser","envData","envBaseData","envProps","screenRes","userConsent","extOs","osVer","extTrace","tgs","tg","theTags","EnvelopeCreator","_extractPartAExtensions","EnvelopeCreatorInit","EventEnvelopeCreator","customMeasurements","BaseSendBuffer","_buffer","_bufferFullMessageSent","_maxRetryCnt","maxRetryCnt","_set","buffer","getItems","batchPayloads","payloads","payloadStr_1","canUseSessionStorage","newBuffer","SessionStorageSendBuffer","ArraySendBuffer","PREVIOUS_KEYS","bufferItems","_getBuffer","itemsInSentBuffer","previousItems","_getItemsFromPreviousKey","prefixEvents","_getPreviousEvents","notDeliveredItems","_removePayloadsFromBuffer","remaining","payloadStr","_getBufferBase","bufferJson","buffer_1","_setBuffer","prefixedKey","transFormedItems_1","internalItem","BUFFER_KEY","sentElements","unsentItems","sentItems","VERSION","SENT_BUFFER_KEY","MAX_BUFFER_SIZE","_serializeObject","circularReferenceCheck","_serializeStringMap","_serializeArray","contract","isRequired","isHidden","isPresent","isObj","sources","expectedType","HashCodeScoreGenerator","getHashCodeScore","getHashCode","INT_MAX_VALUE","charCodeAt","SamplingScoreGenerator","hashCodeGenerator","Sample","throwInternal","samplingScoreGenerator","samplingPercentage","_getResponseText","defaultAppInsightsChannelConfig","isRetryDisabled","retryCodes","EnvelopeTypeCreator","props","currentContextId","bd","refUri","pageType","isLoggedIn","pageTags","pageViewData","exData","baseMetricData","average","sampleCount","remoteDepData","responseCode","Sender","_consecutiveErrors","_retryAt","_timeoutHandle","_stamp_specific_redirects","_syncUnloadSender","_offlineListener","_endpointUrl","_orgEndpointUrl","_maxBatchSizeInBytes","_beaconSupported","_beaconOnUnloadSupported","_beaconNormalSupported","_customHeaders","_convertUndefined","_isRetryDisabled","_maxBatchInterval","_sessionStorageUsed","_bufferOverrideUsed","_alwaysUseCustomSend","_fetchKeepAlive","_xhrSend","_fallbackSend","_disableBeaconSplit","_retryCodes","_xdrOnLoad","_xhrReadyStateChange","countOfItemsInPayload","_checkResponsStatus","responseURL","_getPayloadArr","_validate","diagLogger","_sample","_getEnvelope","defaultEnvelopeIkey","aiEnvelope","constructEnvelope","valid","_createPayload","_getHeaders","_doSend","markAsSent","_getPayload","_onSuccess","_getOnComplete","_checkMaxSize","incomingPayload","incomingSize","responseUrl","_appId","appId","_checkAndUpdateEndPointUrl","_resendPayload","_isRetriable","_doUnloadSend","_isStringArr","_fetchKeepAliveSender","transport","payloadSize","linearFactor","payload_1","delayInSeconds","backOffSlot","backOffDelay","retryAfterTimeSpan","_setRetryTime","_setupTimer","retryInterval","timerValue","resume","onunloadFlush","addHeader","senderConfig","curExtUrl","coreUrl","customHeader","bufferOverride","shouldUpdate","instrumentationKey","disableValidation","disableInstrumentationKeyValidation","_validateInstrumentationKey","onCompleteFuncs","droppedPayload","customInterface","syncInterface","xhrInterface","syncTransports","payloadItem","isCompletelyIdle","getOfflineListener","forcedSender","sendRequest","_notifySendRequest","ieVer","failed","retry","errors_1","reverse","extracted","_onPartialSuccess","orig","convertUndefined","_DYN_CONNECTION_STRING","_DYN_INSTRUMENTATIONKEY0","_DYN_USER_OVERRIDE_ENDPOI1","defaultConfigValues","ApplicationInsights","_track","_initialize","configCs","ikeyPromise","curCs","urlPromise","ingest","cs","initialize","Constructor","Prototype","strFunction","DynInstFuncTable","DynProxyTag","DynClassName","DynClassNamePrefix","DynInstChkTag","DynAllowInstChkTag","DynProtoDefaultOptions","UnknownValue","str__Proto","DynProtoBaseProto","DynProtoGlobalSettings","DynProtoCurrent","strUseBaseInst","strSetInstFuncs","Obj","_objGetPrototypeOf","_objGetOwnProps","_gbl","_gblInst","_isObjectOrArrayPrototype","_isObjectArrayOrFunctionPrototype","Function","_getObjProto","newProto","curProto","_forEachProp","_isDynamicCandidate","skipOwn","_throwTypeError","_hasVisited","_populatePrototype","className","baseInstFuncs","setInstanceFunc","instFuncTable","instFuncs_1","dynProtoProxy","instFunc","currentDynProtoProxy","canAddInst","objProto","visited","protoFunc","_getInstFunc","_getProtoFunc","_createDynamicPrototype","_getObjName","unknownValue","dynamicProto","delegateFunc","classProto","thisTarget","thisProto","_checkPrototype","perfOptions","useBaseInst","instFuncs","_getInstanceFuncs","baseFuncs","_instFuncProxy","funcHost","baseProto","_getBaseFuncs","_debugState","_debugResult","_debugHandled","STR_PROMISE","REJECTED","doAwaitResponse","doAwait","resolveFn","rejectFn","finallyFn","finally","doFinally","_hasInitEvent","_promiseDebugEnabled","STRING_STATES","DISPATCH_EVENT","_hasInitEventFn","_hasPromiseRejectionEvent","_promiseCls","_allSyncSettledCreator","_promiseCreator","NODE_UNHANDLED_REJECTION","UNHANDLED_REJECTION","_currentPromiseId","_uniquePromiseId","_unhandledRejectionTimeout","dumpFnObj","_createPromise","newPromise","processor","_settledValue","_thePromise","additionalArgs","_state","_hasResolved","_parentId","_handled","_unHandledRejectionHandler","_then","onResolved","onRejected","_processQueue","pop","_strState","pending","_createSettleIfFn","allowState","_notifyUnhandledRejection","emit","gbl","populateEvent","useNewEvent","theEvt","emitEvent","onFinally","thenFinally","catchFinally","stateFn","_addDebugState$1","_rejectFn","_createAllPromise","values_1","pending_1","syncItemProcessor","createAsyncPromise","callbackTimeout","timeoutItemProcessor","createNativePromise","PrmCls","createSyncPromise","createSyncAllSettledPromise","processItem","createPromise","createAllPromise","_pureAssign","func1","func2","_pureRef","_primitiveTypes","UNDEF_VALUE","NULL_VALUE","EMPTY","FUNCTION","OBJECT","PROTOTYPE","__PROTO__","UNDEFINED","CONSTRUCTOR","SYMBOL","POLYFILL_TAG","LENGTH","NAME","CALL","TO_STRING","StrCls","StrProto","MathCls","ArrCls","ArrProto","ArrSlice","safe","argArray","_createIs","_createObjIs","theName","objToString","isTypeof","isUndefined","isNullOrUndefined","isDefined","isString","isFunction","isObject","isDate","isBoolean","isPromiseLike","isNotTruthy","isTruthy","objGetOwnPropertyDescriptor","objHasOwnProperty","objHasOwn","polyObjHasOwn","objForEachKey","callbackfn","propMap","_createProp","objDefineProp","objDefineProperties","objDefineAccessors","getProp","setProp","objDefine","_createKeyValueMap","keyType","valueType","completeFn","theMap","_assignMapValue","asString","ERROR_TYPE","dumpObj","format","propertyValueDump","throwError","throwTypeError","_objFreeze","_doNothing","_getProto","objAssign","objKeys","objDeepFreeze","objFreeze","objSeal","objGetPrototypeOf","createEnum","createEnumKeyMap","createTypeMap","mapClass","createSimpleMap","_globalCfg","_wellKnownSymbolMap","asyncIterator","hasInstance","isConcatSpreadable","matchAll","species","toPrimitive","toStringTag","unscopables","GLOBAL_CONFIG_KEY","_getGlobalValue","globalThis","global","_getGlobalConfig","_unwrapFunction","_unwrapFunctionWithPoly","clsProto","polyFunc","clsFn","_unwrapProp","propName","mathMax","strSlice","strSubstring","strSubstr","polyStrSubstr","strLeft","_polySymbols","_wellKnownSymbolCache","_globalLazyTestHooks","UNIQUE_REGISTRY_ID","polyNewSymbol","theSymbol","polySymbolFor","gblCfg","gblSym","_globalSymbolRegistry","newSymbol_1","regId_1","_initTestHooks","getLazy","lazyValue","lzy","createCachedValue","toJSON","_cachedGlobal","WINDOW","_getGlobalInstFn","getFn","cachedValue","getGlobal","getInst","hasDocument","getDocument","hasWindow","getWindow","hasNavigator","getNavigator","hasHistory","getHistory","_symbol","_symbolFor","_iterSymbol$1","isNode","node","_initSymbol","_getSymbolKey","hasSymbol","getSymbol","getKnownSymbol","noPoly","knownName","sym","polyGetKnownSymbol","newSymbol","symbolFor","isIterator","isIterable","isStrictNullOrUndefined","iterForOf","iter","iterResult","throw","return","fnApply","arrAppend","elms","elm","arrForEach","theArray","arrIndexOf","arrMap","arrSlice","polyArrIncludes","searchElement","fromIndex","_isProtoArray","arrIncludes","arrReduce","objCreate","polyObjCreate","tempFunc","objSetPrototypeOf","_setName","baseClass","createCustomError","constructCb","errorBase","theBaseClass","orgName","captureFn","captureStackTrace","_createCustomError","orgProto","utcNow","polyUtcNow","_createTrimFn","exp","_fnToString","_objCtrFnString","_gblWindow","strTrim","isPlainObject","_defaultDeepCopyHandler","plainObjDeepCopyHandler","defaultDeepCopyHandlers","copyTo","_deepCopy","visitMap","userHandler","newCtx","isPlain","isPrim","isPrimitiveType","origin","copy","newKey","_copyProps","theEntry","newEntry","_getSetVisited","deepExtend","theArg","objCopyProps","_doExtend","_perf","getLength","getPerformance","perfNow","strEndsWith","polyStrEndsWith","searchString","searchValue","strIndexOf","strStartsWith","polyStrStartsWith","position","pos","REF","UNREF","HAS_REF","ENABLED","_createTimeoutWith","startTimer","overrideFn","isArr","clearFn","timerFn","dn","refreshFn","cancelFn","theTimerHandler","timerId","_unref","_cancel","_refresh","refresh","_createTimerHandler","scheduleTimeout","scheduleTimeoutWith","createTimeout","__setModuleDefault","__importStar","mod","oneDataSystemClientFactory","vscodeAPI","xhrOverride","appInsightsCore","oneDs","postPlugin","collectorChannelPlugin","disableCookiesUsage","internalTesting","getAICore","logEvent","completedFlush","appInsightsClientFactory","applicationinsights_common_1","machineId","replacementOptions","appInsightsClient","basicAISDK","authConfig","disableAjaxTracking","disableExceptionTracking","disableFetchTracking","autoTrackPageVisitTime","emitLineDelimitedJson","TelemetryUtil","applyReplacements","BaseTelemetryReporter","telemetrySender","initializationOptions","userOptIn","errorOptIn","disposables","_onDidChangeTelemetryLevel","onDidChangeTelemetryLevel","telemetryLogger","createTelemetryLogger","updateUserOptIn","onDidChangeEnableStates","isErrorsEnabled","isUsageEnabled","instantiateSender","telemetryLevel","internalSendTelemetryEvent","dangerous","sendEventData","logUsage","sendRawTelemetryEvent","modifiedProperties","propertyKey","TelemetryTrustedValue","sendDangerousTelemetryEvent","internalSendTelemetryErrorEvent","logError","sendDangerousTelemetryErrorEvent","InstantiationStatus","BaseTelemetrySender","clientFactory","_instantiationStatus","NOT_INSTANTIATED","_exceptionQueue","_clientFactory","_key","_telemetryClient","INSTANTIATED","sendErrorData","errorData","errorProperties","_flushQueues","INSTANTIATING","option","lookup","replacementString","shouldUseOneDataSystemSDK","getAdditionalCommonProperties","osShim","_instance","_1dsClientFactory_1","appInsightsClientFactory_1","baseTelemetryReporter_1","baseTelemetrySender_1","getXHROverride","byteLength","req","responseData","TelemetryReporter","additionalCommonProperties","Node","child","util","Attempt","temp","tmpdir","UUID","Remove","errorRemove","parent","mkdir","zip","writeFile","APPLET","EscapeDoubleQuotes","MacApplet","icns","MacIcon","MacPropertyList","MacCommand","MacOpen","PERMISSION_DENIED","MacResult","Mac","stat","LinuxBinary","magic","MAX_BUFFER","elevated","NO_POLKIT_AGENT","Linux","pathElevate","pathExecute","pathStdout","pathStderr","pathStatus","WindowsWriteExecuteScript","WindowsWriteCommandScript","stdin","WindowsElevate","WindowsWaitForStatus","WindowsResult","Windows","string","normalize","randomBytes","ValidName","stats","title","toBuffer","chunks","_err","opts","promise","Agent","net","https_1","INTERNAL","isSecureEndpoint","secureEndpoint","incrementSockets","maxSockets","Infinity","maxTotalSockets","sockets","fakeSocket","Socket","totalSocketCount","decrementSockets","socket","createSocket","connectOpts","connect","addRequest","currentSocket","createConnection","defaultPort","parallel","serial","serialOrdered","clean","jobs","nextTick","setImmediate","list","runJob","sortMethod","isNamedList","initState","keyedList","terminator","ascending","iteratorHandler","descending","balanced","maybeMatch","r","range","pre","reg","begs","beg","ai","bi","concatMap","substr","expand","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","unescapeBraces","numeric","parseCommaParts","postParts","embrace","isPadded","el","lte","gte","isTop","expansions","isNumericSequence","isAlphaSequence","isSequence","isOptions","N","width","incr","pad","fromCharCode","need","z","expansion","_instanceof","nativeMap","nativeSet","nativePromise","Map","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","_clone","__isArray","__isRegExp","__getRegExpFlags","lastIndex","__isDate","isBuffer","allocUnsafe","getPrototypeOf","keyChild","valueChild","entryChild","attrs","getOwnPropertySymbols","symbols","symbol","descriptor","allPropertyNames","getOwnPropertyNames","__objToStr","re","ignoreCase","multiline","clonePrototype","Stream","DelayedStream","CombinedStream","readable","dataSize","maxDataSize","pauseStreams","_released","_streams","_currentStream","_insideLoop","_pendingNext","inherits","combinedStream","isStreamLike","newStream","pauseStream","_checkDataSize","_handleErrors","_getNext","_realGetNext","_pipeNext","_emitError","_reset","destroy","_updateDataSize","xs","ProtoList","ini","EE","conf","ConfigChain","rel","er","_awaiting","_saving","extras","where","save","pref","addFile","marker","__source__","_await","addString","addEnv","addUrl","ct","_resolve","formatArgs","useColors","namespace","humanize","diff","lastC","removeItem","load","__nwjs","navigator","document","documentElement","WebkitAppearance","firebug","table","localStorage","localstorage","warned","warn","colors","debug","formatters","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","curr","prev","formatter","val","selectColor","newDebug","matchesTemplate","template","searchIndex","templateIndex","starIndex","matchIndex","disable","names","skips","enable","skip","tty","inspectOpts","formatWithOptions","colorCode","hideDate","isatty","fd","deprecate","supportsColor","reduce","inspect","O","_maxDataSizeExceeded","_bufferedEvents","delayedStream","realEmit","_handleEmit","setEncoding","_checkIfMaxDataSizeExceeded","make","api","linebreak","newline","converts","convert","looksLikeNode","looksLikeBrowser","looksLikeV8","URL","Writable","assert","useNativeURL","preservedUrlFields","eventHandlers","arg1","arg2","arg3","_redirectable","InvalidUrlError","createErrorType","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","noop","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","_performRequest","wrap","protocols","maxRedirects","maxBodyLength","nativeProtocols","scheme","nativeProtocol","wrappedProtocol","defineProperties","spreadUrlObject","parseUrl","validateUrl","hostname","equal","wrappedRequest","parsed","urlObject","spread","removeMatchingHeaders","lastValue","CustomError","destroyRequest","removeListener","_currentRequest","currentRequest","setHeader","msecs","destroyOnTimeout","_timeout","clearTimer","searchPos","agents","agent","_currentUrl","_isRedirect","buffers","writeNext","trackRedirects","followRedirects","redirects","beforeRedirect","Host","getHeader","base","currentHostHeader","currentUrlParts","currentUrl","redirectUrl","subdomain","dot","isSubdomain","responseDetails","mime","asynckit","populate","FormData","_overheadLength","_valueLength","_valuesToMeasure","LINE_BREAK","filename","_error","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","_lengthRetriever","fileSize","contentDisposition","_getContentDisposition","contentType","_getContentType","contents","getBoundary","filepath","_httpMessage","_lastBoundary","getHeaders","userHeaders","formHeaders","setBoundary","boundary","_boundary","_generateBoundary","getBuffer","dataBuffer","alloc","getLengthSync","hasKnownLength","submit","params","onResponse","responce","dst","realpath","monkeypatch","unmonkeypatch","origRealpath","origRealpathSync","old","syscall","pathModule","isWindows","NODE_DEBUG","nextPartRe","splitRootRe","previous","original","seenLinks","knownHard","resolvedLink","isSymbolicLink","linkTarget","dev","ino","readlinkSync","backtrace","missingCallback","throwDeprecation","noDeprecation","traceDeprecation","rethrow","maybeCallback","lstat","LOOP","gotResolvedLink","gotStat","gotTarget","readlink","testUrl","__export","GetProxyError","ProxyAuthenticationRequiredError","ProxyInvalidCredentialsError","ProxyConnectionRefusedError","URL_REGEX","Protocol","ProxySetting","Http","_parseUrl","cred","username","password","getAuthorizationHeader","ensureProtocol","Https","npmConfLoader","proxy_errors_1","proxy_settings_1","validate_1","winreg_1","npmConf","getEnvProxy","getProxyWindows","openKey","Hive","HKCU","parseWindowsProxySetting","httpsProxy","HTTPS_PROXY","https_proxy","httpProxy","HTTP_PROXY","http_proxy","proxySetting","isValidUrl","setting","settings","processResults","getAndTestProxySettings","login","validateProxySetting","defaults_1","auth","useHttps","statusMessage","child_process_1","ITEM_PATTERN","hive","keyPath","execFile","execAsync","windir","parseOutput","ownProp","setopts","pattern","matchBase","noglobstar","silent","strict","realpathCache","follow","mark","nodir","nounique","nonull","nosort","nocase","noprocess","absolute","statCache","symlinks","ignore","ignoreMap","setupIgnores","changedCwd","cwdAbs","isAbsolute","makeAbs","nomount","nonegate","nocomment","allowWindowsEscape","minimatch","Minimatch","finish","nou","literal","globSet","alphasort","_mark","notDir","isIgnored","found","isDir","slash","mabs","childrenIgnored","gmatcher","gpattern","matcher","glob","rp","globSync","common","inflight","Glob","GlobSync","_didRealPath","_processing","_emitQueue","paused","_process","_finish","hasMagic","options_","aborted","_didRealpath","_realpath","_realpathSet","matchset","_makeAbs","real","eq","_emitMatch","pq","inGlobStar","_processSimple","read","remain","GLOBSTAR","_processGlobStar","_processReaddir","_readdir","_processReaddir2","pn","negate","rawGlob","_glob","dotOk","matchedEntries","st","_readdirInGlobStar","lstatcb","isSym","readdir","_readdirError","_readdirEntries","readdirCb","_processGlobStar2","remainWithoutGlobStar","gspref","noGlobStar","instead","below","_stat","_processSimple2","trail","needDir","statcb","_stat2","newPattern","gracefulQueue","previousSymbol","polyfills","legacy","publishQueue","for","retryTimer","debuglog","close","fs$close","resetQueue","closeSync","fs$closeSync","gracefulify","ReadStream","WriteStream","fs$readFile","go$readFile","enqueue","fs$writeFile","go$writeFile","fs$appendFile","appendFile","go$appendFile","fs$copyFile","copyFile","go$copyFile","fs$readdir","go$readdir","noReaddirOptionVersions","fs$readdirCallback","legStreams","fs$ReadStream","autoClose","fs$WriteStream","FileReadStream","FileWriteStream","fs$open","go$open","elem","lastTime","sinceAttempt","sinceStart","TEST_GRACEFUL_FS_GLOBAL_PATCH","__patched","bufferSize","_read","bytesWritten","busy","_open","origCwd","GRACEFUL_FS_PLATFORM","chdir","setPrototypeOf","chmodFix","chownErOk","chmodFixSync","chownFix","gid","chownFixSync","statFix","statFixSync","getuid","fs$readSync","lchmod","O_WRONLY","O_SYMLINK","fchmod","err2","lchmodSync","ret","openSync","threw","fchmodSync","patchLchmod","lutimes","futimes","mt","er2","lutimesSync","futimesSync","patchLutimes","chown","fchown","lchown","chmod","chownSync","fchownSync","lchownSync","fstat","fstatSync","rename","fs$rename","backoff","CB","stater","fs$read","offset","callback_","eagCounter","flag","argv","terminatorPosition","__importDefault","tls","assert_1","debug_1","agent_base_1","parse_proxy_response_1","setServernameFromNonIpHost","servername","isIP","proxyHeaders","ALPNProtocols","omit","isIPv6","proxyResponsePromise","parseProxyResponse","buffered","listenerCount","buffersLength","endOfHeaders","headerParts","firstLine","firstLineParts","firstColon","trimStart","cleanup","ondata","onend","wrappy","reqs","RES","cbs","makeres","ctor","superCtor","super_","TempCtor","out","unsafe","dotSplit","nl","part","opt","whitespace","separator","nk","isQuoted","doUnesc","esc","unesc","denyList","has","FUNC_ERROR_TEXT","HASH_UNDEFINED","PLACEHOLDER","WRAP_PARTIAL_FLAG","WRAP_ARY_FLAG","INFINITY","NAN","MAX_ARRAY_LENGTH","wrapFlags","argsTag","arrayTag","boolTag","dateTag","errorTag","funcTag","genTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reEmptyStringLeading","reEmptyStringMiddle","reEmptyStringTrailing","reEscapedHtml","reUnescapedHtml","reHasEscapedHtml","reHasUnescapedHtml","reEscape","reEvaluate","reInterpolate","reIsDeepProp","reIsPlainProp","rePropName","reRegExpChar","reHasRegExpChar","reTrimStart","reWhitespace","reWrapComment","reWrapDetails","reSplitDetails","reAsciiWord","reForbiddenIdentifierChars","reEscapeChar","reEsTemplate","reFlags","reIsBadHex","reIsBinary","reIsHostCtor","reIsOctal","reIsUint","reLatin","reNoMatch","reUnescapedString","rsAstralRange","rsComboRange","rsComboMarksRange","rsDingbatRange","rsLowerRange","rsUpperRange","rsVarRange","rsBreakRange","rsMathOpRange","rsAstral","rsBreak","rsCombo","rsDigits","rsDingbat","rsLower","rsMisc","rsFitz","rsNonAstral","rsRegional","rsSurrPair","rsUpper","rsZWJ","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsModifier","rsOptVar","rsSeq","rsEmoji","rsSymbol","reApos","reComboMark","reUnicode","reUnicodeWord","reHasUnicode","reHasUnicodeWord","contextProps","templateCounter","typedArrayTags","cloneableTags","stringEscapes","freeParseFloat","freeParseInt","freeGlobal","freeSelf","freeExports","nodeType","freeModule","moduleExports","freeProcess","nodeUtil","require","types","binding","nodeIsArrayBuffer","isArrayBuffer","nodeIsDate","nodeIsMap","isMap","nodeIsRegExp","isRegExp","nodeIsSet","isSet","nodeIsTypedArray","isTypedArray","arrayAggregator","setter","iteratee","accumulator","arrayEach","arrayEachRight","arrayEvery","predicate","arrayFilter","resIndex","arrayIncludes","baseIndexOf","arrayIncludesWith","comparator","arrayMap","arrayPush","arrayReduce","initAccum","arrayReduceRight","arraySome","asciiSize","baseProperty","baseFindKey","collection","eachFunc","baseFindIndex","fromRight","strictIndexOf","baseIsNaN","baseIndexOfWith","baseMean","baseSum","basePropertyOf","baseReduce","baseTimes","baseTrim","trimmedEndIndex","baseUnary","baseValues","cacheHas","charsStartIndex","strSymbols","chrSymbols","charsEndIndex","deburrLetter","escapeHtmlChar","escapeStringChar","chr","hasUnicode","mapToArray","overArg","transform","replaceHolders","placeholder","setToArray","setToPairs","stringSize","unicodeSize","stringToArray","unicodeToArray","asciiToArray","unescapeHtmlChar","runInContext","pick","arrayProto","funcProto","objectProto","coreJsData","funcToString","idCounter","maskSrcKey","IE_PROTO","nativeObjectToString","objectCtorString","oldDash","reIsNative","getPrototype","objectCreate","propertyIsEnumerable","spreadableSymbol","symIterator","symToStringTag","getNative","ctxClearTimeout","ctxNow","ctxSetTimeout","nativeCeil","nativeFloor","nativeGetSymbols","nativeIsBuffer","nativeIsFinite","isFinite","nativeJoin","nativeKeys","nativeMax","nativeMin","nativeNow","nativeParseInt","nativeRandom","nativeReverse","DataView","WeakMap","nativeCreate","metaMap","realNames","dataViewCtorString","toSource","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","valueOf","symbolToString","isObjectLike","LazyWrapper","LodashWrapper","wrapperClone","baseCreate","baseLodash","chainAll","__wrapped__","__actions__","__chain__","__index__","__values__","__dir__","__filtered__","__iteratees__","__takeCount__","__views__","Hash","ListCache","MapCache","SetCache","__data__","Stack","arrayLikeKeys","inherited","isArg","isArguments","isBuff","isType","skipIndexes","isIndex","arraySample","baseRandom","arraySampleSize","shuffleSelf","copyArray","baseClamp","arrayShuffle","assignMergeValue","baseAssignValue","assignValue","objValue","assocIndexOf","baseAggregator","baseEach","baseAssign","copyObject","baseAt","lower","upper","baseClone","bitmask","customizer","isDeep","isFlat","isFull","initCloneArray","tag","getTag","isFunc","cloneBuffer","initCloneObject","getSymbolsIn","copySymbolsIn","keysIn","baseAssignIn","getSymbols","copySymbols","Ctor","cloneArrayBuffer","dataView","byteOffset","cloneDataView","cloneTypedArray","regexp","cloneRegExp","initCloneByTag","stacked","subValue","getAllKeysIn","getAllKeys","baseConformsTo","baseDelay","baseDifference","isCommon","valuesLength","outer","computed","valuesIndex","templateSettings","getMapData","pairs","LARGE_ARRAY_SIZE","createBaseEach","baseForOwn","baseEachRight","baseForOwnRight","baseEvery","baseExtremum","isSymbol","baseFilter","baseFlatten","isStrict","isFlattenable","baseFor","createBaseFor","baseForRight","baseFunctions","baseGet","castPath","toKey","baseGetAllKeys","keysFunc","symbolsFunc","baseGetTag","isOwn","unmasked","getRawTag","objectToString","baseGt","other","baseHas","baseHasIn","baseIntersection","arrays","othLength","othIndex","caches","seen","baseInvoke","last","baseIsArguments","baseIsEqual","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","equalArrays","isPartial","equalByTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","objProps","objLength","objStacked","othStacked","skipCtor","othValue","compared","objCtor","othCtor","equalObjects","baseIsEqualDeep","baseIsMatch","matchData","noCustomizer","COMPARE_PARTIAL_FLAG","baseIsNative","baseIteratee","identity","baseMatchesProperty","baseMatches","baseKeys","isPrototype","baseLt","baseMap","isArrayLike","getMatchData","matchesStrictComparable","isKey","isStrictComparable","hasIn","baseMerge","srcIndex","mergeFunc","safeGet","isTyped","isArrayLikeObject","toPlainObject","baseMergeDeep","baseNth","baseOrderBy","iteratees","orders","getIteratee","criteria","objCriteria","othCriteria","ordersLength","compareAscending","compareMultiple","baseSortBy","basePickBy","baseSet","basePullAll","basePullAt","indexes","baseUnset","baseRepeat","baseRest","setToString","overRest","baseSample","baseSampleSize","nested","baseSetData","baseSetToString","constant","baseShuffle","baseSlice","baseSome","baseSortedIndex","retHighest","low","high","mid","baseSortedIndexBy","valIsNaN","valIsNull","valIsSymbol","valIsUndefined","othIsDefined","othIsNull","othIsReflexive","othIsSymbol","setLow","baseSortedUniq","baseToNumber","baseToString","baseUniq","createSet","seenIndex","baseUpdate","updater","baseWhile","isDrop","baseWrapperValue","baseXor","baseZipObject","assignFunc","valsLength","castArrayLikeObject","castFunction","stringToPath","castRest","castSlice","arrayBuffer","typedArray","valIsDefined","valIsReflexive","composeArgs","partials","holders","isCurried","argsIndex","argsLength","holdersLength","leftIndex","leftLength","rangeLength","isUncurried","composeArgsRight","holdersIndex","rightIndex","rightLength","isNew","createAggregator","createAssigner","assigner","guard","isIterateeCall","iterable","createCaseFirst","methodName","trailing","createCompounder","words","deburr","createCtor","thisBinding","createFind","findIndexFunc","createFlow","flatRest","funcs","prereq","thru","wrapper","getFuncName","getData","isLaziable","plant","createHybrid","partialsRight","holdersRight","argPos","ary","arity","isAry","isBind","isBindKey","isFlip","getHolder","holdersCount","countHolders","newHolders","createRecurry","arrLength","oldArray","reorder","createInverter","toIteratee","baseInverter","createMathOperation","operator","createOver","arrayFunc","createPadding","charsLength","createRange","toFinite","baseRange","createRelationalOperation","toNumber","wrapFunc","isCurry","newData","setData","setWrapToString","createRound","precision","toInteger","createToPairs","baseToPairs","createWrap","srcBitmask","newBitmask","isCombo","mergeData","createCurry","createPartial","createBind","customDefaultsAssignIn","customDefaultsMerge","customOmitClone","arrStacked","arrValue","flatten","otherFunc","getValue","stubArray","hasPath","hasFunc","isLength","ArrayBuffer","ctorString","isMaskable","stubFalse","otherArgs","shortOut","insertWrapDetails","updateWrapDetails","getWrapDetails","lastCalled","stamp","rand","memoize","quote","subString","difference","differenceBy","differenceWith","findLastIndex","head","intersection","mapped","intersectionBy","intersectionWith","pull","pullAll","pullAt","union","unionBy","unionWith","unzip","group","unzipWith","without","xor","xorBy","xorWith","zipWith","chain","interceptor","wrapperAt","countBy","findLast","forEachRight","groupBy","invokeMap","keyBy","partition","sortBy","before","bindKey","WRAP_BIND_FLAG","debounce","lastArgs","lastThis","maxWait","lastCallTime","lastInvokeTime","leading","maxing","invokeFunc","shouldInvoke","timeSinceLastCall","timerExpired","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","leadingEdge","delay","resolver","memoized","Cache","overArgs","transforms","funcsLength","partial","partialRight","rearg","gt","isInteger","lt","toArray","iteratorToArray","remainder","toLength","isBinary","assignIn","assignInWith","assignWith","propsIndex","propsLength","defaultsDeep","mergeWith","invert","invertBy","invoke","nativeKeysIn","isProto","baseKeysIn","CLONE_DEEP_FLAG","basePick","pickBy","toPairs","toPairsIn","camelCase","capitalize","upperFirst","kebabCase","lowerCase","lowerFirst","snakeCase","startCase","upperCase","hasUnicodeWord","unicodeWords","asciiWords","attempt","bindAll","methodNames","flow","flowRight","methodOf","mixin","over","overEvery","overSome","basePropertyDeep","rangeRight","augend","addend","divide","dividend","divisor","multiply","multiplier","multiplicand","subtract","minuend","subtrahend","after","castArray","compact","cond","conforms","baseConforms","curry","curryRight","dropRight","dropRightWhile","dropWhile","fill","baseFill","flatMap","flatMapDeep","flatMapDepth","flattenDeep","flattenDepth","flip","fromPairs","functions","functionsIn","initial","mapKeys","mapValues","matchesProperty","nthArg","omitBy","orderBy","propertyOf","pullAllBy","pullAllWith","rest","sampleSize","setWith","shuffle","sortedUniq","sortedUniqBy","tail","take","takeRight","takeRightWhile","takeWhile","tap","throttle","toPath","isArrLike","unary","uniqBy","uniqWith","unset","updateWith","valuesIn","zipObject","zipObjectDeep","entriesIn","extendWith","clamp","cloneDeep","cloneDeepWith","cloneWith","conformsTo","defaultTo","escape","escapeRegExp","findKey","findLastKey","forIn","forInRight","forOwn","forOwnRight","inRange","baseInRange","isElement","isEqual","isEqualWith","isMatch","isMatchWith","isNative","isNil","isNull","isSafeInteger","isWeakMap","isWeakSet","strictLastIndexOf","maxBy","mean","meanBy","minBy","stubObject","stubString","stubTrue","nth","noConflict","strLength","padEnd","padStart","radix","floating","reduceRight","repeat","sample","sortedIndex","sortedIndexBy","sortedIndexOf","sortedLastIndex","sortedLastIndexBy","sortedLastIndexOf","sum","sumBy","isEscaping","isEvaluating","imports","importsKeys","importsValues","interpolate","reDelimiters","evaluate","sourceURL","escapeValue","interpolateValue","esTemplateValue","evaluateValue","times","toLower","toSafeInteger","toUpper","trimEnd","truncate","omission","newEnd","unescape","uniqueId","each","eachRight","first","isFilter","takeName","dropName","checkIteratee","isTaker","lodashFunc","retUnwrapped","isLazy","useLazy","isHybrid","isUnwrapped","onlyLazy","chainName","dir","isRight","view","getView","iterLength","takeCount","iterIndex","commit","wrapped","preference","db","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","charset","charsets","exts","sep","plTypes","qmark","star","reSpecials","slashSplit","assertValidPattern","comment","empty","braceExpand","nobrace","def","makeRe","parseNegate","globParts","si","negateOffset","isSub","stateChar","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","clearStateChar","noext","reStart","pl","reEnd","sp","SUBPARSE","$1","$2","addPatternStart","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","regExp","_src","twoStar","mm","matchOne","flipNegate","fi","pi","fl","hit","fr","pr","swallowee","plural","msAbs","isPlural","long","fmtShort","boundMethodCheck","NodeCache","mget","mset","getTtl","getStats","flushStats","_checkData","_check","_isInvalidKey","_wrap","_getValLength","_initErrors","forceString","objectValueSize","promiseValueSize","arrayValueSize","stdTTL","checkperiod","useClones","deleteOnExpire","enableLegacyCallbacks","maxKeys","methodKey","oldMethod","error1","hits","misses","ksize","vsize","validKeyTypes","_unwrap","oRet","existent","_getKeyLength","keyValueSet","keyValuePair","len1","delCount","oldVal","_ret","_startPeriod","_killCheckPeriod","startPeriod","checkTimeout","_retval","asClone","errorcode","ERRORS","_errMsg","_errT","_ERRORS","createErrorMessage","errMsg","Conf","loadPrefix","projectConf","localPrefix","userConf","etc","globalconfig","globalignorefile","loadUser","caFile","loadCAFile","parseField","cli","globalPrefix","findPrefix","delim","trimLeft","defConf","SUDO_UID","uidOrPid","pid","home","cacheExtra","cacheRoot","APPDATA","PREFIX","execPath","DESTDIR","also","ca","cafile","cert","editor","EDITOR","VISUAL","git","SUDO_GID","getgid","heading","link","loglevel","logstream","maxsockets","only","optional","parseable","production","TRAVIS","CI","rollback","scope","searchopts","searchexclude","searchlimit","searchstaleness","COMSPEC","shrinkwrap","unicode","setuid","setgid","usage","userconfig","umask","viewer","_exit","offline","progress","envReplace","walkedUp","typeList","isPath","isBool","isNan","called","onceStrict","onceError","posix","isUnc","toPromise","toSync","toSyncOptions","unlock","lockSync","unlockSync","check","checkSync","_result","newFs","createSyncFs","onExit","mtimePrecision","locks","getLockFile","resolveCanonicalPath","acquireLock","stale","isLockStale","removeLock","probe","mtime","rmdir","updateLock","updateTimeout","updateDelay","isOverThreshold","lastUpdate","setLockAsCompromised","getMtime","utimes","released","onCompromised","rmdirSync","operation","mainError","releasedCallback","getLocks","cacheSymbol","cachedPrecision","setProto","snapshot","store","thisp","DEFAULT_PORTS","ftp","gopher","ws","wss","stringEndsWith","getEnv","getProxyForUrl","NO_PROXY","parsedProxy","parsedProxyHostname","parsedProxyPort","shouldProxy","RetryOperation","timeouts","forever","maxRetryTime","factor","randomize","methods","op","_originalTimeouts","_timeouts","_maxRetryTime","_fn","_errors","_attempts","_operationTimeout","_operationTimeoutCb","_operationStart","_cachedTimeouts","stop","currentTime","timer","timeoutOps","try","attempts","counts","mainErrorCount","defaultGlobOpts","maxBusyTries","emfileWait","disableGlob","busyTries","errState","afterGlob","rimraf_","fixWinEPERM","unlink","er3","fixWinEPERMSync","originalEr","rmkids","rimrafSync","rmkidsSync","ANY","Comparator","comp","parseOptions","loose","COMPARATORLOOSE","COMPARATOR","SemVer","cmp","intersects","Range","includePrerelease","safeRe","SPACE_CHARACTERS","raw","formatted","parseRange","isNullSet","isAny","comps","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","rangeList","parseComparator","replaceGTE0","rangeMap","comparators","thisComparators","isSatisfiable","rangeComparators","thisComparator","rangeComparator","testSet","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","TILDELOOSE","TILDE","M","replaceCaret","CARETLOOSE","CARET","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fp","fpr","tM","tm","tp","tpr","prerelease","allowed","major","minor","MAX_LENGTH","compareIdentifiers","LOOSE","FULL","build","compare","compareMain","comparePre","compareBuild","inc","identifierBase","PRERELEASELOOSE","PRERELEASE","neq","rtl","coerceRtlRegex","COERCERTLFULL","COERCERTL","COERCEFULL","COERCE","versionA","versionB","version1","version2","v1","v2","comparison","v1Higher","highVersion","lowVersion","highHasPre","throwErrors","internalRe","identifiers","rcompare","compareLoose","rsort","satisfies","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","tokens","SEMVER_SPEC_VERSION","RELEASE_TYPES","rcompareIdentifiers","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","anum","bnum","firstKey","looseOption","freeze","emptyOpts","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","makeSafeRegex","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","BUILD","FULLPLAIN","MAINVERSIONLOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","LONETILDE","LONECARET","r1","r2","maxSV","rangeObj","minSV","minver","setMin","compver","hilo","gtfn","ltefn","ltfn","ecomp","ranges","simplified","minimumVersionWithPreRelease","minimumVersion","simpleSubset","sub","dom","eqSet","gtltComp","higher","hasDomLT","hasDomGT","higherGT","lowerLT","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","exit","ShellString","_cat","cat","readFromPipe","statFollowLinks","lastLine","numberedLine","addNumbers","register","canReceivePipe","cmdOptions","_cd","OLDPWD","curDir","e2","PERMS","EXEC","WRITE","READ","_chmod","filePattern","expandedFile","statNoFollowLinks","perms","newPerms","symbolicMode","applyTo","change","changeOwner","changeGroup","changeOther","changeRead","changeWrite","changeExec","changeExecDir","changeSticky","changeSetuid","mask","verbose","changes","shellMethods","isElectron","DEFAULT_CONFIG","fatal","globOptions","maxdepth","noglob","bufLength","resetForTesting","errorCode","currentCmd","convertErrorOutput","_code","DEFAULT_OPTIONS","continue","logEntry","retValue","pipeMethods","cmd","optName","optionName","expanded","listEl","pipedValue","unix","accum","cur","homeDir","allowGlobbing","globStart","wrapOutput","randomFileName","randomHash","DEFAULT_WRAP_OPTIONS","pipeOnly","implementation","wrapOptions","copyFileSync","srcFile","destFile","followsymlink","symlinkFull","symlinkSync","buf","bytesRead","fdr","fdw","writeSync","cpdirSyncRecursive","sourceDir","destDir","currentDepth","srcFileStat","cpcheckcycle","no_force","checkDir","sourcerealpath","symlinkrealpath","_cp","noFollowsymlink","destExists","destStat","srcStat","newDest","thisDest","thisDestExists","lookedSource","checkRecentCreated","_dirs","_pushd","_popd","_dirStack","_isStackIndex","_parseStackIndex","_actualDirStack","dirs","quiet","pushd","popd","_echo","messages","no_newline","paramFilePath","serializedParams","execOptions","stdoutStream","stderrStream","_tempDir","_pwd","DEFAULT_MAXBUFFER_SIZE","_exec","tempDir","paramsFile","paramsToSerialize","writeFileLockedDown","execArgs","execFileSync","_ls","_find","pushFile","subfile","_grep","grep","nameOnly","matched","inverse","_head","numLines","shouldAppendNewline","numLinesRead","bufStr","readSomeLines","hasTrailingNewline","_ln","sourcePath","symlink","linkType","resolvedSourcePath","linkSync","globPatternRecursive","all_deprecated","relName","nlink","mkdirSyncRecursive","baseDir","_mkdir","fullpath","_mv","renameSync","rmdirSyncRecursive","fromSymlink","isWriteable","writePermission","__fd","_rm","lstats","handleFile","handleDirectory","handleSymbolicLink","isFIFO","handleFIFO","_sed","sed","inplace","parseNumber","unixCmp","aLower","bLower","numericalCmp","objA","objB","_sort","sorted","trimRight","numerical","_tail","cachedTempDir","writeableDir","testFile","TMPDIR","TEMP","TMP","Wimp$ScrapDir","isCached","_test","canInterpret","block","isBlockDevice","character","isCharacterDevice","isSocket","_to","_toEnd","appendFileSync","_touch","tryStatFile","no_create","atime","refStat","atime_only","mtime_only","utimesSync","touchFile","_uniq","uniqed","ln","duplicates","_which","XP_DEFAULT_PATHEXT","FILE_EXECUTABLE_MODE","isWindowsPlatform","splitPath","checkPath","accessSync","isExecutable","pathArray","queryMatches","pathExtArray","PATHEXT","newAttempt","webpackContext","webpackContextResolve","__webpack_require__","processOk","reallyExit","emitter","signals","isWin","__signal_exit_emitter__","emitted","infinite","setMaxListeners","loaded","alwaysLast","sig","sigListeners","originalProcessEmit","originalProcessReallyExit","processEmit","processReallyExit","hasFlag","flagForceColor","getSupportLevel","haveStream","streamIsTTY","sniffFlags","noFlagForceColor","FORCE_COLOR","envForceColor","forceColor","TERM","osRelease","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","TERM_PROGRAM_VERSION","TERM_PROGRAM","isTTY","hasBasic","has256","has16m","asyncGeneratorStep","u","_throw","toPropertyKey","_typeof","_regeneratorRuntime","Generator","makeInvokeMethod","tryCatch","GeneratorFunction","GeneratorFunctionPrototype","defineIteratorMethods","_invoke","AsyncIterator","__await","callInvokeWithMethodAndArg","delegate","maybeInvokeDelegate","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","displayName","isGeneratorFunction","awrap","rval","handle","complete","delegateYield","regeneratorRuntime","accidentalStrictMode","cacheParser","fastDefer","objectCode","Header","IfModifiedSince","LastModified","IfNoneMatch","CacheControl","Pragma","ETag","Expires","Age","XAxiosCacheEtag","XAxiosCacheLastModified","XAxiosCacheStaleIfError","defaultHeaderInterpreter","cacheControl","noCache","noStore","maxAge","maxStale","immutable","staleWhileRevalidate","age","expires","milliseconds","createValidateStatus","oldValidate","isMethodIn","requestMethod","methodList","updateStaleRequest","etag","modifiedSince","_cache$data","etagValue","createdAt","toUTCString","createCacheResponse","previousCache","defaultRequestInterceptor","axios","onFulfilled","generateKey","cachePredicate","ignoreUrls","_config$headers","_Header$CacheControl","_config$headers2","_Header$Pragma","_config$headers3","_Header$Expires","cacheTakeover","overrideCache","override","ignoreAndRequest","deferred","validateStatus","hydrate","cachedResponse","adapter","testCachePredicate","statusCheck","responseMatch","containsHeaders","_response$headers$hea","updateCache","cacheUpdater","cacheKey","defaultResponseInterceptor","rejectResponse","responseId","cacheConfig","staleTtl","interpretHeader","expirationTime","headerInterpreter","staleIfError","newCache","staleHeader","isStorage","hasUniqueIdentifierHeader","mustRevalidate","canStale","isExpired","buildStorage","structuredClone","cloneData","cleanupInterval","maxEntries","cleaner","SLASHES_REGEX","buildKeyGenerator","defaultKeyGenerator","baseURL","buildWebStorage","allValues","sortedItems","_options$ttl","_options$etag","_options$modifiedSinc","_options$interpretHea","_options$cacheTakeove","_options$staleIfError","_options$override","_options$hydrate","axiosCache","requestInterceptor","responseInterceptor","_interopRequireDefault","_regenerator","_typeof2","_asyncToGenerator2","_defineProperty2","_isRetryAllowed","ownKeys","enumerableOnly","_objectSpread","getOwnPropertyDescriptors","isNetworkError","SAFE_HTTP_METHODS","IDEMPOTENT_HTTP_METHODS","isRetryableError","isIdempotentRequestError","isNetworkOrIdempotentRequestError","retryCondition","shouldResetTimeout","getCurrentState","defaultOptions","currentState","getRequestOptions","fixConfig","httpAgent","_x","_x2","_shouldRetry","_callee2","shouldRetryOrPromise","shouldRetryPromiseResult","_context2","t0","requestInterceptorId","lastRequestTime","responseInterceptorId","_ref","_callee","lastRequestDuration","_context","transformRequest","_x3","isSafeRequestError","exponentialDelay","retryNumber","delayFactor","FormData$1","proxyFromEnv","zlib","_interopDefaultLegacy","FormData__default","url__default","proxyFromEnv__default","http__default","https__default","util__default","followRedirects__default","zlib__default","stream__default","kindOf","thing","kindOfTest","typeOfTest","isBlob","isFileList","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","allOwnKeys","_global","isContextDefined","TypedArray","isHTMLForm","reduceDescriptors","reducer","descriptors","reducedDescriptors","ALPHA","DIGIT","ALPHABET","ALPHA_DIGIT","isAsyncFn","_setImmediate","setImmediateSupported","postMessageSupported","postMessage","addEventListener","asap","queueMicrotask","utils$1","isFormData","isArrayBufferView","isView","isStream","caseless","targetKey","stripBOM","superConstructor","toFlatObject","sourceObj","propFilter","merged","forEachEntry","hasOwnProp","freezeMethods","toObjectSet","arrayOrString","toCamelCase","p1","p2","toFiniteNumber","generateString","alphabet","isSpecCompliantForm","toJSONObject","visit","reducedValue","isThenable","AxiosError","prototype$1","isVisitable","removeBrackets","renderKey","dots","customProps","axiosError","predicates","toFormData","formData","metaTokens","visitor","defaultVisitor","useBlob","convertValue","isFlatArray","exposedHelpers","encode$1","charMap","AxiosURLSearchParams","_pairs","buildURL","_encode","serializeFn","hashmarkIndex","encoder","InterceptorManager$1","synchronous","runWhen","eject","transitionalDefaults","silentJSONParsing","forcedJSONParsing","clarifyTimeoutError","platform$1","classes","URLSearchParams","hasBrowserEnv","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","WorkerGlobalScope","importScripts","formDataToJSON","buildPath","isNumericKey","isLast","arrayToObject","parsePropPath","transitional","getContentType","hasJSONContentType","isObjectPayload","setContentType","helpers","toURLEncodedForm","formSerializer","_FormData","rawValue","stringifySafely","JSONRequested","strictJSONParsing","ERR_BAD_RESPONSE","xsrfCookieName","xsrfHeaderName","maxContentLength","defaults$1","ignoreDuplicateOf","$internals","normalizeHeader","normalizeValue","matchHeaderValue","isHeaderNameFilter","AxiosHeaders","valueOrRewrite","rewrite","_value","_header","_rewrite","lHeader","setHeaders","rawHeaders","parseHeaders","parser","tokensRE","parseTokens","deleted","deleteHeader","normalized","char","formatHeader","asStrings","accessor","accessors","defineAccessor","accessorName","buildAccessors","headerValue","AxiosHeaders$1","transformData","fns","isCancel","__CANCEL__","CanceledError","ERR_CANCELED","settle","ERR_BAD_REQUEST","buildFullPath","requestedURL","isAbsoluteURL","relativeURL","combineURLs","parseProtocol","DATA_URL_PATTERN","kInternals","AxiosTransformStream","Transform","readableHighWaterMark","maxRate","chunkSize","minChunkSize","timeWindow","ticksRate","samplesCount","internals","bytesSeen","isCaptured","notifiedBytesLoaded","ts","bytes","onReadCallback","_transform","bytesThreshold","pushChunk","_chunk","_callback","transformChunk","bytesLeft","chunkRemainder","maxChunkSize","passed","subarray","transformNextChunk","AxiosTransformStream$1","readBlob$1","blob","BOUNDARY_ALPHABET","textEncoder","CRLF","CRLF_BYTES","FormDataPart","escapeName","isStringValue","contentLength","ZlibHeaderTransformStream","__transform","ZlibHeaderTransformStream$1","callbackify$1","progressEventReducer","isDownloadStream","freq","bytesNotified","_speedometer","timestamps","firstSampleTS","chunkLength","startedAt","bytesCount","speedometer","timestamp","threshold","total","lengthComputable","progressBytes","rate","estimated","progressEventDecorator","asyncDecorator","zlibOptions","Z_SYNC_FLUSH","finishFlush","brotliOptions","BROTLI_OPERATION_FLUSH","isBrotliSupported","createBrotliDecompress","httpFollow","httpsFollow","isHttps","supportedProtocols","flushOnFinish","dispatchBeforeRedirect","beforeRedirects","setProxy","configProxy","base64","proxyHost","redirectOptions","isHttpAdapterSupported","buildAddressEntry","address","family","resolveFamily","httpAdapter","asyncExecutor","onDone","responseEncoding","isDone","_lookup","arg0","addresses","addr","onFinished","cancelToken","unsubscribe","removeEventListener","removeAllListeners","isRejected","fullPath","convertedData","asBlob","_Blob","ERR_INVALID_URL","isBase64","ERR_NOT_SUPPORT","fromDataURI","Readable","onUploadProgress","onDownloadProgress","maxUploadRate","maxDownloadRate","userBoundary","form","headersHandler","boundaryBytes","footerBytes","computedHeaders","formDataToStream$1","hasContentLength","setContentLength","getContentLength","objectMode","pipeline","paramsSerializer","customErr","socketPath","isHttpsRequest","insecureHTTPParser","destroyed","streams","responseLength","transformStream","responseStream","lastRequest","decompress","createUnzip","offListeners","responseBuffer","totalResponseBytes","setKeepAlive","ERR_BAD_OPTION_VALUE","timeoutErrorMessage","ETIMEDOUT","ECONNABORTED","ended","errored","_reject","onDoneHandler","isURLSameOrigin","isMSIE","cookies","secure","cookie","toGMTString","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","withXSRFToken","resolveConfig","btoa","xsrfValue","xhrAdapter","requestData","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","onloadend","responseHeaders","getAllResponseHeaders","onabort","ERR_NETWORK","setRequestHeader","upload","composeSignals$1","controller","streamChunk","trackStream","onProgress","onFinish","reader","getReader","readStream","readBytes","_onFinish","ReadableStream","loadedBytes","highWaterMark","Response","isReadableStreamSupported","encodeText","supportsRequestStream","duplexAccessed","hasContentType","duplex","supportsResponseStream","resolvers","fetchAdapter","fetchOptions","composedSignal","toAbortSignal","requestContentLength","_request","getBodyLength","resolveBodyLength","contentTypeHeader","isCredentialsSupported","isStreamResponse","responseContentLength","knownAdapters","renderReason","isResolvedHandle","adapters","nameOrAdapter","rejectedReasons","reasons","throwIfCancellationRequested","throwIfRequested","dispatchRequest","validators$1","deprecatedWarnings","formatMessage","ERR_DEPRECATED","spelling","correctSpelling","assertOptions","schema","allowUnknown","ERR_BAD_OPTION","validators","Axios","instanceConfig","configOrUrl","dummy","boolean","function","baseUrl","withXsrfToken","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","responseInterceptorChain","getUri","generateHTTPMethod","isForm","Axios$1","CancelToken","resolvePromise","onfulfilled","CancelToken$1","HttpStatusCode","Continue","SwitchingProtocols","Processing","EarlyHints","Ok","Created","Accepted","NonAuthoritativeInformation","NoContent","ResetContent","PartialContent","MultiStatus","AlreadyReported","ImUsed","MultipleChoices","MovedPermanently","Found","SeeOther","NotModified","UseProxy","Unused","TemporaryRedirect","PermanentRedirect","BadRequest","Unauthorized","PaymentRequired","Forbidden","NotFound","MethodNotAllowed","NotAcceptable","ProxyAuthenticationRequired","RequestTimeout","Conflict","Gone","LengthRequired","PreconditionFailed","PayloadTooLarge","UriTooLong","UnsupportedMediaType","RangeNotSatisfiable","ExpectationFailed","ImATeapot","MisdirectedRequest","UnprocessableEntity","Locked","FailedDependency","TooEarly","UpgradeRequired","PreconditionRequired","TooManyRequests","RequestHeaderFieldsTooLarge","UnavailableForLegalReasons","InternalServerError","NotImplemented","BadGateway","ServiceUnavailable","GatewayTimeout","HttpVersionNotSupported","VariantAlsoNegotiates","InsufficientStorage","LoopDetected","NotExtended","NetworkAuthenticationRequired","HttpStatusCode$1","createInstance","Cancel","formToJSON","getAdapter","minFresh","mustUnderstand","noTransform","onlyIfCached","private","proxyRevalidate","public","sMaxAge","WeakSet","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","definition","nmd","__webpack_exports__"],"sourceRoot":""}